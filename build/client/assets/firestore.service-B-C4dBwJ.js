import{a as getAugmentedNamespace,g as getDefaultExportFromCjs,c as commonjsGlobal$2}from"./jsx-runtime-CQPF1LdT.js";var define_process_env_default$8={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(o){const e=[];let r=0;for(let u=0;u<o.length;u++){let p=o.charCodeAt(u);p<128?e[r++]=p:p<2048?(e[r++]=p>>6|192,e[r++]=p&63|128):(p&64512)===55296&&u+1<o.length&&(o.charCodeAt(u+1)&64512)===56320?(p=65536+((p&1023)<<10)+(o.charCodeAt(++u)&1023),e[r++]=p>>18|240,e[r++]=p>>12&63|128,e[r++]=p>>6&63|128,e[r++]=p&63|128):(e[r++]=p>>12|224,e[r++]=p>>6&63|128,e[r++]=p&63|128)}return e},byteArrayToString=function(o){const e=[];let r=0,u=0;for(;r<o.length;){const p=o[r++];if(p<128)e[u++]=String.fromCharCode(p);else if(p>191&&p<224){const h=o[r++];e[u++]=String.fromCharCode((p&31)<<6|h&63)}else if(p>239&&p<365){const h=o[r++],y=o[r++],c=o[r++],d=((p&7)<<18|(h&63)<<12|(y&63)<<6|c&63)-65536;e[u++]=String.fromCharCode(55296+(d>>10)),e[u++]=String.fromCharCode(56320+(d&1023))}else{const h=o[r++],y=o[r++];e[u++]=String.fromCharCode((p&15)<<12|(h&63)<<6|y&63)}}return e.join("")},base64$1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(o,e){if(!Array.isArray(o))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,u=[];for(let p=0;p<o.length;p+=3){const h=o[p],y=p+1<o.length,c=y?o[p+1]:0,d=p+2<o.length,m=d?o[p+2]:0,P=h>>2,N=(h&3)<<4|c>>4;let L=(c&15)<<2|m>>6,k=m&63;d||(k=64,y||(L=64)),u.push(r[P],r[N],r[L],r[k])}return u.join("")},encodeString(o,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(o):this.encodeByteArray(stringToByteArray$1(o),e)},decodeString(o,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(o):byteArrayToString(this.decodeStringToByteArray(o,e))},decodeStringToByteArray(o,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,u=[];for(let p=0;p<o.length;){const h=r[o.charAt(p++)],c=p<o.length?r[o.charAt(p)]:0;++p;const m=p<o.length?r[o.charAt(p)]:64;++p;const N=p<o.length?r[o.charAt(p)]:64;if(++p,h==null||c==null||m==null||N==null)throw new DecodeBase64StringError;const L=h<<2|c>>4;if(u.push(L),m!==64){const k=c<<4&240|m>>2;if(u.push(k),N!==64){const B=m<<6&192|N;u.push(B)}}}return u},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let o=0;o<this.ENCODED_VALS.length;o++)this.byteToCharMap_[o]=this.ENCODED_VALS.charAt(o),this.charToByteMap_[this.byteToCharMap_[o]]=o,this.byteToCharMapWebSafe_[o]=this.ENCODED_VALS_WEBSAFE.charAt(o),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[o]]=o,o>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(o)]=o,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(o)]=o)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(o){const e=stringToByteArray$1(o);return base64$1.encodeByteArray(e,!0)},base64urlEncodeWithoutPadding=function(o){return base64Encode(o).replace(/\./g,"")},base64Decode=function(o){try{return base64$1.decodeString(o,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal$1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal$1().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default$8>"u")return;const o=define_process_env_default$8.__FIREBASE_DEFAULTS__;if(o)return JSON.parse(o)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let o;try{o=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=o&&base64Decode(o[1]);return e&&JSON.parse(e)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(o){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${o}`);return}},getDefaultEmulatorHost=o=>{var e,r;return(r=(e=getDefaults())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[o]},getDefaultEmulatorHostnameAndPort=o=>{const e=getDefaultEmulatorHost(o);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const u=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),u]:[e.substring(0,r),u]},getDefaultAppConfig=()=>{var o;return(o=getDefaults())===null||o===void 0?void 0:o.config},getExperimentalSetting=o=>{var e;return(e=getDefaults())===null||e===void 0?void 0:e[`_${o}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Deferred$1=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,u)=>{r?this.reject(r):this.resolve(u),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,u))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(o,e){if(o.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},u=e||"demo-project",p=o.iat||0,h=o.sub||o.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const y=Object.assign({iss:`https://securetoken.google.com/${u}`,aud:u,iat:p,exp:p+3600,auth_time:p,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},o);return[base64urlEncodeWithoutPadding(JSON.stringify(r)),base64urlEncodeWithoutPadding(JSON.stringify(y)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode(){var o;const e=(o=getDefaults())===null||o===void 0?void 0:o.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isCloudflareWorker(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function isBrowserExtension(){const o=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof o=="object"&&o.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const o=getUA();return o.indexOf("MSIE ")>=0||o.indexOf("Trident/")>=0}function isSafari(){return!isNode()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((o,e)=>{try{let r=!0;const u="validate-browser-context-for-indexeddb-analytics-module",p=self.indexedDB.open(u);p.onsuccess=()=>{p.result.close(),r||self.indexedDB.deleteDatabase(u),o(!0)},p.onupgradeneeded=()=>{r=!1},p.onerror=()=>{var h;e(((h=p.error)===null||h===void 0?void 0:h.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";let FirebaseError$1=class In extends Error{constructor(e,r,u){super(r),this.code=e,this.customData=u,this.name=ERROR_NAME,Object.setPrototypeOf(this,In.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}};class ErrorFactory{constructor(e,r,u){this.service=e,this.serviceName=r,this.errors=u}create(e,...r){const u=r[0]||{},p=`${this.service}/${e}`,h=this.errors[e],y=h?replaceTemplate(h,u):"Error",c=`${this.serviceName}: ${y} (${p}).`;return new FirebaseError$1(p,c,u)}}function replaceTemplate(o,e){return o.replace(PATTERN,(r,u)=>{const p=e[u];return p!=null?String(p):`<${u}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty$2(o){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e))return!1;return!0}function deepEqual$3(o,e){if(o===e)return!0;const r=Object.keys(o),u=Object.keys(e);for(const p of r){if(!u.includes(p))return!1;const h=o[p],y=e[p];if(isObject$3(h)&&isObject$3(y)){if(!deepEqual$3(h,y))return!1}else if(h!==y)return!1}for(const p of u)if(!r.includes(p))return!1;return!0}function isObject$3(o){return o!==null&&typeof o=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring$3(o){const e=[];for(const[r,u]of Object.entries(o))Array.isArray(u)?u.forEach(p=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(p))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(u));return e.length?"&"+e.join("&"):""}function createSubscribe(o,e){const r=new ObserverProxy(o,e);return r.subscribe.bind(r)}class ObserverProxy{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(u=>{this.error(u)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,u){let p;if(e===void 0&&r===void 0&&u===void 0)throw new Error("Missing Observer.");implementsAnyMethods(e,["next","error","complete"])?p=e:p={next:e,error:r,complete:u},p.next===void 0&&(p.next=noop),p.error===void 0&&(p.error=noop),p.complete===void 0&&(p.complete=noop);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?p.error(this.finalError):p.complete()}catch{}}),this.observers.push(p),h}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(u){typeof console<"u"&&console.error&&console.error(u)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(o,e){if(typeof o!="object"||o===null)return!1;for(const r of e)if(r in o&&typeof o[r]=="function")return!0;return!1}function noop(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(o){return o&&o._delegate?o._delegate:o}class Component{constructor(e,r,u){this.name=e,this.instanceFactory=r,this.type=u,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const u=new Deferred$1;if(this.instancesDeferred.set(r,u),this.isInitialized(r)||this.shouldAutoInitialize())try{const p=this.getOrInitializeService({instanceIdentifier:r});p&&u.resolve(p)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const u=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),p=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(u)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:u})}catch(h){if(p)return null;throw h}else{if(p)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(isComponentEager(e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[r,u]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(r);try{const h=this.getOrInitializeService({instanceIdentifier:p});u.resolve(h)}catch{}}}}clearInstance(e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=DEFAULT_ENTRY_NAME$1){return this.instances.has(e)}getOptions(e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,u=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(u))throw Error(`${this.name}(${u}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const p=this.getOrInitializeService({instanceIdentifier:u,options:r});for(const[h,y]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(h);u===c&&y.resolve(p)}return p}onInit(e,r){var u;const p=this.normalizeInstanceIdentifier(r),h=(u=this.onInitCallbacks.get(p))!==null&&u!==void 0?u:new Set;h.add(e),this.onInitCallbacks.set(p,h);const y=this.instances.get(p);return y&&e(y,p),()=>{h.delete(e)}}invokeOnInitCallbacks(e,r){const u=this.onInitCallbacks.get(r);if(u)for(const p of u)try{p(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let u=this.instances.get(e);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(e),options:r}),this.instances.set(e,u),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(u,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,u)}catch{}return u||null}normalizeInstanceIdentifier(e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?e:DEFAULT_ENTRY_NAME$1:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(o){return o===DEFAULT_ENTRY_NAME$1?void 0:o}function isComponentEager(o){return o.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Provider(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(o){o[o.DEBUG=0]="DEBUG",o[o.VERBOSE=1]="VERBOSE",o[o.INFO=2]="INFO",o[o.WARN=3]="WARN",o[o.ERROR=4]="ERROR",o[o.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(o,e,...r)=>{if(e<o.logLevel)return;const u=new Date().toISOString(),p=ConsoleMethod[e];if(p)console[p](`[${u}]  ${o.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Logger{constructor(e){this.name=e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in LogLevel))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?levelStringToEnum[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...e),this._logHandler(this,LogLevel.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...e),this._logHandler(this,LogLevel.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...e),this._logHandler(this,LogLevel.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...e),this._logHandler(this,LogLevel.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...e),this._logHandler(this,LogLevel.ERROR,...e)}}const instanceOfAny=(o,e)=>e.some(r=>o instanceof r);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(o){const e=new Promise((r,u)=>{const p=()=>{o.removeEventListener("success",h),o.removeEventListener("error",y)},h=()=>{r(wrap(o.result)),p()},y=()=>{u(o.error),p()};o.addEventListener("success",h),o.addEventListener("error",y)});return e.then(r=>{r instanceof IDBCursor&&cursorRequestMap.set(r,o)}).catch(()=>{}),reverseTransformCache.set(e,o),e}function cacheDonePromiseForTransaction(o){if(transactionDoneMap.has(o))return;const e=new Promise((r,u)=>{const p=()=>{o.removeEventListener("complete",h),o.removeEventListener("error",y),o.removeEventListener("abort",y)},h=()=>{r(),p()},y=()=>{u(o.error||new DOMException("AbortError","AbortError")),p()};o.addEventListener("complete",h),o.addEventListener("error",y),o.addEventListener("abort",y)});transactionDoneMap.set(o,e)}let idbProxyTraps={get(o,e,r){if(o instanceof IDBTransaction){if(e==="done")return transactionDoneMap.get(o);if(e==="objectStoreNames")return o.objectStoreNames||transactionStoreNamesMap.get(o);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return wrap(o[e])},set(o,e,r){return o[e]=r,!0},has(o,e){return o instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in o}};function replaceTraps(o){idbProxyTraps=o(idbProxyTraps)}function wrapFunction(o){return o===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const u=o.call(unwrap(this),e,...r);return transactionStoreNamesMap.set(u,e.sort?e.sort():[e]),wrap(u)}:getCursorAdvanceMethods().includes(o)?function(...e){return o.apply(unwrap(this),e),wrap(cursorRequestMap.get(this))}:function(...e){return wrap(o.apply(unwrap(this),e))}}function transformCachableValue(o){return typeof o=="function"?wrapFunction(o):(o instanceof IDBTransaction&&cacheDonePromiseForTransaction(o),instanceOfAny(o,getIdbProxyableTypes())?new Proxy(o,idbProxyTraps):o)}function wrap(o){if(o instanceof IDBRequest)return promisifyRequest(o);if(transformCache.has(o))return transformCache.get(o);const e=transformCachableValue(o);return e!==o&&(transformCache.set(o,e),reverseTransformCache.set(e,o)),e}const unwrap=o=>reverseTransformCache.get(o);function openDB(o,e,{blocked:r,upgrade:u,blocking:p,terminated:h}={}){const y=indexedDB.open(o,e),c=wrap(y);return u&&y.addEventListener("upgradeneeded",d=>{u(wrap(y.result),d.oldVersion,d.newVersion,wrap(y.transaction),d)}),r&&y.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),c.then(d=>{h&&d.addEventListener("close",()=>h()),p&&d.addEventListener("versionchange",m=>p(m.oldVersion,m.newVersion,m))}).catch(()=>{}),c}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(o,e){if(!(o instanceof IDBDatabase&&!(e in o)&&typeof e=="string"))return;if(cachedMethods.get(e))return cachedMethods.get(e);const r=e.replace(/FromIndex$/,""),u=e!==r,p=writeMethods.includes(r);if(!(r in(u?IDBIndex:IDBObjectStore).prototype)||!(p||readMethods.includes(r)))return;const h=async function(y,...c){const d=this.transaction(y,p?"readwrite":"readonly");let m=d.store;return u&&(m=m.index(c.shift())),(await Promise.all([m[r](...c),p&&d.done]))[0]};return cachedMethods.set(e,h),h}replaceTraps(o=>({...o,get:(e,r,u)=>getMethod(e,r)||o.get(e,r,u),has:(e,r)=>!!getMethod(e,r)||o.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(isVersionServiceProvider(r)){const u=r.getImmediate();return`${u.library}/${u.version}`}else return null}).filter(r=>r).join(" ")}}function isVersionServiceProvider(o){const e=o.getComponent();return(e==null?void 0:e.type)==="VERSION"}const name$q="@firebase/app",version$1$1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$2=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4="@firebase/storage-compat",name$3="@firebase/firestore",name$2="@firebase/vertexai-preview",name$1$1="@firebase/firestore-compat",name$r="firebase",version$a="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4]:"fire-gcs-compat",[name$3]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(o,e){try{o.container.addComponent(e)}catch(r){logger$2.debug(`Component ${e.name} failed to register with FirebaseApp ${o.name}`,r)}}function _registerComponent(o){const e=o.name;if(_components.has(e))return logger$2.debug(`There were multiple attempts to register component ${e}.`),!1;_components.set(e,o);for(const r of _apps.values())_addComponent(r,o);for(const r of _serverApps.values())_addComponent(r,o);return!0}function _getProvider(o,e){const r=o.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),o.container.getProvider(e)}function _isFirebaseServerApp(o){return o.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(e,r,u){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=u,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$a;function initializeApp$1(o,e={}){let r=o;typeof e!="object"&&(e={name:e});const u=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},e),p=u.name;if(typeof p!="string"||!p)throw ERROR_FACTORY.create("bad-app-name",{appName:String(p)});if(r||(r=getDefaultAppConfig()),!r)throw ERROR_FACTORY.create("no-options");const h=_apps.get(p);if(h){if(deepEqual$3(r,h.options)&&deepEqual$3(u,h.config))return h;throw ERROR_FACTORY.create("duplicate-app",{appName:p})}const y=new ComponentContainer(p);for(const d of _components.values())y.addComponent(d);const c=new FirebaseAppImpl(r,u,y);return _apps.set(p,c),c}function getApp(o=DEFAULT_ENTRY_NAME){const e=_apps.get(o);if(!e&&o===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp$1();if(!e)throw ERROR_FACTORY.create("no-app",{appName:o});return e}function getApps$1(){return Array.from(_apps.values())}function registerVersion(o,e,r){var u;let p=(u=PLATFORM_LOG_STRING[o])!==null&&u!==void 0?u:o;r&&(p+=`-${r}`);const h=p.match(/\s|\//),y=e.match(/\s|\//);if(h||y){const c=[`Unable to register library "${p}" with version "${e}":`];h&&c.push(`library name "${p}" contains illegal characters (whitespace or "/")`),h&&y&&c.push("and"),y&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),logger$2.warn(c.join(" "));return}_registerComponent(new Component(`${p}-version`,()=>({library:p,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebase-heartbeat-database",DB_VERSION=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME,DB_VERSION,{upgrade:(o,e)=>{switch(e){case 0:try{o.createObjectStore(STORE_NAME)}catch(r){console.warn(r)}}}}).catch(o=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:o.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(o){try{const r=(await getDbPromise()).transaction(STORE_NAME),u=await r.objectStore(STORE_NAME).get(computeKey(o));return await r.done,u}catch(e){if(e instanceof FirebaseError$1)logger$2.warn(e.message);else{const r=ERROR_FACTORY.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});logger$2.warn(r.message)}}}async function writeHeartbeatsToIndexedDB(o,e){try{const u=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await u.objectStore(STORE_NAME).put(e,computeKey(o)),await u.done}catch(r){if(r instanceof FirebaseError$1)logger$2.warn(r.message);else{const u=ERROR_FACTORY.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});logger$2.warn(u.message)}}}function computeKey(o){return`${o.name}!${o.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(r),this._heartbeatsCachePromise=this._storage.read().then(u=>(this._heartbeatsCache=u,u))}async triggerHeartbeat(){var e,r;try{const p=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=getUTCDateString();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(y=>y.date===h)?void 0:(this._heartbeatsCache.heartbeats.push({date:h,agent:p}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(y=>{const c=new Date(y.date).valueOf();return Date.now()-c<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache))}catch(u){logger$2.warn(u)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=getUTCDateString(),{heartbeatsToSend:u,unsentEntries:p}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),h=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:u}));return this._heartbeatsCache.lastSentHeartbeatDate=r,p.length>0?(this._heartbeatsCache.heartbeats=p,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(r){return logger$2.warn(r),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(o,e=MAX_HEADER_BYTES){const r=[];let u=o.slice();for(const p of o){const h=r.find(y=>y.agent===p.agent);if(h){if(h.dates.push(p.date),countBytes(r)>e){h.dates.pop();break}}else if(r.push({agent:p.agent,dates:[p.date]}),countBytes(r)>e){r.pop();break}u=u.slice(1)}return{heartbeatsToSend:r,unsentEntries:u}}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await readHeartbeatsFromIndexedDB(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const p=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:p.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const p=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:p.lastSentHeartbeatDate,heartbeats:[...p.heartbeats,...e.heartbeats]})}else return}}function countBytes(o){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:o})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(o){_registerComponent(new Component("platform-logger",e=>new PlatformLoggerServiceImpl(e),"PRIVATE")),_registerComponent(new Component("heartbeat",e=>new HeartbeatServiceImpl(e),"PRIVATE")),registerVersion(name$q,version$1$1,o),registerVersion(name$q,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Integer,Md5;(function(){var o;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(F,x){function z(){}z.prototype=x.prototype,F.D=x.prototype,F.prototype=new z,F.prototype.constructor=F,F.C=function(J,Z,X){for(var te=Array(arguments.length-2),be=2;be<arguments.length;be++)te[be-2]=arguments[be];return x.prototype[Z].apply(J,te)}}function r(){this.blockSize=-1}function u(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(u,r),u.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function p(F,x,z){z||(z=0);var J=Array(16);if(typeof x=="string")for(var Z=0;16>Z;++Z)J[Z]=x.charCodeAt(z++)|x.charCodeAt(z++)<<8|x.charCodeAt(z++)<<16|x.charCodeAt(z++)<<24;else for(Z=0;16>Z;++Z)J[Z]=x[z++]|x[z++]<<8|x[z++]<<16|x[z++]<<24;x=F.g[0],z=F.g[1],Z=F.g[2];var X=F.g[3],te=x+(X^z&(Z^X))+J[0]+3614090360&4294967295;x=z+(te<<7&4294967295|te>>>25),te=X+(Z^x&(z^Z))+J[1]+3905402710&4294967295,X=x+(te<<12&4294967295|te>>>20),te=Z+(z^X&(x^z))+J[2]+606105819&4294967295,Z=X+(te<<17&4294967295|te>>>15),te=z+(x^Z&(X^x))+J[3]+3250441966&4294967295,z=Z+(te<<22&4294967295|te>>>10),te=x+(X^z&(Z^X))+J[4]+4118548399&4294967295,x=z+(te<<7&4294967295|te>>>25),te=X+(Z^x&(z^Z))+J[5]+1200080426&4294967295,X=x+(te<<12&4294967295|te>>>20),te=Z+(z^X&(x^z))+J[6]+2821735955&4294967295,Z=X+(te<<17&4294967295|te>>>15),te=z+(x^Z&(X^x))+J[7]+4249261313&4294967295,z=Z+(te<<22&4294967295|te>>>10),te=x+(X^z&(Z^X))+J[8]+1770035416&4294967295,x=z+(te<<7&4294967295|te>>>25),te=X+(Z^x&(z^Z))+J[9]+2336552879&4294967295,X=x+(te<<12&4294967295|te>>>20),te=Z+(z^X&(x^z))+J[10]+4294925233&4294967295,Z=X+(te<<17&4294967295|te>>>15),te=z+(x^Z&(X^x))+J[11]+2304563134&4294967295,z=Z+(te<<22&4294967295|te>>>10),te=x+(X^z&(Z^X))+J[12]+1804603682&4294967295,x=z+(te<<7&4294967295|te>>>25),te=X+(Z^x&(z^Z))+J[13]+4254626195&4294967295,X=x+(te<<12&4294967295|te>>>20),te=Z+(z^X&(x^z))+J[14]+2792965006&4294967295,Z=X+(te<<17&4294967295|te>>>15),te=z+(x^Z&(X^x))+J[15]+1236535329&4294967295,z=Z+(te<<22&4294967295|te>>>10),te=x+(Z^X&(z^Z))+J[1]+4129170786&4294967295,x=z+(te<<5&4294967295|te>>>27),te=X+(z^Z&(x^z))+J[6]+3225465664&4294967295,X=x+(te<<9&4294967295|te>>>23),te=Z+(x^z&(X^x))+J[11]+643717713&4294967295,Z=X+(te<<14&4294967295|te>>>18),te=z+(X^x&(Z^X))+J[0]+3921069994&4294967295,z=Z+(te<<20&4294967295|te>>>12),te=x+(Z^X&(z^Z))+J[5]+3593408605&4294967295,x=z+(te<<5&4294967295|te>>>27),te=X+(z^Z&(x^z))+J[10]+38016083&4294967295,X=x+(te<<9&4294967295|te>>>23),te=Z+(x^z&(X^x))+J[15]+3634488961&4294967295,Z=X+(te<<14&4294967295|te>>>18),te=z+(X^x&(Z^X))+J[4]+3889429448&4294967295,z=Z+(te<<20&4294967295|te>>>12),te=x+(Z^X&(z^Z))+J[9]+568446438&4294967295,x=z+(te<<5&4294967295|te>>>27),te=X+(z^Z&(x^z))+J[14]+3275163606&4294967295,X=x+(te<<9&4294967295|te>>>23),te=Z+(x^z&(X^x))+J[3]+4107603335&4294967295,Z=X+(te<<14&4294967295|te>>>18),te=z+(X^x&(Z^X))+J[8]+1163531501&4294967295,z=Z+(te<<20&4294967295|te>>>12),te=x+(Z^X&(z^Z))+J[13]+2850285829&4294967295,x=z+(te<<5&4294967295|te>>>27),te=X+(z^Z&(x^z))+J[2]+4243563512&4294967295,X=x+(te<<9&4294967295|te>>>23),te=Z+(x^z&(X^x))+J[7]+1735328473&4294967295,Z=X+(te<<14&4294967295|te>>>18),te=z+(X^x&(Z^X))+J[12]+2368359562&4294967295,z=Z+(te<<20&4294967295|te>>>12),te=x+(z^Z^X)+J[5]+4294588738&4294967295,x=z+(te<<4&4294967295|te>>>28),te=X+(x^z^Z)+J[8]+2272392833&4294967295,X=x+(te<<11&4294967295|te>>>21),te=Z+(X^x^z)+J[11]+1839030562&4294967295,Z=X+(te<<16&4294967295|te>>>16),te=z+(Z^X^x)+J[14]+4259657740&4294967295,z=Z+(te<<23&4294967295|te>>>9),te=x+(z^Z^X)+J[1]+2763975236&4294967295,x=z+(te<<4&4294967295|te>>>28),te=X+(x^z^Z)+J[4]+1272893353&4294967295,X=x+(te<<11&4294967295|te>>>21),te=Z+(X^x^z)+J[7]+4139469664&4294967295,Z=X+(te<<16&4294967295|te>>>16),te=z+(Z^X^x)+J[10]+3200236656&4294967295,z=Z+(te<<23&4294967295|te>>>9),te=x+(z^Z^X)+J[13]+681279174&4294967295,x=z+(te<<4&4294967295|te>>>28),te=X+(x^z^Z)+J[0]+3936430074&4294967295,X=x+(te<<11&4294967295|te>>>21),te=Z+(X^x^z)+J[3]+3572445317&4294967295,Z=X+(te<<16&4294967295|te>>>16),te=z+(Z^X^x)+J[6]+76029189&4294967295,z=Z+(te<<23&4294967295|te>>>9),te=x+(z^Z^X)+J[9]+3654602809&4294967295,x=z+(te<<4&4294967295|te>>>28),te=X+(x^z^Z)+J[12]+3873151461&4294967295,X=x+(te<<11&4294967295|te>>>21),te=Z+(X^x^z)+J[15]+530742520&4294967295,Z=X+(te<<16&4294967295|te>>>16),te=z+(Z^X^x)+J[2]+3299628645&4294967295,z=Z+(te<<23&4294967295|te>>>9),te=x+(Z^(z|~X))+J[0]+4096336452&4294967295,x=z+(te<<6&4294967295|te>>>26),te=X+(z^(x|~Z))+J[7]+1126891415&4294967295,X=x+(te<<10&4294967295|te>>>22),te=Z+(x^(X|~z))+J[14]+2878612391&4294967295,Z=X+(te<<15&4294967295|te>>>17),te=z+(X^(Z|~x))+J[5]+4237533241&4294967295,z=Z+(te<<21&4294967295|te>>>11),te=x+(Z^(z|~X))+J[12]+1700485571&4294967295,x=z+(te<<6&4294967295|te>>>26),te=X+(z^(x|~Z))+J[3]+2399980690&4294967295,X=x+(te<<10&4294967295|te>>>22),te=Z+(x^(X|~z))+J[10]+4293915773&4294967295,Z=X+(te<<15&4294967295|te>>>17),te=z+(X^(Z|~x))+J[1]+2240044497&4294967295,z=Z+(te<<21&4294967295|te>>>11),te=x+(Z^(z|~X))+J[8]+1873313359&4294967295,x=z+(te<<6&4294967295|te>>>26),te=X+(z^(x|~Z))+J[15]+4264355552&4294967295,X=x+(te<<10&4294967295|te>>>22),te=Z+(x^(X|~z))+J[6]+2734768916&4294967295,Z=X+(te<<15&4294967295|te>>>17),te=z+(X^(Z|~x))+J[13]+1309151649&4294967295,z=Z+(te<<21&4294967295|te>>>11),te=x+(Z^(z|~X))+J[4]+4149444226&4294967295,x=z+(te<<6&4294967295|te>>>26),te=X+(z^(x|~Z))+J[11]+3174756917&4294967295,X=x+(te<<10&4294967295|te>>>22),te=Z+(x^(X|~z))+J[2]+718787259&4294967295,Z=X+(te<<15&4294967295|te>>>17),te=z+(X^(Z|~x))+J[9]+3951481745&4294967295,F.g[0]=F.g[0]+x&4294967295,F.g[1]=F.g[1]+(Z+(te<<21&4294967295|te>>>11))&4294967295,F.g[2]=F.g[2]+Z&4294967295,F.g[3]=F.g[3]+X&4294967295}u.prototype.u=function(F,x){x===void 0&&(x=F.length);for(var z=x-this.blockSize,J=this.B,Z=this.h,X=0;X<x;){if(Z==0)for(;X<=z;)p(this,F,X),X+=this.blockSize;if(typeof F=="string"){for(;X<x;)if(J[Z++]=F.charCodeAt(X++),Z==this.blockSize){p(this,J),Z=0;break}}else for(;X<x;)if(J[Z++]=F[X++],Z==this.blockSize){p(this,J),Z=0;break}}this.h=Z,this.o+=x},u.prototype.v=function(){var F=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);F[0]=128;for(var x=1;x<F.length-8;++x)F[x]=0;var z=8*this.o;for(x=F.length-8;x<F.length;++x)F[x]=z&255,z/=256;for(this.u(F),F=Array(16),x=z=0;4>x;++x)for(var J=0;32>J;J+=8)F[z++]=this.g[x]>>>J&255;return F};function h(F,x){var z=c;return Object.prototype.hasOwnProperty.call(z,F)?z[F]:z[F]=x(F)}function y(F,x){this.h=x;for(var z=[],J=!0,Z=F.length-1;0<=Z;Z--){var X=F[Z]|0;J&&X==x||(z[Z]=X,J=!1)}this.g=z}var c={};function d(F){return-128<=F&&128>F?h(F,function(x){return new y([x|0],0>x?-1:0)}):new y([F|0],0>F?-1:0)}function m(F){if(isNaN(F)||!isFinite(F))return N;if(0>F)return $(m(-F));for(var x=[],z=1,J=0;F>=z;J++)x[J]=F/z|0,z*=4294967296;return new y(x,0)}function P(F,x){if(F.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(F.charAt(0)=="-")return $(P(F.substring(1),x));if(0<=F.indexOf("-"))throw Error('number format error: interior "-" character');for(var z=m(Math.pow(x,8)),J=N,Z=0;Z<F.length;Z+=8){var X=Math.min(8,F.length-Z),te=parseInt(F.substring(Z,Z+X),x);8>X?(X=m(Math.pow(x,X)),J=J.j(X).add(m(te))):(J=J.j(z),J=J.add(m(te)))}return J}var N=d(0),L=d(1),k=d(16777216);o=y.prototype,o.m=function(){if(U(this))return-$(this).m();for(var F=0,x=1,z=0;z<this.g.length;z++){var J=this.i(z);F+=(0<=J?J:4294967296+J)*x,x*=4294967296}return F},o.toString=function(F){if(F=F||10,2>F||36<F)throw Error("radix out of range: "+F);if(B(this))return"0";if(U(this))return"-"+$(this).toString(F);for(var x=m(Math.pow(F,6)),z=this,J="";;){var Z=Q(z,x).g;z=j(z,Z.j(x));var X=((0<z.g.length?z.g[0]:z.h)>>>0).toString(F);if(z=Z,B(z))return X+J;for(;6>X.length;)X="0"+X;J=X+J}},o.i=function(F){return 0>F?0:F<this.g.length?this.g[F]:this.h};function B(F){if(F.h!=0)return!1;for(var x=0;x<F.g.length;x++)if(F.g[x]!=0)return!1;return!0}function U(F){return F.h==-1}o.l=function(F){return F=j(this,F),U(F)?-1:B(F)?0:1};function $(F){for(var x=F.g.length,z=[],J=0;J<x;J++)z[J]=~F.g[J];return new y(z,~F.h).add(L)}o.abs=function(){return U(this)?$(this):this},o.add=function(F){for(var x=Math.max(this.g.length,F.g.length),z=[],J=0,Z=0;Z<=x;Z++){var X=J+(this.i(Z)&65535)+(F.i(Z)&65535),te=(X>>>16)+(this.i(Z)>>>16)+(F.i(Z)>>>16);J=te>>>16,X&=65535,te&=65535,z[Z]=te<<16|X}return new y(z,z[z.length-1]&-2147483648?-1:0)};function j(F,x){return F.add($(x))}o.j=function(F){if(B(this)||B(F))return N;if(U(this))return U(F)?$(this).j($(F)):$($(this).j(F));if(U(F))return $(this.j($(F)));if(0>this.l(k)&&0>F.l(k))return m(this.m()*F.m());for(var x=this.g.length+F.g.length,z=[],J=0;J<2*x;J++)z[J]=0;for(J=0;J<this.g.length;J++)for(var Z=0;Z<F.g.length;Z++){var X=this.i(J)>>>16,te=this.i(J)&65535,be=F.i(Z)>>>16,Ae=F.i(Z)&65535;z[2*J+2*Z]+=te*Ae,M(z,2*J+2*Z),z[2*J+2*Z+1]+=X*Ae,M(z,2*J+2*Z+1),z[2*J+2*Z+1]+=te*be,M(z,2*J+2*Z+1),z[2*J+2*Z+2]+=X*be,M(z,2*J+2*Z+2)}for(J=0;J<x;J++)z[J]=z[2*J+1]<<16|z[2*J];for(J=x;J<2*x;J++)z[J]=0;return new y(z,0)};function M(F,x){for(;(F[x]&65535)!=F[x];)F[x+1]+=F[x]>>>16,F[x]&=65535,x++}function q(F,x){this.g=F,this.h=x}function Q(F,x){if(B(x))throw Error("division by zero");if(B(F))return new q(N,N);if(U(F))return x=Q($(F),x),new q($(x.g),$(x.h));if(U(x))return x=Q(F,$(x)),new q($(x.g),x.h);if(30<F.g.length){if(U(F)||U(x))throw Error("slowDivide_ only works with positive integers.");for(var z=L,J=x;0>=J.l(F);)z=K(z),J=K(J);var Z=G(z,1),X=G(J,1);for(J=G(J,2),z=G(z,2);!B(J);){var te=X.add(J);0>=te.l(F)&&(Z=Z.add(z),X=te),J=G(J,1),z=G(z,1)}return x=j(F,Z.j(x)),new q(Z,x)}for(Z=N;0<=F.l(x);){for(z=Math.max(1,Math.floor(F.m()/x.m())),J=Math.ceil(Math.log(z)/Math.LN2),J=48>=J?1:Math.pow(2,J-48),X=m(z),te=X.j(x);U(te)||0<te.l(F);)z-=J,X=m(z),te=X.j(x);B(X)&&(X=L),Z=Z.add(X),F=j(F,te)}return new q(Z,F)}o.A=function(F){return Q(this,F).h},o.and=function(F){for(var x=Math.max(this.g.length,F.g.length),z=[],J=0;J<x;J++)z[J]=this.i(J)&F.i(J);return new y(z,this.h&F.h)},o.or=function(F){for(var x=Math.max(this.g.length,F.g.length),z=[],J=0;J<x;J++)z[J]=this.i(J)|F.i(J);return new y(z,this.h|F.h)},o.xor=function(F){for(var x=Math.max(this.g.length,F.g.length),z=[],J=0;J<x;J++)z[J]=this.i(J)^F.i(J);return new y(z,this.h^F.h)};function K(F){for(var x=F.g.length+1,z=[],J=0;J<x;J++)z[J]=F.i(J)<<1|F.i(J-1)>>>31;return new y(z,F.h)}function G(F,x){var z=x>>5;x%=32;for(var J=F.g.length-z,Z=[],X=0;X<J;X++)Z[X]=0<x?F.i(X+z)>>>x|F.i(X+z+1)<<32-x:F.i(X+z);return new y(Z,F.h)}u.prototype.digest=u.prototype.v,u.prototype.reset=u.prototype.s,u.prototype.update=u.prototype.u,Md5=u,y.prototype.add=y.prototype.add,y.prototype.multiply=y.prototype.j,y.prototype.modulo=y.prototype.A,y.prototype.compare=y.prototype.l,y.prototype.toNumber=y.prototype.m,y.prototype.toString=y.prototype.toString,y.prototype.getBits=y.prototype.i,y.fromNumber=m,y.fromString=P,Integer=y}).apply(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XhrIo,WebChannel,EventType,ErrorCode,Stat,Event,getStatEventTarget,createWebChannelTransport;(function(){var o,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(W,ve,Se){return W==Array.prototype||W==Object.prototype||(W[ve]=Se.value),W};function r(W){W=[typeof globalThis=="object"&&globalThis,W,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal];for(var ve=0;ve<W.length;++ve){var Se=W[ve];if(Se&&Se.Math==Math)return Se}throw Error("Cannot find global object")}var u=r(this);function p(W,ve){if(ve)e:{var Se=u;W=W.split(".");for(var Fe=0;Fe<W.length-1;Fe++){var ze=W[Fe];if(!(ze in Se))break e;Se=Se[ze]}W=W[W.length-1],Fe=Se[W],ve=ve(Fe),ve!=Fe&&ve!=null&&e(Se,W,{configurable:!0,writable:!0,value:ve})}}function h(W,ve){W instanceof String&&(W+="");var Se=0,Fe=!1,ze={next:function(){if(!Fe&&Se<W.length){var Ye=Se++;return{value:ve(Ye,W[Ye]),done:!1}}return Fe=!0,{done:!0,value:void 0}}};return ze[Symbol.iterator]=function(){return ze},ze}p("Array.prototype.values",function(W){return W||function(){return h(this,function(ve,Se){return Se})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var y=y||{},c=this||self;function d(W){var ve=typeof W;return ve=ve!="object"?ve:W?Array.isArray(W)?"array":ve:"null",ve=="array"||ve=="object"&&typeof W.length=="number"}function m(W){var ve=typeof W;return ve=="object"&&W!=null||ve=="function"}function P(W,ve,Se){return W.call.apply(W.bind,arguments)}function N(W,ve,Se){if(!W)throw Error();if(2<arguments.length){var Fe=Array.prototype.slice.call(arguments,2);return function(){var ze=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ze,Fe),W.apply(ve,ze)}}return function(){return W.apply(ve,arguments)}}function L(W,ve,Se){return L=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?P:N,L.apply(null,arguments)}function k(W,ve){var Se=Array.prototype.slice.call(arguments,1);return function(){var Fe=Se.slice();return Fe.push.apply(Fe,arguments),W.apply(this,Fe)}}function B(W,ve){function Se(){}Se.prototype=ve.prototype,W.aa=ve.prototype,W.prototype=new Se,W.prototype.constructor=W,W.Qb=function(Fe,ze,Ye){for(var ct=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)ct[Gt-2]=arguments[Gt];return ve.prototype[ze].apply(Fe,ct)}}function U(W){const ve=W.length;if(0<ve){const Se=Array(ve);for(let Fe=0;Fe<ve;Fe++)Se[Fe]=W[Fe];return Se}return[]}function $(W,ve){for(let Se=1;Se<arguments.length;Se++){const Fe=arguments[Se];if(d(Fe)){const ze=W.length||0,Ye=Fe.length||0;W.length=ze+Ye;for(let ct=0;ct<Ye;ct++)W[ze+ct]=Fe[ct]}else W.push(Fe)}}class j{constructor(ve,Se){this.i=ve,this.j=Se,this.h=0,this.g=null}get(){let ve;return 0<this.h?(this.h--,ve=this.g,this.g=ve.next,ve.next=null):ve=this.i(),ve}}function M(W){return/^[\s\xa0]*$/.test(W)}function q(){var W=c.navigator;return W&&(W=W.userAgent)?W:""}function Q(W){return Q[" "](W),W}Q[" "]=function(){};var K=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function G(W,ve,Se){for(const Fe in W)ve.call(Se,W[Fe],Fe,W)}function F(W,ve){for(const Se in W)ve.call(void 0,W[Se],Se,W)}function x(W){const ve={};for(const Se in W)ve[Se]=W[Se];return ve}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(W,ve){let Se,Fe;for(let ze=1;ze<arguments.length;ze++){Fe=arguments[ze];for(Se in Fe)W[Se]=Fe[Se];for(let Ye=0;Ye<z.length;Ye++)Se=z[Ye],Object.prototype.hasOwnProperty.call(Fe,Se)&&(W[Se]=Fe[Se])}}function Z(W){var ve=1;W=W.split(":");const Se=[];for(;0<ve&&W.length;)Se.push(W.shift()),ve--;return W.length&&Se.push(W.join(":")),Se}function X(W){c.setTimeout(()=>{throw W},0)}function te(){var W=qe;let ve=null;return W.g&&(ve=W.g,W.g=W.g.next,W.g||(W.h=null),ve.next=null),ve}class be{constructor(){this.h=this.g=null}add(ve,Se){const Fe=Ae.get();Fe.set(ve,Se),this.h?this.h.next=Fe:this.g=Fe,this.h=Fe}}var Ae=new j(()=>new Ne,W=>W.reset());class Ne{constructor(){this.next=this.g=this.h=null}set(ve,Se){this.h=ve,this.g=Se,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,Ue=!1,qe=new be,Ge=()=>{const W=c.Promise.resolve(void 0);ke=()=>{W.then(Qe)}};var Qe=()=>{for(var W;W=te();){try{W.h.call(W.g)}catch(Se){X(Se)}var ve=Ae;ve.j(W),100>ve.h&&(ve.h++,W.next=ve.g,ve.g=W)}Ue=!1};function Ke(){this.s=this.s,this.C=this.C}Ke.prototype.s=!1,Ke.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ke.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Be(W,ve){this.type=W,this.g=this.target=ve,this.defaultPrevented=!1}Be.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var W=!1,ve=Object.defineProperty({},"passive",{get:function(){W=!0}});try{const Se=()=>{};c.addEventListener("test",Se,ve),c.removeEventListener("test",Se,ve)}catch{}return W}();function $e(W,ve){if(Be.call(this,W?W.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,W){var Se=this.type=W.type,Fe=W.changedTouches&&W.changedTouches.length?W.changedTouches[0]:null;if(this.target=W.target||W.srcElement,this.g=ve,ve=W.relatedTarget){if(K){e:{try{Q(ve.nodeName);var ze=!0;break e}catch{}ze=!1}ze||(ve=null)}}else Se=="mouseover"?ve=W.fromElement:Se=="mouseout"&&(ve=W.toElement);this.relatedTarget=ve,Fe?(this.clientX=Fe.clientX!==void 0?Fe.clientX:Fe.pageX,this.clientY=Fe.clientY!==void 0?Fe.clientY:Fe.pageY,this.screenX=Fe.screenX||0,this.screenY=Fe.screenY||0):(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0),this.button=W.button,this.key=W.key||"",this.ctrlKey=W.ctrlKey,this.altKey=W.altKey,this.shiftKey=W.shiftKey,this.metaKey=W.metaKey,this.pointerId=W.pointerId||0,this.pointerType=typeof W.pointerType=="string"?W.pointerType:xe[W.pointerType]||"",this.state=W.state,this.i=W,W.defaultPrevented&&$e.aa.h.call(this)}}B($e,Be);var xe={2:"touch",3:"pen",4:"mouse"};$e.prototype.h=function(){$e.aa.h.call(this);var W=this.i;W.preventDefault?W.preventDefault():W.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),je=0;function Y(W,ve,Se,Fe,ze){this.listener=W,this.proxy=null,this.src=ve,this.type=Se,this.capture=!!Fe,this.ha=ze,this.key=++je,this.da=this.fa=!1}function l(W){W.da=!0,W.listener=null,W.proxy=null,W.src=null,W.ha=null}function T(W){this.src=W,this.g={},this.h=0}T.prototype.add=function(W,ve,Se,Fe,ze){var Ye=W.toString();W=this.g[Ye],W||(W=this.g[Ye]=[],this.h++);var ct=H(W,ve,Fe,ze);return-1<ct?(ve=W[ct],Se||(ve.fa=!1)):(ve=new Y(ve,this.src,Ye,!!Fe,ze),ve.fa=Se,W.push(ve)),ve};function O(W,ve){var Se=ve.type;if(Se in W.g){var Fe=W.g[Se],ze=Array.prototype.indexOf.call(Fe,ve,void 0),Ye;(Ye=0<=ze)&&Array.prototype.splice.call(Fe,ze,1),Ye&&(l(ve),W.g[Se].length==0&&(delete W.g[Se],W.h--))}}function H(W,ve,Se,Fe){for(var ze=0;ze<W.length;++ze){var Ye=W[ze];if(!Ye.da&&Ye.listener==ve&&Ye.capture==!!Se&&Ye.ha==Fe)return ze}return-1}var ae="closure_lm_"+(1e6*Math.random()|0),Oe={};function ie(W,ve,Se,Fe,ze){if(Array.isArray(ve)){for(var Ye=0;Ye<ve.length;Ye++)ie(W,ve[Ye],Se,Fe,ze);return null}return Se=rt(Se),W&&W[Le]?W.K(ve,Se,m(Fe)?!!Fe.capture:!1,ze):s(W,ve,Se,!1,Fe,ze)}function s(W,ve,Se,Fe,ze,Ye){if(!ve)throw Error("Invalid event type");var ct=m(ze)?!!ze.capture:!!ze,Gt=ee(W);if(Gt||(W[ae]=Gt=new T(W)),Se=Gt.add(ve,Se,Fe,ct,Ye),Se.proxy)return Se;if(Fe=A(),Se.proxy=Fe,Fe.src=W,Fe.listener=Se,W.addEventListener)Re||(ze=ct),ze===void 0&&(ze=!1),W.addEventListener(ve.toString(),Fe,ze);else if(W.attachEvent)W.attachEvent(R(ve.toString()),Fe);else if(W.addListener&&W.removeListener)W.addListener(Fe);else throw Error("addEventListener and attachEvent are unavailable.");return Se}function A(){function W(Se){return ve.call(W.src,W.listener,Se)}const ve=V;return W}function I(W,ve,Se,Fe,ze){if(Array.isArray(ve))for(var Ye=0;Ye<ve.length;Ye++)I(W,ve[Ye],Se,Fe,ze);else Fe=m(Fe)?!!Fe.capture:!!Fe,Se=rt(Se),W&&W[Le]?(W=W.i,ve=String(ve).toString(),ve in W.g&&(Ye=W.g[ve],Se=H(Ye,Se,Fe,ze),-1<Se&&(l(Ye[Se]),Array.prototype.splice.call(Ye,Se,1),Ye.length==0&&(delete W.g[ve],W.h--)))):W&&(W=ee(W))&&(ve=W.g[ve.toString()],W=-1,ve&&(W=H(ve,Se,Fe,ze)),(Se=-1<W?ve[W]:null)&&n(Se))}function n(W){if(typeof W!="number"&&W&&!W.da){var ve=W.src;if(ve&&ve[Le])O(ve.i,W);else{var Se=W.type,Fe=W.proxy;ve.removeEventListener?ve.removeEventListener(Se,Fe,W.capture):ve.detachEvent?ve.detachEvent(R(Se),Fe):ve.addListener&&ve.removeListener&&ve.removeListener(Fe),(Se=ee(ve))?(O(Se,W),Se.h==0&&(Se.src=null,ve[ae]=null)):l(W)}}}function R(W){return W in Oe?Oe[W]:Oe[W]="on"+W}function V(W,ve){if(W.da)W=!0;else{ve=new $e(ve,this);var Se=W.listener,Fe=W.ha||W.src;W.fa&&n(W),W=Se.call(Fe,ve)}return W}function ee(W){return W=W[ae],W instanceof T?W:null}var Me="__closure_events_fn_"+(1e9*Math.random()>>>0);function rt(W){return typeof W=="function"?W:(W[Me]||(W[Me]=function(ve){return W.handleEvent(ve)}),W[Me])}function nt(){Ke.call(this),this.i=new T(this),this.M=this,this.F=null}B(nt,Ke),nt.prototype[Le]=!0,nt.prototype.removeEventListener=function(W,ve,Se,Fe){I(this,W,ve,Se,Fe)};function Ze(W,ve){var Se,Fe=W.F;if(Fe)for(Se=[];Fe;Fe=Fe.F)Se.push(Fe);if(W=W.M,Fe=ve.type||ve,typeof ve=="string")ve=new Be(ve,W);else if(ve instanceof Be)ve.target=ve.target||W;else{var ze=ve;ve=new Be(Fe,W),J(ve,ze)}if(ze=!0,Se)for(var Ye=Se.length-1;0<=Ye;Ye--){var ct=ve.g=Se[Ye];ze=lt(ct,Fe,!0,ve)&&ze}if(ct=ve.g=W,ze=lt(ct,Fe,!0,ve)&&ze,ze=lt(ct,Fe,!1,ve)&&ze,Se)for(Ye=0;Ye<Se.length;Ye++)ct=ve.g=Se[Ye],ze=lt(ct,Fe,!1,ve)&&ze}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var W=this.i,ve;for(ve in W.g){for(var Se=W.g[ve],Fe=0;Fe<Se.length;Fe++)l(Se[Fe]);delete W.g[ve],W.h--}}this.F=null},nt.prototype.K=function(W,ve,Se,Fe){return this.i.add(String(W),ve,!1,Se,Fe)},nt.prototype.L=function(W,ve,Se,Fe){return this.i.add(String(W),ve,!0,Se,Fe)};function lt(W,ve,Se,Fe){if(ve=W.i.g[String(ve)],!ve)return!0;ve=ve.concat();for(var ze=!0,Ye=0;Ye<ve.length;++Ye){var ct=ve[Ye];if(ct&&!ct.da&&ct.capture==Se){var Gt=ct.listener,sr=ct.ha||ct.src;ct.fa&&O(W.i,ct),ze=Gt.call(sr,Fe)!==!1&&ze}}return ze&&!Fe.defaultPrevented}function ft(W,ve,Se){if(typeof W=="function")Se&&(W=L(W,Se));else if(W&&typeof W.handleEvent=="function")W=L(W.handleEvent,W);else throw Error("Invalid listener argument");return 2147483647<Number(ve)?-1:c.setTimeout(W,ve||0)}function gt(W){W.g=ft(()=>{W.g=null,W.i&&(W.i=!1,gt(W))},W.l);const ve=W.h;W.h=null,W.m.apply(null,ve)}class Xe extends Ke{constructor(ve,Se){super(),this.m=ve,this.l=Se,this.h=null,this.i=!1,this.g=null}j(ve){this.h=arguments,this.g?this.i=!0:gt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function We(W){Ke.call(this),this.h=W,this.g={}}B(We,Ke);var et=[];function at(W){G(W.g,function(ve,Se){this.g.hasOwnProperty(Se)&&n(ve)},W),W.g={}}We.prototype.N=function(){We.aa.N.call(this),at(this)},We.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ot=c.JSON.stringify,pt=c.JSON.parse,dt=class{stringify(W){return c.JSON.stringify(W,void 0)}parse(W){return c.JSON.parse(W,void 0)}};function jt(){}jt.prototype.h=null;function Et(W){return W.h||(W.h=W.i())}function Wt(){}var Ht={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qt(){Be.call(this,"d")}B(qt,Be);function rr(){Be.call(this,"c")}B(rr,Be);var $t={},Lt=null;function wt(){return Lt=Lt||new nt}$t.La="serverreachability";function kt(W){Be.call(this,$t.La,W)}B(kt,Be);function Tt(W){const ve=wt();Ze(ve,new kt(ve))}$t.STAT_EVENT="statevent";function Ft(W,ve){Be.call(this,$t.STAT_EVENT,W),this.stat=ve}B(Ft,Be);function ht(W){const ve=wt();Ze(ve,new Ft(ve,W))}$t.Ma="timingevent";function mt(W,ve){Be.call(this,$t.Ma,W),this.size=ve}B(mt,Be);function Pt(W,ve){if(typeof W!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){W()},ve)}function Rt(){this.g=!0}Rt.prototype.xa=function(){this.g=!1};function _t(W,ve,Se,Fe,ze,Ye){W.info(function(){if(W.g)if(Ye)for(var ct="",Gt=Ye.split("&"),sr=0;sr<Gt.length;sr++){var Nt=Gt[sr].split("=");if(1<Nt.length){var pr=Nt[0];Nt=Nt[1];var dr=pr.split("_");ct=2<=dr.length&&dr[1]=="type"?ct+(pr+"="+Nt+"&"):ct+(pr+"=redacted&")}}else ct=null;else ct=Ye;return"XMLHTTP REQ ("+Fe+") [attempt "+ze+"]: "+ve+`
`+Se+`
`+ct})}function bt(W,ve,Se,Fe,ze,Ye,ct){W.info(function(){return"XMLHTTP RESP ("+Fe+") [ attempt "+ze+"]: "+ve+`
`+Se+`
`+Ye+" "+ct})}function Ot(W,ve,Se,Fe){W.info(function(){return"XMLHTTP TEXT ("+ve+"): "+Mt(W,Se)+(Fe?" "+Fe:"")})}function xt(W,ve){W.info(function(){return"TIMEOUT: "+ve})}Rt.prototype.info=function(){};function Mt(W,ve){if(!W.g)return ve;if(!ve)return null;try{var Se=JSON.parse(ve);if(Se){for(W=0;W<Se.length;W++)if(Array.isArray(Se[W])){var Fe=Se[W];if(!(2>Fe.length)){var ze=Fe[1];if(Array.isArray(ze)&&!(1>ze.length)){var Ye=ze[0];if(Ye!="noop"&&Ye!="stop"&&Ye!="close")for(var ct=1;ct<ze.length;ct++)ze[ct]=""}}}}return ot(Se)}catch{return ve}}var It={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ut={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wr;function nr(){}B(nr,jt),nr.prototype.g=function(){return new XMLHttpRequest},nr.prototype.i=function(){return{}},wr=new nr;function or(W,ve,Se,Fe){this.j=W,this.i=ve,this.l=Se,this.R=Fe||1,this.U=new We(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lr}function lr(){this.i=null,this.g="",this.h=!1}var yr={},fr={};function er(W,ve,Se){W.L=1,W.v=Zt(At(ve)),W.m=Se,W.P=!0,Pr(W,null)}function Pr(W,ve){W.F=Date.now(),Qt(W),W.A=At(W.v);var Se=W.A,Fe=W.R;Array.isArray(Fe)||(Fe=[String(Fe)]),Mr(Se.i,"t",Fe),W.C=0,Se=W.j.J,W.h=new lr,W.g=An(W.j,Se?ve:null,!W.m),0<W.O&&(W.M=new Xe(L(W.Y,W,W.g),W.O)),ve=W.U,Se=W.g,Fe=W.ca;var ze="readystatechange";Array.isArray(ze)||(ze&&(et[0]=ze.toString()),ze=et);for(var Ye=0;Ye<ze.length;Ye++){var ct=ie(Se,ze[Ye],Fe||ve.handleEvent,!1,ve.h||ve);if(!ct)break;ve.g[ct.key]=ct}ve=W.H?x(W.H):{},W.m?(W.u||(W.u="POST"),ve["Content-Type"]="application/x-www-form-urlencoded",W.g.ea(W.A,W.u,W.m,ve)):(W.u="GET",W.g.ea(W.A,W.u,null,ve)),Tt(),_t(W.i,W.u,W.A,W.l,W.R,W.m)}or.prototype.ca=function(W){W=W.target;const ve=this.M;ve&&se(W)==3?ve.j():this.Y(W)},or.prototype.Y=function(W){try{if(W==this.g)e:{const dr=se(this.g);var ve=this.g.Ba();const Zr=this.g.Z();if(!(3>dr)&&(dr!=3||this.g&&(this.h.h||this.g.oa()||ut(this.g)))){this.J||dr!=4||ve==7||(ve==8||0>=Zr?Tt(3):Tt(2)),Er(this);var Se=this.g.Z();this.X=Se;t:if(Ir(this)){var Fe=ut(this.g);W="";var ze=Fe.length,Ye=se(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tr(this),Bt(this);var ct="";break t}this.h.i=new c.TextDecoder}for(ve=0;ve<ze;ve++)this.h.h=!0,W+=this.h.i.decode(Fe[ve],{stream:!(Ye&&ve==ze-1)});Fe.length=0,this.h.g+=W,this.C=0,ct=this.h.g}else ct=this.g.oa();if(this.o=Se==200,bt(this.i,this.u,this.A,this.l,this.R,dr,Se),this.o){if(this.T&&!this.K){t:{if(this.g){var Gt,sr=this.g;if((Gt=sr.g?sr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Gt)){var Nt=Gt;break t}}Nt=null}if(Se=Nt)Ot(this.i,this.l,Se,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zt(this,Se);else{this.o=!1,this.s=3,ht(12),tr(this),Bt(this);break e}}if(this.P){Se=!0;let xr;for(;!this.J&&this.C<ct.length;)if(xr=Xt(this,ct),xr==fr){dr==4&&(this.s=4,ht(14),Se=!1),Ot(this.i,this.l,null,"[Incomplete Response]");break}else if(xr==yr){this.s=4,ht(15),Ot(this.i,this.l,ct,"[Invalid Chunk]"),Se=!1;break}else Ot(this.i,this.l,xr,null),zt(this,xr);if(Ir(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dr!=4||ct.length!=0||this.h.h||(this.s=1,ht(16),Se=!1),this.o=this.o&&Se,!Se)Ot(this.i,this.l,ct,"[Invalid Chunked Response]"),tr(this),Bt(this);else if(0<ct.length&&!this.W){this.W=!0;var pr=this.j;pr.g==this&&pr.ba&&!pr.M&&(pr.j.info("Great, no buffering proxy detected. Bytes received: "+ct.length),dn(pr),pr.M=!0,ht(11))}}else Ot(this.i,this.l,ct,null),zt(this,ct);dr==4&&tr(this),this.o&&!this.J&&(dr==4?En(this.j,this):(this.o=!1,Qt(this)))}else Dn(this.g),Se==400&&0<ct.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),tr(this),Bt(this)}}}catch{}finally{}};function Ir(W){return W.g?W.u=="GET"&&W.L!=2&&W.j.Ca:!1}function Xt(W,ve){var Se=W.C,Fe=ve.indexOf(`
`,Se);return Fe==-1?fr:(Se=Number(ve.substring(Se,Fe)),isNaN(Se)?yr:(Fe+=1,Fe+Se>ve.length?fr:(ve=ve.slice(Fe,Fe+Se),W.C=Fe+Se,ve)))}or.prototype.cancel=function(){this.J=!0,tr(this)};function Qt(W){W.S=Date.now()+W.I,br(W,W.I)}function br(W,ve){if(W.B!=null)throw Error("WatchDog timer not null");W.B=Pt(L(W.ba,W),ve)}function Er(W){W.B&&(c.clearTimeout(W.B),W.B=null)}or.prototype.ba=function(){this.B=null;const W=Date.now();0<=W-this.S?(xt(this.i,this.A),this.L!=2&&(Tt(),ht(17)),tr(this),this.s=2,Bt(this)):br(this,this.S-W)};function Bt(W){W.j.G==0||W.J||En(W.j,W)}function tr(W){Er(W);var ve=W.M;ve&&typeof ve.ma=="function"&&ve.ma(),W.M=null,at(W.U),W.g&&(ve=W.g,W.g=null,ve.abort(),ve.ma())}function zt(W,ve){try{var Se=W.j;if(Se.G!=0&&(Se.g==W||Ve(Se.h,W))){if(!W.K&&Ve(Se.h,W)&&Se.G==3){try{var Fe=Se.Da.g.parse(ve)}catch{Fe=null}if(Array.isArray(Fe)&&Fe.length==3){var ze=Fe;if(ze[0]==0){e:if(!Se.u){if(Se.g)if(Se.g.F+3e3<W.F)on(Se),rn(Se);else break e;pn(Se),ht(18)}}else Se.za=ze[1],0<Se.za-Se.T&&37500>ze[2]&&Se.F&&Se.v==0&&!Se.C&&(Se.C=Pt(L(Se.Za,Se),6e3));if(1>=Ce(Se.h)&&Se.ca){try{Se.ca()}catch{}Se.ca=void 0}}else Yr(Se,11)}else if((W.K||Se.g==W)&&on(Se),!M(ve))for(ze=Se.Da.g.parse(ve),ve=0;ve<ze.length;ve++){let Nt=ze[ve];if(Se.T=Nt[0],Nt=Nt[1],Se.G==2)if(Nt[0]=="c"){Se.K=Nt[1],Se.ia=Nt[2];const pr=Nt[3];pr!=null&&(Se.la=pr,Se.j.info("VER="+Se.la));const dr=Nt[4];dr!=null&&(Se.Aa=dr,Se.j.info("SVER="+Se.Aa));const Zr=Nt[5];Zr!=null&&typeof Zr=="number"&&0<Zr&&(Fe=1.5*Zr,Se.L=Fe,Se.j.info("backChannelRequestTimeoutMs_="+Fe)),Fe=Se;const xr=W.g;if(xr){const sn=xr.g?xr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sn){var Ye=Fe.h;Ye.g||sn.indexOf("spdy")==-1&&sn.indexOf("quic")==-1&&sn.indexOf("h2")==-1||(Ye.j=Ye.l,Ye.g=new Set,Ye.h&&(He(Ye,Ye.h),Ye.h=null))}if(Fe.D){const gn=xr.g?xr.g.getResponseHeader("X-HTTP-Session-Id"):null;gn&&(Fe.ya=gn,yt(Fe.I,Fe.D,gn))}}Se.G=3,Se.l&&Se.l.ua(),Se.ba&&(Se.R=Date.now()-W.F,Se.j.info("Handshake RTT: "+Se.R+"ms")),Fe=Se;var ct=W;if(Fe.qa=Sn(Fe,Fe.J?Fe.ia:null,Fe.W),ct.K){Je(Fe.h,ct);var Gt=ct,sr=Fe.L;sr&&(Gt.I=sr),Gt.B&&(Er(Gt),Qt(Gt)),Fe.g=ct}else _n(Fe);0<Se.i.length&&nn(Se)}else Nt[0]!="stop"&&Nt[0]!="close"||Yr(Se,7);else Se.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?Yr(Se,7):cn(Se):Nt[0]!="noop"&&Se.l&&Se.l.ta(Nt),Se.v=0)}}Tt(4)}catch{}}var Cr=class{constructor(W,ve){this.g=W,this.map=ve}};function ur(W){this.l=W||10,c.PerformanceNavigationTiming?(W=c.performance.getEntriesByType("navigation"),W=0<W.length&&(W[0].nextHopProtocol=="hq"||W[0].nextHopProtocol=="h2")):W=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=W?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pe(W){return W.h?!0:W.g?W.g.size>=W.j:!1}function Ce(W){return W.h?1:W.g?W.g.size:0}function Ve(W,ve){return W.h?W.h==ve:W.g?W.g.has(ve):!1}function He(W,ve){W.g?W.g.add(ve):W.h=ve}function Je(W,ve){W.h&&W.h==ve?W.h=null:W.g&&W.g.has(ve)&&W.g.delete(ve)}ur.prototype.cancel=function(){if(this.i=tt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const W of this.g.values())W.cancel();this.g.clear()}};function tt(W){if(W.h!=null)return W.i.concat(W.h.D);if(W.g!=null&&W.g.size!==0){let ve=W.i;for(const Se of W.g.values())ve=ve.concat(Se.D);return ve}return U(W.i)}function it(W){if(W.V&&typeof W.V=="function")return W.V();if(typeof Map<"u"&&W instanceof Map||typeof Set<"u"&&W instanceof Set)return Array.from(W.values());if(typeof W=="string")return W.split("");if(d(W)){for(var ve=[],Se=W.length,Fe=0;Fe<Se;Fe++)ve.push(W[Fe]);return ve}ve=[],Se=0;for(Fe in W)ve[Se++]=W[Fe];return ve}function st(W){if(W.na&&typeof W.na=="function")return W.na();if(!W.V||typeof W.V!="function"){if(typeof Map<"u"&&W instanceof Map)return Array.from(W.keys());if(!(typeof Set<"u"&&W instanceof Set)){if(d(W)||typeof W=="string"){var ve=[];W=W.length;for(var Se=0;Se<W;Se++)ve.push(Se);return ve}ve=[],Se=0;for(const Fe in W)ve[Se++]=Fe;return ve}}}function vt(W,ve){if(W.forEach&&typeof W.forEach=="function")W.forEach(ve,void 0);else if(d(W)||typeof W=="string")Array.prototype.forEach.call(W,ve,void 0);else for(var Se=st(W),Fe=it(W),ze=Fe.length,Ye=0;Ye<ze;Ye++)ve.call(void 0,Fe[Ye],Se&&Se[Ye],W)}var Ct=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kt(W,ve){if(W){W=W.split("&");for(var Se=0;Se<W.length;Se++){var Fe=W[Se].indexOf("="),ze=null;if(0<=Fe){var Ye=W[Se].substring(0,Fe);ze=W[Se].substring(Fe+1)}else Ye=W[Se];ve(Ye,ze?decodeURIComponent(ze.replace(/\+/g," ")):"")}}}function St(W){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,W instanceof St){this.h=W.h,Yt(this,W.j),this.o=W.o,this.g=W.g,Jt(this,W.s),this.l=W.l;var ve=W.i,Se=new Or;Se.i=ve.i,ve.g&&(Se.g=new Map(ve.g),Se.h=ve.h),Dt(this,Se),this.m=W.m}else W&&(ve=String(W).match(Ct))?(this.h=!1,Yt(this,ve[1]||"",!0),this.o=ir(ve[2]||""),this.g=ir(ve[3]||"",!0),Jt(this,ve[4]),this.l=ir(ve[5]||"",!0),Dt(this,ve[6]||"",!0),this.m=ir(ve[7]||"")):(this.h=!1,this.i=new Or(null,this.h))}St.prototype.toString=function(){var W=[],ve=this.j;ve&&W.push(cr(ve,mr,!0),":");var Se=this.g;return(Se||ve=="file")&&(W.push("//"),(ve=this.o)&&W.push(cr(ve,mr,!0),"@"),W.push(encodeURIComponent(String(Se)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Se=this.s,Se!=null&&W.push(":",String(Se))),(Se=this.l)&&(this.g&&Se.charAt(0)!="/"&&W.push("/"),W.push(cr(Se,Se.charAt(0)=="/"?vr:$r,!0))),(Se=this.i.toString())&&W.push("?",Se),(Se=this.m)&&W.push("#",cr(Se,Vr)),W.join("")};function At(W){return new St(W)}function Yt(W,ve,Se){W.j=Se?ir(ve,!0):ve,W.j&&(W.j=W.j.replace(/:$/,""))}function Jt(W,ve){if(ve){if(ve=Number(ve),isNaN(ve)||0>ve)throw Error("Bad port number "+ve);W.s=ve}else W.s=null}function Dt(W,ve,Se){ve instanceof Or?(W.i=ve,Hr(W.i,W.h)):(Se||(ve=cr(ve,Gr)),W.i=new Or(ve,W.h))}function yt(W,ve,Se){W.i.set(ve,Se)}function Zt(W){return yt(W,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),W}function ir(W,ve){return W?ve?decodeURI(W.replace(/%25/g,"%2525")):decodeURIComponent(W):""}function cr(W,ve,Se){return typeof W=="string"?(W=encodeURI(W).replace(ve,Fr),Se&&(W=W.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),W):null}function Fr(W){return W=W.charCodeAt(0),"%"+(W>>4&15).toString(16)+(W&15).toString(16)}var mr=/[#\/\?@]/g,$r=/[#\?:]/g,vr=/[#\?]/g,Gr=/[#\?@]/g,Vr=/#/g;function Or(W,ve){this.h=this.g=null,this.i=W||null,this.j=!!ve}function gr(W){W.g||(W.g=new Map,W.h=0,W.i&&Kt(W.i,function(ve,Se){W.add(decodeURIComponent(ve.replace(/\+/g," ")),Se)}))}o=Or.prototype,o.add=function(W,ve){gr(this),this.i=null,W=Tr(this,W);var Se=this.g.get(W);return Se||this.g.set(W,Se=[]),Se.push(ve),this.h+=1,this};function Lr(W,ve){gr(W),ve=Tr(W,ve),W.g.has(ve)&&(W.i=null,W.h-=W.g.get(ve).length,W.g.delete(ve))}function Br(W,ve){return gr(W),ve=Tr(W,ve),W.g.has(ve)}o.forEach=function(W,ve){gr(this),this.g.forEach(function(Se,Fe){Se.forEach(function(ze){W.call(ve,ze,Fe,this)},this)},this)},o.na=function(){gr(this);const W=Array.from(this.g.values()),ve=Array.from(this.g.keys()),Se=[];for(let Fe=0;Fe<ve.length;Fe++){const ze=W[Fe];for(let Ye=0;Ye<ze.length;Ye++)Se.push(ve[Fe])}return Se},o.V=function(W){gr(this);let ve=[];if(typeof W=="string")Br(this,W)&&(ve=ve.concat(this.g.get(Tr(this,W))));else{W=Array.from(this.g.values());for(let Se=0;Se<W.length;Se++)ve=ve.concat(W[Se])}return ve},o.set=function(W,ve){return gr(this),this.i=null,W=Tr(this,W),Br(this,W)&&(this.h-=this.g.get(W).length),this.g.set(W,[ve]),this.h+=1,this},o.get=function(W,ve){return W?(W=this.V(W),0<W.length?String(W[0]):ve):ve};function Mr(W,ve,Se){Lr(W,ve),0<Se.length&&(W.i=null,W.g.set(Tr(W,ve),U(Se)),W.h+=Se.length)}o.toString=function(){if(this.i)return this.i;if(!this.g)return"";const W=[],ve=Array.from(this.g.keys());for(var Se=0;Se<ve.length;Se++){var Fe=ve[Se];const Ye=encodeURIComponent(String(Fe)),ct=this.V(Fe);for(Fe=0;Fe<ct.length;Fe++){var ze=Ye;ct[Fe]!==""&&(ze+="="+encodeURIComponent(String(ct[Fe]))),W.push(ze)}}return this.i=W.join("&")};function Tr(W,ve){return ve=String(ve),W.j&&(ve=ve.toLowerCase()),ve}function Hr(W,ve){ve&&!W.j&&(gr(W),W.i=null,W.g.forEach(function(Se,Fe){var ze=Fe.toLowerCase();Fe!=ze&&(Lr(this,Fe),Mr(this,ze,Se))},W)),W.j=ve}function Qr(W,ve){const Se=new Rt;if(c.Image){const Fe=new Image;Fe.onload=k(hr,Se,"TestLoadImage: loaded",!0,ve,Fe),Fe.onerror=k(hr,Se,"TestLoadImage: error",!1,ve,Fe),Fe.onabort=k(hr,Se,"TestLoadImage: abort",!1,ve,Fe),Fe.ontimeout=k(hr,Se,"TestLoadImage: timeout",!1,ve,Fe),c.setTimeout(function(){Fe.ontimeout&&Fe.ontimeout()},1e4),Fe.src=W}else ve(!1)}function zr(W,ve){const Se=new Rt,Fe=new AbortController,ze=setTimeout(()=>{Fe.abort(),hr(Se,"TestPingServer: timeout",!1,ve)},1e4);fetch(W,{signal:Fe.signal}).then(Ye=>{clearTimeout(ze),Ye.ok?hr(Se,"TestPingServer: ok",!0,ve):hr(Se,"TestPingServer: server error",!1,ve)}).catch(()=>{clearTimeout(ze),hr(Se,"TestPingServer: error",!1,ve)})}function hr(W,ve,Se,Fe,ze){try{ze&&(ze.onload=null,ze.onerror=null,ze.onabort=null,ze.ontimeout=null),Fe(Se)}catch{}}function Wr(){this.g=new dt}function Ur(W,ve,Se){const Fe=Se||"";try{vt(W,function(ze,Ye){let ct=ze;m(ze)&&(ct=ot(ze)),ve.push(Fe+Ye+"="+encodeURIComponent(ct))})}catch(ze){throw ve.push(Fe+"type="+encodeURIComponent("_badmap")),ze}}function Dr(W){this.l=W.Ub||null,this.j=W.eb||!1}B(Dr,jt),Dr.prototype.g=function(){return new Rr(this.l,this.j)},Dr.prototype.i=function(W){return function(){return W}}({});function Rr(W,ve){nt.call(this),this.D=W,this.o=ve,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(Rr,nt),o=Rr.prototype,o.open=function(W,ve){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=W,this.A=ve,this.readyState=1,ar(this)},o.send=function(W){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const ve={headers:this.u,method:this.B,credentials:this.m,cache:void 0};W&&(ve.body=W),(this.D||c).fetch(new Request(this.A,ve)).then(this.Sa.bind(this),this.ga.bind(this))},o.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_r(this)),this.readyState=0},o.Sa=function(W){if(this.g&&(this.l=W,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=W.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if(this.responseType==="arraybuffer")W.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in W){if(this.j=W.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nr(this)}else W.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nr(W){W.j.read().then(W.Pa.bind(W)).catch(W.ga.bind(W))}o.Pa=function(W){if(this.g){if(this.o&&W.value)this.response.push(W.value);else if(!this.o){var ve=W.value?W.value:new Uint8Array(0);(ve=this.v.decode(ve,{stream:!W.done}))&&(this.response=this.responseText+=ve)}W.done?_r(this):ar(this),this.readyState==3&&Nr(this)}},o.Ra=function(W){this.g&&(this.response=this.responseText=W,_r(this))},o.Qa=function(W){this.g&&(this.response=W,_r(this))},o.ga=function(){this.g&&_r(this)};function _r(W){W.readyState=4,W.l=null,W.j=null,W.v=null,ar(W)}o.setRequestHeader=function(W,ve){this.u.append(W,ve)},o.getResponseHeader=function(W){return this.h&&this.h.get(W.toLowerCase())||""},o.getAllResponseHeaders=function(){if(!this.h)return"";const W=[],ve=this.h.entries();for(var Se=ve.next();!Se.done;)Se=Se.value,W.push(Se[0]+": "+Se[1]),Se=ve.next();return W.join(`\r
`)};function ar(W){W.onreadystatechange&&W.onreadystatechange.call(W)}Object.defineProperty(Rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(W){this.m=W?"include":"same-origin"}});function qr(W){let ve="";return G(W,function(Se,Fe){ve+=Fe,ve+=":",ve+=Se,ve+=`\r
`}),ve}function Sr(W,ve,Se){e:{for(Fe in Se){var Fe=!1;break e}Fe=!0}Fe||(Se=qr(Se),typeof W=="string"?Se!=null&&encodeURIComponent(String(Se)):yt(W,ve,Se))}function Vt(W){nt.call(this),this.headers=new Map,this.o=W||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(Vt,nt);var Kr=/^https?$/i,Jr=["POST","PUT"];o=Vt.prototype,o.Ha=function(W){this.J=W},o.ea=function(W,ve,Se,Fe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+W);ve=ve?ve.toUpperCase():"GET",this.D=W,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wr.g(),this.v=this.o?Et(this.o):Et(wr),this.g.onreadystatechange=L(this.Ea,this);try{this.B=!0,this.g.open(ve,String(W),!0),this.B=!1}catch(Ye){jr(this,Ye);return}if(W=Se||"",Se=new Map(this.headers),Fe)if(Object.getPrototypeOf(Fe)===Object.prototype)for(var ze in Fe)Se.set(ze,Fe[ze]);else if(typeof Fe.keys=="function"&&typeof Fe.get=="function")for(const Ye of Fe.keys())Se.set(Ye,Fe.get(Ye));else throw Error("Unknown input type for opt_headers: "+String(Fe));Fe=Array.from(Se.keys()).find(Ye=>Ye.toLowerCase()=="content-type"),ze=c.FormData&&W instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Jr,ve,void 0))||Fe||ze||Se.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ye,ct]of Se)this.g.setRequestHeader(Ye,ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{E(this),this.u=!0,this.g.send(W),this.u=!1}catch(Ye){jr(this,Ye)}};function jr(W,ve){W.h=!1,W.g&&(W.j=!0,W.g.abort(),W.j=!1),W.l=ve,W.m=5,kr(W),_(W)}function kr(W){W.A||(W.A=!0,Ze(W,"complete"),Ze(W,"error"))}o.abort=function(W){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=W||7,Ze(this,"complete"),Ze(this,"abort"),_(this))},o.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_(this,!0)),Vt.aa.N.call(this)},o.Ea=function(){this.s||(this.B||this.u||this.j?t(this):this.bb())},o.bb=function(){t(this)};function t(W){if(W.h&&typeof y<"u"&&(!W.v[1]||se(W)!=4||W.Z()!=2)){if(W.u&&se(W)==4)ft(W.Ea,0,W);else if(Ze(W,"readystatechange"),se(W)==4){W.h=!1;try{const ct=W.Z();e:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var ve=!0;break e;default:ve=!1}var Se;if(!(Se=ve)){var Fe;if(Fe=ct===0){var ze=String(W.D).match(Ct)[1]||null;!ze&&c.self&&c.self.location&&(ze=c.self.location.protocol.slice(0,-1)),Fe=!Kr.test(ze?ze.toLowerCase():"")}Se=Fe}if(Se)Ze(W,"complete"),Ze(W,"success");else{W.m=6;try{var Ye=2<se(W)?W.g.statusText:""}catch{Ye=""}W.l=Ye+" ["+W.Z()+"]",kr(W)}}finally{_(W)}}}}function _(W,ve){if(W.g){E(W);const Se=W.g,Fe=W.v[0]?()=>{}:null;W.g=null,W.v=null,ve||Ze(W,"ready");try{Se.onreadystatechange=Fe}catch{}}}function E(W){W.I&&(c.clearTimeout(W.I),W.I=null)}o.isActive=function(){return!!this.g};function se(W){return W.g?W.g.readyState:0}o.Z=function(){try{return 2<se(this)?this.g.status:-1}catch{return-1}},o.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},o.Oa=function(W){if(this.g){var ve=this.g.responseText;return W&&ve.indexOf(W)==0&&(ve=ve.substring(W.length)),pt(ve)}};function ut(W){try{if(!W.g)return null;if("response"in W.g)return W.g.response;switch(W.H){case"":case"text":return W.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in W.g)return W.g.mozResponseArrayBuffer}return null}catch{return null}}function Dn(W){const ve={};W=(W.g&&2<=se(W)&&W.g.getAllResponseHeaders()||"").split(`\r
`);for(let Fe=0;Fe<W.length;Fe++){if(M(W[Fe]))continue;var Se=Z(W[Fe]);const ze=Se[0];if(Se=Se[1],typeof Se!="string")continue;Se=Se.trim();const Ye=ve[ze]||[];ve[ze]=Ye,Ye.push(Se)}F(ve,function(Fe){return Fe.join(", ")})}o.Ba=function(){return this.m},o.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function en(W,ve,Se){return Se&&Se.internalChannelParams&&Se.internalChannelParams[W]||ve}function hn(W){this.Aa=0,this.i=[],this.j=new Rt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=en("failFast",!1,W),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=en("baseRetryDelayMs",5e3,W),this.cb=en("retryDelaySeedMs",1e4,W),this.Wa=en("forwardChannelMaxRetries",2,W),this.wa=en("forwardChannelRequestTimeoutMs",2e4,W),this.pa=W&&W.xmlHttpFactory||void 0,this.Xa=W&&W.Tb||void 0,this.Ca=W&&W.useFetchStreams||!1,this.L=void 0,this.J=W&&W.supportsCrossDomainXhr||!1,this.K="",this.h=new ur(W&&W.concurrentRequestLimit),this.Da=new Wr,this.P=W&&W.fastHandshake||!1,this.O=W&&W.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=W&&W.Rb||!1,W&&W.xa&&this.j.xa(),W&&W.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&W&&W.detectBufferingProxy||!1,this.ja=void 0,W&&W.longPollingTimeout&&0<W.longPollingTimeout&&(this.ja=W.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}o=hn.prototype,o.la=8,o.G=1,o.connect=function(W,ve,Se,Fe){ht(0),this.W=W,this.H=ve||{},Se&&Fe!==void 0&&(this.H.OSID=Se,this.H.OAID=Fe),this.F=this.X,this.I=Sn(this,null,this.W),nn(this)};function cn(W){if(yn(W),W.G==3){var ve=W.U++,Se=At(W.I);if(yt(Se,"SID",W.K),yt(Se,"RID",ve),yt(Se,"TYPE","terminate"),tn(W,Se),ve=new or(W,W.j,ve),ve.L=2,ve.v=Zt(At(Se)),Se=!1,c.navigator&&c.navigator.sendBeacon)try{Se=c.navigator.sendBeacon(ve.v.toString(),"")}catch{}!Se&&c.Image&&(new Image().src=ve.v,Se=!0),Se||(ve.g=An(ve.j,null),ve.g.ea(ve.v)),ve.F=Date.now(),Qt(ve)}Tn(W)}function rn(W){W.g&&(dn(W),W.g.cancel(),W.g=null)}function yn(W){rn(W),W.u&&(c.clearTimeout(W.u),W.u=null),on(W),W.h.cancel(),W.s&&(typeof W.s=="number"&&c.clearTimeout(W.s),W.s=null)}function nn(W){if(!Pe(W.h)&&!W.s){W.s=!0;var ve=W.Ga;ke||Ge(),Ue||(ke(),Ue=!0),qe.add(ve,W),W.B=0}}function Nn(W,ve){return Ce(W.h)>=W.h.j-(W.s?1:0)?!1:W.s?(W.i=ve.D.concat(W.i),!0):W.G==1||W.G==2||W.B>=(W.Va?0:W.Wa)?!1:(W.s=Pt(L(W.Ga,W,ve),On(W,W.B)),W.B++,!0)}o.Ga=function(W){if(this.s)if(this.s=null,this.G==1){if(!W){this.U=Math.floor(1e5*Math.random()),W=this.U++;const ze=new or(this,this.j,W);let Ye=this.o;if(this.S&&(Ye?(Ye=x(Ye),J(Ye,this.S)):Ye=this.S),this.m!==null||this.O||(ze.H=Ye,Ye=null),this.P)e:{for(var ve=0,Se=0;Se<this.i.length;Se++){t:{var Fe=this.i[Se];if("__data__"in Fe.map&&(Fe=Fe.map.__data__,typeof Fe=="string")){Fe=Fe.length;break t}Fe=void 0}if(Fe===void 0)break;if(ve+=Fe,4096<ve){ve=Se;break e}if(ve===4096||Se===this.i.length-1){ve=Se+1;break e}}ve=1e3}else ve=1e3;ve=vn(this,ze,ve),Se=At(this.I),yt(Se,"RID",W),yt(Se,"CVER",22),this.D&&yt(Se,"X-HTTP-Session-Id",this.D),tn(this,Se),Ye&&(this.O?ve="headers="+encodeURIComponent(String(qr(Ye)))+"&"+ve:this.m&&Sr(Se,this.m,Ye)),He(this.h,ze),this.Ua&&yt(Se,"TYPE","init"),this.P?(yt(Se,"$req",ve),yt(Se,"SID","null"),ze.T=!0,er(ze,Se,null)):er(ze,Se,ve),this.G=2}}else this.G==3&&(W?mn(this,W):this.i.length==0||Pe(this.h)||mn(this))};function mn(W,ve){var Se;ve?Se=ve.l:Se=W.U++;const Fe=At(W.I);yt(Fe,"SID",W.K),yt(Fe,"RID",Se),yt(Fe,"AID",W.T),tn(W,Fe),W.m&&W.o&&Sr(Fe,W.m,W.o),Se=new or(W,W.j,Se,W.B+1),W.m===null&&(Se.H=W.o),ve&&(W.i=ve.D.concat(W.i)),ve=vn(W,Se,1e3),Se.I=Math.round(.5*W.wa)+Math.round(.5*W.wa*Math.random()),He(W.h,Se),er(Se,Fe,ve)}function tn(W,ve){W.H&&G(W.H,function(Se,Fe){yt(ve,Fe,Se)}),W.l&&vt({},function(Se,Fe){yt(ve,Fe,Se)})}function vn(W,ve,Se){Se=Math.min(W.i.length,Se);var Fe=W.l?L(W.l.Na,W.l,W):null;e:{var ze=W.i;let Ye=-1;for(;;){const ct=["count="+Se];Ye==-1?0<Se?(Ye=ze[0].g,ct.push("ofs="+Ye)):Ye=0:ct.push("ofs="+Ye);let Gt=!0;for(let sr=0;sr<Se;sr++){let Nt=ze[sr].g;const pr=ze[sr].map;if(Nt-=Ye,0>Nt)Ye=Math.max(0,ze[sr].g-100),Gt=!1;else try{Ur(pr,ct,"req"+Nt+"_")}catch{Fe&&Fe(pr)}}if(Gt){Fe=ct.join("&");break e}}}return W=W.i.splice(0,Se),ve.D=W,Fe}function _n(W){if(!W.g&&!W.u){W.Y=1;var ve=W.Fa;ke||Ge(),Ue||(ke(),Ue=!0),qe.add(ve,W),W.v=0}}function pn(W){return W.g||W.u||3<=W.v?!1:(W.Y++,W.u=Pt(L(W.Fa,W),On(W,W.v)),W.v++,!0)}o.Fa=function(){if(this.u=null,bn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var W=2*this.R;this.j.info("BP detection timer enabled: "+W),this.A=Pt(L(this.ab,this),W)}},o.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),rn(this),bn(this))};function dn(W){W.A!=null&&(c.clearTimeout(W.A),W.A=null)}function bn(W){W.g=new or(W,W.j,"rpc",W.Y),W.m===null&&(W.g.H=W.o),W.g.O=0;var ve=At(W.qa);yt(ve,"RID","rpc"),yt(ve,"SID",W.K),yt(ve,"AID",W.T),yt(ve,"CI",W.F?"0":"1"),!W.F&&W.ja&&yt(ve,"TO",W.ja),yt(ve,"TYPE","xmlhttp"),tn(W,ve),W.m&&W.o&&Sr(ve,W.m,W.o),W.L&&(W.g.I=W.L);var Se=W.g;W=W.ia,Se.L=1,Se.v=Zt(At(ve)),Se.m=null,Se.P=!0,Pr(Se,W)}o.Za=function(){this.C!=null&&(this.C=null,rn(this),pn(this),ht(19))};function on(W){W.C!=null&&(c.clearTimeout(W.C),W.C=null)}function En(W,ve){var Se=null;if(W.g==ve){on(W),dn(W),W.g=null;var Fe=2}else if(Ve(W.h,ve))Se=ve.D,Je(W.h,ve),Fe=1;else return;if(W.G!=0){if(ve.o)if(Fe==1){Se=ve.m?ve.m.length:0,ve=Date.now()-ve.F;var ze=W.B;Fe=wt(),Ze(Fe,new mt(Fe,Se)),nn(W)}else _n(W);else if(ze=ve.s,ze==3||ze==0&&0<ve.X||!(Fe==1&&Nn(W,ve)||Fe==2&&pn(W)))switch(Se&&0<Se.length&&(ve=W.h,ve.i=ve.i.concat(Se)),ze){case 1:Yr(W,5);break;case 4:Yr(W,10);break;case 3:Yr(W,6);break;default:Yr(W,2)}}}function On(W,ve){let Se=W.Ta+Math.floor(Math.random()*W.cb);return W.isActive()||(Se*=2),Se*ve}function Yr(W,ve){if(W.j.info("Error code "+ve),ve==2){var Se=L(W.fb,W),Fe=W.Xa;const ze=!Fe;Fe=new St(Fe||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Yt(Fe,"https"),Zt(Fe),ze?Qr(Fe.toString(),Se):zr(Fe.toString(),Se)}else ht(2);W.G=0,W.l&&W.l.sa(ve),Tn(W),yn(W)}o.fb=function(W){W?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Tn(W){if(W.G=0,W.ka=[],W.l){const ve=tt(W.h);(ve.length!=0||W.i.length!=0)&&($(W.ka,ve),$(W.ka,W.i),W.h.i.length=0,U(W.i),W.i.length=0),W.l.ra()}}function Sn(W,ve,Se){var Fe=Se instanceof St?At(Se):new St(Se);if(Fe.g!="")ve&&(Fe.g=ve+"."+Fe.g),Jt(Fe,Fe.s);else{var ze=c.location;Fe=ze.protocol,ve=ve?ve+"."+ze.hostname:ze.hostname,ze=+ze.port;var Ye=new St(null);Fe&&Yt(Ye,Fe),ve&&(Ye.g=ve),ze&&Jt(Ye,ze),Se&&(Ye.l=Se),Fe=Ye}return Se=W.D,ve=W.ya,Se&&ve&&yt(Fe,Se,ve),yt(Fe,"VER",W.la),tn(W,Fe),Fe}function An(W,ve,Se){if(ve&&!W.J)throw Error("Can't create secondary domain capable XhrIo object.");return ve=W.Ca&&!W.pa?new Vt(new Dr({eb:Se})):new Vt(W.pa),ve.Ha(W.J),ve}o.isActive=function(){return!!this.l&&this.l.isActive(this)};function wn(){}o=wn.prototype,o.ua=function(){},o.ta=function(){},o.sa=function(){},o.ra=function(){},o.isActive=function(){return!0},o.Na=function(){};function an(){}an.prototype.g=function(W,ve){return new Ar(W,ve)};function Ar(W,ve){nt.call(this),this.g=new hn(ve),this.l=W,this.h=ve&&ve.messageUrlParams||null,W=ve&&ve.messageHeaders||null,ve&&ve.clientProtocolHeaderRequired&&(W?W["X-Client-Protocol"]="webchannel":W={"X-Client-Protocol":"webchannel"}),this.g.o=W,W=ve&&ve.initMessageHeaders||null,ve&&ve.messageContentType&&(W?W["X-WebChannel-Content-Type"]=ve.messageContentType:W={"X-WebChannel-Content-Type":ve.messageContentType}),ve&&ve.va&&(W?W["X-WebChannel-Client-Profile"]=ve.va:W={"X-WebChannel-Client-Profile":ve.va}),this.g.S=W,(W=ve&&ve.Sb)&&!M(W)&&(this.g.m=W),this.v=ve&&ve.supportsCrossDomainXhr||!1,this.u=ve&&ve.sendRawJson||!1,(ve=ve&&ve.httpSessionIdParam)&&!M(ve)&&(this.g.D=ve,W=this.h,W!==null&&ve in W&&(W=this.h,ve in W&&delete W[ve])),this.j=new Xr(this)}B(Ar,nt),Ar.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ar.prototype.close=function(){cn(this.g)},Ar.prototype.o=function(W){var ve=this.g;if(typeof W=="string"){var Se={};Se.__data__=W,W=Se}else this.u&&(Se={},Se.__data__=ot(W),W=Se);ve.i.push(new Cr(ve.Ya++,W)),ve.G==3&&nn(ve)},Ar.prototype.N=function(){this.g.l=null,delete this.j,cn(this.g),delete this.g,Ar.aa.N.call(this)};function Pn(W){qt.call(this),W.__headers__&&(this.headers=W.__headers__,this.statusCode=W.__status__,delete W.__headers__,delete W.__status__);var ve=W.__sm__;if(ve){e:{for(const Se in ve){W=Se;break e}W=void 0}(this.i=W)&&(W=this.i,ve=ve!==null&&W in ve?ve[W]:void 0),this.data=ve}else this.data=W}B(Pn,qt);function Rn(){rr.call(this),this.status=1}B(Rn,rr);function Xr(W){this.g=W}B(Xr,wn),Xr.prototype.ua=function(){Ze(this.g,"a")},Xr.prototype.ta=function(W){Ze(this.g,new Pn(W))},Xr.prototype.sa=function(W){Ze(this.g,new Rn)},Xr.prototype.ra=function(){Ze(this.g,"b")},an.prototype.createWebChannel=an.prototype.g,Ar.prototype.send=Ar.prototype.o,Ar.prototype.open=Ar.prototype.m,Ar.prototype.close=Ar.prototype.close,createWebChannelTransport=function(){return new an},getStatEventTarget=function(){return wt()},Event=$t,Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},It.NO_ERROR=0,It.TIMEOUT=8,It.HTTP_ERROR=6,ErrorCode=It,Ut.COMPLETE="complete",EventType=Ut,Wt.EventType=Ht,Ht.OPEN="a",Ht.CLOSE="b",Ht.ERROR="c",Ht.MESSAGE="d",nt.prototype.listen=nt.prototype.K,WebChannel=Wt,Vt.prototype.listenOnce=Vt.prototype.L,Vt.prototype.getLastError=Vt.prototype.Ka,Vt.prototype.getLastErrorCode=Vt.prototype.Ba,Vt.prototype.getStatus=Vt.prototype.Z,Vt.prototype.getResponseJson=Vt.prototype.Oa,Vt.prototype.getResponseText=Vt.prototype.oa,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Ha,XhrIo=Vt}).apply(typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{});const w="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return b.logLevel}function __PRIVATE_logDebug(o,...e){if(b.logLevel<=LogLevel.DEBUG){const r=e.map(__PRIVATE_argToString);b.debug(`Firestore (${S}): ${o}`,...r)}}function __PRIVATE_logError(o,...e){if(b.logLevel<=LogLevel.ERROR){const r=e.map(__PRIVATE_argToString);b.error(`Firestore (${S}): ${o}`,...r)}}function __PRIVATE_logWarn(o,...e){if(b.logLevel<=LogLevel.WARN){const r=e.map(__PRIVATE_argToString);b.warn(`Firestore (${S}): ${o}`,...r)}}function __PRIVATE_argToString(o){if(typeof o=="string")return o;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(o)}catch{return o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(o="Unexpected state"){const e=`FIRESTORE (${S}) INTERNAL ASSERTION FAILED: `+o;throw __PRIVATE_logError(e),new Error(e)}function __PRIVATE_hardAssert(o,e){o||fail()}function __PRIVATE_debugCast(o,e){return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError$1{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(e){this.t=e,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){__PRIVATE_hardAssert(this.o===void 0);let u=this.i;const p=d=>this.i!==u?(u=this.i,r(d)):Promise.resolve();let h=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new __PRIVATE_Deferred,e.enqueueRetryable(()=>p(this.currentUser))};const y=()=>{const d=h;e.enqueueRetryable(async()=>{await d.promise,await p(this.currentUser)})},c=d=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),y())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new __PRIVATE_Deferred)}},0),y()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(u=>this.i!==e?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):u?(__PRIVATE_hardAssert(typeof u.accessToken=="string"),new __PRIVATE_OAuthToken(u.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(e===null||typeof e=="string"),new User(e)}}class __PRIVATE_FirstPartyToken{constructor(e,r,u){this.l=e,this.h=r,this.P=u,this.type="FirstParty",this.user=User.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(e,r,u){this.l=e,this.h=r,this.P=u}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){__PRIVATE_hardAssert(this.o===void 0);const u=h=>{h.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const y=h.token!==this.R;return this.R=h.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?r(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>u(h))};const p=h=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>p(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?p(h):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(__PRIVATE_hardAssert(typeof r.token=="string"),this.R=r.token,new AppCheckToken(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(o){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(o);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let u=0;u<o;u++)r[u]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let u="";for(;u.length<20;){const p=__PRIVATE_randomBytes(40);for(let h=0;h<p.length;++h)u.length<20&&p[h]<r&&(u+=e.charAt(p[h]%e.length))}return u}}function __PRIVATE_primitiveComparator(o,e){return o<e?-1:o>e?1:0}function __PRIVATE_arrayEquals(o,e,r){return o.length===e.length&&o.every((u,p)=>r(u,e[p]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Timestamp$1=class ln{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ln.fromMillis(Date.now())}static fromDate(e){return ln.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),u=Math.floor(1e6*(e-1e3*r));return new ln(r,u)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,e.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{constructor(e){this.timestamp=e}static fromTimestamp(e){return new SnapshotVersion(e)}static min(){return new SnapshotVersion(new Timestamp$1(0,0))}static max(){return new SnapshotVersion(new Timestamp$1(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BasePath{constructor(e,r,u){r===void 0?r=0:r>e.length&&fail(),u===void 0?u=e.length-r:u>e.length-r&&fail(),this.segments=e,this.offset=r,this.len=u}get length(){return this.len}isEqual(e){return BasePath.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof BasePath?e.forEach(u=>{r.push(u)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,u=this.limit();r<u;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const u=Math.min(e.length,r.length);for(let p=0;p<u;p++){const h=e.get(p),y=r.get(p);if(h<y)return-1;if(h>y)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}let ResourcePath$1=class un extends BasePath{construct(e,r,u){return new un(e,r,u)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const u of e){if(u.indexOf("//")>=0)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid segment (${u}). Paths must not contain // in them.`);r.push(...u.split("/").filter(p=>p.length>0))}return new un(r)}static emptyPath(){return new un([])}};const v=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(e,r,u){return new FieldPath$1(e,r,u)}static isValidIdentifier(e){return v.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new FieldPath$1(["__name__"])}static fromServerFormat(e){const r=[];let u="",p=0;const h=()=>{if(u.length===0)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(u),u=""};let y=!1;for(;p<e.length;){const c=e[p];if(c==="\\"){if(p+1===e.length)throw new FirestoreError(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[p+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new FirestoreError(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);u+=d,p+=2}else c==="`"?(y=!y,p++):c!=="."||y?(u+=c,p++):(h(),p++)}if(h(),y)throw new FirestoreError(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new FieldPath$1(r)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(e){this.path=e}static fromPath(e){return new DocumentKey(ResourcePath$1.fromString(e))}static fromName(e){return new DocumentKey(ResourcePath$1.fromString(e).popFirst(5))}static empty(){return new DocumentKey(ResourcePath$1.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ResourcePath$1.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return ResourcePath$1.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new DocumentKey(new ResourcePath$1(e.slice()))}}function __PRIVATE_newIndexOffsetSuccessorFromReadTime(o,e){const r=o.toTimestamp().seconds,u=o.toTimestamp().nanoseconds+1,p=SnapshotVersion.fromTimestamp(u===1e9?new Timestamp$1(r+1,0):new Timestamp$1(r,u));return new IndexOffset(p,DocumentKey.empty(),e)}function __PRIVATE_newIndexOffsetFromDocument(o){return new IndexOffset(o.readTime,o.key,-1)}class IndexOffset{constructor(e,r,u){this.readTime=e,this.documentKey=r,this.largestBatchId=u}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),-1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),-1)}}function __PRIVATE_indexOffsetComparator(o,e){let r=o.readTime.compareTo(e.readTime);return r!==0?r:(r=DocumentKey.comparator(o.documentKey,e.documentKey),r!==0?r:__PRIVATE_primitiveComparator(o.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(o){if(o.code!==D.FAILED_PRECONDITION||o.message!==C)throw o;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new PersistencePromise((u,p)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(u,p)},this.catchCallback=h=>{this.wrapFailure(r,h).next(u,p)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof PersistencePromise?r:PersistencePromise.resolve(r)}catch(r){return PersistencePromise.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):PersistencePromise.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):PersistencePromise.reject(r)}static resolve(e){return new PersistencePromise((r,u)=>{r(e)})}static reject(e){return new PersistencePromise((r,u)=>{u(e)})}static waitFor(e){return new PersistencePromise((r,u)=>{let p=0,h=0,y=!1;e.forEach(c=>{++p,c.next(()=>{++h,y&&h===p&&r()},d=>u(d))}),y=!0,h===p&&r()})}static or(e){let r=PersistencePromise.resolve(!1);for(const u of e)r=r.next(p=>p?PersistencePromise.resolve(p):u());return r}static forEach(e,r){const u=[];return e.forEach((p,h)=>{u.push(r.call(this,p,h))}),this.waitFor(u)}static mapArray(e,r){return new PersistencePromise((u,p)=>{const h=e.length,y=new Array(h);let c=0;for(let d=0;d<h;d++){const m=d;r(e[m]).next(P=>{y[m]=P,++c,c===h&&u(y)},P=>p(P))}})}static doWhile(e,r){return new PersistencePromise((u,p)=>{const h=()=>{e()===!0?r().next(()=>{h()},p):u()};h()})}}function __PRIVATE_getAndroidVersion(o){const e=o.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function __PRIVATE_isIndexedDbTransactionError(o){return o.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=u=>this.ie(u),this.se=u=>r.writeSequenceNumber(u))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}__PRIVATE_ListenSequence.oe=-1;function __PRIVATE_isNullOrUndefined(o){return o==null}function __PRIVATE_isNegativeZero(o){return o===0&&1/o==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(o){let e=0;for(const r in o)Object.prototype.hasOwnProperty.call(o,r)&&e++;return e}function forEach$2(o,e){for(const r in o)Object.prototype.hasOwnProperty.call(o,r)&&e(r,o[r])}function isEmpty$1(o){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor(e,r){this.comparator=e,this.root=r||LLRBNode.EMPTY}insert(e,r){return new SortedMap(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(e){return new SortedMap(this.comparator,this.root.remove(e,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const u=this.comparator(e,r.key);if(u===0)return r.value;u<0?r=r.left:u>0&&(r=r.right)}return null}indexOf(e){let r=0,u=this.root;for(;!u.isEmpty();){const p=this.comparator(e,u.key);if(p===0)return r+u.left.size;p<0?u=u.left:(r+=u.left.size+1,u=u.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,u)=>(e(r,u),!1))}toString(){const e=[];return this.inorderTraversal((r,u)=>(e.push(`${r}:${u}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new SortedMapIterator(this.root,e,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new SortedMapIterator(this.root,e,this.comparator,!0)}}class SortedMapIterator{constructor(e,r,u,p){this.isReverse=p,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=r?u(e.key,r):1,r&&p&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class LLRBNode{constructor(e,r,u,p,h){this.key=e,this.value=r,this.color=u??LLRBNode.RED,this.left=p??LLRBNode.EMPTY,this.right=h??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,u,p,h){return new LLRBNode(e??this.key,r??this.value,u??this.color,p??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,u){let p=this;const h=u(e,p.key);return p=h<0?p.copy(null,null,null,p.left.insert(e,r,u),null):h===0?p.copy(null,r,null,null,null):p.copy(null,null,null,null,p.right.insert(e,r,u)),p.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let u,p=this;if(r(e,p.key)<0)p.left.isEmpty()||p.left.isRed()||p.left.left.isRed()||(p=p.moveRedLeft()),p=p.copy(null,null,null,p.left.remove(e,r),null);else{if(p.left.isRed()&&(p=p.rotateRight()),p.right.isEmpty()||p.right.isRed()||p.right.left.isRed()||(p=p.moveRedRight()),r(e,p.key)===0){if(p.right.isEmpty())return LLRBNode.EMPTY;u=p.right.min(),p=p.copy(u.key,u.value,null,null,p.right.removeMin())}p=p.copy(null,null,null,null,p.right.remove(e,r))}return p.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fail();const e=this.left.check();if(e!==this.right.check())throw fail();return e+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy(e,r,u,p,h){return this}insert(e,r,u){return new LLRBNode(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(e){this.comparator=e,this.data=new SortedMap(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,u)=>(e(r),!1))}forEachInRange(e,r){const u=this.data.getIteratorFrom(e[0]);for(;u.hasNext();){const p=u.getNext();if(this.comparator(p.key,e[1])>=0)return;r(p.key)}}forEachWhile(e,r){let u;for(u=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();u.hasNext();)if(!e(u.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(e){return new SortedSetIterator(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(u=>{r=r.add(u)}),r}isEqual(e){if(!(e instanceof SortedSet)||this.size!==e.size)return!1;const r=this.data.getIterator(),u=e.data.getIterator();for(;r.hasNext();){const p=r.getNext().key,h=u.getNext().key;if(this.comparator(p,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new SortedSet(this.comparator);return r.data=e,r}}class SortedSetIterator{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(e){this.fields=e,e.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(e){let r=new SortedSet(FieldPath$1.comparator);for(const u of this.fields)r=r.add(u);for(const u of e)r=r.add(u);return new FieldMask(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return __PRIVATE_arrayEquals(this.fields,e.fields,(r,u)=>r.isEqual(u))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(p){try{return atob(p)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+h):h}}(e);return new ByteString(r)}static fromUint8Array(e){const r=function(p){let h="";for(let y=0;y<p.length;++y)h+=String.fromCharCode(p[y]);return h}(e);return new ByteString(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const u=new Uint8Array(r.length);for(let p=0;p<r.length;p++)u[p]=r.charCodeAt(p);return u}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return __PRIVATE_primitiveComparator(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const ne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(o){if(__PRIVATE_hardAssert(!!o),typeof o=="string"){let e=0;const r=ne.exec(o);if(__PRIVATE_hardAssert(!!r),r[1]){let p=r[1];p=(p+"000000000").substr(0,9),e=Number(p)}const u=new Date(o);return{seconds:Math.floor(u.getTime()/1e3),nanos:e}}return{seconds:__PRIVATE_normalizeNumber(o.seconds),nanos:__PRIVATE_normalizeNumber(o.nanos)}}function __PRIVATE_normalizeNumber(o){return typeof o=="number"?o:typeof o=="string"?Number(o):0}function __PRIVATE_normalizeByteString(o){return typeof o=="string"?ByteString.fromBase64String(o):ByteString.fromUint8Array(o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_isServerTimestamp(o){var e,r;return((r=(((e=o==null?void 0:o.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function __PRIVATE_getPreviousValue(o){const e=o.mapValue.fields.__previous_value__;return __PRIVATE_isServerTimestamp(e)?__PRIVATE_getPreviousValue(e):e}function __PRIVATE_getLocalWriteTime(o){const e=__PRIVATE_normalizeTimestamp(o.mapValue.fields.__local_write_time__.timestampValue);return new Timestamp$1(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(e,r,u,p,h,y,c,d,m){this.databaseId=e,this.appId=r,this.persistenceKey=u,this.host=p,this.ssl=h,this.forceLongPolling=y,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=m}}class DatabaseId{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof DatabaseId&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re$1={mapValue:{}};function __PRIVATE_typeOrder(o){return"nullValue"in o?0:"booleanValue"in o?1:"integerValue"in o||"doubleValue"in o?2:"timestampValue"in o?3:"stringValue"in o?5:"bytesValue"in o?6:"referenceValue"in o?7:"geoPointValue"in o?8:"arrayValue"in o?9:"mapValue"in o?__PRIVATE_isServerTimestamp(o)?4:__PRIVATE_isMaxValue(o)?9007199254740991:__PRIVATE_isVectorValue(o)?10:11:fail()}function __PRIVATE_valueEquals(o,e){if(o===e)return!0;const r=__PRIVATE_typeOrder(o);if(r!==__PRIVATE_typeOrder(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return o.booleanValue===e.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(o).isEqual(__PRIVATE_getLocalWriteTime(e));case 3:return function(p,h){if(typeof p.timestampValue=="string"&&typeof h.timestampValue=="string"&&p.timestampValue.length===h.timestampValue.length)return p.timestampValue===h.timestampValue;const y=__PRIVATE_normalizeTimestamp(p.timestampValue),c=__PRIVATE_normalizeTimestamp(h.timestampValue);return y.seconds===c.seconds&&y.nanos===c.nanos}(o,e);case 5:return o.stringValue===e.stringValue;case 6:return function(p,h){return __PRIVATE_normalizeByteString(p.bytesValue).isEqual(__PRIVATE_normalizeByteString(h.bytesValue))}(o,e);case 7:return o.referenceValue===e.referenceValue;case 8:return function(p,h){return __PRIVATE_normalizeNumber(p.geoPointValue.latitude)===__PRIVATE_normalizeNumber(h.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(p.geoPointValue.longitude)===__PRIVATE_normalizeNumber(h.geoPointValue.longitude)}(o,e);case 2:return function(p,h){if("integerValue"in p&&"integerValue"in h)return __PRIVATE_normalizeNumber(p.integerValue)===__PRIVATE_normalizeNumber(h.integerValue);if("doubleValue"in p&&"doubleValue"in h){const y=__PRIVATE_normalizeNumber(p.doubleValue),c=__PRIVATE_normalizeNumber(h.doubleValue);return y===c?__PRIVATE_isNegativeZero(y)===__PRIVATE_isNegativeZero(c):isNaN(y)&&isNaN(c)}return!1}(o,e);case 9:return __PRIVATE_arrayEquals(o.arrayValue.values||[],e.arrayValue.values||[],__PRIVATE_valueEquals);case 10:case 11:return function(p,h){const y=p.mapValue.fields||{},c=h.mapValue.fields||{};if(__PRIVATE_objectSize(y)!==__PRIVATE_objectSize(c))return!1;for(const d in y)if(y.hasOwnProperty(d)&&(c[d]===void 0||!__PRIVATE_valueEquals(y[d],c[d])))return!1;return!0}(o,e);default:return fail()}}function __PRIVATE_arrayValueContains(o,e){return(o.values||[]).find(r=>__PRIVATE_valueEquals(r,e))!==void 0}function __PRIVATE_valueCompare(o,e){if(o===e)return 0;const r=__PRIVATE_typeOrder(o),u=__PRIVATE_typeOrder(e);if(r!==u)return __PRIVATE_primitiveComparator(r,u);switch(r){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(o.booleanValue,e.booleanValue);case 2:return function(h,y){const c=__PRIVATE_normalizeNumber(h.integerValue||h.doubleValue),d=__PRIVATE_normalizeNumber(y.integerValue||y.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(o,e);case 3:return __PRIVATE_compareTimestamps(o.timestampValue,e.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(o),__PRIVATE_getLocalWriteTime(e));case 5:return __PRIVATE_primitiveComparator(o.stringValue,e.stringValue);case 6:return function(h,y){const c=__PRIVATE_normalizeByteString(h),d=__PRIVATE_normalizeByteString(y);return c.compareTo(d)}(o.bytesValue,e.bytesValue);case 7:return function(h,y){const c=h.split("/"),d=y.split("/");for(let m=0;m<c.length&&m<d.length;m++){const P=__PRIVATE_primitiveComparator(c[m],d[m]);if(P!==0)return P}return __PRIVATE_primitiveComparator(c.length,d.length)}(o.referenceValue,e.referenceValue);case 8:return function(h,y){const c=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(h.latitude),__PRIVATE_normalizeNumber(y.latitude));return c!==0?c:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(h.longitude),__PRIVATE_normalizeNumber(y.longitude))}(o.geoPointValue,e.geoPointValue);case 9:return __PRIVATE_compareArrays(o.arrayValue,e.arrayValue);case 10:return function(h,y){var c,d,m,P;const N=h.fields||{},L=y.fields||{},k=(c=N.value)===null||c===void 0?void 0:c.arrayValue,B=(d=L.value)===null||d===void 0?void 0:d.arrayValue,U=__PRIVATE_primitiveComparator(((m=k==null?void 0:k.values)===null||m===void 0?void 0:m.length)||0,((P=B==null?void 0:B.values)===null||P===void 0?void 0:P.length)||0);return U!==0?U:__PRIVATE_compareArrays(k,B)}(o.mapValue,e.mapValue);case 11:return function(h,y){if(h===re$1.mapValue&&y===re$1.mapValue)return 0;if(h===re$1.mapValue)return 1;if(y===re$1.mapValue)return-1;const c=h.fields||{},d=Object.keys(c),m=y.fields||{},P=Object.keys(m);d.sort(),P.sort();for(let N=0;N<d.length&&N<P.length;++N){const L=__PRIVATE_primitiveComparator(d[N],P[N]);if(L!==0)return L;const k=__PRIVATE_valueCompare(c[d[N]],m[P[N]]);if(k!==0)return k}return __PRIVATE_primitiveComparator(d.length,P.length)}(o.mapValue,e.mapValue);default:throw fail()}}function __PRIVATE_compareTimestamps(o,e){if(typeof o=="string"&&typeof e=="string"&&o.length===e.length)return __PRIVATE_primitiveComparator(o,e);const r=__PRIVATE_normalizeTimestamp(o),u=__PRIVATE_normalizeTimestamp(e),p=__PRIVATE_primitiveComparator(r.seconds,u.seconds);return p!==0?p:__PRIVATE_primitiveComparator(r.nanos,u.nanos)}function __PRIVATE_compareArrays(o,e){const r=o.values||[],u=e.values||[];for(let p=0;p<r.length&&p<u.length;++p){const h=__PRIVATE_valueCompare(r[p],u[p]);if(h)return h}return __PRIVATE_primitiveComparator(r.length,u.length)}function canonicalId(o){return __PRIVATE_canonifyValue(o)}function __PRIVATE_canonifyValue(o){return"nullValue"in o?"null":"booleanValue"in o?""+o.booleanValue:"integerValue"in o?""+o.integerValue:"doubleValue"in o?""+o.doubleValue:"timestampValue"in o?function(r){const u=__PRIVATE_normalizeTimestamp(r);return`time(${u.seconds},${u.nanos})`}(o.timestampValue):"stringValue"in o?o.stringValue:"bytesValue"in o?function(r){return __PRIVATE_normalizeByteString(r).toBase64()}(o.bytesValue):"referenceValue"in o?function(r){return DocumentKey.fromName(r).toString()}(o.referenceValue):"geoPointValue"in o?function(r){return`geo(${r.latitude},${r.longitude})`}(o.geoPointValue):"arrayValue"in o?function(r){let u="[",p=!0;for(const h of r.values||[])p?p=!1:u+=",",u+=__PRIVATE_canonifyValue(h);return u+"]"}(o.arrayValue):"mapValue"in o?function(r){const u=Object.keys(r.fields||{}).sort();let p="{",h=!0;for(const y of u)h?h=!1:p+=",",p+=`${y}:${__PRIVATE_canonifyValue(r.fields[y])}`;return p+"}"}(o.mapValue):fail()}function isInteger(o){return!!o&&"integerValue"in o}function isArray$3(o){return!!o&&"arrayValue"in o}function __PRIVATE_isNullValue(o){return!!o&&"nullValue"in o}function __PRIVATE_isNanValue(o){return!!o&&"doubleValue"in o&&isNaN(Number(o.doubleValue))}function __PRIVATE_isMapValue(o){return!!o&&"mapValue"in o}function __PRIVATE_isVectorValue(o){var e,r;return((r=(((e=o==null?void 0:o.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function __PRIVATE_deepClone(o){if(o.geoPointValue)return{geoPointValue:Object.assign({},o.geoPointValue)};if(o.timestampValue&&typeof o.timestampValue=="object")return{timestampValue:Object.assign({},o.timestampValue)};if(o.mapValue){const e={mapValue:{fields:{}}};return forEach$2(o.mapValue.fields,(r,u)=>e.mapValue.fields[r]=__PRIVATE_deepClone(u)),e}if(o.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(o.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=__PRIVATE_deepClone(o.arrayValue.values[r]);return e}return Object.assign({},o)}function __PRIVATE_isMaxValue(o){return(((o.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(e){this.value=e}static empty(){return new ObjectValue({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let u=0;u<e.length-1;++u)if(r=(r.mapValue.fields||{})[e.get(u)],!__PRIVATE_isMapValue(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=__PRIVATE_deepClone(r)}setAll(e){let r=FieldPath$1.emptyPath(),u={},p=[];e.forEach((y,c)=>{if(!r.isImmediateParentOf(c)){const d=this.getFieldsMap(r);this.applyChanges(d,u,p),u={},p=[],r=c.popLast()}y?u[c.lastSegment()]=__PRIVATE_deepClone(y):p.push(c.lastSegment())});const h=this.getFieldsMap(r);this.applyChanges(h,u,p)}delete(e){const r=this.field(e.popLast());__PRIVATE_isMapValue(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return __PRIVATE_valueEquals(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let u=0;u<e.length;++u){let p=r.mapValue.fields[e.get(u)];__PRIVATE_isMapValue(p)&&p.mapValue.fields||(p={mapValue:{fields:{}}},r.mapValue.fields[e.get(u)]=p),r=p}return r.mapValue.fields}applyChanges(e,r,u){forEach$2(r,(p,h)=>e[p]=h);for(const p of u)delete e[p]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(e,r,u,p,h,y,c){this.key=e,this.documentType=r,this.version=u,this.readTime=p,this.createTime=h,this.data=y,this.documentState=c}static newInvalidDocument(e){return new MutableDocument(e,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(e,r,u,p){return new MutableDocument(e,1,r,SnapshotVersion.min(),u,p,0)}static newNoDocument(e,r){return new MutableDocument(e,2,r,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(e,r){return new MutableDocument(e,3,r,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof MutableDocument&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(e,r){this.position=e,this.inclusive=r}}function __PRIVATE_boundCompareToDocument(o,e,r){let u=0;for(let p=0;p<o.position.length;p++){const h=e[p],y=o.position[p];if(h.field.isKeyField()?u=DocumentKey.comparator(DocumentKey.fromName(y.referenceValue),r.key):u=__PRIVATE_valueCompare(y,r.data.field(h.field)),h.dir==="desc"&&(u*=-1),u!==0)break}return u}function __PRIVATE_boundEquals(o,e){if(o===null)return e===null;if(e===null||o.inclusive!==e.inclusive||o.position.length!==e.position.length)return!1;for(let r=0;r<o.position.length;r++)if(!__PRIVATE_valueEquals(o.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(e,r="asc"){this.field=e,this.dir=r}}function __PRIVATE_orderByEquals(o,e){return o.dir===e.dir&&o.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Filter$1=class{};class FieldFilter extends Filter$1{constructor(e,r,u){super(),this.field=e,this.op=r,this.value=u}static create(e,r,u){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,u):new __PRIVATE_KeyFieldFilter(e,r,u):r==="array-contains"?new __PRIVATE_ArrayContainsFilter(e,u):r==="in"?new __PRIVATE_InFilter(e,u):r==="not-in"?new __PRIVATE_NotInFilter(e,u):r==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(e,u):new FieldFilter(e,r,u)}static createKeyFieldInFilter(e,r,u){return r==="in"?new __PRIVATE_KeyFieldInFilter(e,u):new __PRIVATE_KeyFieldNotInFilter(e,u)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(__PRIVATE_valueCompare(r,this.value)):r!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(r)&&this.matchesComparison(__PRIVATE_valueCompare(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}let CompositeFilter$1=class Cn extends Filter$1{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Cn(e,r)}matches(e){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function __PRIVATE_compositeFilterIsConjunction(o){return o.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction(o){return __PRIVATE_compositeFilterIsFlat(o)&&__PRIVATE_compositeFilterIsConjunction(o)}function __PRIVATE_compositeFilterIsFlat(o){for(const e of o.filters)if(e instanceof CompositeFilter$1)return!1;return!0}function __PRIVATE_canonifyFilter(o){if(o instanceof FieldFilter)return o.field.canonicalString()+o.op.toString()+canonicalId(o.value);if(__PRIVATE_compositeFilterIsFlatConjunction(o))return o.filters.map(e=>__PRIVATE_canonifyFilter(e)).join(",");{const e=o.filters.map(r=>__PRIVATE_canonifyFilter(r)).join(",");return`${o.op}(${e})`}}function __PRIVATE_filterEquals(o,e){return o instanceof FieldFilter?function(u,p){return p instanceof FieldFilter&&u.op===p.op&&u.field.isEqual(p.field)&&__PRIVATE_valueEquals(u.value,p.value)}(o,e):o instanceof CompositeFilter$1?function(u,p){return p instanceof CompositeFilter$1&&u.op===p.op&&u.filters.length===p.filters.length?u.filters.reduce((h,y,c)=>h&&__PRIVATE_filterEquals(y,p.filters[c]),!0):!1}(o,e):void fail()}function __PRIVATE_stringifyFilter(o){return o instanceof FieldFilter?function(r){return`${r.field.canonicalString()} ${r.op} ${canonicalId(r.value)}`}(o):o instanceof CompositeFilter$1?function(r){return r.op.toString()+" {"+r.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}(o):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(e,r,u){super(e,r,u),this.key=DocumentKey.fromName(u.referenceValue)}matches(e){const r=DocumentKey.comparator(e.key,this.key);return this.matchesComparison(r)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(e,r){super(e,"in",r),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(e,r){super(e,"not-in",r),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function __PRIVATE_extractDocumentKeysFromArrayValue(o,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(u=>DocumentKey.fromName(u.referenceValue))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return isArray$3(r)&&__PRIVATE_arrayValueContains(r.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,r)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(e,r){super(e,"not-in",r)}matches(e){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!__PRIVATE_arrayValueContains(this.value.arrayValue,r)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!isArray$3(r)||!r.arrayValue.values)&&r.arrayValue.values.some(u=>__PRIVATE_arrayValueContains(this.value.arrayValue,u))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(e,r=null,u=[],p=[],h=null,y=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=u,this.filters=p,this.limit=h,this.startAt=y,this.endAt=c,this.ue=null}}function __PRIVATE_newTarget(o,e=null,r=[],u=[],p=null,h=null,y=null){return new __PRIVATE_TargetImpl(o,e,r,u,p,h,y)}function __PRIVATE_canonifyTarget(o){const e=__PRIVATE_debugCast(o);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(u=>__PRIVATE_canonifyFilter(u)).join(","),r+="|ob:",r+=e.orderBy.map(u=>function(h){return h.field.canonicalString()+h.dir}(u)).join(","),__PRIVATE_isNullOrUndefined(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(u=>canonicalId(u)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(u=>canonicalId(u)).join(",")),e.ue=r}return e.ue}function __PRIVATE_targetEquals(o,e){if(o.limit!==e.limit||o.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<o.orderBy.length;r++)if(!__PRIVATE_orderByEquals(o.orderBy[r],e.orderBy[r]))return!1;if(o.filters.length!==e.filters.length)return!1;for(let r=0;r<o.filters.length;r++)if(!__PRIVATE_filterEquals(o.filters[r],e.filters[r]))return!1;return o.collectionGroup===e.collectionGroup&&!!o.path.isEqual(e.path)&&!!__PRIVATE_boundEquals(o.startAt,e.startAt)&&__PRIVATE_boundEquals(o.endAt,e.endAt)}function __PRIVATE_targetIsDocumentTarget(o){return DocumentKey.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(e,r=null,u=[],p=[],h=null,y="F",c=null,d=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=u,this.filters=p,this.limit=h,this.limitType=y,this.startAt=c,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(o,e,r,u,p,h,y,c){return new __PRIVATE_QueryImpl(o,e,r,u,p,h,y,c)}function __PRIVATE_newQueryForPath(o){return new __PRIVATE_QueryImpl(o)}function __PRIVATE_queryMatchesAllDocuments(o){return o.filters.length===0&&o.limit===null&&o.startAt==null&&o.endAt==null&&(o.explicitOrderBy.length===0||o.explicitOrderBy.length===1&&o.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(o){return o.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy(o){const e=__PRIVATE_debugCast(o);if(e.ce===null){e.ce=[];const r=new Set;for(const h of e.explicitOrderBy)e.ce.push(h),r.add(h.field.canonicalString());const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(y){let c=new SortedSet(FieldPath$1.comparator);return y.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(c=c.add(m.field))})}),c})(e).forEach(h=>{r.has(h.canonicalString())||h.isKeyField()||e.ce.push(new OrderBy(h,u))}),r.has(FieldPath$1.keyField().canonicalString())||e.ce.push(new OrderBy(FieldPath$1.keyField(),u))}return e.ce}function __PRIVATE_queryToTarget(o){const e=__PRIVATE_debugCast(o);return e.le||(e.le=__PRIVATE__queryToTarget(e,__PRIVATE_queryNormalizedOrderBy(o))),e.le}function __PRIVATE__queryToTarget(o,e){if(o.limitType==="F")return __PRIVATE_newTarget(o.path,o.collectionGroup,e,o.filters,o.limit,o.startAt,o.endAt);{e=e.map(p=>{const h=p.dir==="desc"?"asc":"desc";return new OrderBy(p.field,h)});const r=o.endAt?new Bound(o.endAt.position,o.endAt.inclusive):null,u=o.startAt?new Bound(o.startAt.position,o.startAt.inclusive):null;return __PRIVATE_newTarget(o.path,o.collectionGroup,e,o.filters,o.limit,r,u)}}function __PRIVATE_queryWithLimit(o,e,r){return new __PRIVATE_QueryImpl(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),e,r,o.startAt,o.endAt)}function __PRIVATE_queryEquals(o,e){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(o),__PRIVATE_queryToTarget(e))&&o.limitType===e.limitType}function __PRIVATE_canonifyQuery(o){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(o))}|lt:${o.limitType}`}function __PRIVATE_stringifyQuery(o){return`Query(target=${function(r){let u=r.path.canonicalString();return r.collectionGroup!==null&&(u+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(u+=`, filters: [${r.filters.map(p=>__PRIVATE_stringifyFilter(p)).join(", ")}]`),__PRIVATE_isNullOrUndefined(r.limit)||(u+=", limit: "+r.limit),r.orderBy.length>0&&(u+=`, orderBy: [${r.orderBy.map(p=>function(y){return`${y.field.canonicalString()} (${y.dir})`}(p)).join(", ")}]`),r.startAt&&(u+=", startAt: ",u+=r.startAt.inclusive?"b:":"a:",u+=r.startAt.position.map(p=>canonicalId(p)).join(",")),r.endAt&&(u+=", endAt: ",u+=r.endAt.inclusive?"a:":"b:",u+=r.endAt.position.map(p=>canonicalId(p)).join(",")),`Target(${u})`}(__PRIVATE_queryToTarget(o))}; limitType=${o.limitType})`}function __PRIVATE_queryMatches(o,e){return e.isFoundDocument()&&function(u,p){const h=p.key.path;return u.collectionGroup!==null?p.key.hasCollectionId(u.collectionGroup)&&u.path.isPrefixOf(h):DocumentKey.isDocumentKey(u.path)?u.path.isEqual(h):u.path.isImmediateParentOf(h)}(o,e)&&function(u,p){for(const h of __PRIVATE_queryNormalizedOrderBy(u))if(!h.field.isKeyField()&&p.data.field(h.field)===null)return!1;return!0}(o,e)&&function(u,p){for(const h of u.filters)if(!h.matches(p))return!1;return!0}(o,e)&&function(u,p){return!(u.startAt&&!function(y,c,d){const m=__PRIVATE_boundCompareToDocument(y,c,d);return y.inclusive?m<=0:m<0}(u.startAt,__PRIVATE_queryNormalizedOrderBy(u),p)||u.endAt&&!function(y,c,d){const m=__PRIVATE_boundCompareToDocument(y,c,d);return y.inclusive?m>=0:m>0}(u.endAt,__PRIVATE_queryNormalizedOrderBy(u),p))}(o,e)}function __PRIVATE_queryCollectionGroup(o){return o.collectionGroup||(o.path.length%2==1?o.path.lastSegment():o.path.get(o.path.length-2))}function __PRIVATE_newQueryComparator(o){return(e,r)=>{let u=!1;for(const p of __PRIVATE_queryNormalizedOrderBy(o)){const h=__PRIVATE_compareDocs(p,e,r);if(h!==0)return h;u=u||p.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(o,e,r){const u=o.field.isKeyField()?DocumentKey.comparator(e.key,r.key):function(h,y,c){const d=y.data.field(h),m=c.data.field(h);return d!==null&&m!==null?__PRIVATE_valueCompare(d,m):fail()}(o.field,e,r);switch(o.dir){case"asc":return u;case"desc":return-1*u;default:return fail()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),u=this.inner[r];if(u!==void 0){for(const[p,h]of u)if(this.equalsFn(p,e))return h}}has(e){return this.get(e)!==void 0}set(e,r){const u=this.mapKeyFn(e),p=this.inner[u];if(p===void 0)return this.inner[u]=[[e,r]],void this.innerSize++;for(let h=0;h<p.length;h++)if(this.equalsFn(p[h][0],e))return void(p[h]=[e,r]);p.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),u=this.inner[r];if(u===void 0)return!1;for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],e))return u.length===1?delete this.inner[r]:u.splice(p,1),this.innerSize--,!0;return!1}forEach(e){forEach$2(this.inner,(r,u)=>{for(const[p,h]of u)e(p,h)})}isEmpty(){return isEmpty$1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return oe}const _e=new SortedMap(DocumentKey.comparator);function documentMap(...o){let e=_e;for(const r of o)e=e.insert(r.key,r);return e}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(o){let e=_e;return o.forEach((r,u)=>e=e.insert(r,u.overlayedDocument)),e}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap(o=>o.toString(),(o,e)=>o.isEqual(e))}const ue=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...o){let e=ue;for(const r of o)e=e.add(r);return e}const ce=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return ce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(o,e){if(o.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(e)?"-0":e}}function __PRIVATE_toInteger(o){return{integerValue:""+o}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(o,e,r){return o instanceof __PRIVATE_ServerTimestampTransform?function(p,h){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:p.seconds,nanos:p.nanoseconds}}}};return h&&__PRIVATE_isServerTimestamp(h)&&(h=__PRIVATE_getPreviousValue(h)),h&&(y.fields.__previous_value__=h),{mapValue:y}}(r,e):o instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(o,e):o instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(o,e):function(p,h){const y=__PRIVATE_computeTransformOperationBaseValue(p,h),c=asNumber(y)+asNumber(p.Pe);return isInteger(y)&&isInteger(p.Pe)?__PRIVATE_toInteger(c):__PRIVATE_toDouble(p.serializer,c)}(o,e)}function __PRIVATE_applyTransformOperationToRemoteDocument(o,e,r){return o instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(o,e):o instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(o,e):r}function __PRIVATE_computeTransformOperationBaseValue(o,e){return o instanceof __PRIVATE_NumericIncrementTransformOperation?function(u){return isInteger(u)||function(h){return!!h&&"doubleValue"in h}(u)}(e)?e:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(e){super(),this.elements=e}}function __PRIVATE_applyArrayUnionTransformOperation(o,e){const r=__PRIVATE_coercedFieldValuesArray(e);for(const u of o.elements)r.some(p=>__PRIVATE_valueEquals(p,u))||r.push(u);return{arrayValue:{values:r}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(e){super(),this.elements=e}}function __PRIVATE_applyArrayRemoveTransformOperation(o,e){let r=__PRIVATE_coercedFieldValuesArray(e);for(const u of o.elements)r=r.filter(p=>!__PRIVATE_valueEquals(p,u));return{arrayValue:{values:r}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function asNumber(o){return __PRIVATE_normalizeNumber(o.integerValue||o.doubleValue)}function __PRIVATE_coercedFieldValuesArray(o){return isArray$3(o)&&o.arrayValue.values?o.arrayValue.values.slice():[]}function __PRIVATE_fieldTransformEquals(o,e){return o.field.isEqual(e.field)&&function(u,p){return u instanceof __PRIVATE_ArrayUnionTransformOperation&&p instanceof __PRIVATE_ArrayUnionTransformOperation||u instanceof __PRIVATE_ArrayRemoveTransformOperation&&p instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(u.elements,p.elements,__PRIVATE_valueEquals):u instanceof __PRIVATE_NumericIncrementTransformOperation&&p instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(u.Pe,p.Pe):u instanceof __PRIVATE_ServerTimestampTransform&&p instanceof __PRIVATE_ServerTimestampTransform}(o.transform,e.transform)}class Precondition{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Precondition}static exists(e){return new Precondition(void 0,e)}static updateTime(e){return new Precondition(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(o,e){return o.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(o.updateTime):o.exists===void 0||o.exists===e.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(o,e){if(!o.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return o.isNoDocument()?new __PRIVATE_DeleteMutation(o.key,Precondition.none()):new __PRIVATE_SetMutation(o.key,o.data,Precondition.none());{const r=o.data,u=ObjectValue.empty();let p=new SortedSet(FieldPath$1.comparator);for(let h of e.fields)if(!p.has(h)){let y=r.field(h);y===null&&h.length>1&&(h=h.popLast(),y=r.field(h)),y===null?u.delete(h):u.set(h,y),p=p.add(h)}return new __PRIVATE_PatchMutation(o.key,u,new FieldMask(p.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(o,e,r){o instanceof __PRIVATE_SetMutation?function(p,h,y){const c=p.value.clone(),d=__PRIVATE_serverTransformResults(p.fieldTransforms,h,y.transformResults);c.setAll(d),h.convertToFoundDocument(y.version,c).setHasCommittedMutations()}(o,e,r):o instanceof __PRIVATE_PatchMutation?function(p,h,y){if(!__PRIVATE_preconditionIsValidForDocument(p.precondition,h))return void h.convertToUnknownDocument(y.version);const c=__PRIVATE_serverTransformResults(p.fieldTransforms,h,y.transformResults),d=h.data;d.setAll(__PRIVATE_getPatch(p)),d.setAll(c),h.convertToFoundDocument(y.version,d).setHasCommittedMutations()}(o,e,r):function(p,h,y){h.convertToNoDocument(y.version).setHasCommittedMutations()}(0,e,r)}function __PRIVATE_mutationApplyToLocalView(o,e,r,u){return o instanceof __PRIVATE_SetMutation?function(h,y,c,d){if(!__PRIVATE_preconditionIsValidForDocument(h.precondition,y))return c;const m=h.value.clone(),P=__PRIVATE_localTransformResults(h.fieldTransforms,d,y);return m.setAll(P),y.convertToFoundDocument(y.version,m).setHasLocalMutations(),null}(o,e,r,u):o instanceof __PRIVATE_PatchMutation?function(h,y,c,d){if(!__PRIVATE_preconditionIsValidForDocument(h.precondition,y))return c;const m=__PRIVATE_localTransformResults(h.fieldTransforms,d,y),P=y.data;return P.setAll(__PRIVATE_getPatch(h)),P.setAll(m),y.convertToFoundDocument(y.version,P).setHasLocalMutations(),c===null?null:c.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(N=>N.field))}(o,e,r,u):function(h,y,c){return __PRIVATE_preconditionIsValidForDocument(h.precondition,y)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):c}(o,e,r)}function __PRIVATE_mutationEquals(o,e){return o.type===e.type&&!!o.key.isEqual(e.key)&&!!o.precondition.isEqual(e.precondition)&&!!function(u,p){return u===void 0&&p===void 0||!(!u||!p)&&__PRIVATE_arrayEquals(u,p,(h,y)=>__PRIVATE_fieldTransformEquals(h,y))}(o.fieldTransforms,e.fieldTransforms)&&(o.type===0?o.value.isEqual(e.value):o.type!==1||o.data.isEqual(e.data)&&o.fieldMask.isEqual(e.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(e,r,u,p=[]){super(),this.key=e,this.value=r,this.precondition=u,this.fieldTransforms=p,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(e,r,u,p,h=[]){super(),this.key=e,this.data=r,this.fieldMask=u,this.precondition=p,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(o){const e=new Map;return o.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const u=o.data.field(r);e.set(r,u)}}),e}function __PRIVATE_serverTransformResults(o,e,r){const u=new Map;__PRIVATE_hardAssert(o.length===r.length);for(let p=0;p<r.length;p++){const h=o[p],y=h.transform,c=e.data.field(h.field);u.set(h.field,__PRIVATE_applyTransformOperationToRemoteDocument(y,c,r[p]))}return u}function __PRIVATE_localTransformResults(o,e,r){const u=new Map;for(const p of o){const h=p.transform,y=r.data.field(p.field);u.set(p.field,__PRIVATE_applyTransformOperationToLocalView(h,y,e))}return u}class __PRIVATE_DeleteMutation extends Mutation{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(e,r,u,p){this.batchId=e,this.localWriteTime=r,this.baseMutations=u,this.mutations=p}applyToRemoteDocument(e,r){const u=r.mutationResults;for(let p=0;p<this.mutations.length;p++){const h=this.mutations[p];h.key.isEqual(e.key)&&__PRIVATE_mutationApplyToRemoteDocument(h,e,u[p])}}applyToLocalView(e,r){for(const u of this.baseMutations)u.key.isEqual(e.key)&&(r=__PRIVATE_mutationApplyToLocalView(u,e,r,this.localWriteTime));for(const u of this.mutations)u.key.isEqual(e.key)&&(r=__PRIVATE_mutationApplyToLocalView(u,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const u=__PRIVATE_newMutationMap();return this.mutations.forEach(p=>{const h=e.get(p.key),y=h.overlayedDocument;let c=this.applyToLocalView(y,h.mutatedFields);c=r.has(p.key)?null:c;const d=__PRIVATE_calculateOverlayMutation(y,c);d!==null&&u.set(p.key,d),y.isValidDocument()||y.convertToNoDocument(SnapshotVersion.min())}),u}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),__PRIVATE_documentKeySet())}isEqual(e){return this.batchId===e.batchId&&__PRIVATE_arrayEquals(this.mutations,e.mutations,(r,u)=>__PRIVATE_mutationEquals(r,u))&&__PRIVATE_arrayEquals(this.baseMutations,e.baseMutations,(r,u)=>__PRIVATE_mutationEquals(r,u))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le,he;function __PRIVATE_mapCodeFromRpcCode(o){if(o===void 0)return __PRIVATE_logError("GRPC error has no .code"),D.UNKNOWN;switch(o){case le.OK:return D.OK;case le.CANCELLED:return D.CANCELLED;case le.UNKNOWN:return D.UNKNOWN;case le.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case le.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case le.INTERNAL:return D.INTERNAL;case le.UNAVAILABLE:return D.UNAVAILABLE;case le.UNAUTHENTICATED:return D.UNAUTHENTICATED;case le.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case le.NOT_FOUND:return D.NOT_FOUND;case le.ALREADY_EXISTS:return D.ALREADY_EXISTS;case le.PERMISSION_DENIED:return D.PERMISSION_DENIED;case le.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case le.ABORTED:return D.ABORTED;case le.OUT_OF_RANGE:return D.OUT_OF_RANGE;case le.UNIMPLEMENTED:return D.UNIMPLEMENTED;case le.DATA_LOSS:return D.DATA_LOSS;default:return fail()}}(he=le||(le={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(o){const e=__PRIVATE_newTextEncoder().encode(o),r=new Md5;return r.update(e),new Uint8Array(r.digest())}function __PRIVATE_get64BitUints(o){const e=new DataView(o.buffer),r=e.getUint32(0,!0),u=e.getUint32(4,!0),p=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Integer([r,u],0),new Integer([p,h],0)]}class BloomFilter{constructor(e,r,u){if(this.bitmap=e,this.padding=r,this.hashCount=u,r<0||r>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${r}`);if(u<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${u}`);if(e.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${u}`);if(e.length===0&&r!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Integer.fromNumber(this.Ie)}Ee(e,r,u){let p=e.add(r.multiply(Integer.fromNumber(u)));return p.compare(Ie)===1&&(p=new Integer([p.getBits(0),p.getBits(1)],0)),p.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=__PRIVATE_getMd5HashValue(e),[u,p]=__PRIVATE_get64BitUints(r);for(let h=0;h<this.hashCount;h++){const y=this.Ee(u,p,h);if(!this.de(y))return!1}return!0}static create(e,r,u){const p=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),y=new BloomFilter(h,p,r);return u.forEach(c=>y.insert(c)),y}insert(e){if(this.Ie===0)return;const r=__PRIVATE_getMd5HashValue(e),[u,p]=__PRIVATE_get64BitUints(r);for(let h=0;h<this.hashCount;h++){const y=this.Ee(u,p,h);this.Ae(y)}}Ae(e){const r=Math.floor(e/8),u=e%8;this.bitmap[r]|=1<<u}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(e,r,u,p,h){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=u,this.documentUpdates=p,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,r,u){const p=new Map;return p.set(e,TargetChange.createSynthesizedTargetChangeForCurrentChange(e,r,u)),new RemoteEvent(SnapshotVersion.min(),p,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(e,r,u,p,h){this.resumeToken=e,this.current=r,this.addedDocuments=u,this.modifiedDocuments=p,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,r,u){return new TargetChange(u,r,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(e,r,u,p){this.Re=e,this.removedTargetIds=r,this.key=u,this.Ve=p}}class __PRIVATE_ExistenceFilterChange{constructor(e,r){this.targetId=e,this.me=r}}class __PRIVATE_WatchTargetChange{constructor(e,r,u=ByteString.EMPTY_BYTE_STRING,p=null){this.state=e,this.targetIds=r,this.resumeToken=u,this.cause=p}}class __PRIVATE_TargetState{constructor(){this.fe=0,this.ge=__PRIVATE_snapshotChangesMap(),this.pe=ByteString.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=__PRIVATE_documentKeySet(),r=__PRIVATE_documentKeySet(),u=__PRIVATE_documentKeySet();return this.ge.forEach((p,h)=>{switch(h){case 0:e=e.add(p);break;case 2:r=r.add(p);break;case 1:u=u.add(p);break;default:fail()}}),new TargetChange(this.pe,this.ye,e,r,u)}Ce(){this.we=!1,this.ge=__PRIVATE_snapshotChangesMap()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,__PRIVATE_hardAssert(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class __PRIVATE_WatchChangeAggregator{constructor(e){this.Le=e,this.Be=new Map,this.ke=__PRIVATE_mutableDocumentMap(),this.qe=__PRIVATE_documentTargetMap(),this.Qe=new SortedMap(__PRIVATE_primitiveComparator)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const u=this.Ge(r);switch(e.state){case 0:this.ze(r)&&u.De(e.resumeToken);break;case 1:u.Oe(),u.Se||u.Ce(),u.De(e.resumeToken);break;case 2:u.Oe(),u.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(u.Ne(),u.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),u.De(e.resumeToken));break;default:fail()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((u,p)=>{this.ze(p)&&r(p)})}He(e){const r=e.targetId,u=e.me.count,p=this.Je(r);if(p){const h=p.target;if(__PRIVATE_targetIsDocumentTarget(h))if(u===0){const y=new DocumentKey(h.path);this.Ue(r,y,MutableDocument.newNoDocument(y,SnapshotVersion.min()))}else __PRIVATE_hardAssert(u===1);else{const y=this.Ye(r);if(y!==u){const c=this.Ze(e),d=c?this.Xe(c,e,y):1;if(d!==0){this.je(r);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,m)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:u="",padding:p=0},hashCount:h=0}=r;let y,c;try{y=__PRIVATE_normalizeByteString(u).toUint8Array()}catch(d){if(d instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new BloomFilter(y,p,h)}catch(d){return __PRIVATE_logWarn(d instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ie===0?null:c}Xe(e,r,u){return r.me.count===u-this.nt(e,r.targetId)?0:2}nt(e,r){const u=this.Le.getRemoteKeysForTarget(r);let p=0;return u.forEach(h=>{const y=this.Le.tt(),c=`projects/${y.projectId}/databases/${y.database}/documents/${h.path.canonicalString()}`;e.mightContain(c)||(this.Ue(r,h,null),p++)}),p}rt(e){const r=new Map;this.Be.forEach((h,y)=>{const c=this.Je(y);if(c){if(h.current&&__PRIVATE_targetIsDocumentTarget(c.target)){const d=new DocumentKey(c.target.path);this.ke.get(d)!==null||this.it(y,d)||this.Ue(y,d,MutableDocument.newNoDocument(d,e))}h.be&&(r.set(y,h.ve()),h.Ce())}});let u=__PRIVATE_documentKeySet();this.qe.forEach((h,y)=>{let c=!0;y.forEachWhile(d=>{const m=this.Je(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(u=u.add(h))}),this.ke.forEach((h,y)=>y.setReadTime(e));const p=new RemoteEvent(e,r,this.Qe,this.ke,u);return this.ke=__PRIVATE_mutableDocumentMap(),this.qe=__PRIVATE_documentTargetMap(),this.Qe=new SortedMap(__PRIVATE_primitiveComparator),p}$e(e,r){if(!this.ze(e))return;const u=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,u),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,u){if(!this.ze(e))return;const p=this.Ge(e);this.it(e,r)?p.Fe(r,1):p.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),u&&(this.ke=this.ke.insert(r,u))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new __PRIVATE_TargetState,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new SortedSet(__PRIVATE_primitiveComparator),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new __PRIVATE_TargetState),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const Te={asc:"ASCENDING",desc:"DESCENDING"},Ee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},de={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function __PRIVATE_toInt32Proto(o,e){return o.useProto3Json||__PRIVATE_isNullOrUndefined(e)?e:{value:e}}function toTimestamp(o,e){return o.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function __PRIVATE_toBytes(o,e){return o.useProto3Json?e.toBase64():e.toUint8Array()}function __PRIVATE_fromVersion(o){return __PRIVATE_hardAssert(!!o),SnapshotVersion.fromTimestamp(function(r){const u=__PRIVATE_normalizeTimestamp(r);return new Timestamp$1(u.seconds,u.nanos)}(o))}function __PRIVATE_toResourceName(o,e){return __PRIVATE_toResourcePath(o,e).canonicalString()}function __PRIVATE_toResourcePath(o,e){const r=function(p){return new ResourcePath$1(["projects",p.projectId,"databases",p.database])}(o).child("documents");return e===void 0?r:r.child(e)}function __PRIVATE_fromResourceName(o){const e=ResourcePath$1.fromString(o);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(e)),e}function fromName(o,e){const r=__PRIVATE_fromResourceName(e);if(r.get(1)!==o.databaseId.projectId)throw new FirestoreError(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+o.databaseId.projectId);if(r.get(3)!==o.databaseId.database)throw new FirestoreError(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+o.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(r))}function __PRIVATE_toQueryPath(o,e){return __PRIVATE_toResourceName(o.databaseId,e)}function __PRIVATE_fromQueryPath(o){const e=__PRIVATE_fromResourceName(o);return e.length===4?ResourcePath$1.emptyPath():__PRIVATE_extractLocalPathFromResourceName(e)}function __PRIVATE_getEncodedDatabaseId(o){return new ResourcePath$1(["projects",o.databaseId.projectId,"databases",o.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(o){return __PRIVATE_hardAssert(o.length>4&&o.get(4)==="documents"),o.popFirst(5)}function __PRIVATE_fromWatchChange(o,e){let r;if("targetChange"in e){e.targetChange;const u=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:fail()}(e.targetChange.targetChangeType||"NO_CHANGE"),p=e.targetChange.targetIds||[],h=function(m,P){return m.useProto3Json?(__PRIVATE_hardAssert(P===void 0||typeof P=="string"),ByteString.fromBase64String(P||"")):(__PRIVATE_hardAssert(P===void 0||P instanceof Buffer||P instanceof Uint8Array),ByteString.fromUint8Array(P||new Uint8Array))}(o,e.targetChange.resumeToken),y=e.targetChange.cause,c=y&&function(m){const P=m.code===void 0?D.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(m.code);return new FirestoreError(P,m.message||"")}(y);r=new __PRIVATE_WatchTargetChange(u,p,h,c||null)}else if("documentChange"in e){e.documentChange;const u=e.documentChange;u.document,u.document.name,u.document.updateTime;const p=fromName(o,u.document.name),h=__PRIVATE_fromVersion(u.document.updateTime),y=u.document.createTime?__PRIVATE_fromVersion(u.document.createTime):SnapshotVersion.min(),c=new ObjectValue({mapValue:{fields:u.document.fields}}),d=MutableDocument.newFoundDocument(p,h,y,c),m=u.targetIds||[],P=u.removedTargetIds||[];r=new __PRIVATE_DocumentWatchChange(m,P,d.key,d)}else if("documentDelete"in e){e.documentDelete;const u=e.documentDelete;u.document;const p=fromName(o,u.document),h=u.readTime?__PRIVATE_fromVersion(u.readTime):SnapshotVersion.min(),y=MutableDocument.newNoDocument(p,h),c=u.removedTargetIds||[];r=new __PRIVATE_DocumentWatchChange([],c,y.key,y)}else if("documentRemove"in e){e.documentRemove;const u=e.documentRemove;u.document;const p=fromName(o,u.document),h=u.removedTargetIds||[];r=new __PRIVATE_DocumentWatchChange([],h,p,null)}else{if(!("filter"in e))return fail();{e.filter;const u=e.filter;u.targetId;const{count:p=0,unchangedNames:h}=u,y=new ExistenceFilter(p,h),c=u.targetId;r=new __PRIVATE_ExistenceFilterChange(c,y)}}return r}function __PRIVATE_toDocumentsTarget(o,e){return{documents:[__PRIVATE_toQueryPath(o,e.path)]}}function __PRIVATE_toQueryTarget(o,e){const r={structuredQuery:{}},u=e.path;let p;e.collectionGroup!==null?(p=u,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(p=u.popLast(),r.structuredQuery.from=[{collectionId:u.lastSegment()}]),r.parent=__PRIVATE_toQueryPath(o,p);const h=function(m){if(m.length!==0)return __PRIVATE_toFilter(CompositeFilter$1.create(m,"and"))}(e.filters);h&&(r.structuredQuery.where=h);const y=function(m){if(m.length!==0)return m.map(P=>function(L){return{field:__PRIVATE_toFieldPathReference(L.field),direction:__PRIVATE_toDirection(L.dir)}}(P))}(e.orderBy);y&&(r.structuredQuery.orderBy=y);const c=__PRIVATE_toInt32Proto(o,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{_t:r,parent:p}}function __PRIVATE_convertQueryTargetToQuery(o){let e=__PRIVATE_fromQueryPath(o.parent);const r=o.structuredQuery,u=r.from?r.from.length:0;let p=null;if(u>0){__PRIVATE_hardAssert(u===1);const P=r.from[0];P.allDescendants?p=P.collectionId:e=e.child(P.collectionId)}let h=[];r.where&&(h=function(N){const L=__PRIVATE_fromFilter(N);return L instanceof CompositeFilter$1&&__PRIVATE_compositeFilterIsFlatConjunction(L)?L.getFilters():[L]}(r.where));let y=[];r.orderBy&&(y=function(N){return N.map(L=>function(B){return new OrderBy(__PRIVATE_fromFieldPathReference(B.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(L))}(r.orderBy));let c=null;r.limit&&(c=function(N){let L;return L=typeof N=="object"?N.value:N,__PRIVATE_isNullOrUndefined(L)?null:L}(r.limit));let d=null;r.startAt&&(d=function(N){const L=!!N.before,k=N.values||[];return new Bound(k,L)}(r.startAt));let m=null;return r.endAt&&(m=function(N){const L=!N.before,k=N.values||[];return new Bound(k,L)}(r.endAt)),__PRIVATE_newQuery(e,p,y,h,c,"F",d,m)}function __PRIVATE_toListenRequestLabels(o,e){const r=function(p){switch(p){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function __PRIVATE_fromFilter(o){return o.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const u=__PRIVATE_fromFieldPathReference(r.unaryFilter.field);return FieldFilter.create(u,"==",{doubleValue:NaN});case"IS_NULL":const p=__PRIVATE_fromFieldPathReference(r.unaryFilter.field);return FieldFilter.create(p,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=__PRIVATE_fromFieldPathReference(r.unaryFilter.field);return FieldFilter.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const y=__PRIVATE_fromFieldPathReference(r.unaryFilter.field);return FieldFilter.create(y,"!=",{nullValue:"NULL_VALUE"});default:return fail()}}(o):o.fieldFilter!==void 0?function(r){return FieldFilter.create(__PRIVATE_fromFieldPathReference(r.fieldFilter.field),function(p){switch(p){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}}(r.fieldFilter.op),r.fieldFilter.value)}(o):o.compositeFilter!==void 0?function(r){return CompositeFilter$1.create(r.compositeFilter.filters.map(u=>__PRIVATE_fromFilter(u)),function(p){switch(p){case"AND":return"and";case"OR":return"or";default:return fail()}}(r.compositeFilter.op))}(o):fail()}function __PRIVATE_toDirection(o){return Te[o]}function __PRIVATE_toOperatorName(o){return Ee[o]}function __PRIVATE_toCompositeOperatorName(o){return de[o]}function __PRIVATE_toFieldPathReference(o){return{fieldPath:o.canonicalString()}}function __PRIVATE_fromFieldPathReference(o){return FieldPath$1.fromServerFormat(o.fieldPath)}function __PRIVATE_toFilter(o){return o instanceof FieldFilter?function(r){if(r.op==="=="){if(__PRIVATE_isNanValue(r.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(r.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(r.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(__PRIVATE_isNanValue(r.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(r.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(r.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(r.field),op:__PRIVATE_toOperatorName(r.op),value:r.value}}}(o):o instanceof CompositeFilter$1?function(r){const u=r.getFilters().map(p=>__PRIVATE_toFilter(p));return u.length===1?u[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(r.op),filters:u}}}(o):fail()}function __PRIVATE_isValidResourceName(o){return o.length>=4&&o.get(0)==="projects"&&o.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(e,r,u,p,h=SnapshotVersion.min(),y=SnapshotVersion.min(),c=ByteString.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=r,this.purpose=u,this.sequenceNumber=p,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new TargetData(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(e){this.ct=e}}function __PRIVATE_fromBundledQuery(o){const e=__PRIVATE_convertQueryTargetToQuery({parent:o.parent,structuredQuery:o.structuredQuery});return o.limitType==="LAST"?__PRIVATE_queryWithLimit(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this.un=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(e,r){return this.un.add(r),PersistencePromise.resolve()}getCollectionParents(e,r){return PersistencePromise.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return PersistencePromise.resolve()}deleteFieldIndex(e,r){return PersistencePromise.resolve()}deleteAllFieldIndexes(e){return PersistencePromise.resolve()}createTargetIndexes(e,r){return PersistencePromise.resolve()}getDocumentsMatchingTarget(e,r){return PersistencePromise.resolve(null)}getIndexType(e,r){return PersistencePromise.resolve(0)}getFieldIndexes(e,r){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(e){return PersistencePromise.resolve(null)}getMinOffset(e,r){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(e,r){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(e,r,u){return PersistencePromise.resolve()}updateIndexEntries(e,r){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(e){const r=e.lastSegment(),u=e.popLast(),p=this.index[r]||new SortedSet(ResourcePath$1.comparator),h=!p.has(u);return this.index[r]=p.add(u),h}has(e){const r=e.lastSegment(),u=e.popLast(),p=this.index[r];return p&&p.has(u)}getEntries(e){return(this.index[e]||new SortedSet(ResourcePath$1.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new __PRIVATE_TargetIdGenerator(0)}static kn(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,MutableDocument.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const u=this.changes.get(r);return u!==void 0?PersistencePromise.resolve(u):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(e,r,u,p){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=u,this.indexManager=p}getDocument(e,r){let u=null;return this.documentOverlayCache.getOverlay(e,r).next(p=>(u=p,this.remoteDocumentCache.getEntry(e,r))).next(p=>(u!==null&&__PRIVATE_mutationApplyToLocalView(u.mutation,p,FieldMask.empty(),Timestamp$1.now()),p))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(u=>this.getLocalViewOfDocuments(e,u,__PRIVATE_documentKeySet()).next(()=>u))}getLocalViewOfDocuments(e,r,u=__PRIVATE_documentKeySet()){const p=__PRIVATE_newOverlayMap();return this.populateOverlays(e,p,r).next(()=>this.computeViews(e,r,p,u).next(h=>{let y=documentMap();return h.forEach((c,d)=>{y=y.insert(c,d.overlayedDocument)}),y}))}getOverlayedDocuments(e,r){const u=__PRIVATE_newOverlayMap();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,__PRIVATE_documentKeySet()))}populateOverlays(e,r,u){const p=[];return u.forEach(h=>{r.has(h)||p.push(h)}),this.documentOverlayCache.getOverlays(e,p).next(h=>{h.forEach((y,c)=>{r.set(y,c)})})}computeViews(e,r,u,p){let h=__PRIVATE_mutableDocumentMap();const y=__PRIVATE_newDocumentKeyMap(),c=function(){return __PRIVATE_newDocumentKeyMap()}();return r.forEach((d,m)=>{const P=u.get(m.key);p.has(m.key)&&(P===void 0||P.mutation instanceof __PRIVATE_PatchMutation)?h=h.insert(m.key,m):P!==void 0?(y.set(m.key,P.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(P.mutation,m,P.mutation.getFieldMask(),Timestamp$1.now())):y.set(m.key,FieldMask.empty())}),this.recalculateAndSaveOverlays(e,h).next(d=>(d.forEach((m,P)=>y.set(m,P)),r.forEach((m,P)=>{var N;return c.set(m,new OverlayedDocument(P,(N=y.get(m))!==null&&N!==void 0?N:null))}),c))}recalculateAndSaveOverlays(e,r){const u=__PRIVATE_newDocumentKeyMap();let p=new SortedMap((y,c)=>y-c),h=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(y=>{for(const c of y)c.keys().forEach(d=>{const m=r.get(d);if(m===null)return;let P=u.get(d)||FieldMask.empty();P=c.applyToLocalView(m,P),u.set(d,P);const N=(p.get(c.batchId)||__PRIVATE_documentKeySet()).add(d);p=p.insert(c.batchId,N)})}).next(()=>{const y=[],c=p.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),m=d.key,P=d.value,N=__PRIVATE_newMutationMap();P.forEach(L=>{if(!h.has(L)){const k=__PRIVATE_calculateOverlayMutation(r.get(L),u.get(L));k!==null&&N.set(L,k),h=h.add(L)}}),y.push(this.documentOverlayCache.saveOverlays(e,m,N))}return PersistencePromise.waitFor(y)}).next(()=>u)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(u=>this.recalculateAndSaveOverlays(e,u))}getDocumentsMatchingQuery(e,r,u,p){return function(y){return DocumentKey.isDocumentKey(y.path)&&y.collectionGroup===null&&y.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):__PRIVATE_isCollectionGroupQuery(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,u,p):this.getDocumentsMatchingCollectionQuery(e,r,u,p)}getNextDocuments(e,r,u,p){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,u,p).next(h=>{const y=p-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,u.largestBatchId,p-h.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let c=-1,d=h;return y.next(m=>PersistencePromise.forEach(m,(P,N)=>(c<N.largestBatchId&&(c=N.largestBatchId),h.get(P)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(e,P).next(L=>{d=d.insert(P,L)}))).next(()=>this.populateOverlays(e,m,h)).next(()=>this.computeViews(e,d,m,__PRIVATE_documentKeySet())).next(P=>({batchId:c,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(P)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new DocumentKey(r)).next(u=>{let p=documentMap();return u.isFoundDocument()&&(p=p.insert(u.key,u)),p})}getDocumentsMatchingCollectionGroupQuery(e,r,u,p){const h=r.collectionGroup;let y=documentMap();return this.indexManager.getCollectionParents(e,h).next(c=>PersistencePromise.forEach(c,d=>{const m=function(N,L){return new __PRIVATE_QueryImpl(L,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)}(r,d.child(h));return this.getDocumentsMatchingCollectionQuery(e,m,u,p).next(P=>{P.forEach((N,L)=>{y=y.insert(N,L)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(e,r,u,p){let h;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,u.largestBatchId).next(y=>(h=y,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,u,h,p))).next(y=>{h.forEach((d,m)=>{const P=m.getKey();y.get(P)===null&&(y=y.insert(P,MutableDocument.newInvalidDocument(P)))});let c=documentMap();return y.forEach((d,m)=>{const P=h.get(d);P!==void 0&&__PRIVATE_mutationApplyToLocalView(P.mutation,m,FieldMask.empty(),Timestamp$1.now()),__PRIVATE_queryMatches(r,m)&&(c=c.insert(d,m))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return PersistencePromise.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(p){return{id:p.id,version:p.version,createTime:__PRIVATE_fromVersion(p.createTime)}}(r)),PersistencePromise.resolve()}getNamedQuery(e,r){return PersistencePromise.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(p){return{name:p.name,query:__PRIVATE_fromBundledQuery(p.bundledQuery),readTime:__PRIVATE_fromVersion(p.readTime)}}(r)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.Ir=new Map}getOverlay(e,r){return PersistencePromise.resolve(this.overlays.get(r))}getOverlays(e,r){const u=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(r,p=>this.getOverlay(e,p).next(h=>{h!==null&&u.set(p,h)})).next(()=>u)}saveOverlays(e,r,u){return u.forEach((p,h)=>{this.ht(e,r,h)}),PersistencePromise.resolve()}removeOverlaysForBatchId(e,r,u){const p=this.Ir.get(u);return p!==void 0&&(p.forEach(h=>this.overlays=this.overlays.remove(h)),this.Ir.delete(u)),PersistencePromise.resolve()}getOverlaysForCollection(e,r,u){const p=__PRIVATE_newOverlayMap(),h=r.length+1,y=new DocumentKey(r.child("")),c=this.overlays.getIteratorFrom(y);for(;c.hasNext();){const d=c.getNext().value,m=d.getKey();if(!r.isPrefixOf(m.path))break;m.path.length===h&&d.largestBatchId>u&&p.set(d.getKey(),d)}return PersistencePromise.resolve(p)}getOverlaysForCollectionGroup(e,r,u,p){let h=new SortedMap((m,P)=>m-P);const y=this.overlays.getIterator();for(;y.hasNext();){const m=y.getNext().value;if(m.getKey().getCollectionGroup()===r&&m.largestBatchId>u){let P=h.get(m.largestBatchId);P===null&&(P=__PRIVATE_newOverlayMap(),h=h.insert(m.largestBatchId,P)),P.set(m.getKey(),m)}}const c=__PRIVATE_newOverlayMap(),d=h.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,P)=>c.set(m,P)),!(c.size()>=p)););return PersistencePromise.resolve(c)}ht(e,r,u){const p=this.overlays.get(u.key);if(p!==null){const y=this.Ir.get(p.largestBatchId).delete(u.key);this.Ir.set(p.largestBatchId,y)}this.overlays=this.overlays.insert(u.key,new Overlay(r,u));let h=this.Ir.get(r);h===void 0&&(h=__PRIVATE_documentKeySet(),this.Ir.set(r,h)),this.Ir.set(r,h.add(u.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryGlobalsCache{constructor(){this.sessionToken=ByteString.EMPTY_BYTE_STRING}getSessionToken(e){return PersistencePromise.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.Tr=new SortedSet(__PRIVATE_DocReference.Er),this.dr=new SortedSet(__PRIVATE_DocReference.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const u=new __PRIVATE_DocReference(e,r);this.Tr=this.Tr.add(u),this.dr=this.dr.add(u)}Rr(e,r){e.forEach(u=>this.addReference(u,r))}removeReference(e,r){this.Vr(new __PRIVATE_DocReference(e,r))}mr(e,r){e.forEach(u=>this.removeReference(u,r))}gr(e){const r=new DocumentKey(new ResourcePath$1([])),u=new __PRIVATE_DocReference(r,e),p=new __PRIVATE_DocReference(r,e+1),h=[];return this.dr.forEachInRange([u,p],y=>{this.Vr(y),h.push(y.key)}),h}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new DocumentKey(new ResourcePath$1([])),u=new __PRIVATE_DocReference(r,e),p=new __PRIVATE_DocReference(r,e+1);let h=__PRIVATE_documentKeySet();return this.dr.forEachInRange([u,p],y=>{h=h.add(y.key)}),h}containsKey(e){const r=new __PRIVATE_DocReference(e,0),u=this.Tr.firstAfterOrEqual(r);return u!==null&&e.isEqual(u.key)}}class __PRIVATE_DocReference{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return DocumentKey.comparator(e.key,r.key)||__PRIVATE_primitiveComparator(e.wr,r.wr)}static Ar(e,r){return __PRIVATE_primitiveComparator(e.wr,r.wr)||DocumentKey.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new SortedSet(__PRIVATE_DocReference.Er)}checkEmpty(e){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,u,p){const h=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const y=new MutationBatch(h,r,u,p);this.mutationQueue.push(y);for(const c of p)this.br=this.br.add(new __PRIVATE_DocReference(c.key,h)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return PersistencePromise.resolve(y)}lookupMutationBatch(e,r){return PersistencePromise.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const u=r+1,p=this.vr(u),h=p<0?0:p;return PersistencePromise.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const u=new __PRIVATE_DocReference(r,0),p=new __PRIVATE_DocReference(r,Number.POSITIVE_INFINITY),h=[];return this.br.forEachInRange([u,p],y=>{const c=this.Dr(y.wr);h.push(c)}),PersistencePromise.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,r){let u=new SortedSet(__PRIVATE_primitiveComparator);return r.forEach(p=>{const h=new __PRIVATE_DocReference(p,0),y=new __PRIVATE_DocReference(p,Number.POSITIVE_INFINITY);this.br.forEachInRange([h,y],c=>{u=u.add(c.wr)})}),PersistencePromise.resolve(this.Cr(u))}getAllMutationBatchesAffectingQuery(e,r){const u=r.path,p=u.length+1;let h=u;DocumentKey.isDocumentKey(h)||(h=h.child(""));const y=new __PRIVATE_DocReference(new DocumentKey(h),0);let c=new SortedSet(__PRIVATE_primitiveComparator);return this.br.forEachWhile(d=>{const m=d.key.path;return!!u.isPrefixOf(m)&&(m.length===p&&(c=c.add(d.wr)),!0)},y),PersistencePromise.resolve(this.Cr(c))}Cr(e){const r=[];return e.forEach(u=>{const p=this.Dr(u);p!==null&&r.push(p)}),r}removeMutationBatch(e,r){__PRIVATE_hardAssert(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let u=this.br;return PersistencePromise.forEach(r.mutations,p=>{const h=new __PRIVATE_DocReference(p.key,r.batchId);return u=u.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,p.key)}).next(()=>{this.br=u})}On(e){}containsKey(e,r){const u=new __PRIVATE_DocReference(r,0),p=this.br.firstAfterOrEqual(u);return PersistencePromise.resolve(r.isEqual(p&&p.key))}performConsistencyCheck(e){return this.mutationQueue.length,PersistencePromise.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(e){this.Mr=e,this.docs=function(){return new SortedMap(DocumentKey.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const u=r.key,p=this.docs.get(u),h=p?p.size:0,y=this.Mr(r);return this.docs=this.docs.insert(u,{document:r.mutableCopy(),size:y}),this.size+=y-h,this.indexManager.addToCollectionParentIndex(e,u.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const u=this.docs.get(r);return PersistencePromise.resolve(u?u.document.mutableCopy():MutableDocument.newInvalidDocument(r))}getEntries(e,r){let u=__PRIVATE_mutableDocumentMap();return r.forEach(p=>{const h=this.docs.get(p);u=u.insert(p,h?h.document.mutableCopy():MutableDocument.newInvalidDocument(p))}),PersistencePromise.resolve(u)}getDocumentsMatchingQuery(e,r,u,p){let h=__PRIVATE_mutableDocumentMap();const y=r.path,c=new DocumentKey(y.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:m,value:{document:P}}=d.getNext();if(!y.isPrefixOf(m.path))break;m.path.length>y.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(P),u)<=0||(p.has(P.key)||__PRIVATE_queryMatches(r,P))&&(h=h.insert(P.key,P.mutableCopy()))}return PersistencePromise.resolve(h)}getAllFromCollectionGroup(e,r,u,p){fail()}Or(e,r){return PersistencePromise.forEach(this.docs,u=>r(u))}newChangeBuffer(e){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(e){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((u,p)=>{p.isValidDocument()?r.push(this.cr.addEntry(e,p)):this.cr.removeEntry(u)}),PersistencePromise.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(e){this.persistence=e,this.Nr=new ObjectMap(r=>__PRIVATE_canonifyTarget(r),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.Lr=0,this.Br=new __PRIVATE_ReferenceSet,this.targetCount=0,this.kr=__PRIVATE_TargetIdGenerator.Bn()}forEachTarget(e,r){return this.Nr.forEach((u,p)=>r(p)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(e){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return PersistencePromise.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(e,r,u){return u&&(this.lastRemoteSnapshotVersion=u),r>this.Lr&&(this.Lr=r),PersistencePromise.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new __PRIVATE_TargetIdGenerator(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(e,r){return this.Kn(r),PersistencePromise.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(e,r,u){let p=0;const h=[];return this.Nr.forEach((y,c)=>{c.sequenceNumber<=r&&u.get(c.targetId)===null&&(this.Nr.delete(y),h.push(this.removeMatchingKeysForTargetId(e,c.targetId)),p++)}),PersistencePromise.waitFor(h).next(()=>p)}getTargetCount(e){return PersistencePromise.resolve(this.targetCount)}getTargetData(e,r){const u=this.Nr.get(r)||null;return PersistencePromise.resolve(u)}addMatchingKeys(e,r,u){return this.Br.Rr(r,u),PersistencePromise.resolve()}removeMatchingKeys(e,r,u){this.Br.mr(r,u);const p=this.persistence.referenceDelegate,h=[];return p&&r.forEach(y=>{h.push(p.markPotentiallyOrphaned(e,y))}),PersistencePromise.waitFor(h)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),PersistencePromise.resolve()}getMatchingKeysForTargetId(e,r){const u=this.Br.yr(r);return PersistencePromise.resolve(u)}containsKey(e,r){return PersistencePromise.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(e,r){this.qr={},this.overlays={},this.Qr=new __PRIVATE_ListenSequence(0),this.Kr=!1,this.Kr=!0,this.$r=new __PRIVATE_MemoryGlobalsCache,this.referenceDelegate=e(this),this.Ur=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(p){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(p)}(u=>this.referenceDelegate.Wr(u)),this.serializer=new __PRIVATE_LocalSerializer(r),this.Gr=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let u=this.qr[e.toKey()];return u||(u=new __PRIVATE_MemoryMutationQueue(r,this.referenceDelegate),this.qr[e.toKey()]=u),u}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,u){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",e);const p=new __PRIVATE_MemoryTransaction(this.Qr.next());return this.referenceDelegate.zr(),u(p).next(h=>this.referenceDelegate.jr(p).next(()=>h)).toPromise().then(h=>(p.raiseOnCommittedEvent(),h))}Hr(e,r){return PersistencePromise.or(Object.values(this.qr).map(u=>()=>u.containsKey(e,r)))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(e){super(),this.currentSequenceNumber=e}}class __PRIVATE_MemoryEagerDelegate{constructor(e){this.persistence=e,this.Jr=new __PRIVATE_ReferenceSet,this.Yr=null}static Zr(e){return new __PRIVATE_MemoryEagerDelegate(e)}get Xr(){if(this.Yr)return this.Yr;throw fail()}addReference(e,r,u){return this.Jr.addReference(u,r),this.Xr.delete(u.toString()),PersistencePromise.resolve()}removeReference(e,r,u){return this.Jr.removeReference(u,r),this.Xr.add(u.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),PersistencePromise.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(p=>this.Xr.add(p.toString()));const u=this.persistence.getTargetCache();return u.getMatchingKeysForTargetId(e,r.targetId).next(p=>{p.forEach(h=>this.Xr.add(h.toString()))}).next(()=>u.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.Xr,u=>{const p=DocumentKey.fromPath(u);return this.ei(e,p).next(h=>{h||r.removeEntry(p,SnapshotVersion.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(u=>{u?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return PersistencePromise.or([()=>PersistencePromise.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(e,r,u,p){this.targetId=e,this.fromCache=r,this.$i=u,this.Ui=p}static Wi(e,r){let u=__PRIVATE_documentKeySet(),p=__PRIVATE_documentKeySet();for(const h of r.docChanges)switch(h.type){case 0:u=u.add(h.doc.key);break;case 1:p=p.add(h.doc.key)}return new __PRIVATE_LocalViewChanges(e,r.fromCache,u,p)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return isSafari()?8:__PRIVATE_getAndroidVersion(getUA())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,u,p){const h={result:null};return this.Yi(e,r).next(y=>{h.result=y}).next(()=>{if(!h.result)return this.Zi(e,r,p,u).next(y=>{h.result=y})}).next(()=>{if(h.result)return;const y=new QueryContext;return this.Xi(e,r,y).next(c=>{if(h.result=c,this.zi)return this.es(e,r,y,c.size)})}).next(()=>h.result)}es(e,r,u,p){return u.documentReadCount<this.ji?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(r),"scans",u.documentReadCount,"local documents and returns",p,"documents as results."),u.documentReadCount>this.Hi*p?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,__PRIVATE_queryToTarget(r))):PersistencePromise.resolve())}Yi(e,r){if(__PRIVATE_queryMatchesAllDocuments(r))return PersistencePromise.resolve(null);let u=__PRIVATE_queryToTarget(r);return this.indexManager.getIndexType(e,u).next(p=>p===0?null:(r.limit!==null&&p===1&&(r=__PRIVATE_queryWithLimit(r,null,"F"),u=__PRIVATE_queryToTarget(r)),this.indexManager.getDocumentsMatchingTarget(e,u).next(h=>{const y=__PRIVATE_documentKeySet(...h);return this.Ji.getDocuments(e,y).next(c=>this.indexManager.getMinOffset(e,u).next(d=>{const m=this.ts(r,c);return this.ns(r,m,y,d.readTime)?this.Yi(e,__PRIVATE_queryWithLimit(r,null,"F")):this.rs(e,m,r,d)}))})))}Zi(e,r,u,p){return __PRIVATE_queryMatchesAllDocuments(r)||p.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.Ji.getDocuments(e,u).next(h=>{const y=this.ts(r,h);return this.ns(r,y,u,p)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",p.toString(),__PRIVATE_stringifyQuery(r)),this.rs(e,y,r,__PRIVATE_newIndexOffsetSuccessorFromReadTime(p,-1)).next(c=>c))})}ts(e,r){let u=new SortedSet(__PRIVATE_newQueryComparator(e));return r.forEach((p,h)=>{__PRIVATE_queryMatches(e,h)&&(u=u.add(h))}),u}ns(e,r,u,p){if(e.limit===null)return!1;if(u.size!==r.size)return!0;const h=e.limitType==="F"?r.last():r.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(p)>0)}Xi(e,r,u){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(r)),this.Ji.getDocumentsMatchingQuery(e,r,IndexOffset.min(),u)}rs(e,r,u,p){return this.Ji.getDocumentsMatchingQuery(e,u,p).next(h=>(r.forEach(y=>{h=h.insert(y.key,y)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalStoreImpl{constructor(e,r,u,p){this.persistence=e,this.ss=r,this.serializer=p,this.os=new SortedMap(__PRIVATE_primitiveComparator),this._s=new ObjectMap(h=>__PRIVATE_canonifyTarget(h),__PRIVATE_targetEquals),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(u)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LocalDocumentsView(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function __PRIVATE_newLocalStore(o,e,r,u){return new __PRIVATE_LocalStoreImpl(o,e,r,u)}async function __PRIVATE_localStoreHandleUserChange(o,e){const r=__PRIVATE_debugCast(o);return await r.persistence.runTransaction("Handle user change","readonly",u=>{let p;return r.mutationQueue.getAllMutationBatches(u).next(h=>(p=h,r.ls(e),r.mutationQueue.getAllMutationBatches(u))).next(h=>{const y=[],c=[];let d=__PRIVATE_documentKeySet();for(const m of p){y.push(m.batchId);for(const P of m.mutations)d=d.add(P.key)}for(const m of h){c.push(m.batchId);for(const P of m.mutations)d=d.add(P.key)}return r.localDocuments.getDocuments(u,d).next(m=>({hs:m,removedBatchIds:y,addedBatchIds:c}))})})}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(o){const e=__PRIVATE_debugCast(o);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(o,e){const r=__PRIVATE_debugCast(o),u=e.snapshotVersion;let p=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const y=r.cs.newChangeBuffer({trackRemovals:!0});p=r.os;const c=[];e.targetChanges.forEach((P,N)=>{const L=p.get(N);if(!L)return;c.push(r.Ur.removeMatchingKeys(h,P.removedDocuments,N).next(()=>r.Ur.addMatchingKeys(h,P.addedDocuments,N)));let k=L.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(N)!==null?k=k.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):P.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(P.resumeToken,u)),p=p.insert(N,k),function(U,$,j){return U.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(L,k,P)&&c.push(r.Ur.updateTargetData(h,k))});let d=__PRIVATE_mutableDocumentMap(),m=__PRIVATE_documentKeySet();if(e.documentUpdates.forEach(P=>{e.resolvedLimboDocuments.has(P)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(h,P))}),c.push(__PRIVATE_populateDocumentChangeBuffer(h,y,e.documentUpdates).next(P=>{d=P.Ps,m=P.Is})),!u.isEqual(SnapshotVersion.min())){const P=r.Ur.getLastRemoteSnapshotVersion(h).next(N=>r.Ur.setTargetsMetadata(h,h.currentSequenceNumber,u));c.push(P)}return PersistencePromise.waitFor(c).next(()=>y.apply(h)).next(()=>r.localDocuments.getLocalViewOfDocuments(h,d,m)).next(()=>d)}).then(h=>(r.os=p,h))}function __PRIVATE_populateDocumentChangeBuffer(o,e,r){let u=__PRIVATE_documentKeySet(),p=__PRIVATE_documentKeySet();return r.forEach(h=>u=u.add(h)),e.getEntries(o,u).next(h=>{let y=__PRIVATE_mutableDocumentMap();return r.forEach((c,d)=>{const m=h.get(c);d.isFoundDocument()!==m.isFoundDocument()&&(p=p.add(c)),d.isNoDocument()&&d.version.isEqual(SnapshotVersion.min())?(e.removeEntry(c,d.readTime),y=y.insert(c,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),y=y.insert(c,d)):__PRIVATE_logDebug("LocalStore","Ignoring outdated watch update for ",c,". Current version:",m.version," Watch version:",d.version)}),{Ps:y,Is:p}})}function __PRIVATE_localStoreAllocateTarget(o,e){const r=__PRIVATE_debugCast(o);return r.persistence.runTransaction("Allocate target","readwrite",u=>{let p;return r.Ur.getTargetData(u,e).next(h=>h?(p=h,PersistencePromise.resolve(p)):r.Ur.allocateTargetId(u).next(y=>(p=new TargetData(e,y,"TargetPurposeListen",u.currentSequenceNumber),r.Ur.addTargetData(u,p).next(()=>p))))}).then(u=>{const p=r.os.get(u.targetId);return(p===null||u.snapshotVersion.compareTo(p.snapshotVersion)>0)&&(r.os=r.os.insert(u.targetId,u),r._s.set(e,u.targetId)),u})}async function __PRIVATE_localStoreReleaseTarget(o,e,r){const u=__PRIVATE_debugCast(o),p=u.os.get(e),h=r?"readwrite":"readwrite-primary";try{r||await u.persistence.runTransaction("Release target",h,y=>u.persistence.referenceDelegate.removeTarget(y,p))}catch(y){if(!__PRIVATE_isIndexedDbTransactionError(y))throw y;__PRIVATE_logDebug("LocalStore",`Failed to update sequence numbers for target ${e}: ${y}`)}u.os=u.os.remove(e),u._s.delete(p.target)}function __PRIVATE_localStoreExecuteQuery(o,e,r){const u=__PRIVATE_debugCast(o);let p=SnapshotVersion.min(),h=__PRIVATE_documentKeySet();return u.persistence.runTransaction("Execute query","readwrite",y=>function(d,m,P){const N=__PRIVATE_debugCast(d),L=N._s.get(P);return L!==void 0?PersistencePromise.resolve(N.os.get(L)):N.Ur.getTargetData(m,P)}(u,y,__PRIVATE_queryToTarget(e)).next(c=>{if(c)return p=c.lastLimboFreeSnapshotVersion,u.Ur.getMatchingKeysForTargetId(y,c.targetId).next(d=>{h=d})}).next(()=>u.ss.getDocumentsMatchingQuery(y,e,r?p:SnapshotVersion.min(),r?h:__PRIVATE_documentKeySet())).next(c=>(__PRIVATE_setMaxReadTime(u,__PRIVATE_queryCollectionGroup(e),c),{documents:c,Ts:h})))}function __PRIVATE_setMaxReadTime(o,e,r){let u=o.us.get(e)||SnapshotVersion.min();r.forEach((p,h)=>{h.readTime.compareTo(u)>0&&(u=h.readTime)}),o.us.set(e,u)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class __PRIVATE_MemorySharedClientState{constructor(){this.so=new __PRIVATE_LocalClientState,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,u){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,u){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(e,r,u){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let me=null;function __PRIVATE_generateUniqueDebugId(){return me===null?me=function(){return 268435456+Math.round(2147483648*Math.random())}():me++,"0x"+me.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge="WebChannelConnection";class __PRIVATE_WebChannelConnection extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const u=r.ssl?"https":"http",p=encodeURIComponent(this.databaseId.projectId),h=encodeURIComponent(this.databaseId.database);this.Do=u+"://"+r.host,this.vo=`projects/${p}/databases/${h}`,this.Co=this.databaseId.database==="(default)"?`project_id=${p}`:`project_id=${p}&database_id=${h}`}get Fo(){return!1}Mo(r,u,p,h,y){const c=__PRIVATE_generateUniqueDebugId(),d=this.xo(r,u.toUriEncodedString());__PRIVATE_logDebug("RestConnection",`Sending RPC '${r}' ${c}:`,d,p);const m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,h,y),this.No(r,d,m,p).then(P=>(__PRIVATE_logDebug("RestConnection",`Received RPC '${r}' ${c}: `,P),P),P=>{throw __PRIVATE_logWarn("RestConnection",`RPC '${r}' ${c} failed with error: `,P,"url: ",d,"request:",p),P})}Lo(r,u,p,h,y,c){return this.Mo(r,u,p,h,y)}Oo(r,u,p){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+S}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),u&&u.headers.forEach((h,y)=>r[y]=h),p&&p.headers.forEach((h,y)=>r[y]=h)}xo(r,u){const p=fe[r];return`${this.Do}/v1/${u}:${p}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,u,p){const h=__PRIVATE_generateUniqueDebugId();return new Promise((y,c)=>{const d=new XhrIo;d.setWithCredentials(!0),d.listenOnce(EventType.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case ErrorCode.NO_ERROR:const P=d.getResponseJson();__PRIVATE_logDebug(ge,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(P)),y(P);break;case ErrorCode.TIMEOUT:__PRIVATE_logDebug(ge,`RPC '${e}' ${h} timed out`),c(new FirestoreError(D.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode.HTTP_ERROR:const N=d.getStatus();if(__PRIVATE_logDebug(ge,`RPC '${e}' ${h} failed with status:`,N,"response text:",d.getResponseText()),N>0){let L=d.getResponseJson();Array.isArray(L)&&(L=L[0]);const k=L==null?void 0:L.error;if(k&&k.status&&k.message){const B=function($){const j=$.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(j)>=0?j:D.UNKNOWN}(k.status);c(new FirestoreError(B,k.message))}else c(new FirestoreError(D.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new FirestoreError(D.UNAVAILABLE,"Connection failed."));break;default:fail()}}finally{__PRIVATE_logDebug(ge,`RPC '${e}' ${h} completed.`)}});const m=JSON.stringify(p);__PRIVATE_logDebug(ge,`RPC '${e}' ${h} sending request:`,p),d.send(r,"POST",m,u,15)})}Bo(e,r,u){const p=__PRIVATE_generateUniqueDebugId(),h=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],y=createWebChannelTransport(),c=getStatEventTarget(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,r,u),d.encodeInitMessageHeaders=!0;const P=h.join("");__PRIVATE_logDebug(ge,`Creating RPC '${e}' stream ${p}: ${P}`,d);const N=y.createWebChannel(P,d);let L=!1,k=!1;const B=new __PRIVATE_StreamBridge({Io:$=>{k?__PRIVATE_logDebug(ge,`Not sending because RPC '${e}' stream ${p} is closed:`,$):(L||(__PRIVATE_logDebug(ge,`Opening RPC '${e}' stream ${p} transport.`),N.open(),L=!0),__PRIVATE_logDebug(ge,`RPC '${e}' stream ${p} sending:`,$),N.send($))},To:()=>N.close()}),U=($,j,M)=>{$.listen(j,q=>{try{M(q)}catch(Q){setTimeout(()=>{throw Q},0)}})};return U(N,WebChannel.EventType.OPEN,()=>{k||(__PRIVATE_logDebug(ge,`RPC '${e}' stream ${p} transport opened.`),B.yo())}),U(N,WebChannel.EventType.CLOSE,()=>{k||(k=!0,__PRIVATE_logDebug(ge,`RPC '${e}' stream ${p} transport closed`),B.So())}),U(N,WebChannel.EventType.ERROR,$=>{k||(k=!0,__PRIVATE_logWarn(ge,`RPC '${e}' stream ${p} transport errored:`,$),B.So(new FirestoreError(D.UNAVAILABLE,"The operation could not be completed")))}),U(N,WebChannel.EventType.MESSAGE,$=>{var j;if(!k){const M=$.data[0];__PRIVATE_hardAssert(!!M);const q=M,Q=q.error||((j=q[0])===null||j===void 0?void 0:j.error);if(Q){__PRIVATE_logDebug(ge,`RPC '${e}' stream ${p} received error:`,Q);const K=Q.status;let G=function(z){const J=le[z];if(J!==void 0)return __PRIVATE_mapCodeFromRpcCode(J)}(K),F=Q.message;G===void 0&&(G=D.INTERNAL,F="Unknown error status: "+K+" with message "+Q.message),k=!0,B.So(new FirestoreError(G,F)),N.close()}else __PRIVATE_logDebug(ge,`RPC '${e}' stream ${p} received:`,M),B.bo(M)}}),U(c,Event.STAT_EVENT,$=>{$.stat===Stat.PROXY?__PRIVATE_logDebug(ge,`RPC '${e}' stream ${p} detected buffering proxy`):$.stat===Stat.NOPROXY&&__PRIVATE_logDebug(ge,`RPC '${e}' stream ${p} detected no buffering proxy`)}),setTimeout(()=>{B.wo()},0),B}}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(o){return new JsonProtoSerializer(o,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(e,r,u=1e3,p=1.5,h=6e4){this.ui=e,this.timerId=r,this.ko=u,this.qo=p,this.Qo=h,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),u=Math.max(0,Date.now()-this.Uo),p=Math.max(0,r-u);p>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${p} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${u} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,p,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_PersistentStream{constructor(e,r,u,p,h,y,c,d){this.ui=e,this.Ho=u,this.Jo=p,this.connection=h,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new __PRIVATE_ExponentialBackoff(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===D.RESOURCE_EXHAUSTED?(__PRIVATE_logError(r.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([u,p])=>{this.Yo===r&&this.P_(u,p)},u=>{e(()=>{const p=new FirestoreError(D.UNKNOWN,"Fetching auth token failed: "+u.message);return this.I_(p)})})}P_(e,r){const u=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{u(()=>this.listener.Eo())}),this.stream.Ro(()=>{u(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(p=>{u(()=>this.I_(p))}),this.stream.onMessage(p=>{u(()=>++this.e_==1?this.E_(p):this.onNext(p))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return __PRIVATE_logDebug("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(__PRIVATE_logDebug("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(e,r,u,p,h,y){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,u,p,y),this.serializer=h}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=__PRIVATE_fromWatchChange(this.serializer,e),u=function(h){if(!("targetChange"in h))return SnapshotVersion.min();const y=h.targetChange;return y.targetIds&&y.targetIds.length?SnapshotVersion.min():y.readTime?__PRIVATE_fromVersion(y.readTime):SnapshotVersion.min()}(e);return this.listener.d_(r,u)}A_(e){const r={};r.database=__PRIVATE_getEncodedDatabaseId(this.serializer),r.addTarget=function(h,y){let c;const d=y.target;if(c=__PRIVATE_targetIsDocumentTarget(d)?{documents:__PRIVATE_toDocumentsTarget(h,d)}:{query:__PRIVATE_toQueryTarget(h,d)._t},c.targetId=y.targetId,y.resumeToken.approximateByteSize()>0){c.resumeToken=__PRIVATE_toBytes(h,y.resumeToken);const m=__PRIVATE_toInt32Proto(h,y.expectedCount);m!==null&&(c.expectedCount=m)}else if(y.snapshotVersion.compareTo(SnapshotVersion.min())>0){c.readTime=toTimestamp(h,y.snapshotVersion.toTimestamp());const m=__PRIVATE_toInt32Proto(h,y.expectedCount);m!==null&&(c.expectedCount=m)}return c}(this.serializer,e);const u=__PRIVATE_toListenRequestLabels(this.serializer,e);u&&(r.labels=u),this.a_(r)}R_(e){const r={};r.database=__PRIVATE_getEncodedDatabaseId(this.serializer),r.removeTarget=e,this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DatastoreImpl extends class{}{constructor(e,r,u,p){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=u,this.serializer=p,this.y_=!1}w_(){if(this.y_)throw new FirestoreError(D.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,u,p){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,y])=>this.connection.Mo(e,__PRIVATE_toResourcePath(r,u),p,h,y)).catch(h=>{throw h.name==="FirebaseError"?(h.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new FirestoreError(D.UNKNOWN,h.toString())})}Lo(e,r,u,p,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,c])=>this.connection.Lo(e,__PRIVATE_toResourcePath(r,u),p,y,c,h)).catch(y=>{throw y.name==="FirebaseError"?(y.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new FirestoreError(D.UNKNOWN,y.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(__PRIVATE_logError(r),this.D_=!1):__PRIVATE_logDebug("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_RemoteStoreImpl{constructor(e,r,u,p,h){this.localStore=e,this.datastore=r,this.asyncQueue=u,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=h,this.k_._o(y=>{u.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug("RemoteStore","Restarting streams for network reachability change."),await async function(d){const m=__PRIVATE_debugCast(d);m.L_.add(4),await __PRIVATE_disableNetworkInternal(m),m.q_.set("Unknown"),m.L_.delete(4),await __PRIVATE_enableNetworkInternal(m)}(this))})}),this.q_=new __PRIVATE_OnlineStateTracker(u,p)}}async function __PRIVATE_enableNetworkInternal(o){if(__PRIVATE_canUseNetwork(o))for(const e of o.B_)await e(!0)}async function __PRIVATE_disableNetworkInternal(o){for(const e of o.B_)await e(!1)}function __PRIVATE_remoteStoreListen(o,e){const r=__PRIVATE_debugCast(o);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),__PRIVATE_shouldStartWatchStream(r)?__PRIVATE_startWatchStream(r):__PRIVATE_ensureWatchStream(r).r_()&&__PRIVATE_sendWatchRequest(r,e))}function __PRIVATE_remoteStoreUnlisten(o,e){const r=__PRIVATE_debugCast(o),u=__PRIVATE_ensureWatchStream(r);r.N_.delete(e),u.r_()&&__PRIVATE_sendUnwatchRequest(r,e),r.N_.size===0&&(u.r_()?u.o_():__PRIVATE_canUseNetwork(r)&&r.q_.set("Unknown"))}function __PRIVATE_sendWatchRequest(o,e){if(o.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(SnapshotVersion.min())>0){const r=o.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}__PRIVATE_ensureWatchStream(o).A_(e)}function __PRIVATE_sendUnwatchRequest(o,e){o.Q_.xe(e),__PRIVATE_ensureWatchStream(o).R_(e)}function __PRIVATE_startWatchStream(o){o.Q_=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:e=>o.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>o.N_.get(e)||null,tt:()=>o.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(o).start(),o.q_.v_()}function __PRIVATE_shouldStartWatchStream(o){return __PRIVATE_canUseNetwork(o)&&!__PRIVATE_ensureWatchStream(o).n_()&&o.N_.size>0}function __PRIVATE_canUseNetwork(o){return __PRIVATE_debugCast(o).L_.size===0}function __PRIVATE_cleanUpWatchStreamState(o){o.Q_=void 0}async function __PRIVATE_onWatchStreamConnected(o){o.q_.set("Online")}async function __PRIVATE_onWatchStreamOpen(o){o.N_.forEach((e,r)=>{__PRIVATE_sendWatchRequest(o,e)})}async function __PRIVATE_onWatchStreamClose(o,e){__PRIVATE_cleanUpWatchStreamState(o),__PRIVATE_shouldStartWatchStream(o)?(o.q_.M_(e),__PRIVATE_startWatchStream(o)):o.q_.set("Unknown")}async function __PRIVATE_onWatchStreamChange(o,e,r){if(o.q_.set("Online"),e instanceof __PRIVATE_WatchTargetChange&&e.state===2&&e.cause)try{await async function(p,h){const y=h.cause;for(const c of h.targetIds)p.N_.has(c)&&(await p.remoteSyncer.rejectListen(c,y),p.N_.delete(c),p.Q_.removeTarget(c))}(o,e)}catch(u){__PRIVATE_logDebug("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),u),await __PRIVATE_disableNetworkUntilRecovery(o,u)}else if(e instanceof __PRIVATE_DocumentWatchChange?o.Q_.Ke(e):e instanceof __PRIVATE_ExistenceFilterChange?o.Q_.He(e):o.Q_.We(e),!r.isEqual(SnapshotVersion.min()))try{const u=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(o.localStore);r.compareTo(u)>=0&&await function(h,y){const c=h.Q_.rt(y);return c.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const P=h.N_.get(m);P&&h.N_.set(m,P.withResumeToken(d.resumeToken,y))}}),c.targetMismatches.forEach((d,m)=>{const P=h.N_.get(d);if(!P)return;h.N_.set(d,P.withResumeToken(ByteString.EMPTY_BYTE_STRING,P.snapshotVersion)),__PRIVATE_sendUnwatchRequest(h,d);const N=new TargetData(P.target,d,m,P.sequenceNumber);__PRIVATE_sendWatchRequest(h,N)}),h.remoteSyncer.applyRemoteEvent(c)}(o,r)}catch(u){__PRIVATE_logDebug("RemoteStore","Failed to raise snapshot:",u),await __PRIVATE_disableNetworkUntilRecovery(o,u)}}async function __PRIVATE_disableNetworkUntilRecovery(o,e,r){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;o.L_.add(1),await __PRIVATE_disableNetworkInternal(o),o.q_.set("Offline"),r||(r=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(o.localStore)),o.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug("RemoteStore","Retrying IndexedDB access"),await r(),o.L_.delete(1),await __PRIVATE_enableNetworkInternal(o)})}async function __PRIVATE_remoteStoreHandleCredentialChange(o,e){const r=__PRIVATE_debugCast(o);r.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("RemoteStore","RemoteStore received new credentials");const u=__PRIVATE_canUseNetwork(r);r.L_.add(3),await __PRIVATE_disableNetworkInternal(r),u&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await __PRIVATE_enableNetworkInternal(r)}async function __PRIVATE_remoteStoreApplyPrimaryState(o,e){const r=__PRIVATE_debugCast(o);e?(r.L_.delete(2),await __PRIVATE_enableNetworkInternal(r)):e||(r.L_.add(2),await __PRIVATE_disableNetworkInternal(r),r.q_.set("Unknown"))}function __PRIVATE_ensureWatchStream(o){return o.K_||(o.K_=function(r,u,p){const h=__PRIVATE_debugCast(r);return h.w_(),new __PRIVATE_PersistentListenStream(u,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,p)}(o.datastore,o.asyncQueue,{Eo:__PRIVATE_onWatchStreamConnected.bind(null,o),Ro:__PRIVATE_onWatchStreamOpen.bind(null,o),mo:__PRIVATE_onWatchStreamClose.bind(null,o),d_:__PRIVATE_onWatchStreamChange.bind(null,o)}),o.B_.push(async e=>{e?(o.K_.s_(),__PRIVATE_shouldStartWatchStream(o)?__PRIVATE_startWatchStream(o):o.q_.set("Unknown")):(await o.K_.stop(),__PRIVATE_cleanUpWatchStreamState(o))})),o.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(e,r,u,p,h){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=u,this.op=p,this.removalCallback=h,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,u,p,h){const y=Date.now()+u,c=new DelayedOperation(e,r,y,p,h);return c.start(u),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(o,e){if(__PRIVATE_logError("AsyncQueue",`${e}: ${o}`),__PRIVATE_isIndexedDbTransactionError(o))return new FirestoreError(D.UNAVAILABLE,`${e}: ${o}`);throw o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{constructor(e){this.comparator=e?(r,u)=>e(r,u)||DocumentKey.comparator(r.key,u.key):(r,u)=>DocumentKey.comparator(r.key,u.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}static emptySet(e){return new DocumentSet(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,u)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof DocumentSet)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),u=e.sortedSet.getIterator();for(;r.hasNext();){const p=r.getNext().key,h=u.getNext().key;if(!p.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const u=new DocumentSet;return u.comparator=this.comparator,u.keyedMap=e,u.sortedSet=r,u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.W_=new SortedMap(DocumentKey.comparator)}track(e){const r=e.doc.key,u=this.W_.get(r);u?e.type!==0&&u.type===3?this.W_=this.W_.insert(r,e):e.type===3&&u.type!==1?this.W_=this.W_.insert(r,{type:u.type,doc:e.doc}):e.type===2&&u.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&u.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&u.type===0?this.W_=this.W_.remove(r):e.type===1&&u.type===2?this.W_=this.W_.insert(r,{type:1,doc:u.doc}):e.type===0&&u.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):fail():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,u)=>{e.push(u)}),e}}class ViewSnapshot{constructor(e,r,u,p,h,y,c,d,m){this.query=e,this.docs=r,this.oldDocs=u,this.docChanges=p,this.mutatedKeys=h,this.fromCache=y,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,r,u,p,h){const y=[];return r.forEach(c=>{y.push({type:0,doc:c})}),new ViewSnapshot(e,r,DocumentSet.emptySet(r),y,u,p,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&__PRIVATE_queryEquals(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,u=e.docChanges;if(r.length!==u.length)return!1;for(let p=0;p<r.length;p++)if(r[p].type!==u[p].type||!r[p].doc.isEqual(u[p].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=__PRIVATE_newQueriesObjectMap(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,u){const p=__PRIVATE_debugCast(r),h=p.queries;p.queries=__PRIVATE_newQueriesObjectMap(),h.forEach((y,c)=>{for(const d of c.j_)d.onError(u)})})(this,new FirestoreError(D.ABORTED,"Firestore shutting down"))}}function __PRIVATE_newQueriesObjectMap(){return new ObjectMap(o=>__PRIVATE_canonifyQuery(o),__PRIVATE_queryEquals)}async function __PRIVATE_eventManagerListen(o,e){const r=__PRIVATE_debugCast(o);let u=3;const p=e.query;let h=r.queries.get(p);h?!h.H_()&&e.J_()&&(u=2):(h=new __PRIVATE_QueryListenersInfo,u=e.J_()?0:1);try{switch(u){case 0:h.z_=await r.onListen(p,!0);break;case 1:h.z_=await r.onListen(p,!1);break;case 2:await r.onFirstRemoteStoreListen(p)}}catch(y){const c=__PRIVATE_wrapInUserErrorIfRecoverable(y,`Initialization of query '${__PRIVATE_stringifyQuery(e.query)}' failed`);return void e.onError(c)}r.queries.set(p,h),h.j_.push(e),e.Z_(r.onlineState),h.z_&&e.X_(h.z_)&&__PRIVATE_raiseSnapshotsInSyncEvent(r)}async function __PRIVATE_eventManagerUnlisten(o,e){const r=__PRIVATE_debugCast(o),u=e.query;let p=3;const h=r.queries.get(u);if(h){const y=h.j_.indexOf(e);y>=0&&(h.j_.splice(y,1),h.j_.length===0?p=e.J_()?0:1:!h.H_()&&e.J_()&&(p=2))}switch(p){case 0:return r.queries.delete(u),r.onUnlisten(u,!0);case 1:return r.queries.delete(u),r.onUnlisten(u,!1);case 2:return r.onLastRemoteStoreUnlisten(u);default:return}}function __PRIVATE_eventManagerOnWatchChange(o,e){const r=__PRIVATE_debugCast(o);let u=!1;for(const p of e){const h=p.query,y=r.queries.get(h);if(y){for(const c of y.j_)c.X_(p)&&(u=!0);y.z_=p}}u&&__PRIVATE_raiseSnapshotsInSyncEvent(r)}function __PRIVATE_eventManagerOnWatchError(o,e,r){const u=__PRIVATE_debugCast(o),p=u.queries.get(e);if(p)for(const h of p.j_)h.onError(r);u.queries.delete(e)}function __PRIVATE_raiseSnapshotsInSyncEvent(o){o.Y_.forEach(e=>{e.next()})}var pe,ye;(ye=pe||(pe={})).ea="default",ye.Cache="cache";class __PRIVATE_QueryListener{constructor(e,r,u){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=u||{}}X_(e){if(!this.options.includeMetadataChanges){const u=[];for(const p of e.docChanges)p.type!==3&&u.push(p);e=new ViewSnapshot(e.query,e.docs,e.oldDocs,u,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const u=r!=="Offline";return(!this.options._a||!u)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=ViewSnapshot.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==pe.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(e){this.key=e}}class __PRIVATE_RemovedLimboDocument{constructor(e){this.key=e}}class __PRIVATE_View{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.Aa=__PRIVATE_newQueryComparator(e),this.Ra=new DocumentSet(this.Aa)}get Va(){return this.Ta}ma(e,r){const u=r?r.fa:new __PRIVATE_DocumentChangeSet,p=r?r.Ra:this.Ra;let h=r?r.mutatedKeys:this.mutatedKeys,y=p,c=!1;const d=this.query.limitType==="F"&&p.size===this.query.limit?p.last():null,m=this.query.limitType==="L"&&p.size===this.query.limit?p.first():null;if(e.inorderTraversal((P,N)=>{const L=p.get(P),k=__PRIVATE_queryMatches(this.query,N)?N:null,B=!!L&&this.mutatedKeys.has(L.key),U=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let $=!1;L&&k?L.data.isEqual(k.data)?B!==U&&(u.track({type:3,doc:k}),$=!0):this.ga(L,k)||(u.track({type:2,doc:k}),$=!0,(d&&this.Aa(k,d)>0||m&&this.Aa(k,m)<0)&&(c=!0)):!L&&k?(u.track({type:0,doc:k}),$=!0):L&&!k&&(u.track({type:1,doc:L}),$=!0,(d||m)&&(c=!0)),$&&(k?(y=y.add(k),h=U?h.add(P):h.delete(P)):(y=y.delete(P),h=h.delete(P)))}),this.query.limit!==null)for(;y.size>this.query.limit;){const P=this.query.limitType==="F"?y.last():y.first();y=y.delete(P.key),h=h.delete(P.key),u.track({type:1,doc:P})}return{Ra:y,fa:u,ns:c,mutatedKeys:h}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,u,p){const h=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const y=e.fa.G_();y.sort((P,N)=>function(k,B){const U=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail()}};return U(k)-U(B)}(P.type,N.type)||this.Aa(P.doc,N.doc)),this.pa(u),p=p!=null&&p;const c=r&&!p?this.ya():[],d=this.da.size===0&&this.current&&!p?1:0,m=d!==this.Ea;return this.Ea=d,y.length!==0||m?{snapshot:new ViewSnapshot(this.query,e.Ra,h,y,e.mutatedKeys,d===0,m,!1,!!u&&u.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=__PRIVATE_documentKeySet(),this.Ra.forEach(u=>{this.Sa(u.key)&&(this.da=this.da.add(u.key))});const r=[];return e.forEach(u=>{this.da.has(u)||r.push(new __PRIVATE_RemovedLimboDocument(u))}),this.da.forEach(u=>{e.has(u)||r.push(new __PRIVATE_AddedLimboDocument(u))}),r}ba(e){this.Ta=e.Ts,this.da=__PRIVATE_documentKeySet();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return ViewSnapshot.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class __PRIVATE_QueryView{constructor(e,r,u){this.query=e,this.targetId=r,this.view=u}}class LimboResolution{constructor(e){this.key=e,this.va=!1}}class __PRIVATE_SyncEngineImpl{constructor(e,r,u,p,h,y){this.localStore=e,this.remoteStore=r,this.eventManager=u,this.sharedClientState=p,this.currentUser=h,this.maxConcurrentLimboResolutions=y,this.Ca={},this.Fa=new ObjectMap(c=>__PRIVATE_canonifyQuery(c),__PRIVATE_queryEquals),this.Ma=new Map,this.xa=new Set,this.Oa=new SortedMap(DocumentKey.comparator),this.Na=new Map,this.La=new __PRIVATE_ReferenceSet,this.Ba={},this.ka=new Map,this.qa=__PRIVATE_TargetIdGenerator.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function __PRIVATE_syncEngineListen(o,e,r=!0){const u=__PRIVATE_ensureWatchCallbacks(o);let p;const h=u.Fa.get(e);return h?(u.sharedClientState.addLocalQueryTarget(h.targetId),p=h.view.Da()):p=await __PRIVATE_allocateTargetAndMaybeListen(u,e,r,!0),p}async function __PRIVATE_triggerRemoteStoreListen(o,e){const r=__PRIVATE_ensureWatchCallbacks(o);await __PRIVATE_allocateTargetAndMaybeListen(r,e,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen(o,e,r,u){const p=await __PRIVATE_localStoreAllocateTarget(o.localStore,__PRIVATE_queryToTarget(e)),h=p.targetId,y=o.sharedClientState.addLocalQueryTarget(h,r);let c;return u&&(c=await __PRIVATE_initializeViewAndComputeSnapshot(o,e,h,y==="current",p.resumeToken)),o.isPrimaryClient&&r&&__PRIVATE_remoteStoreListen(o.remoteStore,p),c}async function __PRIVATE_initializeViewAndComputeSnapshot(o,e,r,u,p){o.Ka=(N,L,k)=>async function(U,$,j,M){let q=$.view.ma(j);q.ns&&(q=await __PRIVATE_localStoreExecuteQuery(U.localStore,$.query,!1).then(({documents:F})=>$.view.ma(F,q)));const Q=M&&M.targetChanges.get($.targetId),K=M&&M.targetMismatches.get($.targetId)!=null,G=$.view.applyChanges(q,U.isPrimaryClient,Q,K);return __PRIVATE_updateTrackedLimbos(U,$.targetId,G.wa),G.snapshot}(o,N,L,k);const h=await __PRIVATE_localStoreExecuteQuery(o.localStore,e,!0),y=new __PRIVATE_View(e,h.Ts),c=y.ma(h.documents),d=TargetChange.createSynthesizedTargetChangeForCurrentChange(r,u&&o.onlineState!=="Offline",p),m=y.applyChanges(c,o.isPrimaryClient,d);__PRIVATE_updateTrackedLimbos(o,r,m.wa);const P=new __PRIVATE_QueryView(e,r,y);return o.Fa.set(e,P),o.Ma.has(r)?o.Ma.get(r).push(e):o.Ma.set(r,[e]),m.snapshot}async function __PRIVATE_syncEngineUnlisten(o,e,r){const u=__PRIVATE_debugCast(o),p=u.Fa.get(e),h=u.Ma.get(p.targetId);if(h.length>1)return u.Ma.set(p.targetId,h.filter(y=>!__PRIVATE_queryEquals(y,e))),void u.Fa.delete(e);u.isPrimaryClient?(u.sharedClientState.removeLocalQueryTarget(p.targetId),u.sharedClientState.isActiveQueryTarget(p.targetId)||await __PRIVATE_localStoreReleaseTarget(u.localStore,p.targetId,!1).then(()=>{u.sharedClientState.clearQueryState(p.targetId),r&&__PRIVATE_remoteStoreUnlisten(u.remoteStore,p.targetId),__PRIVATE_removeAndCleanupTarget(u,p.targetId)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(u,p.targetId),await __PRIVATE_localStoreReleaseTarget(u.localStore,p.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten(o,e){const r=__PRIVATE_debugCast(o),u=r.Fa.get(e),p=r.Ma.get(u.targetId);r.isPrimaryClient&&p.length===1&&(r.sharedClientState.removeLocalQueryTarget(u.targetId),__PRIVATE_remoteStoreUnlisten(r.remoteStore,u.targetId))}async function __PRIVATE_syncEngineApplyRemoteEvent(o,e){const r=__PRIVATE_debugCast(o);try{const u=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(r.localStore,e);e.targetChanges.forEach((p,h)=>{const y=r.Na.get(h);y&&(__PRIVATE_hardAssert(p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size<=1),p.addedDocuments.size>0?y.va=!0:p.modifiedDocuments.size>0?__PRIVATE_hardAssert(y.va):p.removedDocuments.size>0&&(__PRIVATE_hardAssert(y.va),y.va=!1))}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(r,u,e)}catch(u){await __PRIVATE_ignoreIfPrimaryLeaseLoss(u)}}function __PRIVATE_syncEngineApplyOnlineStateChange(o,e,r){const u=__PRIVATE_debugCast(o);if(u.isPrimaryClient&&r===0||!u.isPrimaryClient&&r===1){const p=[];u.Fa.forEach((h,y)=>{const c=y.view.Z_(e);c.snapshot&&p.push(c.snapshot)}),function(y,c){const d=__PRIVATE_debugCast(y);d.onlineState=c;let m=!1;d.queries.forEach((P,N)=>{for(const L of N.j_)L.Z_(c)&&(m=!0)}),m&&__PRIVATE_raiseSnapshotsInSyncEvent(d)}(u.eventManager,e),p.length&&u.Ca.d_(p),u.onlineState=e,u.isPrimaryClient&&u.sharedClientState.setOnlineState(e)}}async function __PRIVATE_syncEngineRejectListen(o,e,r){const u=__PRIVATE_debugCast(o);u.sharedClientState.updateQueryState(e,"rejected",r);const p=u.Na.get(e),h=p&&p.key;if(h){let y=new SortedMap(DocumentKey.comparator);y=y.insert(h,MutableDocument.newNoDocument(h,SnapshotVersion.min()));const c=__PRIVATE_documentKeySet().add(h),d=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),y,c);await __PRIVATE_syncEngineApplyRemoteEvent(u,d),u.Oa=u.Oa.remove(h),u.Na.delete(e),__PRIVATE_pumpEnqueuedLimboResolutions(u)}else await __PRIVATE_localStoreReleaseTarget(u.localStore,e,!1).then(()=>__PRIVATE_removeAndCleanupTarget(u,e,r)).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}function __PRIVATE_removeAndCleanupTarget(o,e,r=null){o.sharedClientState.removeLocalQueryTarget(e);for(const u of o.Ma.get(e))o.Fa.delete(u),r&&o.Ca.$a(u,r);o.Ma.delete(e),o.isPrimaryClient&&o.La.gr(e).forEach(u=>{o.La.containsKey(u)||__PRIVATE_removeLimboTarget(o,u)})}function __PRIVATE_removeLimboTarget(o,e){o.xa.delete(e.path.canonicalString());const r=o.Oa.get(e);r!==null&&(__PRIVATE_remoteStoreUnlisten(o.remoteStore,r),o.Oa=o.Oa.remove(e),o.Na.delete(r),__PRIVATE_pumpEnqueuedLimboResolutions(o))}function __PRIVATE_updateTrackedLimbos(o,e,r){for(const u of r)u instanceof __PRIVATE_AddedLimboDocument?(o.La.addReference(u.key,e),__PRIVATE_trackLimboChange(o,u)):u instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug("SyncEngine","Document no longer in limbo: "+u.key),o.La.removeReference(u.key,e),o.La.containsKey(u.key)||__PRIVATE_removeLimboTarget(o,u.key)):fail()}function __PRIVATE_trackLimboChange(o,e){const r=e.key,u=r.path.canonicalString();o.Oa.get(r)||o.xa.has(u)||(__PRIVATE_logDebug("SyncEngine","New document in limbo: "+r),o.xa.add(u),__PRIVATE_pumpEnqueuedLimboResolutions(o))}function __PRIVATE_pumpEnqueuedLimboResolutions(o){for(;o.xa.size>0&&o.Oa.size<o.maxConcurrentLimboResolutions;){const e=o.xa.values().next().value;o.xa.delete(e);const r=new DocumentKey(ResourcePath$1.fromString(e)),u=o.qa.next();o.Na.set(u,new LimboResolution(r)),o.Oa=o.Oa.insert(r,u),__PRIVATE_remoteStoreListen(o.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(r.path)),u,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.oe))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(o,e,r){const u=__PRIVATE_debugCast(o),p=[],h=[],y=[];u.Fa.isEmpty()||(u.Fa.forEach((c,d)=>{y.push(u.Ka(d,e,r).then(m=>{var P;if((m||r)&&u.isPrimaryClient){const N=m?!m.fromCache:(P=r==null?void 0:r.targetChanges.get(d.targetId))===null||P===void 0?void 0:P.current;u.sharedClientState.updateQueryState(d.targetId,N?"current":"not-current")}if(m){p.push(m);const N=__PRIVATE_LocalViewChanges.Wi(d.targetId,m);h.push(N)}}))}),await Promise.all(y),u.Ca.d_(p),await async function(d,m){const P=__PRIVATE_debugCast(d);try{await P.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>PersistencePromise.forEach(m,L=>PersistencePromise.forEach(L.$i,k=>P.persistence.referenceDelegate.addReference(N,L.targetId,k)).next(()=>PersistencePromise.forEach(L.Ui,k=>P.persistence.referenceDelegate.removeReference(N,L.targetId,k)))))}catch(N){if(!__PRIVATE_isIndexedDbTransactionError(N))throw N;__PRIVATE_logDebug("LocalStore","Failed to update sequence numbers: "+N)}for(const N of m){const L=N.targetId;if(!N.fromCache){const k=P.os.get(L),B=k.snapshotVersion,U=k.withLastLimboFreeSnapshotVersion(B);P.os=P.os.insert(L,U)}}}(u.localStore,h))}async function __PRIVATE_syncEngineHandleCredentialChange(o,e){const r=__PRIVATE_debugCast(o);if(!r.currentUser.isEqual(e)){__PRIVATE_logDebug("SyncEngine","User change. New user:",e.toKey());const u=await __PRIVATE_localStoreHandleUserChange(r.localStore,e);r.currentUser=e,function(h,y){h.ka.forEach(c=>{c.forEach(d=>{d.reject(new FirestoreError(D.CANCELLED,y))})}),h.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,u.removedBatchIds,u.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(r,u.hs)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(o,e){const r=__PRIVATE_debugCast(o),u=r.Na.get(e);if(u&&u.va)return __PRIVATE_documentKeySet().add(u.key);{let p=__PRIVATE_documentKeySet();const h=r.Ma.get(e);if(!h)return p;for(const y of h){const c=r.Fa.get(y);p=p.unionWith(c.view.Va)}return p}}function __PRIVATE_ensureWatchCallbacks(o){const e=__PRIVATE_debugCast(o);return e.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,e),e.Ca.d_=__PRIVATE_eventManagerOnWatchChange.bind(null,e.eventManager),e.Ca.$a=__PRIVATE_eventManagerOnWatchError.bind(null,e.eventManager),e}class __PRIVATE_MemoryOfflineComponentProvider{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=__PRIVATE_newSerializer(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,e.initialUser,this.serializer)}Ga(e){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.Zr,this.serializer)}Wa(e){return new __PRIVATE_MemorySharedClientState}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}__PRIVATE_MemoryOfflineComponentProvider.provider={build:()=>new __PRIVATE_MemoryOfflineComponentProvider};class OnlineComponentProvider{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=u=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,u,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new __PRIVATE_EventManagerImpl}()}createDatastore(e){const r=__PRIVATE_newSerializer(e.databaseInfo.databaseId),u=function(h){return new __PRIVATE_WebChannelConnection(h)}(e.databaseInfo);return function(h,y,c,d){return new __PRIVATE_DatastoreImpl(h,y,c,d)}(e.authCredentials,e.appCheckCredentials,u,r)}createRemoteStore(e){return function(u,p,h,y,c){return new __PRIVATE_RemoteStoreImpl(u,p,h,y,c)}(this.localStore,this.datastore,e.asyncQueue,r=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,r,0),function(){return __PRIVATE_BrowserConnectivityMonitor.D()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine(e,r){return function(p,h,y,c,d,m,P){const N=new __PRIVATE_SyncEngineImpl(p,h,y,c,d,m);return P&&(N.Qa=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(p){const h=__PRIVATE_debugCast(p);__PRIVATE_logDebug("RemoteStore","RemoteStore shutting down."),h.L_.add(5),await __PRIVATE_disableNetworkInternal(h),h.k_.shutdown(),h.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}OnlineComponentProvider.provider={build:()=>new OnlineComponentProvider};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):__PRIVATE_logError("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FirestoreClient$1=class{constructor(e,r,u,p,h){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=u,this.databaseInfo=p,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(u,async y=>{__PRIVATE_logDebug("FirestoreClient","Received user=",y.uid),await this.authCredentialListener(y),this.user=y}),this.appCheckCredentials.start(u,y=>(__PRIVATE_logDebug("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const u=__PRIVATE_wrapInUserErrorIfRecoverable(r,"Failed to shutdown persistence");e.reject(u)}}),e.promise}};async function __PRIVATE_setOfflineComponentProvider(o,e){o.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("FirestoreClient","Initializing OfflineComponentProvider");const r=o.configuration;await e.initialize(r);let u=r.initialUser;o.setCredentialChangeListener(async p=>{u.isEqual(p)||(await __PRIVATE_localStoreHandleUserChange(e.localStore,p),u=p)}),e.persistence.setDatabaseDeletedListener(()=>o.terminate()),o._offlineComponents=e}async function __PRIVATE_setOnlineComponentProvider(o,e){o.asyncQueue.verifyOperationInProgress();const r=await __PRIVATE_ensureOfflineComponents(o);__PRIVATE_logDebug("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,o.configuration),o.setCredentialChangeListener(u=>__PRIVATE_remoteStoreHandleCredentialChange(e.remoteStore,u)),o.setAppCheckTokenChangeListener((u,p)=>__PRIVATE_remoteStoreHandleCredentialChange(e.remoteStore,p)),o._onlineComponents=e}async function __PRIVATE_ensureOfflineComponents(o){if(!o._offlineComponents)if(o._uninitializedComponentsProvider){__PRIVATE_logDebug("FirestoreClient","Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(o,o._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(p){return p.name==="FirebaseError"?p.code===D.FAILED_PRECONDITION||p.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&p instanceof DOMException)||p.code===22||p.code===20||p.code===11}(r))throw r;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+r),await __PRIVATE_setOfflineComponentProvider(o,new __PRIVATE_MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug("FirestoreClient","Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(o,new __PRIVATE_MemoryOfflineComponentProvider);return o._offlineComponents}async function __PRIVATE_ensureOnlineComponents(o){return o._onlineComponents||(o._uninitializedComponentsProvider?(__PRIVATE_logDebug("FirestoreClient","Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(o,o._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug("FirestoreClient","Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(o,new OnlineComponentProvider))),o._onlineComponents}async function __PRIVATE_getEventManager(o){const e=await __PRIVATE_ensureOnlineComponents(o),r=e.eventManager;return r.onListen=__PRIVATE_syncEngineListen.bind(null,e.syncEngine),r.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,e.syncEngine),r}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(o,e,r={}){const u=new __PRIVATE_Deferred;return o.asyncQueue.enqueueAndForget(async()=>function(h,y,c,d,m){const P=new __PRIVATE_AsyncObserver({next:L=>{P.Za(),y.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(h,N));const k=L.docs.has(c);!k&&L.fromCache?m.reject(new FirestoreError(D.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&L.fromCache&&d&&d.source==="server"?m.reject(new FirestoreError(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(L)},error:L=>m.reject(L)}),N=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(c.path),P,{includeMetadataChanges:!0,_a:!0});return __PRIVATE_eventManagerListen(h,N)}(await __PRIVATE_getEventManager(o),o.asyncQueue,e,r,u)),u.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(o){const e={};return o.timeoutSeconds!==void 0&&(e.timeoutSeconds=o.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(o,e,r){if(!r)throw new FirestoreError(D.INVALID_ARGUMENT,`Function ${o}() cannot be called with an empty ${e}.`)}function __PRIVATE_validateIsNotUsedTogether(o,e,r,u){if(e===!0&&u===!0)throw new FirestoreError(D.INVALID_ARGUMENT,`${o} and ${r} cannot be used together.`)}function __PRIVATE_validateDocumentPath(o){if(!DocumentKey.isDocumentKey(o))throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${o} has ${o.length}.`)}function __PRIVATE_valueDescription(o){if(o===void 0)return"undefined";if(o===null)return"null";if(typeof o=="string")return o.length>20&&(o=`${o.substring(0,20)}...`),JSON.stringify(o);if(typeof o=="number"||typeof o=="boolean")return""+o;if(typeof o=="object"){if(o instanceof Array)return"an array";{const e=function(u){return u.constructor?u.constructor.name:null}(o);return e?`a custom ${e} object`:"an object"}}return typeof o=="function"?"a function":fail()}function __PRIVATE_cast(o,e){if("_delegate"in o&&(o=o._delegate),!(o instanceof e)){if(e.name===o.constructor.name)throw new FirestoreError(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=__PRIVATE_valueDescription(o);throw new FirestoreError(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreSettingsImpl{constructor(e){var r,u;if(e.host===void 0){if(e.ssl!==void 0)throw new FirestoreError(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new FirestoreError(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((u=e.experimentalLongPollingOptions)!==null&&u!==void 0?u:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(u,p){return u.timeoutSeconds===p.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Firestore$1{constructor(e,r,u,p){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=u,this._app=p,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new FirestoreError(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new FirestoreError(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(e),e.credentials!==void 0&&(this._authCredentials=function(u){if(!u)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(u.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(u.sessionIndex||"0",u.iamToken||null,u.authTokenFactory||null);case"provider":return u.client;default:throw new FirestoreError(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const u=we.get(r);u&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),we.delete(r),u.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator(o,e,r,u={}){var p;const h=(o=__PRIVATE_cast(o,Firestore$1))._getSettings(),y=`${e}:${r}`;if(h.host!=="firestore.googleapis.com"&&h.host!==y&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),o._setSettings(Object.assign(Object.assign({},h),{host:y,ssl:!1})),u.mockUserToken){let c,d;if(typeof u.mockUserToken=="string")c=u.mockUserToken,d=User.MOCK_USER;else{c=createMockUserToken(u.mockUserToken,(p=o._app)===null||p===void 0?void 0:p.options.projectId);const m=u.mockUserToken.sub||u.mockUserToken.user_id;if(!m)throw new FirestoreError(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new User(m)}o._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(e,r,u){this.converter=r,this._query=u,this.type="query",this.firestore=e}withConverter(e){return new Query(this.firestore,e,this._query)}}class DocumentReference{constructor(e,r,u){this.converter=r,this._key=u,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new DocumentReference(this.firestore,e,this._key)}}class CollectionReference extends Query{constructor(e,r,u){super(e,r,__PRIVATE_newQueryForPath(u)),this._path=u,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(e))}withConverter(e){return new CollectionReference(this.firestore,e,this._path)}}function doc(o,e,...r){if(o=getModularInstance(o),arguments.length===1&&(e=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",e),o instanceof Firestore$1){const u=ResourcePath$1.fromString(e,...r);return __PRIVATE_validateDocumentPath(u),new DocumentReference(o,null,new DocumentKey(u))}{if(!(o instanceof DocumentReference||o instanceof CollectionReference))throw new FirestoreError(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const u=o._path.child(ResourcePath$1.fromString(e,...r));return __PRIVATE_validateDocumentPath(u),new DocumentReference(o.firestore,o instanceof CollectionReference?o.converter:null,new DocumentKey(u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncQueueImpl{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.Vu=()=>{const u=getDocument();u&&__PRIVATE_logDebug("AsyncQueue","Visibility state changed to "+u.visibilityState),this.t_.jo()},this.mu=e;const r=getDocument();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=getDocument();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new __PRIVATE_Deferred;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;__PRIVATE_logDebug("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(u=>{this.Eu=u,this.du=!1;const p=function(y){let c=y.message||"";return y.stack&&(c=y.stack.includes(y.message)?y.stack:y.message+`
`+y.stack),c}(u);throw __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",p),u}).then(u=>(this.du=!1,u))));return this.mu=r,r}enqueueAfterDelay(e,r,u){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const p=DelayedOperation.createAndSchedule(this,e,r,u,h=>this.yu(h));return this.Tu.push(p),p}fu(){this.Eu&&fail()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,u)=>r.targetTimeMs-u.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}class Firestore extends Firestore$1{constructor(e,r,u,p){super(e,r,u,p),this.type="firestore",this._queue=new __PRIVATE_AsyncQueueImpl,this._persistenceKey=(p==null?void 0:p.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new __PRIVATE_AsyncQueueImpl(e),this._firestoreClient=void 0,await e}}}function getFirestore$1(o,e){const r=typeof o=="object"?o:getApp(),u=typeof o=="string"?o:"(default)",p=_getProvider(r,"firestore").getImmediate({identifier:u});if(!p._initialized){const h=getDefaultEmulatorHostnameAndPort("firestore");h&&connectFirestoreEmulator(p,...h)}return p}function ensureFirestoreConfigured(o){if(o._terminated)throw new FirestoreError(D.FAILED_PRECONDITION,"The client has already been terminated.");return o._firestoreClient||__PRIVATE_configureFirestore(o),o._firestoreClient}function __PRIVATE_configureFirestore(o){var e,r,u;const p=o._freezeSettings(),h=function(c,d,m,P){return new DatabaseInfo(c,d,m,P.host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(P.experimentalLongPollingOptions),P.useFetchStreams)}(o._databaseId,((e=o._app)===null||e===void 0?void 0:e.options.appId)||"",o._persistenceKey,p);o._componentsProvider||!((r=p.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((u=p.localCache)===null||u===void 0)&&u._onlineComponentProvider)&&(o._componentsProvider={_offline:p.localCache._offlineComponentProvider,_online:p.localCache._onlineComponentProvider}),o._firestoreClient=new FirestoreClient$1(o._authCredentials,o._appCheckCredentials,o._queue,h,o._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(o._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bytes(ByteString.fromBase64String(e))}catch(r){throw new FirestoreError(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Bytes(ByteString.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FieldPath$2=class{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new FirestoreError(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GeoPoint$1=class{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new FirestoreError(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new FirestoreError(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return __PRIVATE_primitiveComparator(this._lat,e._lat)||__PRIVATE_primitiveComparator(this._long,e._long)}};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VectorValue{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(u,p){if(u.length!==p.length)return!1;for(let h=0;h<u.length;++h)if(u[h]!==p[h])return!1;return!0}(this._values,e._values)}}const De=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(o,e,r){if(e.search(De)>=0)throw __PRIVATE_createError(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,o);try{return new FieldPath$2(...e.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,o)}}function __PRIVATE_createError(o,e,r,u,p){let h=`Function ${e}() called with invalid data`;h+=". ";let y="";return new FirestoreError(D.INVALID_ARGUMENT,h+o+y)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(e,r,u,p,h){this._firestore=e,this._userDataWriter=r,this._key=u,this._document=p,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(o,e){return typeof e=="string"?__PRIVATE_fieldPathFromDotSeparatedString(o,e):e instanceof FieldPath$2?e._internalPath:e._delegate._internalPath}class AbstractUserDataWriter{convertValue(e,r="none"){switch(__PRIVATE_typeOrder(e)){case 0:return null;case 1:return e.booleanValue;case 2:return __PRIVATE_normalizeNumber(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw fail()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const u={};return forEach$2(e,(p,h)=>{u[p]=this.convertValue(h,r)}),u}convertVectorValue(e){var r,u,p;const h=(p=(u=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||u===void 0?void 0:u.values)===null||p===void 0?void 0:p.map(y=>__PRIVATE_normalizeNumber(y.doubleValue));return new VectorValue(h)}convertGeoPoint(e){return new GeoPoint$1(__PRIVATE_normalizeNumber(e.latitude),__PRIVATE_normalizeNumber(e.longitude))}convertArray(e,r){return(e.values||[]).map(u=>this.convertValue(u,r))}convertServerTimestamp(e,r){switch(r){case"previous":const u=__PRIVATE_getPreviousValue(e);return u==null?null:this.convertValue(u,r);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(e));default:return null}}convertTimestamp(e){const r=__PRIVATE_normalizeTimestamp(e);return new Timestamp$1(r.seconds,r.nanos)}convertDocumentKey(e,r){const u=ResourcePath$1.fromString(e);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(u));const p=new DatabaseId(u.get(1),u.get(3)),h=new DocumentKey(u.popFirst(5));return p.isEqual(r)||__PRIVATE_logError(`Document ${h} contains a document reference within a different database (${p.projectId}/${p.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotMetadata{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(e,r,u,p,h,y){super(e,r,u,p,y),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const u=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(u!==null)return this._userDataWriter.convertValue(u,r.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getDoc(o){o=__PRIVATE_cast(o,DocumentReference);const e=__PRIVATE_cast(o.firestore,Firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured(e),o._key).then(r=>__PRIVATE_convertToDocSnapshot(e,o,r))}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bytes(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new DocumentReference(this.firestore,null,r)}}function __PRIVATE_convertToDocSnapshot(o,e,r){const u=r.docs.get(e._key),p=new __PRIVATE_ExpUserDataWriter(o);return new DocumentSnapshot(o,p,e._key,u,new SnapshotMetadata(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(p){S=p})(SDK_VERSION),_registerComponent(new Component("firestore",(u,{instanceIdentifier:p,options:h})=>{const y=u.getProvider("app").getImmediate(),c=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(u.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(u.getProvider("app-check-internal")),function(m,P){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new FirestoreError(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(m.options.projectId,P)}(y,p),y);return h=Object.assign({useFetchStreams:r},h),c._setSettings(h),c},"PUBLIC").setMultipleInstances(!0)),registerVersion(w,"4.7.3",e),registerVersion(w,"4.7.3","esm2017")})();var firestore={},app={},utils$1={},credentialInternal={};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$1$3=getAugmentedNamespace(__viteBrowserExternal$1);var src$7={},googleauth={},src$6={},src$5={},gaxios={},hasOwn$2=Object.prototype.hasOwnProperty,toStr$4=Object.prototype.toString,defineProperty=Object.defineProperty,gOPD$5=Object.getOwnPropertyDescriptor,isArray$2=function(e){return typeof Array.isArray=="function"?Array.isArray(e):toStr$4.call(e)==="[object Array]"},isPlainObject$1=function(e){if(!e||toStr$4.call(e)!=="[object Object]")return!1;var r=hasOwn$2.call(e,"constructor"),u=e.constructor&&e.constructor.prototype&&hasOwn$2.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!u)return!1;var p;for(p in e);return typeof p>"u"||hasOwn$2.call(e,p)},setProperty=function(e,r){defineProperty&&r.name==="__proto__"?defineProperty(e,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):e[r.name]=r.newValue},getProperty=function(e,r){if(r==="__proto__")if(hasOwn$2.call(e,r)){if(gOPD$5)return gOPD$5(e,r).value}else return;return e[r]},extend=function o(){var e,r,u,p,h,y,c=arguments[0],d=1,m=arguments.length,P=!1;for(typeof c=="boolean"&&(P=c,c=arguments[1]||{},d=2),(c==null||typeof c!="object"&&typeof c!="function")&&(c={});d<m;++d)if(e=arguments[d],e!=null)for(r in e)u=getProperty(c,r),p=getProperty(e,r),c!==p&&(P&&p&&(isPlainObject$1(p)||(h=isArray$2(p)))?(h?(h=!1,y=u&&isArray$2(u)?u:[]):y=u&&isPlainObject$1(u)?u:{},setProperty(c,{name:r,newValue:o(P,y,p)})):typeof p<"u"&&setProperty(c,{name:r,newValue:p}));return c};const extend$1=getDefaultExportFromCjs(extend);var browser$4={exports:{}},hasRequiredBrowser$3;function requireBrowser$3(){return hasRequiredBrowser$3||(hasRequiredBrowser$3=1,function(o,e){var r=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof commonjsGlobal$2<"u")return commonjsGlobal$2;throw new Error("unable to locate global object")},u=r();o.exports=e=u.fetch,u.fetch&&(e.default=u.fetch.bind(u)),e.Headers=u.Headers,e.Request=u.Request,e.Response=u.Response}(browser$4,browser$4.exports)),browser$4.exports}const isStream=o=>o!==null&&typeof o=="object"&&typeof o.pipe=="function";isStream.writable=o=>isStream(o)&&o.writable!==!1&&typeof o._write=="function"&&typeof o._writableState=="object";isStream.readable=o=>isStream(o)&&o.readable!==!1&&typeof o._read=="function"&&typeof o._readableState=="object";isStream.duplex=o=>isStream.writable(o)&&isStream.readable(o);isStream.transform=o=>isStream.duplex(o)&&typeof o._transform=="function";var isStream_1=isStream,common$1={},util$d={};const name$1="gaxios",version$9="6.7.1",description="A simple common HTTP client specifically for Google APIs and services.",main="build/src/index.js",types$4="build/src/index.d.ts",files=["build/src"],scripts={lint:"gts check",test:"c8 mocha build/test","presystem-test":"npm run compile","system-test":"mocha build/system-test --timeout 80000",compile:"tsc -p .",fix:"gts fix",prepare:"npm run compile",pretest:"npm run compile",webpack:"webpack","prebrowser-test":"npm run compile","browser-test":"node build/browser-test/browser-test-runner.js",docs:"compodoc src/","docs-test":"linkinator docs","predocs-test":"npm run docs","samples-test":"cd samples/ && npm link ../ && npm test && cd ../",prelint:"cd samples; npm link ../; npm install",clean:"gts clean",precompile:"gts clean"},repository="googleapis/gaxios",keywords=["google"],engines={node:">=14"},author="Google, LLC",license="Apache-2.0",devDependencies={"@babel/plugin-proposal-private-methods":"^7.18.6","@compodoc/compodoc":"1.1.19","@types/cors":"^2.8.6","@types/express":"^4.16.1","@types/extend":"^3.0.1","@types/mocha":"^9.0.0","@types/multiparty":"0.0.36","@types/mv":"^2.1.0","@types/ncp":"^2.0.1","@types/node":"^20.0.0","@types/node-fetch":"^2.5.7","@types/sinon":"^17.0.0","@types/tmp":"0.2.6","@types/uuid":"^10.0.0","abort-controller":"^3.0.0",assert:"^2.0.0",browserify:"^17.0.0",c8:"^8.0.0",cheerio:"1.0.0-rc.10",cors:"^2.8.5",execa:"^5.0.0",express:"^4.16.4","form-data":"^4.0.0",gts:"^5.0.0","is-docker":"^2.0.0",karma:"^6.0.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^2.0.0","karma-firefox-launcher":"^2.0.0","karma-mocha":"^2.0.0","karma-remap-coverage":"^0.1.5","karma-sourcemap-loader":"^0.4.0","karma-webpack":"5.0.0",linkinator:"^3.0.0",mocha:"^8.0.0",multiparty:"^4.2.1",mv:"^2.1.1",ncp:"^2.0.0",nock:"^13.0.0","null-loader":"^4.0.0",puppeteer:"^19.0.0",sinon:"^18.0.0","stream-browserify":"^3.0.0",tmp:"0.2.3","ts-loader":"^8.0.0",typescript:"^5.1.6",webpack:"^5.35.0","webpack-cli":"^4.0.0"},dependencies={extend:"^3.0.2","https-proxy-agent":"^7.0.1","is-stream":"^2.0.0","node-fetch":"^2.6.9",uuid:"^9.0.1"},require$$0$2={name:name$1,version:version$9,description,main,types:types$4,files,scripts,repository,keywords,engines,author,license,devDependencies,dependencies};Object.defineProperty(util$d,"__esModule",{value:!0});util$d.pkg=void 0;util$d.pkg=require$$0$2;(function(o){var e=commonjsGlobal$2&&commonjsGlobal$2.__importDefault||function(m){return m&&m.__esModule?m:{default:m}},r;Object.defineProperty(o,"__esModule",{value:!0}),o.GaxiosError=o.GAXIOS_ERROR_SYMBOL=void 0,o.defaultErrorRedactor=d;const u=require$$1$3,p=util$d,h=e(extend);o.GAXIOS_ERROR_SYMBOL=Symbol.for(`${p.pkg.name}-gaxios-error`);class y extends Error{static[(r=o.GAXIOS_ERROR_SYMBOL,Symbol.hasInstance)](P){return P&&typeof P=="object"&&o.GAXIOS_ERROR_SYMBOL in P&&P[o.GAXIOS_ERROR_SYMBOL]===p.pkg.version?!0:Function.prototype[Symbol.hasInstance].call(y,P)}constructor(P,N,L,k){var B;if(super(P),this.config=N,this.response=L,this.error=k,this[r]=p.pkg.version,this.config=(0,h.default)(!0,{},N),this.response&&(this.response.config=(0,h.default)(!0,{},this.response.config)),this.response){try{this.response.data=c(this.config.responseType,(B=this.response)===null||B===void 0?void 0:B.data)}catch{}this.status=this.response.status}k&&"code"in k&&k.code&&(this.code=k.code),N.errorRedactor&&N.errorRedactor({config:this.config,response:this.response})}}o.GaxiosError=y;function c(m,P){switch(m){case"stream":return P;case"json":return JSON.parse(JSON.stringify(P));case"arraybuffer":return JSON.parse(Buffer.from(P).toString("utf8"));case"blob":return JSON.parse(P.text());default:return P}}function d(m){const P="<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.";function N(B){if(B)for(const U of Object.keys(B))/^authentication$/i.test(U)&&(B[U]=P),/^authorization$/i.test(U)&&(B[U]=P),/secret/i.test(U)&&(B[U]=P)}function L(B,U){if(typeof B=="object"&&B!==null&&typeof B[U]=="string"){const $=B[U];(/grant_type=/i.test($)||/assertion=/i.test($)||/secret/i.test($))&&(B[U]=P)}}function k(B){typeof B=="object"&&B!==null&&("grant_type"in B&&(B.grant_type=P),"assertion"in B&&(B.assertion=P),"client_secret"in B&&(B.client_secret=P))}if(m.config){N(m.config.headers),L(m.config,"data"),k(m.config.data),L(m.config,"body"),k(m.config.body);try{const B=new u.URL("",m.config.url);B.searchParams.has("token")&&B.searchParams.set("token",P),B.searchParams.has("client_secret")&&B.searchParams.set("client_secret",P),m.config.url=B.toString()}catch{}}return m.response&&(d({config:m.response.config}),N(m.response.headers),L(m.response,"data"),k(m.response.data)),m}})(common$1);var retry={};Object.defineProperty(retry,"__esModule",{value:!0});retry.getRetryConfig=getRetryConfig;async function getRetryConfig(o){let e=getConfig(o);if(!o||!o.config||!e&&!o.config.retry)return{shouldRetry:!1};e=e||{},e.currentRetryAttempt=e.currentRetryAttempt||0,e.retry=e.retry===void 0||e.retry===null?3:e.retry,e.httpMethodsToRetry=e.httpMethodsToRetry||["GET","HEAD","PUT","OPTIONS","DELETE"],e.noResponseRetries=e.noResponseRetries===void 0||e.noResponseRetries===null?2:e.noResponseRetries,e.retryDelayMultiplier=e.retryDelayMultiplier?e.retryDelayMultiplier:2,e.timeOfFirstRequest=e.timeOfFirstRequest?e.timeOfFirstRequest:Date.now(),e.totalTimeout=e.totalTimeout?e.totalTimeout:Number.MAX_SAFE_INTEGER,e.maxRetryDelay=e.maxRetryDelay?e.maxRetryDelay:Number.MAX_SAFE_INTEGER;const r=[[100,199],[408,408],[429,429],[500,599]];if(e.statusCodesToRetry=e.statusCodesToRetry||r,o.config.retryConfig=e,!await(e.shouldRetry||shouldRetryRequest)(o))return{shouldRetry:!1,config:o.config};const p=getNextRetryDelay(e);o.config.retryConfig.currentRetryAttempt+=1;const h=e.retryBackoff?e.retryBackoff(o,p):new Promise(y=>{setTimeout(y,p)});return e.onRetryAttempt&&e.onRetryAttempt(o),await h,{shouldRetry:!0,config:o.config}}function shouldRetryRequest(o){var e;const r=getConfig(o);if(o.name==="AbortError"||((e=o.error)===null||e===void 0?void 0:e.name)==="AbortError"||!r||r.retry===0||!o.response&&(r.currentRetryAttempt||0)>=r.noResponseRetries||!o.config.method||r.httpMethodsToRetry.indexOf(o.config.method.toUpperCase())<0)return!1;if(o.response&&o.response.status){let u=!1;for(const[p,h]of r.statusCodesToRetry){const y=o.response.status;if(y>=p&&y<=h){u=!0;break}}if(!u)return!1}return r.currentRetryAttempt=r.currentRetryAttempt||0,!(r.currentRetryAttempt>=r.retry)}function getConfig(o){if(o&&o.config&&o.config.retryConfig)return o.config.retryConfig}function getNextRetryDelay(o){var e;const u=(o.currentRetryAttempt?0:(e=o.retryDelay)!==null&&e!==void 0?e:100)+(Math.pow(o.retryDelayMultiplier,o.currentRetryAttempt)-1)/2*1e3,p=o.totalTimeout-(Date.now()-o.timeOfFirstRequest);return Math.min(u,p,o.maxRetryDelay)}var commonjsBrowser$1={},v1$3={},rng$2={};Object.defineProperty(rng$2,"__esModule",{value:!0});rng$2.default=rng$1;let getRandomValues;const rnds8=new Uint8Array(16);function rng$1(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var stringify$3={},validate$4={},regex$1={};Object.defineProperty(regex$1,"__esModule",{value:!0});regex$1.default=void 0;var _default$c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;regex$1.default=_default$c;Object.defineProperty(validate$4,"__esModule",{value:!0});validate$4.default=void 0;var _regex=_interopRequireDefault$8(regex$1);function _interopRequireDefault$8(o){return o&&o.__esModule?o:{default:o}}function validate$3(o){return typeof o=="string"&&_regex.default.test(o)}var _default$b=validate$3;validate$4.default=_default$b;Object.defineProperty(stringify$3,"__esModule",{value:!0});stringify$3.default=void 0;stringify$3.unsafeStringify=unsafeStringify;var _validate$2=_interopRequireDefault$7(validate$4);function _interopRequireDefault$7(o){return o&&o.__esModule?o:{default:o}}const byteToHex=[];for(let o=0;o<256;++o)byteToHex.push((o+256).toString(16).slice(1));function unsafeStringify(o,e=0){return byteToHex[o[e+0]]+byteToHex[o[e+1]]+byteToHex[o[e+2]]+byteToHex[o[e+3]]+"-"+byteToHex[o[e+4]]+byteToHex[o[e+5]]+"-"+byteToHex[o[e+6]]+byteToHex[o[e+7]]+"-"+byteToHex[o[e+8]]+byteToHex[o[e+9]]+"-"+byteToHex[o[e+10]]+byteToHex[o[e+11]]+byteToHex[o[e+12]]+byteToHex[o[e+13]]+byteToHex[o[e+14]]+byteToHex[o[e+15]]}function stringify$2(o,e=0){const r=unsafeStringify(o,e);if(!(0,_validate$2.default)(r))throw TypeError("Stringified UUID is invalid");return r}var _default$a=stringify$2;stringify$3.default=_default$a;Object.defineProperty(v1$3,"__esModule",{value:!0});v1$3.default=void 0;var _rng$1=_interopRequireDefault$6(rng$2),_stringify$2=stringify$3;function _interopRequireDefault$6(o){return o&&o.__esModule?o:{default:o}}let _nodeId,_clockseq,_lastMSecs=0,_lastNSecs=0;function v1$2(o,e,r){let u=e&&r||0;const p=e||new Array(16);o=o||{};let h=o.node||_nodeId,y=o.clockseq!==void 0?o.clockseq:_clockseq;if(h==null||y==null){const L=o.random||(o.rng||_rng$1.default)();h==null&&(h=_nodeId=[L[0]|1,L[1],L[2],L[3],L[4],L[5]]),y==null&&(y=_clockseq=(L[6]<<8|L[7])&16383)}let c=o.msecs!==void 0?o.msecs:Date.now(),d=o.nsecs!==void 0?o.nsecs:_lastNSecs+1;const m=c-_lastMSecs+(d-_lastNSecs)/1e4;if(m<0&&o.clockseq===void 0&&(y=y+1&16383),(m<0||c>_lastMSecs)&&o.nsecs===void 0&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=c,_lastNSecs=d,_clockseq=y,c+=122192928e5;const P=((c&268435455)*1e4+d)%4294967296;p[u++]=P>>>24&255,p[u++]=P>>>16&255,p[u++]=P>>>8&255,p[u++]=P&255;const N=c/4294967296*1e4&268435455;p[u++]=N>>>8&255,p[u++]=N&255,p[u++]=N>>>24&15|16,p[u++]=N>>>16&255,p[u++]=y>>>8|128,p[u++]=y&255;for(let L=0;L<6;++L)p[u+L]=h[L];return e||(0,_stringify$2.unsafeStringify)(p)}var _default$9=v1$2;v1$3.default=_default$9;var v3$2={},v35$2={},parse$3={};Object.defineProperty(parse$3,"__esModule",{value:!0});parse$3.default=void 0;var _validate$1=_interopRequireDefault$5(validate$4);function _interopRequireDefault$5(o){return o&&o.__esModule?o:{default:o}}function parse$2(o){if(!(0,_validate$1.default)(o))throw TypeError("Invalid UUID");let e;const r=new Uint8Array(16);return r[0]=(e=parseInt(o.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(o.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(o.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(o.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(o.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var _default$8=parse$2;parse$3.default=_default$8;Object.defineProperty(v35$2,"__esModule",{value:!0});v35$2.URL=v35$2.DNS=void 0;v35$2.default=v35$1;var _stringify$1=stringify$3,_parse=_interopRequireDefault$4(parse$3);function _interopRequireDefault$4(o){return o&&o.__esModule?o:{default:o}}function stringToBytes(o){o=unescape(encodeURIComponent(o));const e=[];for(let r=0;r<o.length;++r)e.push(o.charCodeAt(r));return e}const DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8";v35$2.DNS=DNS;const URL$1="6ba7b811-9dad-11d1-80b4-00c04fd430c8";v35$2.URL=URL$1;function v35$1(o,e,r){function u(p,h,y,c){var d;if(typeof p=="string"&&(p=stringToBytes(p)),typeof h=="string"&&(h=(0,_parse.default)(h)),((d=h)===null||d===void 0?void 0:d.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let m=new Uint8Array(16+p.length);if(m.set(h),m.set(p,h.length),m=r(m),m[6]=m[6]&15|e,m[8]=m[8]&63|128,y){c=c||0;for(let P=0;P<16;++P)y[c+P]=m[P];return y}return(0,_stringify$1.unsafeStringify)(m)}try{u.name=o}catch{}return u.DNS=DNS,u.URL=URL$1,u}var md5$3={};Object.defineProperty(md5$3,"__esModule",{value:!0});md5$3.default=void 0;function md5$2(o){if(typeof o=="string"){const e=unescape(encodeURIComponent(o));o=new Uint8Array(e.length);for(let r=0;r<e.length;++r)o[r]=e.charCodeAt(r)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(o),o.length*8))}function md5ToHexEncodedArray(o){const e=[],r=o.length*32,u="0123456789abcdef";for(let p=0;p<r;p+=8){const h=o[p>>5]>>>p%32&255,y=parseInt(u.charAt(h>>>4&15)+u.charAt(h&15),16);e.push(y)}return e}function getOutputLength(o){return(o+64>>>9<<4)+14+1}function wordsToMd5(o,e){o[e>>5]|=128<<e%32,o[getOutputLength(e)-1]=e;let r=1732584193,u=-271733879,p=-1732584194,h=271733878;for(let y=0;y<o.length;y+=16){const c=r,d=u,m=p,P=h;r=md5ff(r,u,p,h,o[y],7,-680876936),h=md5ff(h,r,u,p,o[y+1],12,-389564586),p=md5ff(p,h,r,u,o[y+2],17,606105819),u=md5ff(u,p,h,r,o[y+3],22,-1044525330),r=md5ff(r,u,p,h,o[y+4],7,-176418897),h=md5ff(h,r,u,p,o[y+5],12,1200080426),p=md5ff(p,h,r,u,o[y+6],17,-1473231341),u=md5ff(u,p,h,r,o[y+7],22,-45705983),r=md5ff(r,u,p,h,o[y+8],7,1770035416),h=md5ff(h,r,u,p,o[y+9],12,-1958414417),p=md5ff(p,h,r,u,o[y+10],17,-42063),u=md5ff(u,p,h,r,o[y+11],22,-1990404162),r=md5ff(r,u,p,h,o[y+12],7,1804603682),h=md5ff(h,r,u,p,o[y+13],12,-40341101),p=md5ff(p,h,r,u,o[y+14],17,-1502002290),u=md5ff(u,p,h,r,o[y+15],22,1236535329),r=md5gg(r,u,p,h,o[y+1],5,-165796510),h=md5gg(h,r,u,p,o[y+6],9,-1069501632),p=md5gg(p,h,r,u,o[y+11],14,643717713),u=md5gg(u,p,h,r,o[y],20,-373897302),r=md5gg(r,u,p,h,o[y+5],5,-701558691),h=md5gg(h,r,u,p,o[y+10],9,38016083),p=md5gg(p,h,r,u,o[y+15],14,-660478335),u=md5gg(u,p,h,r,o[y+4],20,-405537848),r=md5gg(r,u,p,h,o[y+9],5,568446438),h=md5gg(h,r,u,p,o[y+14],9,-1019803690),p=md5gg(p,h,r,u,o[y+3],14,-187363961),u=md5gg(u,p,h,r,o[y+8],20,1163531501),r=md5gg(r,u,p,h,o[y+13],5,-1444681467),h=md5gg(h,r,u,p,o[y+2],9,-51403784),p=md5gg(p,h,r,u,o[y+7],14,1735328473),u=md5gg(u,p,h,r,o[y+12],20,-1926607734),r=md5hh(r,u,p,h,o[y+5],4,-378558),h=md5hh(h,r,u,p,o[y+8],11,-2022574463),p=md5hh(p,h,r,u,o[y+11],16,1839030562),u=md5hh(u,p,h,r,o[y+14],23,-35309556),r=md5hh(r,u,p,h,o[y+1],4,-1530992060),h=md5hh(h,r,u,p,o[y+4],11,1272893353),p=md5hh(p,h,r,u,o[y+7],16,-155497632),u=md5hh(u,p,h,r,o[y+10],23,-1094730640),r=md5hh(r,u,p,h,o[y+13],4,681279174),h=md5hh(h,r,u,p,o[y],11,-358537222),p=md5hh(p,h,r,u,o[y+3],16,-722521979),u=md5hh(u,p,h,r,o[y+6],23,76029189),r=md5hh(r,u,p,h,o[y+9],4,-640364487),h=md5hh(h,r,u,p,o[y+12],11,-421815835),p=md5hh(p,h,r,u,o[y+15],16,530742520),u=md5hh(u,p,h,r,o[y+2],23,-995338651),r=md5ii(r,u,p,h,o[y],6,-198630844),h=md5ii(h,r,u,p,o[y+7],10,1126891415),p=md5ii(p,h,r,u,o[y+14],15,-1416354905),u=md5ii(u,p,h,r,o[y+5],21,-57434055),r=md5ii(r,u,p,h,o[y+12],6,1700485571),h=md5ii(h,r,u,p,o[y+3],10,-1894986606),p=md5ii(p,h,r,u,o[y+10],15,-1051523),u=md5ii(u,p,h,r,o[y+1],21,-2054922799),r=md5ii(r,u,p,h,o[y+8],6,1873313359),h=md5ii(h,r,u,p,o[y+15],10,-30611744),p=md5ii(p,h,r,u,o[y+6],15,-1560198380),u=md5ii(u,p,h,r,o[y+13],21,1309151649),r=md5ii(r,u,p,h,o[y+4],6,-145523070),h=md5ii(h,r,u,p,o[y+11],10,-1120210379),p=md5ii(p,h,r,u,o[y+2],15,718787259),u=md5ii(u,p,h,r,o[y+9],21,-343485551),r=safeAdd(r,c),u=safeAdd(u,d),p=safeAdd(p,m),h=safeAdd(h,P)}return[r,u,p,h]}function bytesToWords(o){if(o.length===0)return[];const e=o.length*8,r=new Uint32Array(getOutputLength(e));for(let u=0;u<e;u+=8)r[u>>5]|=(o[u/8]&255)<<u%32;return r}function safeAdd(o,e){const r=(o&65535)+(e&65535);return(o>>16)+(e>>16)+(r>>16)<<16|r&65535}function bitRotateLeft(o,e){return o<<e|o>>>32-e}function md5cmn(o,e,r,u,p,h){return safeAdd(bitRotateLeft(safeAdd(safeAdd(e,o),safeAdd(u,h)),p),r)}function md5ff(o,e,r,u,p,h,y){return md5cmn(e&r|~e&u,o,e,p,h,y)}function md5gg(o,e,r,u,p,h,y){return md5cmn(e&u|r&~u,o,e,p,h,y)}function md5hh(o,e,r,u,p,h,y){return md5cmn(e^r^u,o,e,p,h,y)}function md5ii(o,e,r,u,p,h,y){return md5cmn(r^(e|~u),o,e,p,h,y)}var _default$7=md5$2;md5$3.default=_default$7;Object.defineProperty(v3$2,"__esModule",{value:!0});v3$2.default=void 0;var _v$1=_interopRequireDefault$3(v35$2),_md=_interopRequireDefault$3(md5$3);function _interopRequireDefault$3(o){return o&&o.__esModule?o:{default:o}}const v3$1=(0,_v$1.default)("v3",48,_md.default);var _default$6=v3$1;v3$2.default=_default$6;var v4$2={},native$1={};Object.defineProperty(native$1,"__esModule",{value:!0});native$1.default=void 0;const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var _default$5={randomUUID};native$1.default=_default$5;Object.defineProperty(v4$2,"__esModule",{value:!0});v4$2.default=void 0;var _native=_interopRequireDefault$2(native$1),_rng=_interopRequireDefault$2(rng$2),_stringify=stringify$3;function _interopRequireDefault$2(o){return o&&o.__esModule?o:{default:o}}function v4$1(o,e,r){if(_native.default.randomUUID&&!e&&!o)return _native.default.randomUUID();o=o||{};const u=o.random||(o.rng||_rng.default)();if(u[6]=u[6]&15|64,u[8]=u[8]&63|128,e){r=r||0;for(let p=0;p<16;++p)e[r+p]=u[p];return e}return(0,_stringify.unsafeStringify)(u)}var _default$4=v4$1;v4$2.default=_default$4;var v5$2={},sha1$3={};Object.defineProperty(sha1$3,"__esModule",{value:!0});sha1$3.default=void 0;function f(o,e,r,u){switch(o){case 0:return e&r^~e&u;case 1:return e^r^u;case 2:return e&r^e&u^r&u;case 3:return e^r^u}}function ROTL(o,e){return o<<e|o>>>32-e}function sha1$2(o){const e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof o=="string"){const y=unescape(encodeURIComponent(o));o=[];for(let c=0;c<y.length;++c)o.push(y.charCodeAt(c))}else Array.isArray(o)||(o=Array.prototype.slice.call(o));o.push(128);const u=o.length/4+2,p=Math.ceil(u/16),h=new Array(p);for(let y=0;y<p;++y){const c=new Uint32Array(16);for(let d=0;d<16;++d)c[d]=o[y*64+d*4]<<24|o[y*64+d*4+1]<<16|o[y*64+d*4+2]<<8|o[y*64+d*4+3];h[y]=c}h[p-1][14]=(o.length-1)*8/Math.pow(2,32),h[p-1][14]=Math.floor(h[p-1][14]),h[p-1][15]=(o.length-1)*8&4294967295;for(let y=0;y<p;++y){const c=new Uint32Array(80);for(let k=0;k<16;++k)c[k]=h[y][k];for(let k=16;k<80;++k)c[k]=ROTL(c[k-3]^c[k-8]^c[k-14]^c[k-16],1);let d=r[0],m=r[1],P=r[2],N=r[3],L=r[4];for(let k=0;k<80;++k){const B=Math.floor(k/20),U=ROTL(d,5)+f(B,m,P,N)+L+e[B]+c[k]>>>0;L=N,N=P,P=ROTL(m,30)>>>0,m=d,d=U}r[0]=r[0]+d>>>0,r[1]=r[1]+m>>>0,r[2]=r[2]+P>>>0,r[3]=r[3]+N>>>0,r[4]=r[4]+L>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var _default$3=sha1$2;sha1$3.default=_default$3;Object.defineProperty(v5$2,"__esModule",{value:!0});v5$2.default=void 0;var _v=_interopRequireDefault$1(v35$2),_sha=_interopRequireDefault$1(sha1$3);function _interopRequireDefault$1(o){return o&&o.__esModule?o:{default:o}}const v5$1=(0,_v.default)("v5",80,_sha.default);var _default$2=v5$1;v5$2.default=_default$2;var nil$1={};Object.defineProperty(nil$1,"__esModule",{value:!0});nil$1.default=void 0;var _default$1="00000000-0000-0000-0000-000000000000";nil$1.default=_default$1;var version$8={};Object.defineProperty(version$8,"__esModule",{value:!0});version$8.default=void 0;var _validate=_interopRequireDefault(validate$4);function _interopRequireDefault(o){return o&&o.__esModule?o:{default:o}}function version$7(o){if(!(0,_validate.default)(o))throw TypeError("Invalid UUID");return parseInt(o.slice(14,15),16)}var _default=version$7;version$8.default=_default;(function(o){Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"NIL",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(o,"parse",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(o,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(o,"v1",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(o,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(o,"v4",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(o,"v5",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(o,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(o,"version",{enumerable:!0,get:function(){return y.default}});var e=P(v1$3),r=P(v3$2),u=P(v4$2),p=P(v5$2),h=P(nil$1),y=P(version$8),c=P(validate$4),d=P(stringify$3),m=P(parse$3);function P(N){return N&&N.__esModule?N:{default:N}}})(commonjsBrowser$1);var interceptor={};Object.defineProperty(interceptor,"__esModule",{value:!0});interceptor.GaxiosInterceptorManager=void 0;class GaxiosInterceptorManager extends Set{}interceptor.GaxiosInterceptorManager=GaxiosInterceptorManager;var dist$1={},browser$3={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var o=1e3,e=o*60,r=e*60,u=r*24,p=u*7,h=u*365.25;ms=function(P,N){N=N||{};var L=typeof P;if(L==="string"&&P.length>0)return y(P);if(L==="number"&&isFinite(P))return N.long?d(P):c(P);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(P))};function y(P){if(P=String(P),!(P.length>100)){var N=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(P);if(N){var L=parseFloat(N[1]),k=(N[2]||"ms").toLowerCase();switch(k){case"years":case"year":case"yrs":case"yr":case"y":return L*h;case"weeks":case"week":case"w":return L*p;case"days":case"day":case"d":return L*u;case"hours":case"hour":case"hrs":case"hr":case"h":return L*r;case"minutes":case"minute":case"mins":case"min":case"m":return L*e;case"seconds":case"second":case"secs":case"sec":case"s":return L*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return L;default:return}}}}function c(P){var N=Math.abs(P);return N>=u?Math.round(P/u)+"d":N>=r?Math.round(P/r)+"h":N>=e?Math.round(P/e)+"m":N>=o?Math.round(P/o)+"s":P+"ms"}function d(P){var N=Math.abs(P);return N>=u?m(P,N,u,"day"):N>=r?m(P,N,r,"hour"):N>=e?m(P,N,e,"minute"):N>=o?m(P,N,o,"second"):P+" ms"}function m(P,N,L,k){var B=N>=L*1.5;return Math.round(P/L)+" "+k+(B?"s":"")}return ms}var common,hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common;hasRequiredCommon$1=1;function o(e){u.debug=u,u.default=u,u.coerce=m,u.disable=c,u.enable=h,u.enabled=d,u.humanize=requireMs(),u.destroy=P,Object.keys(e).forEach(N=>{u[N]=e[N]}),u.names=[],u.skips=[],u.formatters={};function r(N){let L=0;for(let k=0;k<N.length;k++)L=(L<<5)-L+N.charCodeAt(k),L|=0;return u.colors[Math.abs(L)%u.colors.length]}u.selectColor=r;function u(N){let L,k=null,B,U;function $(...j){if(!$.enabled)return;const M=$,q=Number(new Date),Q=q-(L||q);M.diff=Q,M.prev=L,M.curr=q,L=q,j[0]=u.coerce(j[0]),typeof j[0]!="string"&&j.unshift("%O");let K=0;j[0]=j[0].replace(/%([a-zA-Z%])/g,(F,x)=>{if(F==="%%")return"%";K++;const z=u.formatters[x];if(typeof z=="function"){const J=j[K];F=z.call(M,J),j.splice(K,1),K--}return F}),u.formatArgs.call(M,j),(M.log||u.log).apply(M,j)}return $.namespace=N,$.useColors=u.useColors(),$.color=u.selectColor(N),$.extend=p,$.destroy=u.destroy,Object.defineProperty($,"enabled",{enumerable:!0,configurable:!1,get:()=>k!==null?k:(B!==u.namespaces&&(B=u.namespaces,U=u.enabled(N)),U),set:j=>{k=j}}),typeof u.init=="function"&&u.init($),$}function p(N,L){const k=u(this.namespace+(typeof L>"u"?":":L)+N);return k.log=this.log,k}function h(N){u.save(N),u.namespaces=N,u.names=[],u.skips=[];const L=(typeof N=="string"?N:"").trim().replace(" ",",").split(",").filter(Boolean);for(const k of L)k[0]==="-"?u.skips.push(k.slice(1)):u.names.push(k)}function y(N,L){let k=0,B=0,U=-1,$=0;for(;k<N.length;)if(B<L.length&&(L[B]===N[k]||L[B]==="*"))L[B]==="*"?(U=B,$=k,B++):(k++,B++);else if(U!==-1)B=U+1,$++,k=$;else return!1;for(;B<L.length&&L[B]==="*";)B++;return B===L.length}function c(){const N=[...u.names,...u.skips.map(L=>"-"+L)].join(",");return u.enable(""),N}function d(N){for(const L of u.skips)if(y(N,L))return!1;for(const L of u.names)if(y(N,L))return!0;return!1}function m(N){return N instanceof Error?N.stack||N.message:N}function P(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return u.enable(u.load()),u}return common=o,common}var hasRequiredBrowser$2;function requireBrowser$2(){return hasRequiredBrowser$2||(hasRequiredBrowser$2=1,function(o,e){var r={};e.formatArgs=p,e.save=h,e.load=y,e.useColors=u,e.storage=c(),e.destroy=(()=>{let m=!1;return()=>{m||(m=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function u(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let m;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(m=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(m[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function p(m){if(m[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+m[0]+(this.useColors?"%c ":" ")+"+"+o.exports.humanize(this.diff),!this.useColors)return;const P="color: "+this.color;m.splice(1,0,P,"color: inherit");let N=0,L=0;m[0].replace(/%[a-zA-Z%]/g,k=>{k!=="%%"&&(N++,k==="%c"&&(L=N))}),m.splice(L,0,P)}e.log=console.debug||console.log||(()=>{});function h(m){try{m?e.storage.setItem("debug",m):e.storage.removeItem("debug")}catch{}}function y(){let m;try{m=e.storage.getItem("debug")}catch{}return!m&&typeof process<"u"&&"env"in process&&(m=r.DEBUG),m}function c(){try{return localStorage}catch{}}o.exports=requireCommon$1()(e);const{formatters:d}=o.exports;d.j=function(m){try{return JSON.stringify(m)}catch(P){return"[UnexpectedJSONParseError]: "+P.message}}}(browser$3,browser$3.exports)),browser$3.exports}var dist={},helpers$1={},hasRequiredHelpers$1;function requireHelpers$1(){if(hasRequiredHelpers$1)return helpers$1;hasRequiredHelpers$1=1;var o=commonjsGlobal$2&&commonjsGlobal$2.__createBinding||(Object.create?function(d,m,P,N){N===void 0&&(N=P);var L=Object.getOwnPropertyDescriptor(m,P);(!L||("get"in L?!m.__esModule:L.writable||L.configurable))&&(L={enumerable:!0,get:function(){return m[P]}}),Object.defineProperty(d,N,L)}:function(d,m,P,N){N===void 0&&(N=P),d[N]=m[P]}),e=commonjsGlobal$2&&commonjsGlobal$2.__setModuleDefault||(Object.create?function(d,m){Object.defineProperty(d,"default",{enumerable:!0,value:m})}:function(d,m){d.default=m}),r=commonjsGlobal$2&&commonjsGlobal$2.__importStar||function(d){if(d&&d.__esModule)return d;var m={};if(d!=null)for(var P in d)P!=="default"&&Object.prototype.hasOwnProperty.call(d,P)&&o(m,d,P);return e(m,d),m};Object.defineProperty(helpers$1,"__esModule",{value:!0}),helpers$1.req=helpers$1.json=helpers$1.toBuffer=void 0;const u=r(require$$1$3),p=r(require$$1$3);async function h(d){let m=0;const P=[];for await(const N of d)m+=N.length,P.push(N);return Buffer.concat(P,m)}helpers$1.toBuffer=h;async function y(d){const P=(await h(d)).toString("utf8");try{return JSON.parse(P)}catch(N){const L=N;throw L.message+=` (input: ${P})`,L}}helpers$1.json=y;function c(d,m={}){const N=((typeof d=="string"?d:d.href).startsWith("https:")?p:u).request(d,m),L=new Promise((k,B)=>{N.once("response",k).once("error",B).end()});return N.then=L.then.bind(L),N}return helpers$1.req=c,helpers$1}var hasRequiredDist$1;function requireDist$1(){return hasRequiredDist$1||(hasRequiredDist$1=1,function(o){var e=commonjsGlobal$2&&commonjsGlobal$2.__createBinding||(Object.create?function(P,N,L,k){k===void 0&&(k=L);var B=Object.getOwnPropertyDescriptor(N,L);(!B||("get"in B?!N.__esModule:B.writable||B.configurable))&&(B={enumerable:!0,get:function(){return N[L]}}),Object.defineProperty(P,k,B)}:function(P,N,L,k){k===void 0&&(k=L),P[k]=N[L]}),r=commonjsGlobal$2&&commonjsGlobal$2.__setModuleDefault||(Object.create?function(P,N){Object.defineProperty(P,"default",{enumerable:!0,value:N})}:function(P,N){P.default=N}),u=commonjsGlobal$2&&commonjsGlobal$2.__importStar||function(P){if(P&&P.__esModule)return P;var N={};if(P!=null)for(var L in P)L!=="default"&&Object.prototype.hasOwnProperty.call(P,L)&&e(N,P,L);return r(N,P),N},p=commonjsGlobal$2&&commonjsGlobal$2.__exportStar||function(P,N){for(var L in P)L!=="default"&&!Object.prototype.hasOwnProperty.call(N,L)&&e(N,P,L)};Object.defineProperty(o,"__esModule",{value:!0}),o.Agent=void 0;const h=u(require$$1$3),y=u(require$$1$3),c=require$$1$3;p(requireHelpers$1(),o);const d=Symbol("AgentBaseInternalState");class m extends y.Agent{constructor(N){super(N),this[d]={}}isSecureEndpoint(N){if(N){if(typeof N.secureEndpoint=="boolean")return N.secureEndpoint;if(typeof N.protocol=="string")return N.protocol==="https:"}const{stack:L}=new Error;return typeof L!="string"?!1:L.split(`
`).some(k=>k.indexOf("(https.js:")!==-1||k.indexOf("node:https:")!==-1)}incrementSockets(N){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;this.sockets[N]||(this.sockets[N]=[]);const L=new h.Socket({writable:!1});return this.sockets[N].push(L),this.totalSocketCount++,L}decrementSockets(N,L){if(!this.sockets[N]||L===null)return;const k=this.sockets[N],B=k.indexOf(L);B!==-1&&(k.splice(B,1),this.totalSocketCount--,k.length===0&&delete this.sockets[N])}getName(N){return(typeof N.secureEndpoint=="boolean"?N.secureEndpoint:this.isSecureEndpoint(N))?c.Agent.prototype.getName.call(this,N):super.getName(N)}createSocket(N,L,k){const B={...L,secureEndpoint:this.isSecureEndpoint(L)},U=this.getName(B),$=this.incrementSockets(U);Promise.resolve().then(()=>this.connect(N,B)).then(j=>{if(this.decrementSockets(U,$),j instanceof y.Agent)try{return j.addRequest(N,B)}catch(M){return k(M)}this[d].currentSocket=j,super.createSocket(N,L,k)},j=>{this.decrementSockets(U,$),k(j)})}createConnection(){const N=this[d].currentSocket;if(this[d].currentSocket=void 0,!N)throw new Error("No socket was returned in the `connect()` function");return N}get defaultPort(){return this[d].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(N){this[d]&&(this[d].defaultPort=N)}get protocol(){return this[d].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(N){this[d]&&(this[d].protocol=N)}}o.Agent=m}(dist)),dist}var parseProxyResponse={},hasRequiredParseProxyResponse;function requireParseProxyResponse(){if(hasRequiredParseProxyResponse)return parseProxyResponse;hasRequiredParseProxyResponse=1;var o=commonjsGlobal$2&&commonjsGlobal$2.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(parseProxyResponse,"__esModule",{value:!0}),parseProxyResponse.parseProxyResponse=void 0;const r=(0,o(requireBrowser$2()).default)("https-proxy-agent:parse-proxy-response");function u(p){return new Promise((h,y)=>{let c=0;const d=[];function m(){const B=p.read();B?k(B):p.once("readable",m)}function P(){p.removeListener("end",N),p.removeListener("error",L),p.removeListener("readable",m)}function N(){P(),r("onend"),y(new Error("Proxy connection ended before receiving CONNECT response"))}function L(B){P(),r("onerror %o",B),y(B)}function k(B){d.push(B),c+=B.length;const U=Buffer.concat(d,c),$=U.indexOf(`\r
\r
`);if($===-1){r("have not received end of HTTP headers yet..."),m();return}const j=U.slice(0,$).toString("ascii").split(`\r
`),M=j.shift();if(!M)return p.destroy(),y(new Error("No header received from proxy CONNECT response"));const q=M.split(" "),Q=+q[1],K=q.slice(2).join(" "),G={};for(const F of j){if(!F)continue;const x=F.indexOf(":");if(x===-1)return p.destroy(),y(new Error(`Invalid header from proxy CONNECT response: "${F}"`));const z=F.slice(0,x).toLowerCase(),J=F.slice(x+1).trimStart(),Z=G[z];typeof Z=="string"?G[z]=[Z,J]:Array.isArray(Z)?Z.push(J):G[z]=J}r("got proxy server response: %o %o",M,G),P(),h({connect:{statusCode:Q,statusText:K,headers:G},buffered:U})}p.on("error",L),p.on("end",N),m()})}return parseProxyResponse.parseProxyResponse=u,parseProxyResponse}var hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist$1;hasRequiredDist=1;var o=commonjsGlobal$2&&commonjsGlobal$2.__createBinding||(Object.create?function($,j,M,q){q===void 0&&(q=M);var Q=Object.getOwnPropertyDescriptor(j,M);(!Q||("get"in Q?!j.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return j[M]}}),Object.defineProperty($,q,Q)}:function($,j,M,q){q===void 0&&(q=M),$[q]=j[M]}),e=commonjsGlobal$2&&commonjsGlobal$2.__setModuleDefault||(Object.create?function($,j){Object.defineProperty($,"default",{enumerable:!0,value:j})}:function($,j){$.default=j}),r=commonjsGlobal$2&&commonjsGlobal$2.__importStar||function($){if($&&$.__esModule)return $;var j={};if($!=null)for(var M in $)M!=="default"&&Object.prototype.hasOwnProperty.call($,M)&&o(j,$,M);return e(j,$),j},u=commonjsGlobal$2&&commonjsGlobal$2.__importDefault||function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(dist$1,"__esModule",{value:!0}),dist$1.HttpsProxyAgent=void 0;const p=r(require$$1$3),h=r(require$$1$3),y=u(require$$1$3),c=u(requireBrowser$2()),d=requireDist$1(),m=require$$1$3,P=requireParseProxyResponse(),N=(0,c.default)("https-proxy-agent"),L=$=>$.servername===void 0&&$.host&&!p.isIP($.host)?{...$,servername:$.host}:$;class k extends d.Agent{constructor(j,M){super(M),this.options={path:void 0},this.proxy=typeof j=="string"?new m.URL(j):j,this.proxyHeaders=(M==null?void 0:M.headers)??{},N("Creating new HttpsProxyAgent instance: %o",this.proxy.href);const q=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),Q=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...M?U(M,"headers"):null,host:q,port:Q}}async connect(j,M){const{proxy:q}=this;if(!M.host)throw new TypeError('No "host" provided');let Q;q.protocol==="https:"?(N("Creating `tls.Socket`: %o",this.connectOpts),Q=h.connect(L(this.connectOpts))):(N("Creating `net.Socket`: %o",this.connectOpts),Q=p.connect(this.connectOpts));const K=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},G=p.isIPv6(M.host)?`[${M.host}]`:M.host;let F=`CONNECT ${G}:${M.port} HTTP/1.1\r
`;if(q.username||q.password){const X=`${decodeURIComponent(q.username)}:${decodeURIComponent(q.password)}`;K["Proxy-Authorization"]=`Basic ${Buffer.from(X).toString("base64")}`}K.Host=`${G}:${M.port}`,K["Proxy-Connection"]||(K["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(const X of Object.keys(K))F+=`${X}: ${K[X]}\r
`;const x=(0,P.parseProxyResponse)(Q);Q.write(`${F}\r
`);const{connect:z,buffered:J}=await x;if(j.emit("proxyConnect",z),this.emit("proxyConnect",z,j),z.statusCode===200)return j.once("socket",B),M.secureEndpoint?(N("Upgrading socket connection to TLS"),h.connect({...U(L(M),"host","path","port"),socket:Q})):Q;Q.destroy();const Z=new p.Socket({writable:!1});return Z.readable=!0,j.once("socket",X=>{N("Replaying proxy buffer for failed request"),(0,y.default)(X.listenerCount("data")>0),X.push(J),X.push(null)}),Z}}k.protocols=["http","https"],dist$1.HttpsProxyAgent=k;function B($){$.resume()}function U($,...j){const M={};let q;for(q in $)j.includes(q)||(M[q]=$[q]);return M}return dist$1}var define_process_env_default$7={},__createBinding=commonjsGlobal$2&&commonjsGlobal$2.__createBinding||(Object.create?function(o,e,r,u){u===void 0&&(u=r);var p=Object.getOwnPropertyDescriptor(e,r);(!p||("get"in p?!e.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(o,u,p)}:function(o,e,r,u){u===void 0&&(u=r),o[u]=e[r]}),__setModuleDefault=commonjsGlobal$2&&commonjsGlobal$2.__setModuleDefault||(Object.create?function(o,e){Object.defineProperty(o,"default",{enumerable:!0,value:e})}:function(o,e){o.default=e}),__importStar=commonjsGlobal$2&&commonjsGlobal$2.__importStar||function(o){if(o&&o.__esModule)return o;var e={};if(o!=null)for(var r in o)r!=="default"&&Object.prototype.hasOwnProperty.call(o,r)&&__createBinding(e,o,r);return __setModuleDefault(e,o),e},__classPrivateFieldGet$4=commonjsGlobal$2&&commonjsGlobal$2.__classPrivateFieldGet||function(o,e,r,u){if(r==="a"&&!u)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?o!==e||!u:!e.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?u:r==="a"?u.call(o):u?u.value:e.get(o)},__classPrivateFieldSet$1=commonjsGlobal$2&&commonjsGlobal$2.__classPrivateFieldSet||function(o,e,r,u,p){if(u==="m")throw new TypeError("Private method is not writable");if(u==="a"&&!p)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?o!==e||!p:!e.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return u==="a"?p.call(o,r):p?p.value=r:e.set(o,r),r},__importDefault=commonjsGlobal$2&&commonjsGlobal$2.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},_Gaxios_instances,_a$2,_Gaxios_urlMayUseProxy,_Gaxios_applyRequestInterceptors,_Gaxios_applyResponseInterceptors,_Gaxios_prepareRequest,_Gaxios_proxyAgent,_Gaxios_getProxyAgent;Object.defineProperty(gaxios,"__esModule",{value:!0});gaxios.Gaxios=void 0;const extend_1=__importDefault(extend),https_1=require$$1$3,node_fetch_1=__importDefault(requireBrowser$3()),querystring_1$1=__importDefault(require$$1$3),is_stream_1=__importDefault(isStream_1),url_1=require$$1$3,common_1$1=common$1,retry_1=retry,stream_1$2=require$$1$3,uuid_1=commonjsBrowser$1,interceptor_1=interceptor,fetch$1=hasFetch()?window.fetch:node_fetch_1.default;function hasWindow(){return typeof window<"u"&&!!window}function hasFetch(){return hasWindow()&&!!window.fetch}function hasBuffer(){return typeof Buffer<"u"}function hasHeader(o,e){return!!getHeader(o,e)}function getHeader(o,e){e=e.toLowerCase();for(const r of Object.keys((o==null?void 0:o.headers)||{}))if(e===r.toLowerCase())return o.headers[r]}class Gaxios{constructor(e){_Gaxios_instances.add(this),this.agentCache=new Map,this.defaults=e||{},this.interceptors={request:new interceptor_1.GaxiosInterceptorManager,response:new interceptor_1.GaxiosInterceptorManager}}async request(e={}){return e=await __classPrivateFieldGet$4(this,_Gaxios_instances,"m",_Gaxios_prepareRequest).call(this,e),e=await __classPrivateFieldGet$4(this,_Gaxios_instances,"m",_Gaxios_applyRequestInterceptors).call(this,e),__classPrivateFieldGet$4(this,_Gaxios_instances,"m",_Gaxios_applyResponseInterceptors).call(this,this._request(e))}async _defaultAdapter(e){const u=await(e.fetchImplementation||fetch$1)(e.url,e),p=await this.getResponseData(e,u);return this.translateResponse(e,u,p)}async _request(e={}){var r;try{let u;if(e.adapter?u=await e.adapter(e,this._defaultAdapter.bind(this)):u=await this._defaultAdapter(e),!e.validateStatus(u.status)){if(e.responseType==="stream"){let p="";await new Promise(h=>{(u==null?void 0:u.data).on("data",y=>{p+=y}),(u==null?void 0:u.data).on("end",h)}),u.data=p}throw new common_1$1.GaxiosError(`Request failed with status code ${u.status}`,e,u)}return u}catch(u){const p=u instanceof common_1$1.GaxiosError?u:new common_1$1.GaxiosError(u.message,e,void 0,u),{shouldRetry:h,config:y}=await(0,retry_1.getRetryConfig)(p);if(h&&y)return p.config.retryConfig.currentRetryAttempt=y.retryConfig.currentRetryAttempt,e.retryConfig=(r=p.config)===null||r===void 0?void 0:r.retryConfig,this._request(e);throw p}}async getResponseData(e,r){switch(e.responseType){case"stream":return r.body;case"json":{let u=await r.text();try{u=JSON.parse(u)}catch{}return u}case"arraybuffer":return r.arrayBuffer();case"blob":return r.blob();case"text":return r.text();default:return this.getResponseDataFromContentType(r)}}validateStatus(e){return e>=200&&e<300}paramsSerializer(e){return querystring_1$1.default.stringify(e)}translateResponse(e,r,u){const p={};return r.headers.forEach((h,y)=>{p[y]=h}),{config:e,data:u,headers:p,status:r.status,statusText:r.statusText,request:{responseURL:r.url}}}async getResponseDataFromContentType(e){let r=e.headers.get("Content-Type");if(r===null)return e.text();if(r=r.toLowerCase(),r.includes("application/json")){let u=await e.text();try{u=JSON.parse(u)}catch{}return u}else return r.match(/^text\//)?e.text():e.blob()}async*getMultipartRequest(e,r){const u=`--${r}--`;for(const p of e){const h=p.headers["Content-Type"]||"application/octet-stream";yield`--${r}\r
Content-Type: ${h}\r
\r
`,typeof p.content=="string"?yield p.content:yield*p.content,yield`\r
`}yield u}}gaxios.Gaxios=Gaxios;_a$2=Gaxios,_Gaxios_instances=new WeakSet,_Gaxios_urlMayUseProxy=function(e,r=[]){var u,p;const h=new url_1.URL(e),y=[...r],c=((p=(u=define_process_env_default$7.NO_PROXY)!==null&&u!==void 0?u:define_process_env_default$7.no_proxy)===null||p===void 0?void 0:p.split(","))||[];for(const d of c)y.push(d.trim());for(const d of y)if(d instanceof RegExp){if(d.test(h.toString()))return!1}else if(d instanceof url_1.URL){if(d.origin===h.origin)return!1}else if(d.startsWith("*.")||d.startsWith(".")){const m=d.replace(/^\*\./,".");if(h.hostname.endsWith(m))return!1}else if(d===h.origin||d===h.hostname||d===h.href)return!1;return!0},_Gaxios_applyRequestInterceptors=async function(e){let r=Promise.resolve(e);for(const u of this.interceptors.request.values())u&&(r=r.then(u.resolved,u.rejected));return r},_Gaxios_applyResponseInterceptors=async function(e){let r=Promise.resolve(e);for(const u of this.interceptors.response.values())u&&(r=r.then(u.resolved,u.rejected));return r},_Gaxios_prepareRequest=async function(e){var r,u,p,h;const y=(0,extend_1.default)(!0,{},this.defaults,e);if(!y.url)throw new Error("URL is required.");const c=y.baseUrl||y.baseURL;if(c&&(y.url=c.toString()+y.url),y.paramsSerializer=y.paramsSerializer||this.paramsSerializer,y.params&&Object.keys(y.params).length>0){let P=y.paramsSerializer(y.params);P.startsWith("?")&&(P=P.slice(1));const N=y.url.toString().includes("?")?"&":"?";y.url=y.url+N+P}if(typeof e.maxContentLength=="number"&&(y.size=e.maxContentLength),typeof e.maxRedirects=="number"&&(y.follow=e.maxRedirects),y.headers=y.headers||{},y.multipart===void 0&&y.data){const P=typeof FormData>"u"?!1:(y==null?void 0:y.data)instanceof FormData;is_stream_1.default.readable(y.data)?y.body=y.data:hasBuffer()&&Buffer.isBuffer(y.data)?(y.body=y.data,hasHeader(y,"Content-Type")||(y.headers["Content-Type"]="application/json")):typeof y.data=="object"?P||(getHeader(y,"content-type")==="application/x-www-form-urlencoded"?y.body=y.paramsSerializer(y.data):(hasHeader(y,"Content-Type")||(y.headers["Content-Type"]="application/json"),y.body=JSON.stringify(y.data))):y.body=y.data}else if(y.multipart&&y.multipart.length>0){const P=(0,uuid_1.v4)();y.headers["Content-Type"]=`multipart/related; boundary=${P}`;const N=new stream_1$2.PassThrough;y.body=N,(0,stream_1$2.pipeline)(this.getMultipartRequest(y.multipart,P),N,()=>{})}y.validateStatus=y.validateStatus||this.validateStatus,y.responseType=y.responseType||"unknown",!y.headers.Accept&&y.responseType==="json"&&(y.headers.Accept="application/json"),y.method=y.method||"GET";const d=y.proxy||((r=process==null?void 0:define_process_env_default$7)===null||r===void 0?void 0:r.HTTPS_PROXY)||((u=process==null?void 0:define_process_env_default$7)===null||u===void 0?void 0:u.https_proxy)||((p=process==null?void 0:define_process_env_default$7)===null||p===void 0?void 0:p.HTTP_PROXY)||((h=process==null?void 0:define_process_env_default$7)===null||h===void 0?void 0:h.http_proxy),m=__classPrivateFieldGet$4(this,_Gaxios_instances,"m",_Gaxios_urlMayUseProxy).call(this,y.url,y.noProxy);if(!y.agent)if(d&&m){const P=await __classPrivateFieldGet$4(_a$2,_a$2,"m",_Gaxios_getProxyAgent).call(_a$2);this.agentCache.has(d)?y.agent=this.agentCache.get(d):(y.agent=new P(d,{cert:y.cert,key:y.key}),this.agentCache.set(d,y.agent))}else y.cert&&y.key&&(this.agentCache.has(y.key)?y.agent=this.agentCache.get(y.key):(y.agent=new https_1.Agent({cert:y.cert,key:y.key}),this.agentCache.set(y.key,y.agent)));return typeof y.errorRedactor!="function"&&y.errorRedactor!==!1&&(y.errorRedactor=common_1$1.defaultErrorRedactor),y},_Gaxios_getProxyAgent=async function(){return __classPrivateFieldSet$1(this,_a$2,__classPrivateFieldGet$4(this,_a$2,"f",_Gaxios_proxyAgent)||(await Promise.resolve().then(()=>__importStar(requireDist()))).HttpsProxyAgent,"f",_Gaxios_proxyAgent),__classPrivateFieldGet$4(this,_a$2,"f",_Gaxios_proxyAgent)};_Gaxios_proxyAgent={value:void 0};(function(o){var e=commonjsGlobal$2&&commonjsGlobal$2.__createBinding||(Object.create?function(y,c,d,m){m===void 0&&(m=d);var P=Object.getOwnPropertyDescriptor(c,d);(!P||("get"in P?!c.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return c[d]}}),Object.defineProperty(y,m,P)}:function(y,c,d,m){m===void 0&&(m=d),y[m]=c[d]}),r=commonjsGlobal$2&&commonjsGlobal$2.__exportStar||function(y,c){for(var d in y)d!=="default"&&!Object.prototype.hasOwnProperty.call(c,d)&&e(c,y,d)};Object.defineProperty(o,"__esModule",{value:!0}),o.instance=o.Gaxios=o.GaxiosError=void 0,o.request=h;const u=gaxios;Object.defineProperty(o,"Gaxios",{enumerable:!0,get:function(){return u.Gaxios}});var p=common$1;Object.defineProperty(o,"GaxiosError",{enumerable:!0,get:function(){return p.GaxiosError}}),r(interceptor,o),o.instance=new u.Gaxios;async function h(y){return o.instance.request(y)}})(src$5);var jsonBigint={exports:{}},stringify$1={exports:{}},bignumber={exports:{}};(function(o){(function(e){var r,u=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,p=Math.ceil,h=Math.floor,y="[BigNumber Error] ",c=y+"Number primitive has more than 15 significant digits: ",d=1e14,m=14,P=9007199254740991,N=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],L=1e7,k=1e9;function B(G){var F,x,z,J=Re.prototype={constructor:Re,toString:null,valueOf:null},Z=new Re(1),X=20,te=4,be=-7,Ae=21,Ne=-1e7,ke=1e7,Ue=!1,qe=1,Ge=0,Qe={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},Ke="0123456789abcdefghijklmnopqrstuvwxyz",Be=!0;function Re(l,T){var O,H,ae,Oe,ie,s,A,I,n=this;if(!(n instanceof Re))return new Re(l,T);if(T==null){if(l&&l._isBigNumber===!0){n.s=l.s,!l.c||l.e>ke?n.c=n.e=null:l.e<Ne?n.c=[n.e=0]:(n.e=l.e,n.c=l.c.slice());return}if((s=typeof l=="number")&&l*0==0){if(n.s=1/l<0?(l=-l,-1):1,l===~~l){for(Oe=0,ie=l;ie>=10;ie/=10,Oe++);Oe>ke?n.c=n.e=null:(n.e=Oe,n.c=[l]);return}I=String(l)}else{if(!u.test(I=String(l)))return z(n,I,s);n.s=I.charCodeAt(0)==45?(I=I.slice(1),-1):1}(Oe=I.indexOf("."))>-1&&(I=I.replace(".","")),(ie=I.search(/e/i))>0?(Oe<0&&(Oe=ie),Oe+=+I.slice(ie+1),I=I.substring(0,ie)):Oe<0&&(Oe=I.length)}else{if(M(T,2,Ke.length,"Base"),T==10&&Be)return n=new Re(l),je(n,X+n.e+1,te);if(I=String(l),s=typeof l=="number"){if(l*0!=0)return z(n,I,s,T);if(n.s=1/l<0?(I=I.slice(1),-1):1,Re.DEBUG&&I.replace(/^0\.0*|\./,"").length>15)throw Error(c+l)}else n.s=I.charCodeAt(0)===45?(I=I.slice(1),-1):1;for(O=Ke.slice(0,T),Oe=ie=0,A=I.length;ie<A;ie++)if(O.indexOf(H=I.charAt(ie))<0){if(H=="."){if(ie>Oe){Oe=A;continue}}else if(!ae&&(I==I.toUpperCase()&&(I=I.toLowerCase())||I==I.toLowerCase()&&(I=I.toUpperCase()))){ae=!0,ie=-1,Oe=0;continue}return z(n,String(l),s,T)}s=!1,I=x(I,T,10,n.s),(Oe=I.indexOf("."))>-1?I=I.replace(".",""):Oe=I.length}for(ie=0;I.charCodeAt(ie)===48;ie++);for(A=I.length;I.charCodeAt(--A)===48;);if(I=I.slice(ie,++A)){if(A-=ie,s&&Re.DEBUG&&A>15&&(l>P||l!==h(l)))throw Error(c+n.s*l);if((Oe=Oe-ie-1)>ke)n.c=n.e=null;else if(Oe<Ne)n.c=[n.e=0];else{if(n.e=Oe,n.c=[],ie=(Oe+1)%m,Oe<0&&(ie+=m),ie<A){for(ie&&n.c.push(+I.slice(0,ie)),A-=m;ie<A;)n.c.push(+I.slice(ie,ie+=m));ie=m-(I=I.slice(ie)).length}else ie-=A;for(;ie--;I+="0");n.c.push(+I)}}else n.c=[n.e=0]}Re.clone=B,Re.ROUND_UP=0,Re.ROUND_DOWN=1,Re.ROUND_CEIL=2,Re.ROUND_FLOOR=3,Re.ROUND_HALF_UP=4,Re.ROUND_HALF_DOWN=5,Re.ROUND_HALF_EVEN=6,Re.ROUND_HALF_CEIL=7,Re.ROUND_HALF_FLOOR=8,Re.EUCLID=9,Re.config=Re.set=function(l){var T,O;if(l!=null)if(typeof l=="object"){if(l.hasOwnProperty(T="DECIMAL_PLACES")&&(O=l[T],M(O,0,k,T),X=O),l.hasOwnProperty(T="ROUNDING_MODE")&&(O=l[T],M(O,0,8,T),te=O),l.hasOwnProperty(T="EXPONENTIAL_AT")&&(O=l[T],O&&O.pop?(M(O[0],-1e9,0,T),M(O[1],0,k,T),be=O[0],Ae=O[1]):(M(O,-1e9,k,T),be=-(Ae=O<0?-O:O))),l.hasOwnProperty(T="RANGE"))if(O=l[T],O&&O.pop)M(O[0],-1e9,-1,T),M(O[1],1,k,T),Ne=O[0],ke=O[1];else if(M(O,-1e9,k,T),O)Ne=-(ke=O<0?-O:O);else throw Error(y+T+" cannot be zero: "+O);if(l.hasOwnProperty(T="CRYPTO"))if(O=l[T],O===!!O)if(O)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Ue=O;else throw Ue=!O,Error(y+"crypto unavailable");else Ue=O;else throw Error(y+T+" not true or false: "+O);if(l.hasOwnProperty(T="MODULO_MODE")&&(O=l[T],M(O,0,9,T),qe=O),l.hasOwnProperty(T="POW_PRECISION")&&(O=l[T],M(O,0,k,T),Ge=O),l.hasOwnProperty(T="FORMAT"))if(O=l[T],typeof O=="object")Qe=O;else throw Error(y+T+" not an object: "+O);if(l.hasOwnProperty(T="ALPHABET"))if(O=l[T],typeof O=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(O))Be=O.slice(0,10)=="0123456789",Ke=O;else throw Error(y+T+" invalid: "+O)}else throw Error(y+"Object expected: "+l);return{DECIMAL_PLACES:X,ROUNDING_MODE:te,EXPONENTIAL_AT:[be,Ae],RANGE:[Ne,ke],CRYPTO:Ue,MODULO_MODE:qe,POW_PRECISION:Ge,FORMAT:Qe,ALPHABET:Ke}},Re.isBigNumber=function(l){if(!l||l._isBigNumber!==!0)return!1;if(!Re.DEBUG)return!0;var T,O,H=l.c,ae=l.e,Oe=l.s;e:if({}.toString.call(H)=="[object Array]"){if((Oe===1||Oe===-1)&&ae>=-1e9&&ae<=k&&ae===h(ae)){if(H[0]===0){if(ae===0&&H.length===1)return!0;break e}if(T=(ae+1)%m,T<1&&(T+=m),String(H[0]).length==T){for(T=0;T<H.length;T++)if(O=H[T],O<0||O>=d||O!==h(O))break e;if(O!==0)return!0}}}else if(H===null&&ae===null&&(Oe===null||Oe===1||Oe===-1))return!0;throw Error(y+"Invalid BigNumber: "+l)},Re.maximum=Re.max=function(){return xe(arguments,-1)},Re.minimum=Re.min=function(){return xe(arguments,1)},Re.random=function(){var l=9007199254740992,T=Math.random()*l&2097151?function(){return h(Math.random()*l)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(O){var H,ae,Oe,ie,s,A=0,I=[],n=new Re(Z);if(O==null?O=X:M(O,0,k),ie=p(O/m),Ue)if(crypto.getRandomValues){for(H=crypto.getRandomValues(new Uint32Array(ie*=2));A<ie;)s=H[A]*131072+(H[A+1]>>>11),s>=9e15?(ae=crypto.getRandomValues(new Uint32Array(2)),H[A]=ae[0],H[A+1]=ae[1]):(I.push(s%1e14),A+=2);A=ie/2}else if(crypto.randomBytes){for(H=crypto.randomBytes(ie*=7);A<ie;)s=(H[A]&31)*281474976710656+H[A+1]*1099511627776+H[A+2]*4294967296+H[A+3]*16777216+(H[A+4]<<16)+(H[A+5]<<8)+H[A+6],s>=9e15?crypto.randomBytes(7).copy(H,A):(I.push(s%1e14),A+=7);A=ie/7}else throw Ue=!1,Error(y+"crypto unavailable");if(!Ue)for(;A<ie;)s=T(),s<9e15&&(I[A++]=s%1e14);for(ie=I[--A],O%=m,ie&&O&&(s=N[m-O],I[A]=h(ie/s)*s);I[A]===0;I.pop(),A--);if(A<0)I=[Oe=0];else{for(Oe=-1;I[0]===0;I.splice(0,1),Oe-=m);for(A=1,s=I[0];s>=10;s/=10,A++);A<m&&(Oe-=m-A)}return n.e=Oe,n.c=I,n}}(),Re.sum=function(){for(var l=1,T=arguments,O=new Re(T[0]);l<T.length;)O=O.plus(T[l++]);return O},x=function(){var l="0123456789";function T(O,H,ae,Oe){for(var ie,s=[0],A,I=0,n=O.length;I<n;){for(A=s.length;A--;s[A]*=H);for(s[0]+=Oe.indexOf(O.charAt(I++)),ie=0;ie<s.length;ie++)s[ie]>ae-1&&(s[ie+1]==null&&(s[ie+1]=0),s[ie+1]+=s[ie]/ae|0,s[ie]%=ae)}return s.reverse()}return function(O,H,ae,Oe,ie){var s,A,I,n,R,V,ee,Me,rt=O.indexOf("."),nt=X,Ze=te;for(rt>=0&&(n=Ge,Ge=0,O=O.replace(".",""),Me=new Re(H),V=Me.pow(O.length-rt),Ge=n,Me.c=T(K($(V.c),V.e,"0"),10,ae,l),Me.e=Me.c.length),ee=T(O,H,ae,ie?(s=Ke,l):(s=l,Ke)),I=n=ee.length;ee[--n]==0;ee.pop());if(!ee[0])return s.charAt(0);if(rt<0?--I:(V.c=ee,V.e=I,V.s=Oe,V=F(V,Me,nt,Ze,ae),ee=V.c,R=V.r,I=V.e),A=I+nt+1,rt=ee[A],n=ae/2,R=R||A<0||ee[A+1]!=null,R=Ze<4?(rt!=null||R)&&(Ze==0||Ze==(V.s<0?3:2)):rt>n||rt==n&&(Ze==4||R||Ze==6&&ee[A-1]&1||Ze==(V.s<0?8:7)),A<1||!ee[0])O=R?K(s.charAt(1),-nt,s.charAt(0)):s.charAt(0);else{if(ee.length=A,R)for(--ae;++ee[--A]>ae;)ee[A]=0,A||(++I,ee=[1].concat(ee));for(n=ee.length;!ee[--n];);for(rt=0,O="";rt<=n;O+=s.charAt(ee[rt++]));O=K(O,I,s.charAt(0))}return O}}(),F=function(){function l(H,ae,Oe){var ie,s,A,I,n=0,R=H.length,V=ae%L,ee=ae/L|0;for(H=H.slice();R--;)A=H[R]%L,I=H[R]/L|0,ie=ee*A+I*V,s=V*A+ie%L*L+n,n=(s/Oe|0)+(ie/L|0)+ee*I,H[R]=s%Oe;return n&&(H=[n].concat(H)),H}function T(H,ae,Oe,ie){var s,A;if(Oe!=ie)A=Oe>ie?1:-1;else for(s=A=0;s<Oe;s++)if(H[s]!=ae[s]){A=H[s]>ae[s]?1:-1;break}return A}function O(H,ae,Oe,ie){for(var s=0;Oe--;)H[Oe]-=s,s=H[Oe]<ae[Oe]?1:0,H[Oe]=s*ie+H[Oe]-ae[Oe];for(;!H[0]&&H.length>1;H.splice(0,1));}return function(H,ae,Oe,ie,s){var A,I,n,R,V,ee,Me,rt,nt,Ze,lt,ft,gt,Xe,We,et,at,ot=H.s==ae.s?1:-1,pt=H.c,dt=ae.c;if(!pt||!pt[0]||!dt||!dt[0])return new Re(!H.s||!ae.s||(pt?dt&&pt[0]==dt[0]:!dt)?NaN:pt&&pt[0]==0||!dt?ot*0:ot/0);for(rt=new Re(ot),nt=rt.c=[],I=H.e-ae.e,ot=Oe+I+1,s||(s=d,I=U(H.e/m)-U(ae.e/m),ot=ot/m|0),n=0;dt[n]==(pt[n]||0);n++);if(dt[n]>(pt[n]||0)&&I--,ot<0)nt.push(1),R=!0;else{for(Xe=pt.length,et=dt.length,n=0,ot+=2,V=h(s/(dt[0]+1)),V>1&&(dt=l(dt,V,s),pt=l(pt,V,s),et=dt.length,Xe=pt.length),gt=et,Ze=pt.slice(0,et),lt=Ze.length;lt<et;Ze[lt++]=0);at=dt.slice(),at=[0].concat(at),We=dt[0],dt[1]>=s/2&&We++;do{if(V=0,A=T(dt,Ze,et,lt),A<0){if(ft=Ze[0],et!=lt&&(ft=ft*s+(Ze[1]||0)),V=h(ft/We),V>1)for(V>=s&&(V=s-1),ee=l(dt,V,s),Me=ee.length,lt=Ze.length;T(ee,Ze,Me,lt)==1;)V--,O(ee,et<Me?at:dt,Me,s),Me=ee.length,A=1;else V==0&&(A=V=1),ee=dt.slice(),Me=ee.length;if(Me<lt&&(ee=[0].concat(ee)),O(Ze,ee,lt,s),lt=Ze.length,A==-1)for(;T(dt,Ze,et,lt)<1;)V++,O(Ze,et<lt?at:dt,lt,s),lt=Ze.length}else A===0&&(V++,Ze=[0]);nt[n++]=V,Ze[0]?Ze[lt++]=pt[gt]||0:(Ze=[pt[gt]],lt=1)}while((gt++<Xe||Ze[0]!=null)&&ot--);R=Ze[0]!=null,nt[0]||nt.splice(0,1)}if(s==d){for(n=1,ot=nt[0];ot>=10;ot/=10,n++);je(rt,Oe+(rt.e=n+I*m-1)+1,ie,R)}else rt.e=I,rt.r=+R;return rt}}();function $e(l,T,O,H){var ae,Oe,ie,s,A;if(O==null?O=te:M(O,0,8),!l.c)return l.toString();if(ae=l.c[0],ie=l.e,T==null)A=$(l.c),A=H==1||H==2&&(ie<=be||ie>=Ae)?Q(A,ie):K(A,ie,"0");else if(l=je(new Re(l),T,O),Oe=l.e,A=$(l.c),s=A.length,H==1||H==2&&(T<=Oe||Oe<=be)){for(;s<T;A+="0",s++);A=Q(A,Oe)}else if(T-=ie,A=K(A,Oe,"0"),Oe+1>s){if(--T>0)for(A+=".";T--;A+="0");}else if(T+=Oe-s,T>0)for(Oe+1==s&&(A+=".");T--;A+="0");return l.s<0&&ae?"-"+A:A}function xe(l,T){for(var O,H,ae=1,Oe=new Re(l[0]);ae<l.length;ae++)H=new Re(l[ae]),(!H.s||(O=j(Oe,H))===T||O===0&&Oe.s===T)&&(Oe=H);return Oe}function Le(l,T,O){for(var H=1,ae=T.length;!T[--ae];T.pop());for(ae=T[0];ae>=10;ae/=10,H++);return(O=H+O*m-1)>ke?l.c=l.e=null:O<Ne?l.c=[l.e=0]:(l.e=O,l.c=T),l}z=function(){var l=/^(-?)0([xbo])(?=\w[\w.]*$)/i,T=/^([^.]+)\.$/,O=/^\.([^.]+)$/,H=/^-?(Infinity|NaN)$/,ae=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Oe,ie,s,A){var I,n=s?ie:ie.replace(ae,"");if(H.test(n))Oe.s=isNaN(n)?null:n<0?-1:1;else{if(!s&&(n=n.replace(l,function(R,V,ee){return I=(ee=ee.toLowerCase())=="x"?16:ee=="b"?2:8,!A||A==I?V:R}),A&&(I=A,n=n.replace(T,"$1").replace(O,"0.$1")),ie!=n))return new Re(n,I);if(Re.DEBUG)throw Error(y+"Not a"+(A?" base "+A:"")+" number: "+ie);Oe.s=null}Oe.c=Oe.e=null}}();function je(l,T,O,H){var ae,Oe,ie,s,A,I,n,R=l.c,V=N;if(R){e:{for(ae=1,s=R[0];s>=10;s/=10,ae++);if(Oe=T-ae,Oe<0)Oe+=m,ie=T,A=R[I=0],n=h(A/V[ae-ie-1]%10);else if(I=p((Oe+1)/m),I>=R.length)if(H){for(;R.length<=I;R.push(0));A=n=0,ae=1,Oe%=m,ie=Oe-m+1}else break e;else{for(A=s=R[I],ae=1;s>=10;s/=10,ae++);Oe%=m,ie=Oe-m+ae,n=ie<0?0:h(A/V[ae-ie-1]%10)}if(H=H||T<0||R[I+1]!=null||(ie<0?A:A%V[ae-ie-1]),H=O<4?(n||H)&&(O==0||O==(l.s<0?3:2)):n>5||n==5&&(O==4||H||O==6&&(Oe>0?ie>0?A/V[ae-ie]:0:R[I-1])%10&1||O==(l.s<0?8:7)),T<1||!R[0])return R.length=0,H?(T-=l.e+1,R[0]=V[(m-T%m)%m],l.e=-T||0):R[0]=l.e=0,l;if(Oe==0?(R.length=I,s=1,I--):(R.length=I+1,s=V[m-Oe],R[I]=ie>0?h(A/V[ae-ie]%V[ie])*s:0),H)for(;;)if(I==0){for(Oe=1,ie=R[0];ie>=10;ie/=10,Oe++);for(ie=R[0]+=s,s=1;ie>=10;ie/=10,s++);Oe!=s&&(l.e++,R[0]==d&&(R[0]=1));break}else{if(R[I]+=s,R[I]!=d)break;R[I--]=0,s=1}for(Oe=R.length;R[--Oe]===0;R.pop());}l.e>ke?l.c=l.e=null:l.e<Ne&&(l.c=[l.e=0])}return l}function Y(l){var T,O=l.e;return O===null?l.toString():(T=$(l.c),T=O<=be||O>=Ae?Q(T,O):K(T,O,"0"),l.s<0?"-"+T:T)}return J.absoluteValue=J.abs=function(){var l=new Re(this);return l.s<0&&(l.s=1),l},J.comparedTo=function(l,T){return j(this,new Re(l,T))},J.decimalPlaces=J.dp=function(l,T){var O,H,ae,Oe=this;if(l!=null)return M(l,0,k),T==null?T=te:M(T,0,8),je(new Re(Oe),l+Oe.e+1,T);if(!(O=Oe.c))return null;if(H=((ae=O.length-1)-U(this.e/m))*m,ae=O[ae])for(;ae%10==0;ae/=10,H--);return H<0&&(H=0),H},J.dividedBy=J.div=function(l,T){return F(this,new Re(l,T),X,te)},J.dividedToIntegerBy=J.idiv=function(l,T){return F(this,new Re(l,T),0,1)},J.exponentiatedBy=J.pow=function(l,T){var O,H,ae,Oe,ie,s,A,I,n,R=this;if(l=new Re(l),l.c&&!l.isInteger())throw Error(y+"Exponent not an integer: "+Y(l));if(T!=null&&(T=new Re(T)),s=l.e>14,!R.c||!R.c[0]||R.c[0]==1&&!R.e&&R.c.length==1||!l.c||!l.c[0])return n=new Re(Math.pow(+Y(R),s?l.s*(2-q(l)):+Y(l))),T?n.mod(T):n;if(A=l.s<0,T){if(T.c?!T.c[0]:!T.s)return new Re(NaN);H=!A&&R.isInteger()&&T.isInteger(),H&&(R=R.mod(T))}else{if(l.e>9&&(R.e>0||R.e<-1||(R.e==0?R.c[0]>1||s&&R.c[1]>=24e7:R.c[0]<8e13||s&&R.c[0]<=9999975e7)))return Oe=R.s<0&&q(l)?-0:0,R.e>-1&&(Oe=1/Oe),new Re(A?1/Oe:Oe);Ge&&(Oe=p(Ge/m+2))}for(s?(O=new Re(.5),A&&(l.s=1),I=q(l)):(ae=Math.abs(+Y(l)),I=ae%2),n=new Re(Z);;){if(I){if(n=n.times(R),!n.c)break;Oe?n.c.length>Oe&&(n.c.length=Oe):H&&(n=n.mod(T))}if(ae){if(ae=h(ae/2),ae===0)break;I=ae%2}else if(l=l.times(O),je(l,l.e+1,1),l.e>14)I=q(l);else{if(ae=+Y(l),ae===0)break;I=ae%2}R=R.times(R),Oe?R.c&&R.c.length>Oe&&(R.c.length=Oe):H&&(R=R.mod(T))}return H?n:(A&&(n=Z.div(n)),T?n.mod(T):Oe?je(n,Ge,te,ie):n)},J.integerValue=function(l){var T=new Re(this);return l==null?l=te:M(l,0,8),je(T,T.e+1,l)},J.isEqualTo=J.eq=function(l,T){return j(this,new Re(l,T))===0},J.isFinite=function(){return!!this.c},J.isGreaterThan=J.gt=function(l,T){return j(this,new Re(l,T))>0},J.isGreaterThanOrEqualTo=J.gte=function(l,T){return(T=j(this,new Re(l,T)))===1||T===0},J.isInteger=function(){return!!this.c&&U(this.e/m)>this.c.length-2},J.isLessThan=J.lt=function(l,T){return j(this,new Re(l,T))<0},J.isLessThanOrEqualTo=J.lte=function(l,T){return(T=j(this,new Re(l,T)))===-1||T===0},J.isNaN=function(){return!this.s},J.isNegative=function(){return this.s<0},J.isPositive=function(){return this.s>0},J.isZero=function(){return!!this.c&&this.c[0]==0},J.minus=function(l,T){var O,H,ae,Oe,ie=this,s=ie.s;if(l=new Re(l,T),T=l.s,!s||!T)return new Re(NaN);if(s!=T)return l.s=-T,ie.plus(l);var A=ie.e/m,I=l.e/m,n=ie.c,R=l.c;if(!A||!I){if(!n||!R)return n?(l.s=-T,l):new Re(R?ie:NaN);if(!n[0]||!R[0])return R[0]?(l.s=-T,l):new Re(n[0]?ie:te==3?-0:0)}if(A=U(A),I=U(I),n=n.slice(),s=A-I){for((Oe=s<0)?(s=-s,ae=n):(I=A,ae=R),ae.reverse(),T=s;T--;ae.push(0));ae.reverse()}else for(H=(Oe=(s=n.length)<(T=R.length))?s:T,s=T=0;T<H;T++)if(n[T]!=R[T]){Oe=n[T]<R[T];break}if(Oe&&(ae=n,n=R,R=ae,l.s=-l.s),T=(H=R.length)-(O=n.length),T>0)for(;T--;n[O++]=0);for(T=d-1;H>s;){if(n[--H]<R[H]){for(O=H;O&&!n[--O];n[O]=T);--n[O],n[H]+=d}n[H]-=R[H]}for(;n[0]==0;n.splice(0,1),--I);return n[0]?Le(l,n,I):(l.s=te==3?-1:1,l.c=[l.e=0],l)},J.modulo=J.mod=function(l,T){var O,H,ae=this;return l=new Re(l,T),!ae.c||!l.s||l.c&&!l.c[0]?new Re(NaN):!l.c||ae.c&&!ae.c[0]?new Re(ae):(qe==9?(H=l.s,l.s=1,O=F(ae,l,0,3),l.s=H,O.s*=H):O=F(ae,l,0,qe),l=ae.minus(O.times(l)),!l.c[0]&&qe==1&&(l.s=ae.s),l)},J.multipliedBy=J.times=function(l,T){var O,H,ae,Oe,ie,s,A,I,n,R,V,ee,Me,rt,nt,Ze=this,lt=Ze.c,ft=(l=new Re(l,T)).c;if(!lt||!ft||!lt[0]||!ft[0])return!Ze.s||!l.s||lt&&!lt[0]&&!ft||ft&&!ft[0]&&!lt?l.c=l.e=l.s=null:(l.s*=Ze.s,!lt||!ft?l.c=l.e=null:(l.c=[0],l.e=0)),l;for(H=U(Ze.e/m)+U(l.e/m),l.s*=Ze.s,A=lt.length,R=ft.length,A<R&&(Me=lt,lt=ft,ft=Me,ae=A,A=R,R=ae),ae=A+R,Me=[];ae--;Me.push(0));for(rt=d,nt=L,ae=R;--ae>=0;){for(O=0,V=ft[ae]%nt,ee=ft[ae]/nt|0,ie=A,Oe=ae+ie;Oe>ae;)I=lt[--ie]%nt,n=lt[ie]/nt|0,s=ee*I+n*V,I=V*I+s%nt*nt+Me[Oe]+O,O=(I/rt|0)+(s/nt|0)+ee*n,Me[Oe--]=I%rt;Me[Oe]=O}return O?++H:Me.splice(0,1),Le(l,Me,H)},J.negated=function(){var l=new Re(this);return l.s=-l.s||null,l},J.plus=function(l,T){var O,H=this,ae=H.s;if(l=new Re(l,T),T=l.s,!ae||!T)return new Re(NaN);if(ae!=T)return l.s=-T,H.minus(l);var Oe=H.e/m,ie=l.e/m,s=H.c,A=l.c;if(!Oe||!ie){if(!s||!A)return new Re(ae/0);if(!s[0]||!A[0])return A[0]?l:new Re(s[0]?H:ae*0)}if(Oe=U(Oe),ie=U(ie),s=s.slice(),ae=Oe-ie){for(ae>0?(ie=Oe,O=A):(ae=-ae,O=s),O.reverse();ae--;O.push(0));O.reverse()}for(ae=s.length,T=A.length,ae-T<0&&(O=A,A=s,s=O,T=ae),ae=0;T;)ae=(s[--T]=s[T]+A[T]+ae)/d|0,s[T]=d===s[T]?0:s[T]%d;return ae&&(s=[ae].concat(s),++ie),Le(l,s,ie)},J.precision=J.sd=function(l,T){var O,H,ae,Oe=this;if(l!=null&&l!==!!l)return M(l,1,k),T==null?T=te:M(T,0,8),je(new Re(Oe),l,T);if(!(O=Oe.c))return null;if(ae=O.length-1,H=ae*m+1,ae=O[ae]){for(;ae%10==0;ae/=10,H--);for(ae=O[0];ae>=10;ae/=10,H++);}return l&&Oe.e+1>H&&(H=Oe.e+1),H},J.shiftedBy=function(l){return M(l,-9007199254740991,P),this.times("1e"+l)},J.squareRoot=J.sqrt=function(){var l,T,O,H,ae,Oe=this,ie=Oe.c,s=Oe.s,A=Oe.e,I=X+4,n=new Re("0.5");if(s!==1||!ie||!ie[0])return new Re(!s||s<0&&(!ie||ie[0])?NaN:ie?Oe:1/0);if(s=Math.sqrt(+Y(Oe)),s==0||s==1/0?(T=$(ie),(T.length+A)%2==0&&(T+="0"),s=Math.sqrt(+T),A=U((A+1)/2)-(A<0||A%2),s==1/0?T="5e"+A:(T=s.toExponential(),T=T.slice(0,T.indexOf("e")+1)+A),O=new Re(T)):O=new Re(s+""),O.c[0]){for(A=O.e,s=A+I,s<3&&(s=0);;)if(ae=O,O=n.times(ae.plus(F(Oe,ae,I,1))),$(ae.c).slice(0,s)===(T=$(O.c)).slice(0,s))if(O.e<A&&--s,T=T.slice(s-3,s+1),T=="9999"||!H&&T=="4999"){if(!H&&(je(ae,ae.e+X+2,0),ae.times(ae).eq(Oe))){O=ae;break}I+=4,s+=4,H=1}else{(!+T||!+T.slice(1)&&T.charAt(0)=="5")&&(je(O,O.e+X+2,1),l=!O.times(O).eq(Oe));break}}return je(O,O.e+X+1,te,l)},J.toExponential=function(l,T){return l!=null&&(M(l,0,k),l++),$e(this,l,T,1)},J.toFixed=function(l,T){return l!=null&&(M(l,0,k),l=l+this.e+1),$e(this,l,T)},J.toFormat=function(l,T,O){var H,ae=this;if(O==null)l!=null&&T&&typeof T=="object"?(O=T,T=null):l&&typeof l=="object"?(O=l,l=T=null):O=Qe;else if(typeof O!="object")throw Error(y+"Argument not an object: "+O);if(H=ae.toFixed(l,T),ae.c){var Oe,ie=H.split("."),s=+O.groupSize,A=+O.secondaryGroupSize,I=O.groupSeparator||"",n=ie[0],R=ie[1],V=ae.s<0,ee=V?n.slice(1):n,Me=ee.length;if(A&&(Oe=s,s=A,A=Oe,Me-=Oe),s>0&&Me>0){for(Oe=Me%s||s,n=ee.substr(0,Oe);Oe<Me;Oe+=s)n+=I+ee.substr(Oe,s);A>0&&(n+=I+ee.slice(Oe)),V&&(n="-"+n)}H=R?n+(O.decimalSeparator||"")+((A=+O.fractionGroupSize)?R.replace(new RegExp("\\d{"+A+"}\\B","g"),"$&"+(O.fractionGroupSeparator||"")):R):n}return(O.prefix||"")+H+(O.suffix||"")},J.toFraction=function(l){var T,O,H,ae,Oe,ie,s,A,I,n,R,V,ee=this,Me=ee.c;if(l!=null&&(s=new Re(l),!s.isInteger()&&(s.c||s.s!==1)||s.lt(Z)))throw Error(y+"Argument "+(s.isInteger()?"out of range: ":"not an integer: ")+Y(s));if(!Me)return new Re(ee);for(T=new Re(Z),I=O=new Re(Z),H=A=new Re(Z),V=$(Me),Oe=T.e=V.length-ee.e-1,T.c[0]=N[(ie=Oe%m)<0?m+ie:ie],l=!l||s.comparedTo(T)>0?Oe>0?T:I:s,ie=ke,ke=1/0,s=new Re(V),A.c[0]=0;n=F(s,T,0,1),ae=O.plus(n.times(H)),ae.comparedTo(l)!=1;)O=H,H=ae,I=A.plus(n.times(ae=I)),A=ae,T=s.minus(n.times(ae=T)),s=ae;return ae=F(l.minus(O),H,0,1),A=A.plus(ae.times(I)),O=O.plus(ae.times(H)),A.s=I.s=ee.s,Oe=Oe*2,R=F(I,H,Oe,te).minus(ee).abs().comparedTo(F(A,O,Oe,te).minus(ee).abs())<1?[I,H]:[A,O],ke=ie,R},J.toNumber=function(){return+Y(this)},J.toPrecision=function(l,T){return l!=null&&M(l,1,k),$e(this,l,T,2)},J.toString=function(l){var T,O=this,H=O.s,ae=O.e;return ae===null?H?(T="Infinity",H<0&&(T="-"+T)):T="NaN":(l==null?T=ae<=be||ae>=Ae?Q($(O.c),ae):K($(O.c),ae,"0"):l===10&&Be?(O=je(new Re(O),X+ae+1,te),T=K($(O.c),O.e,"0")):(M(l,2,Ke.length,"Base"),T=x(K($(O.c),ae,"0"),10,l,H,!0)),H<0&&O.c[0]&&(T="-"+T)),T},J.valueOf=J.toJSON=function(){return Y(this)},J._isBigNumber=!0,G!=null&&Re.set(G),Re}function U(G){var F=G|0;return G>0||G===F?F:F-1}function $(G){for(var F,x,z=1,J=G.length,Z=G[0]+"";z<J;){for(F=G[z++]+"",x=m-F.length;x--;F="0"+F);Z+=F}for(J=Z.length;Z.charCodeAt(--J)===48;);return Z.slice(0,J+1||1)}function j(G,F){var x,z,J=G.c,Z=F.c,X=G.s,te=F.s,be=G.e,Ae=F.e;if(!X||!te)return null;if(x=J&&!J[0],z=Z&&!Z[0],x||z)return x?z?0:-te:X;if(X!=te)return X;if(x=X<0,z=be==Ae,!J||!Z)return z?0:!J^x?1:-1;if(!z)return be>Ae^x?1:-1;for(te=(be=J.length)<(Ae=Z.length)?be:Ae,X=0;X<te;X++)if(J[X]!=Z[X])return J[X]>Z[X]^x?1:-1;return be==Ae?0:be>Ae^x?1:-1}function M(G,F,x,z){if(G<F||G>x||G!==h(G))throw Error(y+(z||"Argument")+(typeof G=="number"?G<F||G>x?" out of range: ":" not an integer: ":" not a primitive number: ")+String(G))}function q(G){var F=G.c.length-1;return U(G.e/m)==F&&G.c[F]%2!=0}function Q(G,F){return(G.length>1?G.charAt(0)+"."+G.slice(1):G)+(F<0?"e":"e+")+F}function K(G,F,x){var z,J;if(F<0){for(J=x+".";++F;J+=x);G=J+G}else if(z=G.length,++F>z){for(J=x,F-=z;--F;J+=x);G+=J}else F<z&&(G=G.slice(0,F)+"."+G.slice(F));return G}r=B(),r.default=r.BigNumber=r,o.exports?o.exports=r:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=r)})(commonjsGlobal$2)})(bignumber);var bignumberExports=bignumber.exports;(function(o){var e=bignumberExports,r=o.exports;(function(){var u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,p,h,y={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},c;function d(P){return u.lastIndex=0,u.test(P)?'"'+P.replace(u,function(N){var L=y[N];return typeof L=="string"?L:"\\u"+("0000"+N.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+P+'"'}function m(P,N){var L,k,B,U,$=p,j,M=N[P],q=M!=null&&(M instanceof e||e.isBigNumber(M));switch(M&&typeof M=="object"&&typeof M.toJSON=="function"&&(M=M.toJSON(P)),typeof c=="function"&&(M=c.call(N,P,M)),typeof M){case"string":return q?M:d(M);case"number":return isFinite(M)?String(M):"null";case"boolean":case"null":case"bigint":return String(M);case"object":if(!M)return"null";if(p+=h,j=[],Object.prototype.toString.apply(M)==="[object Array]"){for(U=M.length,L=0;L<U;L+=1)j[L]=m(L,M)||"null";return B=j.length===0?"[]":p?`[
`+p+j.join(`,
`+p)+`
`+$+"]":"["+j.join(",")+"]",p=$,B}if(c&&typeof c=="object")for(U=c.length,L=0;L<U;L+=1)typeof c[L]=="string"&&(k=c[L],B=m(k,M),B&&j.push(d(k)+(p?": ":":")+B));else Object.keys(M).forEach(function(Q){var K=m(Q,M);K&&j.push(d(Q)+(p?": ":":")+K)});return B=j.length===0?"{}":p?`{
`+p+j.join(`,
`+p)+`
`+$+"}":"{"+j.join(",")+"}",p=$,B}}typeof r.stringify!="function"&&(r.stringify=function(P,N,L){var k;if(p="",h="",typeof L=="number")for(k=0;k<L;k+=1)h+=" ";else typeof L=="string"&&(h=L);if(c=N,N&&typeof N!="function"&&(typeof N!="object"||typeof N.length!="number"))throw new Error("JSON.stringify");return m("",{"":P})})})()})(stringify$1);var stringifyExports=stringify$1.exports,BigNumber=null;const suspectProtoRx=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,suspectConstructorRx=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;var json_parse$1=function(o){var e={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(o!=null){if(o.strict===!0&&(e.strict=!0),o.storeAsString===!0&&(e.storeAsString=!0),e.alwaysParseAsBig=o.alwaysParseAsBig===!0?o.alwaysParseAsBig:!1,e.useNativeBigInt=o.useNativeBigInt===!0?o.useNativeBigInt:!1,typeof o.constructorAction<"u")if(o.constructorAction==="error"||o.constructorAction==="ignore"||o.constructorAction==="preserve")e.constructorAction=o.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${o.constructorAction}`);if(typeof o.protoAction<"u")if(o.protoAction==="error"||o.protoAction==="ignore"||o.protoAction==="preserve")e.protoAction=o.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${o.protoAction}`)}var r,u,p={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},h,y=function(U){throw{name:"SyntaxError",message:U,at:r,text:h}},c=function(U){return U&&U!==u&&y("Expected '"+U+"' instead of '"+u+"'"),u=h.charAt(r),r+=1,u},d=function(){var U,$="";for(u==="-"&&($="-",c("-"));u>="0"&&u<="9";)$+=u,c();if(u===".")for($+=".";c()&&u>="0"&&u<="9";)$+=u;if(u==="e"||u==="E")for($+=u,c(),(u==="-"||u==="+")&&($+=u,c());u>="0"&&u<="9";)$+=u,c();if(U=+$,!isFinite(U))y("Bad number");else return BigNumber==null&&(BigNumber=bignumberExports),$.length>15?e.storeAsString?$:e.useNativeBigInt?BigInt($):new BigNumber($):e.alwaysParseAsBig?e.useNativeBigInt?BigInt(U):new BigNumber(U):U},m=function(){var U,$,j="",M;if(u==='"')for(var q=r;c();){if(u==='"')return r-1>q&&(j+=h.substring(q,r-1)),c(),j;if(u==="\\"){if(r-1>q&&(j+=h.substring(q,r-1)),c(),u==="u"){for(M=0,$=0;$<4&&(U=parseInt(c(),16),!!isFinite(U));$+=1)M=M*16+U;j+=String.fromCharCode(M)}else if(typeof p[u]=="string")j+=p[u];else break;q=r}}y("Bad string")},P=function(){for(;u&&u<=" ";)c()},N=function(){switch(u){case"t":return c("t"),c("r"),c("u"),c("e"),!0;case"f":return c("f"),c("a"),c("l"),c("s"),c("e"),!1;case"n":return c("n"),c("u"),c("l"),c("l"),null}y("Unexpected '"+u+"'")},L,k=function(){var U=[];if(u==="["){if(c("["),P(),u==="]")return c("]"),U;for(;u;){if(U.push(L()),P(),u==="]")return c("]"),U;c(","),P()}}y("Bad array")},B=function(){var U,$=Object.create(null);if(u==="{"){if(c("{"),P(),u==="}")return c("}"),$;for(;u;){if(U=m(),P(),c(":"),e.strict===!0&&Object.hasOwnProperty.call($,U)&&y('Duplicate key "'+U+'"'),suspectProtoRx.test(U)===!0?e.protoAction==="error"?y("Object contains forbidden prototype property"):e.protoAction==="ignore"?L():$[U]=L():suspectConstructorRx.test(U)===!0?e.constructorAction==="error"?y("Object contains forbidden constructor property"):e.constructorAction==="ignore"?L():$[U]=L():$[U]=L(),P(),u==="}")return c("}"),$;c(","),P()}}y("Bad object")};return L=function(){switch(P(),u){case"{":return B();case"[":return k();case'"':return m();case"-":return d();default:return u>="0"&&u<="9"?d():N()}},function(U,$){var j;return h=U+"",r=0,u=" ",j=L(),P(),u&&y("Syntax error"),typeof $=="function"?function M(q,Q){var K,G=q[Q];return G&&typeof G=="object"&&Object.keys(G).forEach(function(F){K=M(G,F),K!==void 0?G[F]=K:delete G[F]}),$.call(q,Q,G)}({"":j},""):j}},parse$1=json_parse$1,json_stringify=stringifyExports.stringify,json_parse=parse$1;jsonBigint.exports=function(o){return{parse:json_parse(o),stringify:json_stringify}};jsonBigint.exports.parse=json_parse();jsonBigint.exports.stringify=json_stringify;var jsonBigintExports=jsonBigint.exports,gcpResidency={};(function(o){var e={};Object.defineProperty(o,"__esModule",{value:!0}),o.GCE_LINUX_BIOS_PATHS=void 0,o.isGoogleCloudServerless=h,o.isGoogleComputeEngineLinux=y,o.isGoogleComputeEngineMACAddress=c,o.isGoogleComputeEngine=d,o.detectGCPResidency=m;const r=require$$1$3,u=require$$1$3;o.GCE_LINUX_BIOS_PATHS={BIOS_DATE:"/sys/class/dmi/id/bios_date",BIOS_VENDOR:"/sys/class/dmi/id/bios_vendor"};const p=/^42:01/;function h(){return!!(e.CLOUD_RUN_JOB||e.FUNCTION_NAME||e.K_SERVICE)}function y(){if((0,u.platform)()!=="linux")return!1;try{(0,r.statSync)(o.GCE_LINUX_BIOS_PATHS.BIOS_DATE);const P=(0,r.readFileSync)(o.GCE_LINUX_BIOS_PATHS.BIOS_VENDOR,"utf8");return/Google/.test(P)}catch{return!1}}function c(){const P=(0,u.networkInterfaces)();for(const N of Object.values(P))if(N){for(const{mac:L}of N)if(p.test(L))return!0}return!1}function d(){return y()||c()}function m(){return h()||d()}})(gcpResidency);var src$4={},loggingUtils={},colours={};Object.defineProperty(colours,"__esModule",{value:!0});colours.Colours=void 0;class Colours{static isEnabled(e){return e.isTTY&&(typeof e.getColorDepth=="function"?e.getColorDepth()>2:!0)}static refresh(){Colours.enabled=Colours.isEnabled(process.stderr),this.enabled?(Colours.reset="\x1B[0m",Colours.bright="\x1B[1m",Colours.dim="\x1B[2m",Colours.red="\x1B[31m",Colours.green="\x1B[32m",Colours.yellow="\x1B[33m",Colours.blue="\x1B[34m",Colours.magenta="\x1B[35m",Colours.cyan="\x1B[36m",Colours.white="\x1B[37m",Colours.grey="\x1B[90m"):(Colours.reset="",Colours.bright="",Colours.dim="",Colours.red="",Colours.green="",Colours.yellow="",Colours.blue="",Colours.magenta="",Colours.cyan="",Colours.white="",Colours.grey="")}}colours.Colours=Colours;Colours.enabled=!1;Colours.reset="";Colours.bright="";Colours.dim="";Colours.red="";Colours.green="";Colours.yellow="";Colours.blue="";Colours.magenta="";Colours.cyan="";Colours.white="";Colours.grey="";Colours.refresh();(function(o){var e=commonjsGlobal$2&&commonjsGlobal$2.__createBinding||(Object.create?function(K,G,F,x){x===void 0&&(x=F);var z=Object.getOwnPropertyDescriptor(G,F);(!z||("get"in z?!G.__esModule:z.writable||z.configurable))&&(z={enumerable:!0,get:function(){return G[F]}}),Object.defineProperty(K,x,z)}:function(K,G,F,x){x===void 0&&(x=F),K[x]=G[F]}),r=commonjsGlobal$2&&commonjsGlobal$2.__setModuleDefault||(Object.create?function(K,G){Object.defineProperty(K,"default",{enumerable:!0,value:G})}:function(K,G){K.default=G}),u=commonjsGlobal$2&&commonjsGlobal$2.__importStar||function(K){if(K&&K.__esModule)return K;var G={};if(K!=null)for(var F in K)F!=="default"&&Object.prototype.hasOwnProperty.call(K,F)&&e(G,K,F);return r(G,K),G};Object.defineProperty(o,"__esModule",{value:!0}),o.env=o.DebugLogBackendBase=o.placeholder=o.AdhocDebugLogger=o.LogSeverity=void 0,o.getNodeBackend=L,o.getDebugBackend=B,o.getStructuredBackend=$,o.setBackend=q,o.log=Q;const p=require$$1$3,h=u(require$$1$3),y=u(require$$1$3),c=colours;var d;(function(K){K.DEFAULT="DEFAULT",K.DEBUG="DEBUG",K.INFO="INFO",K.WARNING="WARNING",K.ERROR="ERROR"})(d||(o.LogSeverity=d={}));class m extends p.EventEmitter{constructor(G,F){super(),this.namespace=G,this.upstream=F,this.func=Object.assign(this.invoke.bind(this),{instance:this,on:(x,z)=>this.on(x,z)}),this.func.debug=(...x)=>this.invokeSeverity(d.DEBUG,...x),this.func.info=(...x)=>this.invokeSeverity(d.INFO,...x),this.func.warn=(...x)=>this.invokeSeverity(d.WARNING,...x),this.func.error=(...x)=>this.invokeSeverity(d.ERROR,...x),this.func.sublog=x=>Q(x,this.func)}invoke(G,...F){this.upstream&&this.upstream(G,...F),this.emit("log",G,F)}invokeSeverity(G,...F){this.invoke({severity:G},...F)}}o.AdhocDebugLogger=m,o.placeholder=new m("",()=>{}).func;class P{constructor(){var G;this.cached=new Map,this.filters=[],this.filtersSet=!1;let F=(G=h.env[o.env.nodeEnables])!==null&&G!==void 0?G:"*";F==="all"&&(F="*"),this.filters=F.split(",")}log(G,F,...x){try{this.filtersSet||(this.setFilters(),this.filtersSet=!0);let z=this.cached.get(G);z||(z=this.makeLogger(G),this.cached.set(G,z)),z(F,...x)}catch(z){console.error(z)}}}o.DebugLogBackendBase=P;class N extends P{constructor(){super(...arguments),this.enabledRegexp=/.*/g}isEnabled(G){return this.enabledRegexp.test(G)}makeLogger(G){return this.enabledRegexp.test(G)?(F,...x)=>{var z;const J=`${c.Colours.green}${G}${c.Colours.reset}`,Z=`${c.Colours.yellow}${h.pid}${c.Colours.reset}`;let X;switch(F.severity){case d.ERROR:X=`${c.Colours.red}${F.severity}${c.Colours.reset}`;break;case d.INFO:X=`${c.Colours.magenta}${F.severity}${c.Colours.reset}`;break;case d.WARNING:X=`${c.Colours.yellow}${F.severity}${c.Colours.reset}`;break;default:X=(z=F.severity)!==null&&z!==void 0?z:d.DEFAULT;break}const te=y.formatWithOptions({colors:c.Colours.enabled},...x),be=Object.assign({},F);delete be.severity;const Ae=Object.getOwnPropertyNames(be).length?JSON.stringify(be):"",Ne=Ae?`${c.Colours.grey}${Ae}${c.Colours.reset}`:"";console.error("%s [%s|%s] %s%s",Z,J,X,te,Ae?` ${Ne}`:"")}:()=>{}}setFilters(){const F=this.filters.join(",").replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^");this.enabledRegexp=new RegExp(`^${F}$`,"i")}}function L(){return new N}class k extends P{constructor(G){super(),this.debugPkg=G}makeLogger(G){const F=this.debugPkg(G);return(x,...z)=>{F(z[0],...z.slice(1))}}setFilters(){var G;const F=(G=h.env.NODE_DEBUG)!==null&&G!==void 0?G:"";h.env.NODE_DEBUG=`${F}${F?",":""}${this.filters.join(",")}`}}function B(K){return new k(K)}class U extends P{constructor(G){var F;super(),this.upstream=(F=G)!==null&&F!==void 0?F:new N}makeLogger(G){const F=this.upstream.makeLogger(G);return(x,...z)=>{var J;const Z=(J=x.severity)!==null&&J!==void 0?J:d.INFO,X=Object.assign({severity:Z,message:y.format(...z)},x),te=JSON.stringify(X);F(x,te)}}setFilters(){this.upstream.setFilters()}}function $(K){return new U(K)}o.env={nodeEnables:"GOOGLE_SDK_NODE_LOGGING"};const j=new Map;let M;function q(K){M=K,j.clear()}function Q(K,G){if(!h.env[o.env.nodeEnables]||!K)return o.placeholder;G&&(K=`${G.instance.namespace}:${K}`);const x=j.get(K);if(x)return x.func;if(M===null)return o.placeholder;M===void 0&&(M=L());const z=(()=>{let J;return new m(K,(X,...te)=>{if(J!==M){if(M===null)return;M===void 0&&(M=L()),J=M}M==null||M.log(K,X,...te)})})();return j.set(K,z),z.func}})(loggingUtils);(function(o){var e=commonjsGlobal$2&&commonjsGlobal$2.__createBinding||(Object.create?function(u,p,h,y){y===void 0&&(y=h);var c=Object.getOwnPropertyDescriptor(p,h);(!c||("get"in c?!p.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return p[h]}}),Object.defineProperty(u,y,c)}:function(u,p,h,y){y===void 0&&(y=h),u[y]=p[h]}),r=commonjsGlobal$2&&commonjsGlobal$2.__exportStar||function(u,p){for(var h in u)h!=="default"&&!Object.prototype.hasOwnProperty.call(p,h)&&e(p,u,h)};Object.defineProperty(o,"__esModule",{value:!0}),r(loggingUtils,o)})(src$4);(function(o){var e={},r=commonjsGlobal$2&&commonjsGlobal$2.__createBinding||(Object.create?function(x,z,J,Z){Z===void 0&&(Z=J);var X=Object.getOwnPropertyDescriptor(z,J);(!X||("get"in X?!z.__esModule:X.writable||X.configurable))&&(X={enumerable:!0,get:function(){return z[J]}}),Object.defineProperty(x,Z,X)}:function(x,z,J,Z){Z===void 0&&(Z=J),x[Z]=z[J]}),u=commonjsGlobal$2&&commonjsGlobal$2.__exportStar||function(x,z){for(var J in x)J!=="default"&&!Object.prototype.hasOwnProperty.call(z,J)&&r(z,x,J)};Object.defineProperty(o,"__esModule",{value:!0}),o.gcpResidencyCache=o.METADATA_SERVER_DETECTION=o.HEADERS=o.HEADER_VALUE=o.HEADER_NAME=o.SECONDARY_HOST_ADDRESS=o.HOST_ADDRESS=o.BASE_PATH=void 0,o.instance=k,o.project=B,o.universe=U,o.bulk=$,o.isAvailable=q,o.resetIsAvailableCache=Q,o.getGCPResidency=K,o.setGCPResidency=G,o.requestTimeout=F;const p=src$5,h=jsonBigintExports,y=gcpResidency,c=src$4;o.BASE_PATH="/computeMetadata/v1",o.HOST_ADDRESS="http://169.254.169.254",o.SECONDARY_HOST_ADDRESS="http://metadata.google.internal.",o.HEADER_NAME="Metadata-Flavor",o.HEADER_VALUE="Google",o.HEADERS=Object.freeze({[o.HEADER_NAME]:o.HEADER_VALUE});const d=c.log("gcp metadata");o.METADATA_SERVER_DETECTION=Object.freeze({"assume-present":"don't try to ping the metadata server, but assume it's present",none:"don't try to ping the metadata server, but don't try to use it either","bios-only":"treat the result of a BIOS probe as canonical (don't fall back to pinging)","ping-only":"skip the BIOS probe, and go straight to pinging"});function m(x){return x||(x=e.GCE_METADATA_IP||e.GCE_METADATA_HOST||o.HOST_ADDRESS),/^https?:\/\//.test(x)||(x=`http://${x}`),new URL(o.BASE_PATH,x).href}function P(x){Object.keys(x).forEach(z=>{switch(z){case"params":case"property":case"headers":break;case"qs":throw new Error("'qs' is not a valid configuration option. Please use 'params' instead.");default:throw new Error(`'${z}' is not a valid configuration option.`)}})}async function N(x,z={},J=3,Z=!1){let X="",te={},be={};if(typeof x=="object"){const Ue=x;X=Ue.metadataKey,te=Ue.params||te,be=Ue.headers||be,J=Ue.noResponseRetries||J,Z=Ue.fastFail||Z}else X=x;typeof z=="string"?X+=`/${z}`:(P(z),z.property&&(X+=`/${z.property}`),be=z.headers||be,te=z.params||te);const Ae=Z?L:p.request,Ne={url:`${m()}/${X}`,headers:{...o.HEADERS,...be},retryConfig:{noResponseRetries:J},params:te,responseType:"text",timeout:F()};d.info("instance request %j",Ne);const ke=await Ae(Ne);if(d.info("instance metadata is %s",ke.data),ke.headers[o.HEADER_NAME.toLowerCase()]!==o.HEADER_VALUE)throw new Error(`Invalid response from metadata service: incorrect ${o.HEADER_NAME} header. Expected '${o.HEADER_VALUE}', got ${ke.headers[o.HEADER_NAME.toLowerCase()]?`'${ke.headers[o.HEADER_NAME.toLowerCase()]}'`:"no header"}`);if(typeof ke.data=="string")try{return h.parse(ke.data)}catch{}return ke.data}async function L(x){var z;const J={...x,url:(z=x.url)===null||z===void 0?void 0:z.toString().replace(m(),m(o.SECONDARY_HOST_ADDRESS))};let Z=!1;const X=(0,p.request)(x).then(be=>(Z=!0,be)).catch(be=>{if(Z)return te;throw Z=!0,be}),te=(0,p.request)(J).then(be=>(Z=!0,be)).catch(be=>{if(Z)return X;throw Z=!0,be});return Promise.race([X,te])}function k(x){return N("instance",x)}function B(x){return N("project",x)}function U(x){return N("universe",x)}async function $(x){const z={};return await Promise.all(x.map(J=>(async()=>{const Z=await N(J),X=J.metadataKey;z[X]=Z})())),z}function j(){return e.DETECT_GCP_RETRIES?Number(e.DETECT_GCP_RETRIES):0}let M;async function q(){if(e.METADATA_SERVER_DETECTION){const x=e.METADATA_SERVER_DETECTION.trim().toLocaleLowerCase();if(!(x in o.METADATA_SERVER_DETECTION))throw new RangeError(`Unknown \`METADATA_SERVER_DETECTION\` env variable. Got \`${x}\`, but it should be \`${Object.keys(o.METADATA_SERVER_DETECTION).join("`, `")}\`, or unset`);switch(x){case"assume-present":return!0;case"none":return!1;case"bios-only":return K()}}try{return M===void 0&&(M=N("instance",void 0,j(),!(e.GCE_METADATA_IP||e.GCE_METADATA_HOST))),await M,!0}catch(x){const z=x;if(e.DEBUG_AUTH&&console.info(z),z.type==="request-timeout"||z.response&&z.response.status===404)return!1;if(!(z.response&&z.response.status===404)&&(!z.code||!["EHOSTDOWN","EHOSTUNREACH","ENETUNREACH","ENOENT","ENOTFOUND","ECONNREFUSED"].includes(z.code))){let J="UNKNOWN";z.code&&(J=z.code),process.emitWarning(`received unexpected error = ${z.message} code = ${J}`,"MetadataLookupWarning")}return!1}}function Q(){M=void 0}o.gcpResidencyCache=null;function K(){return o.gcpResidencyCache===null&&G(),o.gcpResidencyCache}function G(x=null){o.gcpResidencyCache=x!==null?x:(0,y.detectGCPResidency)()}function F(){return K()?0:3e3}u(gcpResidency,o)})(src$6);var crypto$5={},crypto$4={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup[45]=62;revLookup[95]=63;function getLens(o){var e=o.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=o.indexOf("=");r===-1&&(r=e);var u=r===e?0:4-r%4;return[r,u]}function byteLength(o){var e=getLens(o),r=e[0],u=e[1];return(r+u)*3/4-u}function _byteLength(o,e,r){return(e+r)*3/4-r}function toByteArray(o){var e,r=getLens(o),u=r[0],p=r[1],h=new Arr(_byteLength(o,u,p)),y=0,c=p>0?u-4:u,d;for(d=0;d<c;d+=4)e=revLookup[o.charCodeAt(d)]<<18|revLookup[o.charCodeAt(d+1)]<<12|revLookup[o.charCodeAt(d+2)]<<6|revLookup[o.charCodeAt(d+3)],h[y++]=e>>16&255,h[y++]=e>>8&255,h[y++]=e&255;return p===2&&(e=revLookup[o.charCodeAt(d)]<<2|revLookup[o.charCodeAt(d+1)]>>4,h[y++]=e&255),p===1&&(e=revLookup[o.charCodeAt(d)]<<10|revLookup[o.charCodeAt(d+1)]<<4|revLookup[o.charCodeAt(d+2)]>>2,h[y++]=e>>8&255,h[y++]=e&255),h}function tripletToBase64(o){return lookup[o>>18&63]+lookup[o>>12&63]+lookup[o>>6&63]+lookup[o&63]}function encodeChunk(o,e,r){for(var u,p=[],h=e;h<r;h+=3)u=(o[h]<<16&16711680)+(o[h+1]<<8&65280)+(o[h+2]&255),p.push(tripletToBase64(u));return p.join("")}function fromByteArray(o){for(var e,r=o.length,u=r%3,p=[],h=16383,y=0,c=r-u;y<c;y+=h)p.push(encodeChunk(o,y,y+h>c?c:y+h));return u===1?(e=o[r-1],p.push(lookup[e>>2]+lookup[e<<4&63]+"==")):u===2&&(e=(o[r-2]<<8)+o[r-1],p.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),p.join("")}var hasRequiredCrypto$1;function requireCrypto$1(){if(hasRequiredCrypto$1)return crypto$4;hasRequiredCrypto$1=1,Object.defineProperty(crypto$4,"__esModule",{value:!0}),crypto$4.BrowserCrypto=void 0;const o=base64Js,e=requireCrypto();class r{constructor(){if(typeof window>"u"||window.crypto===void 0||window.crypto.subtle===void 0)throw new Error("SubtleCrypto not found. Make sure it's an https:// website.")}async sha256DigestBase64(p){const h=new TextEncoder().encode(p),y=await window.crypto.subtle.digest("SHA-256",h);return o.fromByteArray(new Uint8Array(y))}randomBytesBase64(p){const h=new Uint8Array(p);return window.crypto.getRandomValues(h),o.fromByteArray(h)}static padBase64(p){for(;p.length%4!==0;)p+="=";return p}async verify(p,h,y){const c={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},d=new TextEncoder().encode(h),m=o.toByteArray(r.padBase64(y)),P=await window.crypto.subtle.importKey("jwk",p,c,!0,["verify"]);return await window.crypto.subtle.verify(c,P,m,d)}async sign(p,h){const y={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},c=new TextEncoder().encode(h),d=await window.crypto.subtle.importKey("jwk",p,y,!0,["sign"]),m=await window.crypto.subtle.sign(y,d,c);return o.fromByteArray(new Uint8Array(m))}decodeBase64StringUtf8(p){const h=o.toByteArray(r.padBase64(p));return new TextDecoder().decode(h)}encodeBase64StringUtf8(p){const h=new TextEncoder().encode(p);return o.fromByteArray(h)}async sha256DigestHex(p){const h=new TextEncoder().encode(p),y=await window.crypto.subtle.digest("SHA-256",h);return(0,e.fromArrayBufferToHex)(y)}async signWithHmacSha256(p,h){const y=typeof p=="string"?p:String.fromCharCode(...new Uint16Array(p)),c=new TextEncoder,d=await window.crypto.subtle.importKey("raw",c.encode(y),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return window.crypto.subtle.sign("HMAC",d,c.encode(h))}}return crypto$4.BrowserCrypto=r,crypto$4}var crypto$3={};Object.defineProperty(crypto$3,"__esModule",{value:!0});crypto$3.NodeCrypto=void 0;const crypto$2=require$$1$3;class NodeCrypto{async sha256DigestBase64(e){return crypto$2.createHash("sha256").update(e).digest("base64")}randomBytesBase64(e){return crypto$2.randomBytes(e).toString("base64")}async verify(e,r,u){const p=crypto$2.createVerify("RSA-SHA256");return p.update(r),p.end(),p.verify(e,u,"base64")}async sign(e,r){const u=crypto$2.createSign("RSA-SHA256");return u.update(r),u.end(),u.sign(e,"base64")}decodeBase64StringUtf8(e){return Buffer.from(e,"base64").toString("utf-8")}encodeBase64StringUtf8(e){return Buffer.from(e,"utf-8").toString("base64")}async sha256DigestHex(e){return crypto$2.createHash("sha256").update(e).digest("hex")}async signWithHmacSha256(e,r){const u=typeof e=="string"?e:toBuffer(e);return toArrayBuffer(crypto$2.createHmac("sha256",u).update(r).digest())}}crypto$3.NodeCrypto=NodeCrypto;function toArrayBuffer(o){return o.buffer.slice(o.byteOffset,o.byteOffset+o.byteLength)}function toBuffer(o){return Buffer.from(o)}var hasRequiredCrypto;function requireCrypto(){if(hasRequiredCrypto)return crypto$5;hasRequiredCrypto=1,Object.defineProperty(crypto$5,"__esModule",{value:!0}),crypto$5.createCrypto=r,crypto$5.hasBrowserCrypto=u,crypto$5.fromArrayBufferToHex=p;const o=requireCrypto$1(),e=crypto$3;function r(){return u()?new o.BrowserCrypto:new e.NodeCrypto}function u(){return typeof window<"u"&&typeof window.crypto<"u"&&typeof window.crypto.subtle<"u"}function p(h){return Array.from(new Uint8Array(h)).map(c=>c.toString(16).padStart(2,"0")).join("")}return crypto$5}var transporters={},options$3={};Object.defineProperty(options$3,"__esModule",{value:!0});options$3.validate=validate$2;function validate$2(o){const e=[{invalid:"uri",expected:"url"},{invalid:"json",expected:"data"},{invalid:"qs",expected:"params"}];for(const r of e)if(o[r.invalid]){const u=`'${r.invalid}' is not a valid configuration option. Please use '${r.expected}' instead. This library is using Axios for requests. Please see https://github.com/axios/axios to learn more about the valid request options.`;throw new Error(u)}}const version$6="9.15.1",require$$4$2={version:version$6};Object.defineProperty(transporters,"__esModule",{value:!0});transporters.DefaultTransporter=void 0;const gaxios_1$6=src$5,options_1=options$3,pkg=require$$4$2,PRODUCT_NAME="google-api-nodejs-client";class DefaultTransporter{constructor(){this.instance=new gaxios_1$6.Gaxios}configure(e={}){if(e.headers=e.headers||{},typeof window>"u"){const r=e.headers["User-Agent"];if(r?r.includes(`${PRODUCT_NAME}/`)||(e.headers["User-Agent"]=`${r} ${DefaultTransporter.USER_AGENT}`):e.headers["User-Agent"]=DefaultTransporter.USER_AGENT,!e.headers["x-goog-api-client"]){const u=process.version.replace(/^v/,"");e.headers["x-goog-api-client"]=`gl-node/${u}`}}return e}request(e){return e=this.configure(e),(0,options_1.validate)(e),this.instance.request(e).catch(r=>{throw this.processError(r)})}get defaults(){return this.instance.defaults}set defaults(e){this.instance.defaults=e}processError(e){const r=e.response,u=e,p=r?r.data:null;return r&&p&&p.error&&r.status!==200?typeof p.error=="string"?(u.message=p.error,u.status=r.status):Array.isArray(p.error.errors)?(u.message=p.error.errors.map(h=>h.message).join(`
`),u.code=p.error.code,u.errors=p.error.errors):(u.message=p.error.message,u.code=p.error.code):r&&r.status>=400&&(u.message=p,u.status=r.status),u}}transporters.DefaultTransporter=DefaultTransporter;DefaultTransporter.USER_AGENT=`${PRODUCT_NAME}/${pkg.version}`;var computeclient={},oauth2client={},safeBuffer$1={exports:{}},buffer={},ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(o,e,r,u,p){var h,y,c=p*8-u-1,d=(1<<c)-1,m=d>>1,P=-7,N=r?p-1:0,L=r?-1:1,k=o[e+N];for(N+=L,h=k&(1<<-P)-1,k>>=-P,P+=c;P>0;h=h*256+o[e+N],N+=L,P-=8);for(y=h&(1<<-P)-1,h>>=-P,P+=u;P>0;y=y*256+o[e+N],N+=L,P-=8);if(h===0)h=1-m;else{if(h===d)return y?NaN:(k?-1:1)*(1/0);y=y+Math.pow(2,u),h=h-m}return(k?-1:1)*y*Math.pow(2,h-u)};ieee754.write=function(o,e,r,u,p,h){var y,c,d,m=h*8-p-1,P=(1<<m)-1,N=P>>1,L=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,k=u?0:h-1,B=u?1:-1,U=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,y=P):(y=Math.floor(Math.log(e)/Math.LN2),e*(d=Math.pow(2,-y))<1&&(y--,d*=2),y+N>=1?e+=L/d:e+=L*Math.pow(2,1-N),e*d>=2&&(y++,d/=2),y+N>=P?(c=0,y=P):y+N>=1?(c=(e*d-1)*Math.pow(2,p),y=y+N):(c=e*Math.pow(2,N-1)*Math.pow(2,p),y=0));p>=8;o[r+k]=c&255,k+=B,c/=256,p-=8);for(y=y<<p|c,m+=p;m>0;o[r+k]=y&255,k+=B,y/=256,m-=8);o[r+k-B]|=U*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(o){var e=base64Js,r=ieee754,u=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;o.Buffer=c,o.SlowBuffer=M,o.INSPECT_MAX_BYTES=50;var p=2147483647;o.kMaxLength=p,c.TYPED_ARRAY_SUPPORT=h(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var ie=new Uint8Array(1),s={foo:function(){return 42}};return Object.setPrototypeOf(s,Uint8Array.prototype),Object.setPrototypeOf(ie,s),ie.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function y(ie){if(ie>p)throw new RangeError('The value "'+ie+'" is invalid for option "size"');var s=new Uint8Array(ie);return Object.setPrototypeOf(s,c.prototype),s}function c(ie,s,A){if(typeof ie=="number"){if(typeof s=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return N(ie)}return d(ie,s,A)}c.poolSize=8192;function d(ie,s,A){if(typeof ie=="string")return L(ie,s);if(ArrayBuffer.isView(ie))return B(ie);if(ie==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ie);if(H(ie,ArrayBuffer)||ie&&H(ie.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(H(ie,SharedArrayBuffer)||ie&&H(ie.buffer,SharedArrayBuffer)))return U(ie,s,A);if(typeof ie=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var I=ie.valueOf&&ie.valueOf();if(I!=null&&I!==ie)return c.from(I,s,A);var n=$(ie);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ie[Symbol.toPrimitive]=="function")return c.from(ie[Symbol.toPrimitive]("string"),s,A);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ie)}c.from=function(ie,s,A){return d(ie,s,A)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function m(ie){if(typeof ie!="number")throw new TypeError('"size" argument must be of type number');if(ie<0)throw new RangeError('The value "'+ie+'" is invalid for option "size"')}function P(ie,s,A){return m(ie),ie<=0?y(ie):s!==void 0?typeof A=="string"?y(ie).fill(s,A):y(ie).fill(s):y(ie)}c.alloc=function(ie,s,A){return P(ie,s,A)};function N(ie){return m(ie),y(ie<0?0:j(ie)|0)}c.allocUnsafe=function(ie){return N(ie)},c.allocUnsafeSlow=function(ie){return N(ie)};function L(ie,s){if((typeof s!="string"||s==="")&&(s="utf8"),!c.isEncoding(s))throw new TypeError("Unknown encoding: "+s);var A=q(ie,s)|0,I=y(A),n=I.write(ie,s);return n!==A&&(I=I.slice(0,n)),I}function k(ie){for(var s=ie.length<0?0:j(ie.length)|0,A=y(s),I=0;I<s;I+=1)A[I]=ie[I]&255;return A}function B(ie){if(H(ie,Uint8Array)){var s=new Uint8Array(ie);return U(s.buffer,s.byteOffset,s.byteLength)}return k(ie)}function U(ie,s,A){if(s<0||ie.byteLength<s)throw new RangeError('"offset" is outside of buffer bounds');if(ie.byteLength<s+(A||0))throw new RangeError('"length" is outside of buffer bounds');var I;return s===void 0&&A===void 0?I=new Uint8Array(ie):A===void 0?I=new Uint8Array(ie,s):I=new Uint8Array(ie,s,A),Object.setPrototypeOf(I,c.prototype),I}function $(ie){if(c.isBuffer(ie)){var s=j(ie.length)|0,A=y(s);return A.length===0||ie.copy(A,0,0,s),A}if(ie.length!==void 0)return typeof ie.length!="number"||ae(ie.length)?y(0):k(ie);if(ie.type==="Buffer"&&Array.isArray(ie.data))return k(ie.data)}function j(ie){if(ie>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return ie|0}function M(ie){return+ie!=ie&&(ie=0),c.alloc(+ie)}c.isBuffer=function(s){return s!=null&&s._isBuffer===!0&&s!==c.prototype},c.compare=function(s,A){if(H(s,Uint8Array)&&(s=c.from(s,s.offset,s.byteLength)),H(A,Uint8Array)&&(A=c.from(A,A.offset,A.byteLength)),!c.isBuffer(s)||!c.isBuffer(A))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===A)return 0;for(var I=s.length,n=A.length,R=0,V=Math.min(I,n);R<V;++R)if(s[R]!==A[R]){I=s[R],n=A[R];break}return I<n?-1:n<I?1:0},c.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(s,A){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(s.length===0)return c.alloc(0);var I;if(A===void 0)for(A=0,I=0;I<s.length;++I)A+=s[I].length;var n=c.allocUnsafe(A),R=0;for(I=0;I<s.length;++I){var V=s[I];if(H(V,Uint8Array))R+V.length>n.length?c.from(V).copy(n,R):Uint8Array.prototype.set.call(n,V,R);else if(c.isBuffer(V))V.copy(n,R);else throw new TypeError('"list" argument must be an Array of Buffers');R+=V.length}return n};function q(ie,s){if(c.isBuffer(ie))return ie.length;if(ArrayBuffer.isView(ie)||H(ie,ArrayBuffer))return ie.byteLength;if(typeof ie!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ie);var A=ie.length,I=arguments.length>2&&arguments[2]===!0;if(!I&&A===0)return 0;for(var n=!1;;)switch(s){case"ascii":case"latin1":case"binary":return A;case"utf8":case"utf-8":return je(ie).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A*2;case"hex":return A>>>1;case"base64":return T(ie).length;default:if(n)return I?-1:je(ie).length;s=(""+s).toLowerCase(),n=!0}}c.byteLength=q;function Q(ie,s,A){var I=!1;if((s===void 0||s<0)&&(s=0),s>this.length||((A===void 0||A>this.length)&&(A=this.length),A<=0)||(A>>>=0,s>>>=0,A<=s))return"";for(ie||(ie="utf8");;)switch(ie){case"hex":return qe(this,s,A);case"utf8":case"utf-8":return be(this,s,A);case"ascii":return ke(this,s,A);case"latin1":case"binary":return Ue(this,s,A);case"base64":return te(this,s,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ge(this,s,A);default:if(I)throw new TypeError("Unknown encoding: "+ie);ie=(ie+"").toLowerCase(),I=!0}}c.prototype._isBuffer=!0;function K(ie,s,A){var I=ie[s];ie[s]=ie[A],ie[A]=I}c.prototype.swap16=function(){var s=this.length;if(s%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var A=0;A<s;A+=2)K(this,A,A+1);return this},c.prototype.swap32=function(){var s=this.length;if(s%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var A=0;A<s;A+=4)K(this,A,A+3),K(this,A+1,A+2);return this},c.prototype.swap64=function(){var s=this.length;if(s%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var A=0;A<s;A+=8)K(this,A,A+7),K(this,A+1,A+6),K(this,A+2,A+5),K(this,A+3,A+4);return this},c.prototype.toString=function(){var s=this.length;return s===0?"":arguments.length===0?be(this,0,s):Q.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(s){if(!c.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s?!0:c.compare(this,s)===0},c.prototype.inspect=function(){var s="",A=o.INSPECT_MAX_BYTES;return s=this.toString("hex",0,A).replace(/(.{2})/g,"$1 ").trim(),this.length>A&&(s+=" ... "),"<Buffer "+s+">"},u&&(c.prototype[u]=c.prototype.inspect),c.prototype.compare=function(s,A,I,n,R){if(H(s,Uint8Array)&&(s=c.from(s,s.offset,s.byteLength)),!c.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(A===void 0&&(A=0),I===void 0&&(I=s?s.length:0),n===void 0&&(n=0),R===void 0&&(R=this.length),A<0||I>s.length||n<0||R>this.length)throw new RangeError("out of range index");if(n>=R&&A>=I)return 0;if(n>=R)return-1;if(A>=I)return 1;if(A>>>=0,I>>>=0,n>>>=0,R>>>=0,this===s)return 0;for(var V=R-n,ee=I-A,Me=Math.min(V,ee),rt=this.slice(n,R),nt=s.slice(A,I),Ze=0;Ze<Me;++Ze)if(rt[Ze]!==nt[Ze]){V=rt[Ze],ee=nt[Ze];break}return V<ee?-1:ee<V?1:0};function G(ie,s,A,I,n){if(ie.length===0)return-1;if(typeof A=="string"?(I=A,A=0):A>2147483647?A=2147483647:A<-2147483648&&(A=-2147483648),A=+A,ae(A)&&(A=n?0:ie.length-1),A<0&&(A=ie.length+A),A>=ie.length){if(n)return-1;A=ie.length-1}else if(A<0)if(n)A=0;else return-1;if(typeof s=="string"&&(s=c.from(s,I)),c.isBuffer(s))return s.length===0?-1:F(ie,s,A,I,n);if(typeof s=="number")return s=s&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(ie,s,A):Uint8Array.prototype.lastIndexOf.call(ie,s,A):F(ie,[s],A,I,n);throw new TypeError("val must be string, number or Buffer")}function F(ie,s,A,I,n){var R=1,V=ie.length,ee=s.length;if(I!==void 0&&(I=String(I).toLowerCase(),I==="ucs2"||I==="ucs-2"||I==="utf16le"||I==="utf-16le")){if(ie.length<2||s.length<2)return-1;R=2,V/=2,ee/=2,A/=2}function Me(ft,gt){return R===1?ft[gt]:ft.readUInt16BE(gt*R)}var rt;if(n){var nt=-1;for(rt=A;rt<V;rt++)if(Me(ie,rt)===Me(s,nt===-1?0:rt-nt)){if(nt===-1&&(nt=rt),rt-nt+1===ee)return nt*R}else nt!==-1&&(rt-=rt-nt),nt=-1}else for(A+ee>V&&(A=V-ee),rt=A;rt>=0;rt--){for(var Ze=!0,lt=0;lt<ee;lt++)if(Me(ie,rt+lt)!==Me(s,lt)){Ze=!1;break}if(Ze)return rt}return-1}c.prototype.includes=function(s,A,I){return this.indexOf(s,A,I)!==-1},c.prototype.indexOf=function(s,A,I){return G(this,s,A,I,!0)},c.prototype.lastIndexOf=function(s,A,I){return G(this,s,A,I,!1)};function x(ie,s,A,I){A=Number(A)||0;var n=ie.length-A;I?(I=Number(I),I>n&&(I=n)):I=n;var R=s.length;I>R/2&&(I=R/2);for(var V=0;V<I;++V){var ee=parseInt(s.substr(V*2,2),16);if(ae(ee))return V;ie[A+V]=ee}return V}function z(ie,s,A,I){return O(je(s,ie.length-A),ie,A,I)}function J(ie,s,A,I){return O(Y(s),ie,A,I)}function Z(ie,s,A,I){return O(T(s),ie,A,I)}function X(ie,s,A,I){return O(l(s,ie.length-A),ie,A,I)}c.prototype.write=function(s,A,I,n){if(A===void 0)n="utf8",I=this.length,A=0;else if(I===void 0&&typeof A=="string")n=A,I=this.length,A=0;else if(isFinite(A))A=A>>>0,isFinite(I)?(I=I>>>0,n===void 0&&(n="utf8")):(n=I,I=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var R=this.length-A;if((I===void 0||I>R)&&(I=R),s.length>0&&(I<0||A<0)||A>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var V=!1;;)switch(n){case"hex":return x(this,s,A,I);case"utf8":case"utf-8":return z(this,s,A,I);case"ascii":case"latin1":case"binary":return J(this,s,A,I);case"base64":return Z(this,s,A,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,s,A,I);default:if(V)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),V=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function te(ie,s,A){return s===0&&A===ie.length?e.fromByteArray(ie):e.fromByteArray(ie.slice(s,A))}function be(ie,s,A){A=Math.min(ie.length,A);for(var I=[],n=s;n<A;){var R=ie[n],V=null,ee=R>239?4:R>223?3:R>191?2:1;if(n+ee<=A){var Me,rt,nt,Ze;switch(ee){case 1:R<128&&(V=R);break;case 2:Me=ie[n+1],(Me&192)===128&&(Ze=(R&31)<<6|Me&63,Ze>127&&(V=Ze));break;case 3:Me=ie[n+1],rt=ie[n+2],(Me&192)===128&&(rt&192)===128&&(Ze=(R&15)<<12|(Me&63)<<6|rt&63,Ze>2047&&(Ze<55296||Ze>57343)&&(V=Ze));break;case 4:Me=ie[n+1],rt=ie[n+2],nt=ie[n+3],(Me&192)===128&&(rt&192)===128&&(nt&192)===128&&(Ze=(R&15)<<18|(Me&63)<<12|(rt&63)<<6|nt&63,Ze>65535&&Ze<1114112&&(V=Ze))}}V===null?(V=65533,ee=1):V>65535&&(V-=65536,I.push(V>>>10&1023|55296),V=56320|V&1023),I.push(V),n+=ee}return Ne(I)}var Ae=4096;function Ne(ie){var s=ie.length;if(s<=Ae)return String.fromCharCode.apply(String,ie);for(var A="",I=0;I<s;)A+=String.fromCharCode.apply(String,ie.slice(I,I+=Ae));return A}function ke(ie,s,A){var I="";A=Math.min(ie.length,A);for(var n=s;n<A;++n)I+=String.fromCharCode(ie[n]&127);return I}function Ue(ie,s,A){var I="";A=Math.min(ie.length,A);for(var n=s;n<A;++n)I+=String.fromCharCode(ie[n]);return I}function qe(ie,s,A){var I=ie.length;(!s||s<0)&&(s=0),(!A||A<0||A>I)&&(A=I);for(var n="",R=s;R<A;++R)n+=Oe[ie[R]];return n}function Ge(ie,s,A){for(var I=ie.slice(s,A),n="",R=0;R<I.length-1;R+=2)n+=String.fromCharCode(I[R]+I[R+1]*256);return n}c.prototype.slice=function(s,A){var I=this.length;s=~~s,A=A===void 0?I:~~A,s<0?(s+=I,s<0&&(s=0)):s>I&&(s=I),A<0?(A+=I,A<0&&(A=0)):A>I&&(A=I),A<s&&(A=s);var n=this.subarray(s,A);return Object.setPrototypeOf(n,c.prototype),n};function Qe(ie,s,A){if(ie%1!==0||ie<0)throw new RangeError("offset is not uint");if(ie+s>A)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(s,A,I){s=s>>>0,A=A>>>0,I||Qe(s,A,this.length);for(var n=this[s],R=1,V=0;++V<A&&(R*=256);)n+=this[s+V]*R;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(s,A,I){s=s>>>0,A=A>>>0,I||Qe(s,A,this.length);for(var n=this[s+--A],R=1;A>0&&(R*=256);)n+=this[s+--A]*R;return n},c.prototype.readUint8=c.prototype.readUInt8=function(s,A){return s=s>>>0,A||Qe(s,1,this.length),this[s]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(s,A){return s=s>>>0,A||Qe(s,2,this.length),this[s]|this[s+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(s,A){return s=s>>>0,A||Qe(s,2,this.length),this[s]<<8|this[s+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(s,A){return s=s>>>0,A||Qe(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+this[s+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(s,A){return s=s>>>0,A||Qe(s,4,this.length),this[s]*16777216+(this[s+1]<<16|this[s+2]<<8|this[s+3])},c.prototype.readIntLE=function(s,A,I){s=s>>>0,A=A>>>0,I||Qe(s,A,this.length);for(var n=this[s],R=1,V=0;++V<A&&(R*=256);)n+=this[s+V]*R;return R*=128,n>=R&&(n-=Math.pow(2,8*A)),n},c.prototype.readIntBE=function(s,A,I){s=s>>>0,A=A>>>0,I||Qe(s,A,this.length);for(var n=A,R=1,V=this[s+--n];n>0&&(R*=256);)V+=this[s+--n]*R;return R*=128,V>=R&&(V-=Math.pow(2,8*A)),V},c.prototype.readInt8=function(s,A){return s=s>>>0,A||Qe(s,1,this.length),this[s]&128?(255-this[s]+1)*-1:this[s]},c.prototype.readInt16LE=function(s,A){s=s>>>0,A||Qe(s,2,this.length);var I=this[s]|this[s+1]<<8;return I&32768?I|4294901760:I},c.prototype.readInt16BE=function(s,A){s=s>>>0,A||Qe(s,2,this.length);var I=this[s+1]|this[s]<<8;return I&32768?I|4294901760:I},c.prototype.readInt32LE=function(s,A){return s=s>>>0,A||Qe(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},c.prototype.readInt32BE=function(s,A){return s=s>>>0,A||Qe(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},c.prototype.readFloatLE=function(s,A){return s=s>>>0,A||Qe(s,4,this.length),r.read(this,s,!0,23,4)},c.prototype.readFloatBE=function(s,A){return s=s>>>0,A||Qe(s,4,this.length),r.read(this,s,!1,23,4)},c.prototype.readDoubleLE=function(s,A){return s=s>>>0,A||Qe(s,8,this.length),r.read(this,s,!0,52,8)},c.prototype.readDoubleBE=function(s,A){return s=s>>>0,A||Qe(s,8,this.length),r.read(this,s,!1,52,8)};function Ke(ie,s,A,I,n,R){if(!c.isBuffer(ie))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>n||s<R)throw new RangeError('"value" argument is out of bounds');if(A+I>ie.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(s,A,I,n){if(s=+s,A=A>>>0,I=I>>>0,!n){var R=Math.pow(2,8*I)-1;Ke(this,s,A,I,R,0)}var V=1,ee=0;for(this[A]=s&255;++ee<I&&(V*=256);)this[A+ee]=s/V&255;return A+I},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(s,A,I,n){if(s=+s,A=A>>>0,I=I>>>0,!n){var R=Math.pow(2,8*I)-1;Ke(this,s,A,I,R,0)}var V=I-1,ee=1;for(this[A+V]=s&255;--V>=0&&(ee*=256);)this[A+V]=s/ee&255;return A+I},c.prototype.writeUint8=c.prototype.writeUInt8=function(s,A,I){return s=+s,A=A>>>0,I||Ke(this,s,A,1,255,0),this[A]=s&255,A+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(s,A,I){return s=+s,A=A>>>0,I||Ke(this,s,A,2,65535,0),this[A]=s&255,this[A+1]=s>>>8,A+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(s,A,I){return s=+s,A=A>>>0,I||Ke(this,s,A,2,65535,0),this[A]=s>>>8,this[A+1]=s&255,A+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(s,A,I){return s=+s,A=A>>>0,I||Ke(this,s,A,4,4294967295,0),this[A+3]=s>>>24,this[A+2]=s>>>16,this[A+1]=s>>>8,this[A]=s&255,A+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(s,A,I){return s=+s,A=A>>>0,I||Ke(this,s,A,4,4294967295,0),this[A]=s>>>24,this[A+1]=s>>>16,this[A+2]=s>>>8,this[A+3]=s&255,A+4},c.prototype.writeIntLE=function(s,A,I,n){if(s=+s,A=A>>>0,!n){var R=Math.pow(2,8*I-1);Ke(this,s,A,I,R-1,-R)}var V=0,ee=1,Me=0;for(this[A]=s&255;++V<I&&(ee*=256);)s<0&&Me===0&&this[A+V-1]!==0&&(Me=1),this[A+V]=(s/ee>>0)-Me&255;return A+I},c.prototype.writeIntBE=function(s,A,I,n){if(s=+s,A=A>>>0,!n){var R=Math.pow(2,8*I-1);Ke(this,s,A,I,R-1,-R)}var V=I-1,ee=1,Me=0;for(this[A+V]=s&255;--V>=0&&(ee*=256);)s<0&&Me===0&&this[A+V+1]!==0&&(Me=1),this[A+V]=(s/ee>>0)-Me&255;return A+I},c.prototype.writeInt8=function(s,A,I){return s=+s,A=A>>>0,I||Ke(this,s,A,1,127,-128),s<0&&(s=255+s+1),this[A]=s&255,A+1},c.prototype.writeInt16LE=function(s,A,I){return s=+s,A=A>>>0,I||Ke(this,s,A,2,32767,-32768),this[A]=s&255,this[A+1]=s>>>8,A+2},c.prototype.writeInt16BE=function(s,A,I){return s=+s,A=A>>>0,I||Ke(this,s,A,2,32767,-32768),this[A]=s>>>8,this[A+1]=s&255,A+2},c.prototype.writeInt32LE=function(s,A,I){return s=+s,A=A>>>0,I||Ke(this,s,A,4,2147483647,-2147483648),this[A]=s&255,this[A+1]=s>>>8,this[A+2]=s>>>16,this[A+3]=s>>>24,A+4},c.prototype.writeInt32BE=function(s,A,I){return s=+s,A=A>>>0,I||Ke(this,s,A,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[A]=s>>>24,this[A+1]=s>>>16,this[A+2]=s>>>8,this[A+3]=s&255,A+4};function Be(ie,s,A,I,n,R){if(A+I>ie.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("Index out of range")}function Re(ie,s,A,I,n){return s=+s,A=A>>>0,n||Be(ie,s,A,4),r.write(ie,s,A,I,23,4),A+4}c.prototype.writeFloatLE=function(s,A,I){return Re(this,s,A,!0,I)},c.prototype.writeFloatBE=function(s,A,I){return Re(this,s,A,!1,I)};function $e(ie,s,A,I,n){return s=+s,A=A>>>0,n||Be(ie,s,A,8),r.write(ie,s,A,I,52,8),A+8}c.prototype.writeDoubleLE=function(s,A,I){return $e(this,s,A,!0,I)},c.prototype.writeDoubleBE=function(s,A,I){return $e(this,s,A,!1,I)},c.prototype.copy=function(s,A,I,n){if(!c.isBuffer(s))throw new TypeError("argument should be a Buffer");if(I||(I=0),!n&&n!==0&&(n=this.length),A>=s.length&&(A=s.length),A||(A=0),n>0&&n<I&&(n=I),n===I||s.length===0||this.length===0)return 0;if(A<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),s.length-A<n-I&&(n=s.length-A+I);var R=n-I;return this===s&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(A,I,n):Uint8Array.prototype.set.call(s,this.subarray(I,n),A),R},c.prototype.fill=function(s,A,I,n){if(typeof s=="string"){if(typeof A=="string"?(n=A,A=0,I=this.length):typeof I=="string"&&(n=I,I=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(s.length===1){var R=s.charCodeAt(0);(n==="utf8"&&R<128||n==="latin1")&&(s=R)}}else typeof s=="number"?s=s&255:typeof s=="boolean"&&(s=Number(s));if(A<0||this.length<A||this.length<I)throw new RangeError("Out of range index");if(I<=A)return this;A=A>>>0,I=I===void 0?this.length:I>>>0,s||(s=0);var V;if(typeof s=="number")for(V=A;V<I;++V)this[V]=s;else{var ee=c.isBuffer(s)?s:c.from(s,n),Me=ee.length;if(Me===0)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(V=0;V<I-A;++V)this[V+A]=ee[V%Me]}return this};var xe=/[^+/0-9A-Za-z-_]/g;function Le(ie){if(ie=ie.split("=")[0],ie=ie.trim().replace(xe,""),ie.length<2)return"";for(;ie.length%4!==0;)ie=ie+"=";return ie}function je(ie,s){s=s||1/0;for(var A,I=ie.length,n=null,R=[],V=0;V<I;++V){if(A=ie.charCodeAt(V),A>55295&&A<57344){if(!n){if(A>56319){(s-=3)>-1&&R.push(239,191,189);continue}else if(V+1===I){(s-=3)>-1&&R.push(239,191,189);continue}n=A;continue}if(A<56320){(s-=3)>-1&&R.push(239,191,189),n=A;continue}A=(n-55296<<10|A-56320)+65536}else n&&(s-=3)>-1&&R.push(239,191,189);if(n=null,A<128){if((s-=1)<0)break;R.push(A)}else if(A<2048){if((s-=2)<0)break;R.push(A>>6|192,A&63|128)}else if(A<65536){if((s-=3)<0)break;R.push(A>>12|224,A>>6&63|128,A&63|128)}else if(A<1114112){if((s-=4)<0)break;R.push(A>>18|240,A>>12&63|128,A>>6&63|128,A&63|128)}else throw new Error("Invalid code point")}return R}function Y(ie){for(var s=[],A=0;A<ie.length;++A)s.push(ie.charCodeAt(A)&255);return s}function l(ie,s){for(var A,I,n,R=[],V=0;V<ie.length&&!((s-=2)<0);++V)A=ie.charCodeAt(V),I=A>>8,n=A%256,R.push(n),R.push(I);return R}function T(ie){return e.toByteArray(Le(ie))}function O(ie,s,A,I){for(var n=0;n<I&&!(n+A>=s.length||n>=ie.length);++n)s[n+A]=ie[n];return n}function H(ie,s){return ie instanceof s||ie!=null&&ie.constructor!=null&&ie.constructor.name!=null&&ie.constructor.name===s.name}function ae(ie){return ie!==ie}var Oe=function(){for(var ie="0123456789abcdef",s=new Array(256),A=0;A<16;++A)for(var I=A*16,n=0;n<16;++n)s[I+n]=ie[A]+ie[n];return s}()})(buffer);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(o,e){var r=buffer,u=r.Buffer;function p(y,c){for(var d in y)c[d]=y[d]}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?o.exports=r:(p(r,e),e.Buffer=h);function h(y,c,d){return u(y,c,d)}h.prototype=Object.create(u.prototype),p(u,h),h.from=function(y,c,d){if(typeof y=="number")throw new TypeError("Argument must not be a number");return u(y,c,d)},h.alloc=function(y,c,d){if(typeof y!="number")throw new TypeError("Argument must be a number");var m=u(y);return c!==void 0?typeof d=="string"?m.fill(c,d):m.fill(c):m.fill(0),m},h.allocUnsafe=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return u(y)},h.allocUnsafeSlow=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(y)}})(safeBuffer$1,safeBuffer$1.exports);var safeBufferExports=safeBuffer$1.exports;function getParamSize(o){var e=(o/8|0)+(o%8===0?0:1);return e}var paramBytesForAlg={ES256:getParamSize(256),ES384:getParamSize(384),ES512:getParamSize(521)};function getParamBytesForAlg$1(o){var e=paramBytesForAlg[o];if(e)return e;throw new Error('Unknown algorithm "'+o+'"')}var paramBytesForAlg_1=getParamBytesForAlg$1,Buffer$7=safeBufferExports.Buffer,getParamBytesForAlg=paramBytesForAlg_1,MAX_OCTET=128,CLASS_UNIVERSAL=0,PRIMITIVE_BIT=32,TAG_SEQ=16,TAG_INT=2,ENCODED_TAG_SEQ=TAG_SEQ|PRIMITIVE_BIT|CLASS_UNIVERSAL<<6,ENCODED_TAG_INT=TAG_INT|CLASS_UNIVERSAL<<6;function base64Url(o){return o.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function signatureAsBuffer(o){if(Buffer$7.isBuffer(o))return o;if(typeof o=="string")return Buffer$7.from(o,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function derToJose(o,e){o=signatureAsBuffer(o);var r=getParamBytesForAlg(e),u=r+1,p=o.length,h=0;if(o[h++]!==ENCODED_TAG_SEQ)throw new Error('Could not find expected "seq"');var y=o[h++];if(y===(MAX_OCTET|1)&&(y=o[h++]),p-h<y)throw new Error('"seq" specified length of "'+y+'", only "'+(p-h)+'" remaining');if(o[h++]!==ENCODED_TAG_INT)throw new Error('Could not find expected "int" for "r"');var c=o[h++];if(p-h-2<c)throw new Error('"r" specified length of "'+c+'", only "'+(p-h-2)+'" available');if(u<c)throw new Error('"r" specified length of "'+c+'", max of "'+u+'" is acceptable');var d=h;if(h+=c,o[h++]!==ENCODED_TAG_INT)throw new Error('Could not find expected "int" for "s"');var m=o[h++];if(p-h!==m)throw new Error('"s" specified length of "'+m+'", expected "'+(p-h)+'"');if(u<m)throw new Error('"s" specified length of "'+m+'", max of "'+u+'" is acceptable');var P=h;if(h+=m,h!==p)throw new Error('Expected to consume entire buffer, but "'+(p-h)+'" bytes remain');var N=r-c,L=r-m,k=Buffer$7.allocUnsafe(N+c+L+m);for(h=0;h<N;++h)k[h]=0;o.copy(k,h,d+Math.max(-N,0),d+c),h=r;for(var B=h;h<B+L;++h)k[h]=0;return o.copy(k,h,P+Math.max(-L,0),P+m),k=k.toString("base64"),k=base64Url(k),k}function countPadding(o,e,r){for(var u=0;e+u<r&&o[e+u]===0;)++u;var p=o[e+u]>=MAX_OCTET;return p&&--u,u}function joseToDer(o,e){o=signatureAsBuffer(o);var r=getParamBytesForAlg(e),u=o.length;if(u!==r*2)throw new TypeError('"'+e+'" signatures must be "'+r*2+'" bytes, saw "'+u+'"');var p=countPadding(o,0,r),h=countPadding(o,r,o.length),y=r-p,c=r-h,d=2+y+1+1+c,m=d<MAX_OCTET,P=Buffer$7.allocUnsafe((m?2:3)+d),N=0;return P[N++]=ENCODED_TAG_SEQ,m?P[N++]=d:(P[N++]=MAX_OCTET|1,P[N++]=d&255),P[N++]=ENCODED_TAG_INT,P[N++]=y,p<0?(P[N++]=0,N+=o.copy(P,N,0,r)):N+=o.copy(P,N,p,r),P[N++]=ENCODED_TAG_INT,P[N++]=c,h<0?(P[N++]=0,o.copy(P,N,r)):o.copy(P,N,r+h),P}var ecdsaSigFormatter={derToJose,joseToDer},authclient={},util$c={},__classPrivateFieldGet$3=commonjsGlobal$2&&commonjsGlobal$2.__classPrivateFieldGet||function(o,e,r,u){if(r==="a"&&!u)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?o!==e||!u:!e.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?u:r==="a"?u.call(o):u?u.value:e.get(o)},_LRUCache_instances,_LRUCache_cache,_LRUCache_moveToEnd,_LRUCache_evict;Object.defineProperty(util$c,"__esModule",{value:!0});util$c.LRUCache=void 0;util$c.snakeToCamel=snakeToCamel;util$c.originalOrCamelOptions=originalOrCamelOptions;function snakeToCamel(o){return o.replace(/([_][^_])/g,e=>e.slice(1).toUpperCase())}function originalOrCamelOptions(o){function e(r){var u;const p=o||{};return(u=p[r])!==null&&u!==void 0?u:p[snakeToCamel(r)]}return{get:e}}class LRUCache{constructor(e){_LRUCache_instances.add(this),_LRUCache_cache.set(this,new Map),this.capacity=e.capacity,this.maxAge=e.maxAge}set(e,r){__classPrivateFieldGet$3(this,_LRUCache_instances,"m",_LRUCache_moveToEnd).call(this,e,r),__classPrivateFieldGet$3(this,_LRUCache_instances,"m",_LRUCache_evict).call(this)}get(e){const r=__classPrivateFieldGet$3(this,_LRUCache_cache,"f").get(e);if(r)return __classPrivateFieldGet$3(this,_LRUCache_instances,"m",_LRUCache_moveToEnd).call(this,e,r.value),__classPrivateFieldGet$3(this,_LRUCache_instances,"m",_LRUCache_evict).call(this),r.value}}util$c.LRUCache=LRUCache;_LRUCache_cache=new WeakMap,_LRUCache_instances=new WeakSet,_LRUCache_moveToEnd=function(e,r){__classPrivateFieldGet$3(this,_LRUCache_cache,"f").delete(e),__classPrivateFieldGet$3(this,_LRUCache_cache,"f").set(e,{value:r,lastAccessed:Date.now()})},_LRUCache_evict=function(){const e=this.maxAge?Date.now()-this.maxAge:0;let r=__classPrivateFieldGet$3(this,_LRUCache_cache,"f").entries().next();for(;!r.done&&(__classPrivateFieldGet$3(this,_LRUCache_cache,"f").size>this.capacity||r.value[1].lastAccessed<e);)__classPrivateFieldGet$3(this,_LRUCache_cache,"f").delete(r.value[0]),r=__classPrivateFieldGet$3(this,_LRUCache_cache,"f").entries().next()};(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.AuthClient=o.DEFAULT_EAGER_REFRESH_THRESHOLD_MILLIS=o.DEFAULT_UNIVERSE=void 0;const e=require$$1$3,r=src$5,u=transporters,p=util$c;o.DEFAULT_UNIVERSE="googleapis.com",o.DEFAULT_EAGER_REFRESH_THRESHOLD_MILLIS=5*60*1e3;class h extends e.EventEmitter{constructor(c={}){var d,m,P,N,L;super(),this.credentials={},this.eagerRefreshThresholdMillis=o.DEFAULT_EAGER_REFRESH_THRESHOLD_MILLIS,this.forceRefreshOnFailure=!1,this.universeDomain=o.DEFAULT_UNIVERSE;const k=(0,p.originalOrCamelOptions)(c);this.apiKey=c.apiKey,this.projectId=(d=k.get("project_id"))!==null&&d!==void 0?d:null,this.quotaProjectId=k.get("quota_project_id"),this.credentials=(m=k.get("credentials"))!==null&&m!==void 0?m:{},this.universeDomain=(P=k.get("universe_domain"))!==null&&P!==void 0?P:o.DEFAULT_UNIVERSE,this.transporter=(N=c.transporter)!==null&&N!==void 0?N:new u.DefaultTransporter,c.transporterOptions&&(this.transporter.defaults=c.transporterOptions),c.eagerRefreshThresholdMillis&&(this.eagerRefreshThresholdMillis=c.eagerRefreshThresholdMillis),this.forceRefreshOnFailure=(L=c.forceRefreshOnFailure)!==null&&L!==void 0?L:!1}get gaxios(){return this.transporter instanceof r.Gaxios?this.transporter:this.transporter instanceof u.DefaultTransporter?this.transporter.instance:"instance"in this.transporter&&this.transporter.instance instanceof r.Gaxios?this.transporter.instance:null}setCredentials(c){this.credentials=c}addSharedMetadataHeaders(c){return!c["x-goog-user-project"]&&this.quotaProjectId&&(c["x-goog-user-project"]=this.quotaProjectId),c}static get RETRY_CONFIG(){return{retry:!0,retryConfig:{httpMethodsToRetry:["GET","PUT","POST","HEAD","OPTIONS","DELETE"]}}}}o.AuthClient=h})(authclient);var loginticket={};Object.defineProperty(loginticket,"__esModule",{value:!0});loginticket.LoginTicket=void 0;class LoginTicket{constructor(e,r){this.envelope=e,this.payload=r}getEnvelope(){return this.envelope}getPayload(){return this.payload}getUserId(){const e=this.getPayload();return e&&e.sub?e.sub:null}getAttributes(){return{envelope:this.getEnvelope(),payload:this.getPayload()}}}loginticket.LoginTicket=LoginTicket;Object.defineProperty(oauth2client,"__esModule",{value:!0});oauth2client.OAuth2Client=oauth2client.ClientAuthentication=oauth2client.CertificateFormat=oauth2client.CodeChallengeMethod=void 0;const gaxios_1$5=src$5,querystring$2=require$$1$3,stream$1=require$$1$3,formatEcdsa$1=ecdsaSigFormatter,crypto_1$3=requireCrypto(),authclient_1$3=authclient,loginticket_1=loginticket;var CodeChallengeMethod;(function(o){o.Plain="plain",o.S256="S256"})(CodeChallengeMethod||(oauth2client.CodeChallengeMethod=CodeChallengeMethod={}));var CertificateFormat;(function(o){o.PEM="PEM",o.JWK="JWK"})(CertificateFormat||(oauth2client.CertificateFormat=CertificateFormat={}));var ClientAuthentication;(function(o){o.ClientSecretPost="ClientSecretPost",o.ClientSecretBasic="ClientSecretBasic",o.None="None"})(ClientAuthentication||(oauth2client.ClientAuthentication=ClientAuthentication={}));class OAuth2Client extends authclient_1$3.AuthClient{constructor(e,r,u){const p=e&&typeof e=="object"?e:{clientId:e,clientSecret:r,redirectUri:u};super(p),this.certificateCache={},this.certificateExpiry=null,this.certificateCacheFormat=CertificateFormat.PEM,this.refreshTokenPromises=new Map,this._clientId=p.clientId,this._clientSecret=p.clientSecret,this.redirectUri=p.redirectUri,this.endpoints={tokenInfoUrl:"https://oauth2.googleapis.com/tokeninfo",oauth2AuthBaseUrl:"https://accounts.google.com/o/oauth2/v2/auth",oauth2TokenUrl:"https://oauth2.googleapis.com/token",oauth2RevokeUrl:"https://oauth2.googleapis.com/revoke",oauth2FederatedSignonPemCertsUrl:"https://www.googleapis.com/oauth2/v1/certs",oauth2FederatedSignonJwkCertsUrl:"https://www.googleapis.com/oauth2/v3/certs",oauth2IapPublicKeyUrl:"https://www.gstatic.com/iap/verify/public_key",...p.endpoints},this.clientAuthentication=p.clientAuthentication||ClientAuthentication.ClientSecretPost,this.issuers=p.issuers||["accounts.google.com","https://accounts.google.com",this.universeDomain]}generateAuthUrl(e={}){if(e.code_challenge_method&&!e.code_challenge)throw new Error("If a code_challenge_method is provided, code_challenge must be included.");return e.response_type=e.response_type||"code",e.client_id=e.client_id||this._clientId,e.redirect_uri=e.redirect_uri||this.redirectUri,Array.isArray(e.scope)&&(e.scope=e.scope.join(" ")),this.endpoints.oauth2AuthBaseUrl.toString()+"?"+querystring$2.stringify(e)}generateCodeVerifier(){throw new Error("generateCodeVerifier is removed, please use generateCodeVerifierAsync instead.")}async generateCodeVerifierAsync(){const e=(0,crypto_1$3.createCrypto)(),u=e.randomBytesBase64(96).replace(/\+/g,"~").replace(/=/g,"_").replace(/\//g,"-"),h=(await e.sha256DigestBase64(u)).split("=")[0].replace(/\+/g,"-").replace(/\//g,"_");return{codeVerifier:u,codeChallenge:h}}getToken(e,r){const u=typeof e=="string"?{code:e}:e;if(r)this.getTokenAsync(u).then(p=>r(null,p.tokens,p.res),p=>r(p,null,p.response));else return this.getTokenAsync(u)}async getTokenAsync(e){const r=this.endpoints.oauth2TokenUrl.toString(),u={"Content-Type":"application/x-www-form-urlencoded"},p={client_id:e.client_id||this._clientId,code_verifier:e.codeVerifier,code:e.code,grant_type:"authorization_code",redirect_uri:e.redirect_uri||this.redirectUri};if(this.clientAuthentication===ClientAuthentication.ClientSecretBasic){const c=Buffer.from(`${this._clientId}:${this._clientSecret}`);u.Authorization=`Basic ${c.toString("base64")}`}this.clientAuthentication===ClientAuthentication.ClientSecretPost&&(p.client_secret=this._clientSecret);const h=await this.transporter.request({...OAuth2Client.RETRY_CONFIG,method:"POST",url:r,data:querystring$2.stringify(p),headers:u}),y=h.data;return h.data&&h.data.expires_in&&(y.expiry_date=new Date().getTime()+h.data.expires_in*1e3,delete y.expires_in),this.emit("tokens",y),{tokens:y,res:h}}async refreshToken(e){if(!e)return this.refreshTokenNoCache(e);if(this.refreshTokenPromises.has(e))return this.refreshTokenPromises.get(e);const r=this.refreshTokenNoCache(e).then(u=>(this.refreshTokenPromises.delete(e),u),u=>{throw this.refreshTokenPromises.delete(e),u});return this.refreshTokenPromises.set(e,r),r}async refreshTokenNoCache(e){var r;if(!e)throw new Error("No refresh token is set.");const u=this.endpoints.oauth2TokenUrl.toString(),p={refresh_token:e,client_id:this._clientId,client_secret:this._clientSecret,grant_type:"refresh_token"};let h;try{h=await this.transporter.request({...OAuth2Client.RETRY_CONFIG,method:"POST",url:u,data:querystring$2.stringify(p),headers:{"Content-Type":"application/x-www-form-urlencoded"}})}catch(c){throw c instanceof gaxios_1$5.GaxiosError&&c.message==="invalid_grant"&&(!((r=c.response)===null||r===void 0)&&r.data)&&/ReAuth/i.test(c.response.data.error_description)&&(c.message=JSON.stringify(c.response.data)),c}const y=h.data;return h.data&&h.data.expires_in&&(y.expiry_date=new Date().getTime()+h.data.expires_in*1e3,delete y.expires_in),this.emit("tokens",y),{tokens:y,res:h}}refreshAccessToken(e){if(e)this.refreshAccessTokenAsync().then(r=>e(null,r.credentials,r.res),e);else return this.refreshAccessTokenAsync()}async refreshAccessTokenAsync(){const e=await this.refreshToken(this.credentials.refresh_token),r=e.tokens;return r.refresh_token=this.credentials.refresh_token,this.credentials=r,{credentials:this.credentials,res:e.res}}getAccessToken(e){if(e)this.getAccessTokenAsync().then(r=>e(null,r.token,r.res),e);else return this.getAccessTokenAsync()}async getAccessTokenAsync(){if(!this.credentials.access_token||this.isTokenExpiring()){if(!this.credentials.refresh_token)if(this.refreshHandler){const u=await this.processAndValidateRefreshHandler();if(u!=null&&u.access_token)return this.setCredentials(u),{token:this.credentials.access_token}}else throw new Error("No refresh token or refresh handler callback is set.");const r=await this.refreshAccessTokenAsync();if(!r.credentials||r.credentials&&!r.credentials.access_token)throw new Error("Could not refresh access token.");return{token:r.credentials.access_token,res:r.res}}else return{token:this.credentials.access_token}}async getRequestHeaders(e){return(await this.getRequestMetadataAsync(e)).headers}async getRequestMetadataAsync(e){const r=this.credentials;if(!r.access_token&&!r.refresh_token&&!this.apiKey&&!this.refreshHandler)throw new Error("No access, refresh token, API key or refresh handler callback is set.");if(r.access_token&&!this.isTokenExpiring()){r.token_type=r.token_type||"Bearer";const c={Authorization:r.token_type+" "+r.access_token};return{headers:this.addSharedMetadataHeaders(c)}}if(this.refreshHandler){const c=await this.processAndValidateRefreshHandler();if(c!=null&&c.access_token){this.setCredentials(c);const d={Authorization:"Bearer "+this.credentials.access_token};return{headers:this.addSharedMetadataHeaders(d)}}}if(this.apiKey)return{headers:{"X-Goog-Api-Key":this.apiKey}};let u=null,p=null;try{u=await this.refreshToken(r.refresh_token),p=u.tokens}catch(c){const d=c;throw d.response&&(d.response.status===403||d.response.status===404)&&(d.message=`Could not refresh access token: ${d.message}`),d}const h=this.credentials;h.token_type=h.token_type||"Bearer",p.refresh_token=h.refresh_token,this.credentials=p;const y={Authorization:h.token_type+" "+p.access_token};return{headers:this.addSharedMetadataHeaders(y),res:u.res}}static getRevokeTokenUrl(e){return new OAuth2Client().getRevokeTokenURL(e).toString()}getRevokeTokenURL(e){const r=new URL(this.endpoints.oauth2RevokeUrl);return r.searchParams.append("token",e),r}revokeToken(e,r){const u={...OAuth2Client.RETRY_CONFIG,url:this.getRevokeTokenURL(e).toString(),method:"POST"};if(r)this.transporter.request(u).then(p=>r(null,p),r);else return this.transporter.request(u)}revokeCredentials(e){if(e)this.revokeCredentialsAsync().then(r=>e(null,r),e);else return this.revokeCredentialsAsync()}async revokeCredentialsAsync(){const e=this.credentials.access_token;if(this.credentials={},e)return this.revokeToken(e);throw new Error("No access token to revoke.")}request(e,r){if(r)this.requestAsync(e).then(u=>r(null,u),u=>r(u,u.response));else return this.requestAsync(e)}async requestAsync(e,r=!1){let u;try{const p=await this.getRequestMetadataAsync(e.url);e.headers=e.headers||{},p.headers&&p.headers["x-goog-user-project"]&&(e.headers["x-goog-user-project"]=p.headers["x-goog-user-project"]),p.headers&&p.headers.Authorization&&(e.headers.Authorization=p.headers.Authorization),this.apiKey&&(e.headers["X-Goog-Api-Key"]=this.apiKey),u=await this.transporter.request(e)}catch(p){const h=p.response;if(h){const y=h.status,c=this.credentials&&this.credentials.access_token&&this.credentials.refresh_token&&(!this.credentials.expiry_date||this.forceRefreshOnFailure),d=this.credentials&&this.credentials.access_token&&!this.credentials.refresh_token&&(!this.credentials.expiry_date||this.forceRefreshOnFailure)&&this.refreshHandler,m=h.config.data instanceof stream$1.Readable,P=y===401||y===403;if(!r&&P&&!m&&c)return await this.refreshAccessTokenAsync(),this.requestAsync(e,!0);if(!r&&P&&!m&&d){const N=await this.processAndValidateRefreshHandler();return N!=null&&N.access_token&&this.setCredentials(N),this.requestAsync(e,!0)}}throw p}return u}verifyIdToken(e,r){if(r&&typeof r!="function")throw new Error("This method accepts an options object as the first parameter, which includes the idToken, audience, and maxExpiry.");if(r)this.verifyIdTokenAsync(e).then(u=>r(null,u),r);else return this.verifyIdTokenAsync(e)}async verifyIdTokenAsync(e){if(!e.idToken)throw new Error("The verifyIdToken method requires an ID Token");const r=await this.getFederatedSignonCertsAsync();return await this.verifySignedJwtWithCertsAsync(e.idToken,r.certs,e.audience,this.issuers,e.maxExpiry)}async getTokenInfo(e){const{data:r}=await this.transporter.request({...OAuth2Client.RETRY_CONFIG,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Bearer ${e}`},url:this.endpoints.tokenInfoUrl.toString()}),u=Object.assign({expiry_date:new Date().getTime()+r.expires_in*1e3,scopes:r.scope.split(" ")},r);return delete u.expires_in,delete u.scope,u}getFederatedSignonCerts(e){if(e)this.getFederatedSignonCertsAsync().then(r=>e(null,r.certs,r.res),e);else return this.getFederatedSignonCertsAsync()}async getFederatedSignonCertsAsync(){const e=new Date().getTime(),r=(0,crypto_1$3.hasBrowserCrypto)()?CertificateFormat.JWK:CertificateFormat.PEM;if(this.certificateExpiry&&e<this.certificateExpiry.getTime()&&this.certificateCacheFormat===r)return{certs:this.certificateCache,format:r};let u,p;switch(r){case CertificateFormat.PEM:p=this.endpoints.oauth2FederatedSignonPemCertsUrl.toString();break;case CertificateFormat.JWK:p=this.endpoints.oauth2FederatedSignonJwkCertsUrl.toString();break;default:throw new Error(`Unsupported certificate format ${r}`)}try{u=await this.transporter.request({...OAuth2Client.RETRY_CONFIG,url:p})}catch(m){throw m instanceof Error&&(m.message=`Failed to retrieve verification certificates: ${m.message}`),m}const h=u?u.headers["cache-control"]:void 0;let y=-1;if(h){const P=new RegExp("max-age=([0-9]*)").exec(h);P&&P.length===2&&(y=Number(P[1])*1e3)}let c={};switch(r){case CertificateFormat.PEM:c=u.data;break;case CertificateFormat.JWK:for(const m of u.data.keys)c[m.kid]=m;break;default:throw new Error(`Unsupported certificate format ${r}`)}const d=new Date;return this.certificateExpiry=y===-1?null:new Date(d.getTime()+y),this.certificateCache=c,this.certificateCacheFormat=r,{certs:c,format:r,res:u}}getIapPublicKeys(e){if(e)this.getIapPublicKeysAsync().then(r=>e(null,r.pubkeys,r.res),e);else return this.getIapPublicKeysAsync()}async getIapPublicKeysAsync(){let e;const r=this.endpoints.oauth2IapPublicKeyUrl.toString();try{e=await this.transporter.request({...OAuth2Client.RETRY_CONFIG,url:r})}catch(u){throw u instanceof Error&&(u.message=`Failed to retrieve verification certificates: ${u.message}`),u}return{pubkeys:e.data,res:e}}verifySignedJwtWithCerts(){throw new Error("verifySignedJwtWithCerts is removed, please use verifySignedJwtWithCertsAsync instead.")}async verifySignedJwtWithCertsAsync(e,r,u,p,h){const y=(0,crypto_1$3.createCrypto)();h||(h=OAuth2Client.DEFAULT_MAX_TOKEN_LIFETIME_SECS_);const c=e.split(".");if(c.length!==3)throw new Error("Wrong number of segments in token: "+e);const d=c[0]+"."+c[1];let m=c[2],P,N;try{P=JSON.parse(y.decodeBase64StringUtf8(c[0]))}catch(q){throw q instanceof Error&&(q.message=`Can't parse token envelope: ${c[0]}': ${q.message}`),q}if(!P)throw new Error("Can't parse token envelope: "+c[0]);try{N=JSON.parse(y.decodeBase64StringUtf8(c[1]))}catch(q){throw q instanceof Error&&(q.message=`Can't parse token payload '${c[0]}`),q}if(!N)throw new Error("Can't parse token payload: "+c[1]);if(!Object.prototype.hasOwnProperty.call(r,P.kid))throw new Error("No pem found for envelope: "+JSON.stringify(P));const L=r[P.kid];if(P.alg==="ES256"&&(m=formatEcdsa$1.joseToDer(m,"ES256").toString("base64")),!await y.verify(L,d,m))throw new Error("Invalid token signature: "+e);if(!N.iat)throw new Error("No issue time in token: "+JSON.stringify(N));if(!N.exp)throw new Error("No expiration time in token: "+JSON.stringify(N));const B=Number(N.iat);if(isNaN(B))throw new Error("iat field using invalid format");const U=Number(N.exp);if(isNaN(U))throw new Error("exp field using invalid format");const $=new Date().getTime()/1e3;if(U>=$+h)throw new Error("Expiration time too far in future: "+JSON.stringify(N));const j=B-OAuth2Client.CLOCK_SKEW_SECS_,M=U+OAuth2Client.CLOCK_SKEW_SECS_;if($<j)throw new Error("Token used too early, "+$+" < "+j+": "+JSON.stringify(N));if($>M)throw new Error("Token used too late, "+$+" > "+M+": "+JSON.stringify(N));if(p&&p.indexOf(N.iss)<0)throw new Error("Invalid issuer, expected one of ["+p+"], but got "+N.iss);if(typeof u<"u"&&u!==null){const q=N.aud;let Q=!1;if(u.constructor===Array?Q=u.indexOf(q)>-1:Q=q===u,!Q)throw new Error("Wrong recipient, payload audience != requiredAudience")}return new loginticket_1.LoginTicket(P,N)}async processAndValidateRefreshHandler(){if(this.refreshHandler){const e=await this.refreshHandler();if(!e.access_token)throw new Error("No access token is returned by the refreshHandler callback.");return e}}isTokenExpiring(){const e=this.credentials.expiry_date;return e?e<=new Date().getTime()+this.eagerRefreshThresholdMillis:!1}}oauth2client.OAuth2Client=OAuth2Client;OAuth2Client.GOOGLE_TOKEN_INFO_URL="https://oauth2.googleapis.com/tokeninfo";OAuth2Client.CLOCK_SKEW_SECS_=300;OAuth2Client.DEFAULT_MAX_TOKEN_LIFETIME_SECS_=86400;Object.defineProperty(computeclient,"__esModule",{value:!0});computeclient.Compute=void 0;const gaxios_1$4=src$5,gcpMetadata$1=src$6,oauth2client_1$4=oauth2client;class Compute extends oauth2client_1$4.OAuth2Client{constructor(e={}){super(e),this.credentials={expiry_date:1,refresh_token:"compute-placeholder"},this.serviceAccountEmail=e.serviceAccountEmail||"default",this.scopes=Array.isArray(e.scopes)?e.scopes:e.scopes?[e.scopes]:[]}async refreshTokenNoCache(e){const r=`service-accounts/${this.serviceAccountEmail}/token`;let u;try{const h={property:r};this.scopes.length>0&&(h.params={scopes:this.scopes.join(",")}),u=await gcpMetadata$1.instance(h)}catch(h){throw h instanceof gaxios_1$4.GaxiosError&&(h.message=`Could not refresh access token: ${h.message}`,this.wrapError(h)),h}const p=u;return u&&u.expires_in&&(p.expiry_date=new Date().getTime()+u.expires_in*1e3,delete p.expires_in),this.emit("tokens",p),{tokens:p,res:null}}async fetchIdToken(e){const r=`service-accounts/${this.serviceAccountEmail}/identity?format=full&audience=${e}`;let u;try{const p={property:r};u=await gcpMetadata$1.instance(p)}catch(p){throw p instanceof Error&&(p.message=`Could not fetch ID token: ${p.message}`),p}return u}wrapError(e){const r=e.response;r&&r.status&&(e.status=r.status,r.status===403?e.message="A Forbidden error was returned while attempting to retrieve an access token for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have the correct permission scopes specified: "+e.message:r.status===404&&(e.message="A Not Found error was returned while attempting to retrieve an accesstoken for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have any permission scopes specified: "+e.message))}}computeclient.Compute=Compute;var idtokenclient={};Object.defineProperty(idtokenclient,"__esModule",{value:!0});idtokenclient.IdTokenClient=void 0;const oauth2client_1$3=oauth2client;class IdTokenClient extends oauth2client_1$3.OAuth2Client{constructor(e){super(e),this.targetAudience=e.targetAudience,this.idTokenProvider=e.idTokenProvider}async getRequestMetadataAsync(e){if(!this.credentials.id_token||!this.credentials.expiry_date||this.isTokenExpiring()){const u=await this.idTokenProvider.fetchIdToken(this.targetAudience);this.credentials={id_token:u,expiry_date:this.getIdTokenExpiryDate(u)}}return{headers:{Authorization:"Bearer "+this.credentials.id_token}}}getIdTokenExpiryDate(e){const r=e.split(".")[1];if(r)return JSON.parse(Buffer.from(r,"base64").toString("ascii")).exp*1e3}}idtokenclient.IdTokenClient=IdTokenClient;var envDetect={},define_process_env_default$6={};Object.defineProperty(envDetect,"__esModule",{value:!0});envDetect.GCPEnv=void 0;envDetect.clear=clear;envDetect.getEnv=getEnv;const gcpMetadata=src$6;var GCPEnv;(function(o){o.APP_ENGINE="APP_ENGINE",o.KUBERNETES_ENGINE="KUBERNETES_ENGINE",o.CLOUD_FUNCTIONS="CLOUD_FUNCTIONS",o.COMPUTE_ENGINE="COMPUTE_ENGINE",o.CLOUD_RUN="CLOUD_RUN",o.NONE="NONE"})(GCPEnv||(envDetect.GCPEnv=GCPEnv={}));let envPromise;function clear(){envPromise=void 0}async function getEnv(){return envPromise||(envPromise=getEnvMemoized(),envPromise)}async function getEnvMemoized(){let o=GCPEnv.NONE;return isAppEngine()?o=GCPEnv.APP_ENGINE:isCloudFunction()?o=GCPEnv.CLOUD_FUNCTIONS:await isComputeEngine()?await isKubernetesEngine()?o=GCPEnv.KUBERNETES_ENGINE:isCloudRun()?o=GCPEnv.CLOUD_RUN:o=GCPEnv.COMPUTE_ENGINE:o=GCPEnv.NONE,o}function isAppEngine(){return!!(define_process_env_default$6.GAE_SERVICE||define_process_env_default$6.GAE_MODULE_NAME)}function isCloudFunction(){return!!(define_process_env_default$6.FUNCTION_NAME||define_process_env_default$6.FUNCTION_TARGET)}function isCloudRun(){return!!define_process_env_default$6.K_CONFIGURATION}async function isKubernetesEngine(){try{return await gcpMetadata.instance("attributes/cluster-name"),!0}catch{return!1}}async function isComputeEngine(){return gcpMetadata.isAvailable()}var jwtclient={},src$3={},jws$2={},util$b={},types$3={},shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),u=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(u)!=="[object Symbol]")return!1;var p=42;e[r]=p;for(var h in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var y=Object.getOwnPropertySymbols(e);if(y.length!==1||y[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(e,r);if(c.value!==p||c.enumerable!==!0)return!1}return!0},hasSymbols$2=shams$1,shams=function(){return hasSymbols$2()&&!!Symbol.toStringTag},esObjectAtoms=Object,esErrors=Error,_eval=EvalError,range=RangeError,ref=ReferenceError,syntax=SyntaxError,type$1=TypeError,uri=URIError,abs$1=Math.abs,floor$1=Math.floor,max$2=Math.max,min$1=Math.min,pow$1=Math.pow,round$1=Math.round,_isNaN=Number.isNaN||function(e){return e!==e},$isNaN=_isNaN,sign$2=function(e){return $isNaN(e)||e===0?e:e<0?-1:1},gOPD$4=Object.getOwnPropertyDescriptor,$gOPD$1=gOPD$4;if($gOPD$1)try{$gOPD$1([],"length")}catch{$gOPD$1=null}var gopd$1=$gOPD$1,$defineProperty$3=Object.defineProperty||!1;if($defineProperty$3)try{$defineProperty$3({},"a",{value:1})}catch{$defineProperty$3=!1}var esDefineProperty=$defineProperty$3,hasSymbols$1,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols$1;hasRequiredHasSymbols=1;var o=typeof Symbol<"u"&&Symbol,e=shams$1;return hasSymbols$1=function(){return typeof o!="function"||typeof Symbol!="function"||typeof o("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},hasSymbols$1}var Reflect_getPrototypeOf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null,$Object$2=esObjectAtoms,Object_getPrototypeOf=$Object$2.getPrototypeOf||null,ERROR_MESSAGE="Function.prototype.bind called on incompatible ",toStr$3=Object.prototype.toString,max$1=Math.max,funcType="[object Function]",concatty=function(e,r){for(var u=[],p=0;p<e.length;p+=1)u[p]=e[p];for(var h=0;h<r.length;h+=1)u[h+e.length]=r[h];return u},slicy=function(e,r){for(var u=[],p=r,h=0;p<e.length;p+=1,h+=1)u[h]=e[p];return u},joiny=function(o,e){for(var r="",u=0;u<o.length;u+=1)r+=o[u],u+1<o.length&&(r+=e);return r},implementation$1=function(e){var r=this;if(typeof r!="function"||toStr$3.apply(r)!==funcType)throw new TypeError(ERROR_MESSAGE+r);for(var u=slicy(arguments,1),p,h=function(){if(this instanceof p){var P=r.apply(this,concatty(u,arguments));return Object(P)===P?P:this}return r.apply(e,concatty(u,arguments))},y=max$1(0,r.length-u.length),c=[],d=0;d<y;d++)c[d]="$"+d;if(p=Function("binder","return function ("+joiny(c,",")+"){ return binder.apply(this,arguments); }")(h),r.prototype){var m=function(){};m.prototype=r.prototype,p.prototype=new m,m.prototype=null}return p},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,functionCall=Function.prototype.call,functionApply=Function.prototype.apply,reflectApply$1=typeof Reflect<"u"&&Reflect&&Reflect.apply,bind$4=functionBind,$apply$2=functionApply,$call$2=functionCall,$reflectApply=reflectApply$1,actualApply$1=$reflectApply||bind$4.call($call$2,$apply$2),bind$3=functionBind,$TypeError$4=type$1,$call$1=functionCall,$actualApply=actualApply$1,callBindApplyHelpers=function(e){if(e.length<1||typeof e[0]!="function")throw new $TypeError$4("a function is required");return $actualApply(bind$3,$call$1,e)},callBind$2=callBindApplyHelpers,gOPD$3=gopd$1,hasProtoAccessor;try{hasProtoAccessor=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var desc=!!hasProtoAccessor&&gOPD$3&&gOPD$3(Object.prototype,"__proto__"),$Object$1=Object,$getPrototypeOf=$Object$1.getPrototypeOf,get=desc&&typeof desc.get=="function"?callBind$2([desc.get]):typeof $getPrototypeOf=="function"?function(e){return $getPrototypeOf(e==null?e:$Object$1(e))}:!1,reflectGetProto=Reflect_getPrototypeOf,originalGetProto=Object_getPrototypeOf,getDunderProto=get,getProto$3=reflectGetProto?function(e){return reflectGetProto(e)}:originalGetProto?function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return originalGetProto(e)}:getDunderProto?function(e){return getDunderProto(e)}:null,call$1=Function.prototype.call,$hasOwn=Object.prototype.hasOwnProperty,bind$2=functionBind,hasown=bind$2.call(call$1,$hasOwn),undefined$1,$Object=esObjectAtoms,$Error=esErrors,$EvalError=_eval,$RangeError=range,$ReferenceError=ref,$SyntaxError$1=syntax,$TypeError$3=type$1,$URIError=uri,abs=abs$1,floor=floor$1,max=max$2,min=min$1,pow=pow$1,round=round$1,sign$1=sign$2,$Function=Function,getEvalledConstructor=function(o){try{return $Function('"use strict"; return ('+o+").constructor;")()}catch{}},$gOPD=gopd$1,$defineProperty$2=esDefineProperty,throwTypeError=function(){throw new $TypeError$3},ThrowTypeError=$gOPD?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols=requireHasSymbols()(),getProto$2=getProto$3,$ObjectGPO=Object_getPrototypeOf,$ReflectGPO=Reflect_getPrototypeOf,$apply$1=functionApply,$call=functionCall,needsEval={},TypedArray=typeof Uint8Array>"u"||!getProto$2?undefined$1:getProto$2(Uint8Array),INTRINSICS={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols&&getProto$2?getProto$2([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined$1:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$Error,"%eval%":eval,"%EvalError%":$EvalError,"%Float16Array%":typeof Float16Array>"u"?undefined$1:Float16Array,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols&&getProto$2?getProto$2(getProto$2([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols||!getProto$2?undefined$1:getProto$2(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":$Object,"%Object.getOwnPropertyDescriptor%":$gOPD,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":$RangeError,"%ReferenceError%":$ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols||!getProto$2?undefined$1:getProto$2(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols&&getProto$2?getProto$2(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols?Symbol:undefined$1,"%SyntaxError%":$SyntaxError$1,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$3,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":$URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet,"%Function.prototype.call%":$call,"%Function.prototype.apply%":$apply$1,"%Object.defineProperty%":$defineProperty$2,"%Object.getPrototypeOf%":$ObjectGPO,"%Math.abs%":abs,"%Math.floor%":floor,"%Math.max%":max,"%Math.min%":min,"%Math.pow%":pow,"%Math.round%":round,"%Math.sign%":sign$1,"%Reflect.getPrototypeOf%":$ReflectGPO};if(getProto$2)try{null.error}catch(o){var errorProto=getProto$2(getProto$2(o));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function o(e){var r;if(e==="%AsyncFunction%")r=getEvalledConstructor("async function () {}");else if(e==="%GeneratorFunction%")r=getEvalledConstructor("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=getEvalledConstructor("async function* () {}");else if(e==="%AsyncGenerator%"){var u=o("%AsyncGeneratorFunction%");u&&(r=u.prototype)}else if(e==="%AsyncIteratorPrototype%"){var p=o("%AsyncGenerator%");p&&getProto$2&&(r=getProto$2(p.prototype))}return INTRINSICS[e]=r,r},LEGACY_ALIASES={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind$1=functionBind,hasOwn$1=hasown,$concat=bind$1.call($call,Array.prototype.concat),$spliceApply=bind$1.call($apply$1,Array.prototype.splice),$replace=bind$1.call($call,String.prototype.replace),$strSlice=bind$1.call($call,String.prototype.slice),$exec$2=bind$1.call($call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(e){var r=$strSlice(e,0,1),u=$strSlice(e,-1);if(r==="%"&&u!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");if(u==="%"&&r!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");var p=[];return $replace(e,rePropName,function(h,y,c,d){p[p.length]=c?$replace(d,reEscapeChar,"$1"):y||h}),p},getBaseIntrinsic=function(e,r){var u=e,p;if(hasOwn$1(LEGACY_ALIASES,u)&&(p=LEGACY_ALIASES[u],u="%"+p[0]+"%"),hasOwn$1(INTRINSICS,u)){var h=INTRINSICS[u];if(h===needsEval&&(h=doEval(u)),typeof h>"u"&&!r)throw new $TypeError$3("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:p,name:u,value:h}}throw new $SyntaxError$1("intrinsic "+e+" does not exist!")},getIntrinsic=function(e,r){if(typeof e!="string"||e.length===0)throw new $TypeError$3("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new $TypeError$3('"allowMissing" argument must be a boolean');if($exec$2(/^%?[^%]*%?$/,e)===null)throw new $SyntaxError$1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var u=stringToPath(e),p=u.length>0?u[0]:"",h=getBaseIntrinsic("%"+p+"%",r),y=h.name,c=h.value,d=!1,m=h.alias;m&&(p=m[0],$spliceApply(u,$concat([0,1],m)));for(var P=1,N=!0;P<u.length;P+=1){var L=u[P],k=$strSlice(L,0,1),B=$strSlice(L,-1);if((k==='"'||k==="'"||k==="`"||B==='"'||B==="'"||B==="`")&&k!==B)throw new $SyntaxError$1("property names with quotes must have matching quotes");if((L==="constructor"||!N)&&(d=!0),p+="."+L,y="%"+p+"%",hasOwn$1(INTRINSICS,y))c=INTRINSICS[y];else if(c!=null){if(!(L in c)){if(!r)throw new $TypeError$3("base intrinsic for "+e+" exists, but the property is not available.");return}if($gOPD&&P+1>=u.length){var U=$gOPD(c,L);N=!!U,N&&"get"in U&&!("originalValue"in U.get)?c=U.get:c=c[L]}else N=hasOwn$1(c,L),c=c[L];N&&!d&&(INTRINSICS[y]=c)}}return c},GetIntrinsic$1=getIntrinsic,callBindBasic=callBindApplyHelpers,$indexOf$1=callBindBasic([GetIntrinsic$1("%String.prototype.indexOf%")]),callBound$5=function(e,r){var u=GetIntrinsic$1(e,!!r);return typeof u=="function"&&$indexOf$1(e,".prototype.")>-1?callBindBasic([u]):u},hasToStringTag$4=shams(),callBound$4=callBound$5,$toString$2=callBound$4("Object.prototype.toString"),isStandardArguments=function(e){return hasToStringTag$4&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:$toString$2(e)==="[object Arguments]"},isLegacyArguments=function(e){return isStandardArguments(e)?!0:e!==null&&typeof e=="object"&&"length"in e&&typeof e.length=="number"&&e.length>=0&&$toString$2(e)!=="[object Array]"&&"callee"in e&&$toString$2(e.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments=supportsStandardArguments?isStandardArguments:isLegacyArguments,callBound$3=callBound$5,hasToStringTag$3=shams(),hasOwn=hasown,gOPD$2=gopd$1,fn;if(hasToStringTag$3){var $exec$1=callBound$3("RegExp.prototype.exec"),isRegexMarker={},throwRegexMarker=function(){throw isRegexMarker},badStringifier={toString:throwRegexMarker,valueOf:throwRegexMarker};typeof Symbol.toPrimitive=="symbol"&&(badStringifier[Symbol.toPrimitive]=throwRegexMarker),fn=function(e){if(!e||typeof e!="object")return!1;var r=gOPD$2(e,"lastIndex"),u=r&&hasOwn(r,"value");if(!u)return!1;try{$exec$1(e,badStringifier)}catch(p){return p===isRegexMarker}}}else{var $toString$1=callBound$3("Object.prototype.toString"),regexClass="[object RegExp]";fn=function(e){return!e||typeof e!="object"&&typeof e!="function"?!1:$toString$1(e)===regexClass}}var isRegex$1=fn,callBound$2=callBound$5,isRegex=isRegex$1,$exec=callBound$2("RegExp.prototype.exec"),$TypeError$2=type$1,safeRegexTest$1=function(e){if(!isRegex(e))throw new $TypeError$2("`regex` must be a RegExp");return function(u){return $exec(e,u)!==null}},callBound$1=callBound$5,safeRegexTest=safeRegexTest$1,isFnRegex=safeRegexTest(/^\s*(?:function)?\*/),hasToStringTag$2=shams(),getProto$1=getProto$3,toStr$2=callBound$1("Object.prototype.toString"),fnToStr$1=callBound$1("Function.prototype.toString"),getGeneratorFunc=function(){if(!hasToStringTag$2)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function(e){if(typeof e!="function")return!1;if(isFnRegex(fnToStr$1(e)))return!0;if(!hasToStringTag$2){var r=toStr$2(e);return r==="[object GeneratorFunction]"}if(!getProto$1)return!1;if(typeof GeneratorFunction>"u"){var u=getGeneratorFunc();GeneratorFunction=u?getProto$1(u):!1}return getProto$1(e)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(o){o!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function(e){try{var r=fnToStr.call(e);return constructorRegex.test(r)}catch{return!1}},tryFunctionObject=function(e){try{return isES6ClassFn(e)?!1:(fnToStr.call(e),!0)}catch{return!1}},toStr$1=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",ddaClass2="[object HTML document.all class]",ddaClass3="[object HTMLCollection]",hasToStringTag$1=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function(){return!1};if(typeof document=="object"){var all=document.all;toStr$1.call(all)===toStr$1.call(document.all)&&(isDDA=function(e){if((isIE68||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=toStr$1.call(e);return(r===ddaClass||r===ddaClass2||r===ddaClass3||r===objectClass)&&e("")==null}catch{}return!1})}var isCallable$1=reflectApply?function(e){if(isDDA(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{reflectApply(e,null,badArrayLike)}catch(r){if(r!==isCallableMarker)return!1}return!isES6ClassFn(e)&&tryFunctionObject(e)}:function(e){if(isDDA(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(hasToStringTag$1)return tryFunctionObject(e);if(isES6ClassFn(e))return!1;var r=toStr$1.call(e);return r!==fnClass&&r!==genClass&&!/^\[object HTML/.test(r)?!1:tryFunctionObject(e)},isCallable=isCallable$1,toStr=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty,forEachArray=function(e,r,u){for(var p=0,h=e.length;p<h;p++)hasOwnProperty.call(e,p)&&(u==null?r(e[p],p,e):r.call(u,e[p],p,e))},forEachString=function(e,r,u){for(var p=0,h=e.length;p<h;p++)u==null?r(e.charAt(p),p,e):r.call(u,e.charAt(p),p,e)},forEachObject=function(e,r,u){for(var p in e)hasOwnProperty.call(e,p)&&(u==null?r(e[p],p,e):r.call(u,e[p],p,e))};function isArray$1(o){return toStr.call(o)==="[object Array]"}var forEach$1=function(e,r,u){if(!isCallable(r))throw new TypeError("iterator must be a function");var p;arguments.length>=3&&(p=u),isArray$1(e)?forEachArray(e,r,p):typeof e=="string"?forEachString(e,r,p):forEachObject(e,r,p)},possibleTypedArrayNames=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],possibleNames=possibleTypedArrayNames,g$1=typeof globalThis>"u"?commonjsGlobal$2:globalThis,availableTypedArrays$1=function(){for(var e=[],r=0;r<possibleNames.length;r++)typeof g$1[possibleNames[r]]=="function"&&(e[e.length]=possibleNames[r]);return e},callBind$1={exports:{}},$defineProperty$1=esDefineProperty,$SyntaxError=syntax,$TypeError$1=type$1,gopd=gopd$1,defineDataProperty=function(e,r,u){if(!e||typeof e!="object"&&typeof e!="function")throw new $TypeError$1("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new $TypeError$1("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $TypeError$1("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $TypeError$1("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $TypeError$1("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $TypeError$1("`loose`, if provided, must be a boolean");var p=arguments.length>3?arguments[3]:null,h=arguments.length>4?arguments[4]:null,y=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,d=!!gopd&&gopd(e,r);if($defineProperty$1)$defineProperty$1(e,r,{configurable:y===null&&d?d.configurable:!y,enumerable:p===null&&d?d.enumerable:!p,value:u,writable:h===null&&d?d.writable:!h});else if(c||!p&&!h&&!y)e[r]=u;else throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},$defineProperty=esDefineProperty,hasPropertyDescriptors=function(){return!!$defineProperty};hasPropertyDescriptors.hasArrayLengthDefineBug=function(){if(!$defineProperty)return null;try{return $defineProperty([],"length",{value:1}).length!==1}catch{return!0}};var hasPropertyDescriptors_1=hasPropertyDescriptors,GetIntrinsic=getIntrinsic,define=defineDataProperty,hasDescriptors=hasPropertyDescriptors_1(),gOPD$1=gopd$1,$TypeError=type$1,$floor=GetIntrinsic("%Math.floor%"),setFunctionLength=function(e,r){if(typeof e!="function")throw new $TypeError("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||$floor(r)!==r)throw new $TypeError("`length` must be a positive 32-bit integer");var u=arguments.length>2&&!!arguments[2],p=!0,h=!0;if("length"in e&&gOPD$1){var y=gOPD$1(e,"length");y&&!y.configurable&&(p=!1),y&&!y.writable&&(h=!1)}return(p||h||!u)&&(hasDescriptors?define(e,"length",r,!0,!0):define(e,"length",r)),e},bind=functionBind,$apply=functionApply,actualApply=actualApply$1,applyBind=function(){return actualApply(bind,$apply,arguments)};(function(o){var e=setFunctionLength,r=esDefineProperty,u=callBindApplyHelpers,p=applyBind;o.exports=function(y){var c=u(arguments),d=y.length-(arguments.length-1);return e(c,1+(d>0?d:0),!0)},r?r(o.exports,"apply",{value:p}):o.exports.apply=p})(callBind$1);var callBindExports=callBind$1.exports,forEach=forEach$1,availableTypedArrays=availableTypedArrays$1,callBind=callBindExports,callBound=callBound$5,gOPD=gopd$1,getProto=getProto$3,$toString=callBound("Object.prototype.toString"),hasToStringTag=shams(),g=typeof globalThis>"u"?commonjsGlobal$2:globalThis,typedArrays=availableTypedArrays(),$slice=callBound("String.prototype.slice"),$indexOf=callBound("Array.prototype.indexOf",!0)||function(e,r){for(var u=0;u<e.length;u+=1)if(e[u]===r)return u;return-1},cache={__proto__:null};hasToStringTag&&gOPD&&getProto?forEach(typedArrays,function(o){var e=new g[o];if(Symbol.toStringTag in e&&getProto){var r=getProto(e),u=gOPD(r,Symbol.toStringTag);if(!u&&r){var p=getProto(r);u=gOPD(p,Symbol.toStringTag)}cache["$"+o]=callBind(u.get)}}):forEach(typedArrays,function(o){var e=new g[o],r=e.slice||e.set;r&&(cache["$"+o]=callBind(r))});var tryTypedArrays=function(e){var r=!1;return forEach(cache,function(u,p){if(!r)try{"$"+u(e)===p&&(r=$slice(p,1))}catch{}}),r},trySlices=function(e){var r=!1;return forEach(cache,function(u,p){if(!r)try{u(e),r=$slice(p,1)}catch{}}),r},whichTypedArray$1=function(e){if(!e||typeof e!="object")return!1;if(!hasToStringTag){var r=$slice($toString(e),8,-1);return $indexOf(typedArrays,r)>-1?r:r!=="Object"?!1:trySlices(e)}return gOPD?tryTypedArrays(e):null},whichTypedArray=whichTypedArray$1,isTypedArray=function(e){return!!whichTypedArray(e)};(function(o){var e=isArguments,r=isGeneratorFunction,u=whichTypedArray$1,p=isTypedArray;function h(I){return I.call.bind(I)}var y=typeof BigInt<"u",c=typeof Symbol<"u",d=h(Object.prototype.toString),m=h(Number.prototype.valueOf),P=h(String.prototype.valueOf),N=h(Boolean.prototype.valueOf);if(y)var L=h(BigInt.prototype.valueOf);if(c)var k=h(Symbol.prototype.valueOf);function B(I,n){if(typeof I!="object")return!1;try{return n(I),!0}catch{return!1}}o.isArgumentsObject=e,o.isGeneratorFunction=r,o.isTypedArray=p;function U(I){return typeof Promise<"u"&&I instanceof Promise||I!==null&&typeof I=="object"&&typeof I.then=="function"&&typeof I.catch=="function"}o.isPromise=U;function $(I){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(I):p(I)||Be(I)}o.isArrayBufferView=$;function j(I){return u(I)==="Uint8Array"}o.isUint8Array=j;function M(I){return u(I)==="Uint8ClampedArray"}o.isUint8ClampedArray=M;function q(I){return u(I)==="Uint16Array"}o.isUint16Array=q;function Q(I){return u(I)==="Uint32Array"}o.isUint32Array=Q;function K(I){return u(I)==="Int8Array"}o.isInt8Array=K;function G(I){return u(I)==="Int16Array"}o.isInt16Array=G;function F(I){return u(I)==="Int32Array"}o.isInt32Array=F;function x(I){return u(I)==="Float32Array"}o.isFloat32Array=x;function z(I){return u(I)==="Float64Array"}o.isFloat64Array=z;function J(I){return u(I)==="BigInt64Array"}o.isBigInt64Array=J;function Z(I){return u(I)==="BigUint64Array"}o.isBigUint64Array=Z;function X(I){return d(I)==="[object Map]"}X.working=typeof Map<"u"&&X(new Map);function te(I){return typeof Map>"u"?!1:X.working?X(I):I instanceof Map}o.isMap=te;function be(I){return d(I)==="[object Set]"}be.working=typeof Set<"u"&&be(new Set);function Ae(I){return typeof Set>"u"?!1:be.working?be(I):I instanceof Set}o.isSet=Ae;function Ne(I){return d(I)==="[object WeakMap]"}Ne.working=typeof WeakMap<"u"&&Ne(new WeakMap);function ke(I){return typeof WeakMap>"u"?!1:Ne.working?Ne(I):I instanceof WeakMap}o.isWeakMap=ke;function Ue(I){return d(I)==="[object WeakSet]"}Ue.working=typeof WeakSet<"u"&&Ue(new WeakSet);function qe(I){return Ue(I)}o.isWeakSet=qe;function Ge(I){return d(I)==="[object ArrayBuffer]"}Ge.working=typeof ArrayBuffer<"u"&&Ge(new ArrayBuffer);function Qe(I){return typeof ArrayBuffer>"u"?!1:Ge.working?Ge(I):I instanceof ArrayBuffer}o.isArrayBuffer=Qe;function Ke(I){return d(I)==="[object DataView]"}Ke.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Ke(new DataView(new ArrayBuffer(1),0,1));function Be(I){return typeof DataView>"u"?!1:Ke.working?Ke(I):I instanceof DataView}o.isDataView=Be;var Re=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function $e(I){return d(I)==="[object SharedArrayBuffer]"}function xe(I){return typeof Re>"u"?!1:(typeof $e.working>"u"&&($e.working=$e(new Re)),$e.working?$e(I):I instanceof Re)}o.isSharedArrayBuffer=xe;function Le(I){return d(I)==="[object AsyncFunction]"}o.isAsyncFunction=Le;function je(I){return d(I)==="[object Map Iterator]"}o.isMapIterator=je;function Y(I){return d(I)==="[object Set Iterator]"}o.isSetIterator=Y;function l(I){return d(I)==="[object Generator]"}o.isGeneratorObject=l;function T(I){return d(I)==="[object WebAssembly.Module]"}o.isWebAssemblyCompiledModule=T;function O(I){return B(I,m)}o.isNumberObject=O;function H(I){return B(I,P)}o.isStringObject=H;function ae(I){return B(I,N)}o.isBooleanObject=ae;function Oe(I){return y&&B(I,L)}o.isBigIntObject=Oe;function ie(I){return c&&B(I,k)}o.isSymbolObject=ie;function s(I){return O(I)||H(I)||ae(I)||Oe(I)||ie(I)}o.isBoxedPrimitive=s;function A(I){return typeof Uint8Array<"u"&&(Qe(I)||xe(I))}o.isAnyArrayBuffer=A,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(I){Object.defineProperty(o,I,{enumerable:!1,value:function(){throw new Error(I+" is not supported in userland")}})})})(types$3);var isBufferBrowser=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(e,r){if(r){e.super_=r;var u=function(){};u.prototype=r.prototype,e.prototype=new u,e.prototype.constructor=e}};var inherits_browserExports=inherits_browser.exports;(function(o){var e={},r=Object.getOwnPropertyDescriptors||function(Re){for(var $e=Object.keys(Re),xe={},Le=0;Le<$e.length;Le++)xe[$e[Le]]=Object.getOwnPropertyDescriptor(Re,$e[Le]);return xe},u=/%[sdj%]/g;o.format=function(Be){if(!G(Be)){for(var Re=[],$e=0;$e<arguments.length;$e++)Re.push(c(arguments[$e]));return Re.join(" ")}for(var $e=1,xe=arguments,Le=xe.length,je=String(Be).replace(u,function(l){if(l==="%%")return"%";if($e>=Le)return l;switch(l){case"%s":return String(xe[$e++]);case"%d":return Number(xe[$e++]);case"%j":try{return JSON.stringify(xe[$e++])}catch{return"[Circular]"}default:return l}}),Y=xe[$e];$e<Le;Y=xe[++$e])q(Y)||!J(Y)?je+=" "+Y:je+=" "+c(Y);return je},o.deprecate=function(Be,Re){if(typeof process<"u"&&process.noDeprecation===!0)return Be;if(typeof process>"u")return function(){return o.deprecate(Be,Re).apply(this,arguments)};var $e=!1;function xe(){if(!$e){if(process.throwDeprecation)throw new Error(Re);process.traceDeprecation?console.trace(Re):console.error(Re),$e=!0}return Be.apply(this,arguments)}return xe};var p={},h=/^$/;if(e.NODE_DEBUG){var y=e.NODE_DEBUG;y=y.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),h=new RegExp("^"+y+"$","i")}o.debuglog=function(Be){if(Be=Be.toUpperCase(),!p[Be])if(h.test(Be)){var Re=process.pid;p[Be]=function(){var $e=o.format.apply(o,arguments);console.error("%s %d: %s",Be,Re,$e)}}else p[Be]=function(){};return p[Be]};function c(Be,Re){var $e={seen:[],stylize:m};return arguments.length>=3&&($e.depth=arguments[2]),arguments.length>=4&&($e.colors=arguments[3]),M(Re)?$e.showHidden=Re:Re&&o._extend($e,Re),x($e.showHidden)&&($e.showHidden=!1),x($e.depth)&&($e.depth=2),x($e.colors)&&($e.colors=!1),x($e.customInspect)&&($e.customInspect=!0),$e.colors&&($e.stylize=d),N($e,Be,$e.depth)}o.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function d(Be,Re){var $e=c.styles[Re];return $e?"\x1B["+c.colors[$e][0]+"m"+Be+"\x1B["+c.colors[$e][1]+"m":Be}function m(Be,Re){return Be}function P(Be){var Re={};return Be.forEach(function($e,xe){Re[$e]=!0}),Re}function N(Be,Re,$e){if(Be.customInspect&&Re&&te(Re.inspect)&&Re.inspect!==o.inspect&&!(Re.constructor&&Re.constructor.prototype===Re)){var xe=Re.inspect($e,Be);return G(xe)||(xe=N(Be,xe,$e)),xe}var Le=L(Be,Re);if(Le)return Le;var je=Object.keys(Re),Y=P(je);if(Be.showHidden&&(je=Object.getOwnPropertyNames(Re)),X(Re)&&(je.indexOf("message")>=0||je.indexOf("description")>=0))return k(Re);if(je.length===0){if(te(Re)){var l=Re.name?": "+Re.name:"";return Be.stylize("[Function"+l+"]","special")}if(z(Re))return Be.stylize(RegExp.prototype.toString.call(Re),"regexp");if(Z(Re))return Be.stylize(Date.prototype.toString.call(Re),"date");if(X(Re))return k(Re)}var T="",O=!1,H=["{","}"];if(j(Re)&&(O=!0,H=["[","]"]),te(Re)){var ae=Re.name?": "+Re.name:"";T=" [Function"+ae+"]"}if(z(Re)&&(T=" "+RegExp.prototype.toString.call(Re)),Z(Re)&&(T=" "+Date.prototype.toUTCString.call(Re)),X(Re)&&(T=" "+k(Re)),je.length===0&&(!O||Re.length==0))return H[0]+T+H[1];if($e<0)return z(Re)?Be.stylize(RegExp.prototype.toString.call(Re),"regexp"):Be.stylize("[Object]","special");Be.seen.push(Re);var Oe;return O?Oe=B(Be,Re,$e,Y,je):Oe=je.map(function(ie){return U(Be,Re,$e,Y,ie,O)}),Be.seen.pop(),$(Oe,T,H)}function L(Be,Re){if(x(Re))return Be.stylize("undefined","undefined");if(G(Re)){var $e="'"+JSON.stringify(Re).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Be.stylize($e,"string")}if(K(Re))return Be.stylize(""+Re,"number");if(M(Re))return Be.stylize(""+Re,"boolean");if(q(Re))return Be.stylize("null","null")}function k(Be){return"["+Error.prototype.toString.call(Be)+"]"}function B(Be,Re,$e,xe,Le){for(var je=[],Y=0,l=Re.length;Y<l;++Y)qe(Re,String(Y))?je.push(U(Be,Re,$e,xe,String(Y),!0)):je.push("");return Le.forEach(function(T){T.match(/^\d+$/)||je.push(U(Be,Re,$e,xe,T,!0))}),je}function U(Be,Re,$e,xe,Le,je){var Y,l,T;if(T=Object.getOwnPropertyDescriptor(Re,Le)||{value:Re[Le]},T.get?T.set?l=Be.stylize("[Getter/Setter]","special"):l=Be.stylize("[Getter]","special"):T.set&&(l=Be.stylize("[Setter]","special")),qe(xe,Le)||(Y="["+Le+"]"),l||(Be.seen.indexOf(T.value)<0?(q($e)?l=N(Be,T.value,null):l=N(Be,T.value,$e-1),l.indexOf(`
`)>-1&&(je?l=l.split(`
`).map(function(O){return"  "+O}).join(`
`).slice(2):l=`
`+l.split(`
`).map(function(O){return"   "+O}).join(`
`))):l=Be.stylize("[Circular]","special")),x(Y)){if(je&&Le.match(/^\d+$/))return l;Y=JSON.stringify(""+Le),Y.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Y=Y.slice(1,-1),Y=Be.stylize(Y,"name")):(Y=Y.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Y=Be.stylize(Y,"string"))}return Y+": "+l}function $(Be,Re,$e){var xe=Be.reduce(function(Le,je){return je.indexOf(`
`)>=0,Le+je.replace(/\u001b\[\d\d?m/g,"").length+1},0);return xe>60?$e[0]+(Re===""?"":Re+`
 `)+" "+Be.join(`,
  `)+" "+$e[1]:$e[0]+Re+" "+Be.join(", ")+" "+$e[1]}o.types=types$3;function j(Be){return Array.isArray(Be)}o.isArray=j;function M(Be){return typeof Be=="boolean"}o.isBoolean=M;function q(Be){return Be===null}o.isNull=q;function Q(Be){return Be==null}o.isNullOrUndefined=Q;function K(Be){return typeof Be=="number"}o.isNumber=K;function G(Be){return typeof Be=="string"}o.isString=G;function F(Be){return typeof Be=="symbol"}o.isSymbol=F;function x(Be){return Be===void 0}o.isUndefined=x;function z(Be){return J(Be)&&Ae(Be)==="[object RegExp]"}o.isRegExp=z,o.types.isRegExp=z;function J(Be){return typeof Be=="object"&&Be!==null}o.isObject=J;function Z(Be){return J(Be)&&Ae(Be)==="[object Date]"}o.isDate=Z,o.types.isDate=Z;function X(Be){return J(Be)&&(Ae(Be)==="[object Error]"||Be instanceof Error)}o.isError=X,o.types.isNativeError=X;function te(Be){return typeof Be=="function"}o.isFunction=te;function be(Be){return Be===null||typeof Be=="boolean"||typeof Be=="number"||typeof Be=="string"||typeof Be=="symbol"||typeof Be>"u"}o.isPrimitive=be,o.isBuffer=isBufferBrowser;function Ae(Be){return Object.prototype.toString.call(Be)}function Ne(Be){return Be<10?"0"+Be.toString(10):Be.toString(10)}var ke=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Ue(){var Be=new Date,Re=[Ne(Be.getHours()),Ne(Be.getMinutes()),Ne(Be.getSeconds())].join(":");return[Be.getDate(),ke[Be.getMonth()],Re].join(" ")}o.log=function(){console.log("%s - %s",Ue(),o.format.apply(o,arguments))},o.inherits=inherits_browserExports,o._extend=function(Be,Re){if(!Re||!J(Re))return Be;for(var $e=Object.keys(Re),xe=$e.length;xe--;)Be[$e[xe]]=Re[$e[xe]];return Be};function qe(Be,Re){return Object.prototype.hasOwnProperty.call(Be,Re)}var Ge=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;o.promisify=function(Re){if(typeof Re!="function")throw new TypeError('The "original" argument must be of type Function');if(Ge&&Re[Ge]){var $e=Re[Ge];if(typeof $e!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty($e,Ge,{value:$e,enumerable:!1,writable:!1,configurable:!0}),$e}function $e(){for(var xe,Le,je=new Promise(function(T,O){xe=T,Le=O}),Y=[],l=0;l<arguments.length;l++)Y.push(arguments[l]);Y.push(function(T,O){T?Le(T):xe(O)});try{Re.apply(this,Y)}catch(T){Le(T)}return je}return Object.setPrototypeOf($e,Object.getPrototypeOf(Re)),Ge&&Object.defineProperty($e,Ge,{value:$e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties($e,r(Re))},o.promisify.custom=Ge;function Qe(Be,Re){if(!Be){var $e=new Error("Promise was rejected with a falsy value");$e.reason=Be,Be=$e}return Re(Be)}function Ke(Be){if(typeof Be!="function")throw new TypeError('The "original" argument must be of type Function');function Re(){for(var $e=[],xe=0;xe<arguments.length;xe++)$e.push(arguments[xe]);var Le=$e.pop();if(typeof Le!="function")throw new TypeError("The last argument must be of type Function");var je=this,Y=function(){return Le.apply(je,arguments)};Be.apply(this,$e).then(function(l){process.nextTick(Y.bind(null,null,l))},function(l){process.nextTick(Qe.bind(null,l,Y))})}return Object.setPrototypeOf(Re,Object.getPrototypeOf(Be)),Object.defineProperties(Re,r(Be)),Re}o.callbackify=Ke})(util$b);var Buffer$6=safeBufferExports.Buffer,Stream$2=require$$1$3,util$a=util$b;function DataStream$2(o){if(this.buffer=null,this.writable=!0,this.readable=!0,!o)return this.buffer=Buffer$6.alloc(0),this;if(typeof o.pipe=="function")return this.buffer=Buffer$6.alloc(0),o.pipe(this),this;if(o.length||typeof o=="object")return this.buffer=o,this.writable=!1,process.nextTick((function(){this.emit("end",o),this.readable=!1,this.emit("close")}).bind(this)),this;throw new TypeError("Unexpected data type ("+typeof o+")")}util$a.inherits(DataStream$2,Stream$2);DataStream$2.prototype.write=function(e){this.buffer=Buffer$6.concat([this.buffer,Buffer$6.from(e)]),this.emit("data",e)};DataStream$2.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1};var dataStream=DataStream$2,Buffer$5=buffer.Buffer,SlowBuffer=buffer.SlowBuffer,bufferEqualConstantTime=bufferEq;function bufferEq(o,e){if(!Buffer$5.isBuffer(o)||!Buffer$5.isBuffer(e)||o.length!==e.length)return!1;for(var r=0,u=0;u<o.length;u++)r|=o[u]^e[u];return r===0}bufferEq.install=function(){Buffer$5.prototype.equal=SlowBuffer.prototype.equal=function(e){return bufferEq(this,e)}};var origBufEqual=Buffer$5.prototype.equal,origSlowBufEqual=SlowBuffer.prototype.equal;bufferEq.restore=function(){Buffer$5.prototype.equal=origBufEqual,SlowBuffer.prototype.equal=origSlowBufEqual};var bufferEqual=bufferEqualConstantTime,Buffer$4=safeBufferExports.Buffer,crypto$1=require$$1$3,formatEcdsa=ecdsaSigFormatter,util$9=util$b,MSG_INVALID_ALGORITHM=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,MSG_INVALID_SECRET="secret must be a string or buffer",MSG_INVALID_VERIFIER_KEY="key must be a string or a buffer",MSG_INVALID_SIGNER_KEY="key must be a string, a buffer or an object",supportsKeyObjects=typeof crypto$1.createPublicKey=="function";supportsKeyObjects&&(MSG_INVALID_VERIFIER_KEY+=" or a KeyObject",MSG_INVALID_SECRET+="or a KeyObject");function checkIsPublicKey(o){if(!Buffer$4.isBuffer(o)&&typeof o!="string"&&(!supportsKeyObjects||typeof o!="object"||typeof o.type!="string"||typeof o.asymmetricKeyType!="string"||typeof o.export!="function"))throw typeError(MSG_INVALID_VERIFIER_KEY)}function checkIsPrivateKey(o){if(!Buffer$4.isBuffer(o)&&typeof o!="string"&&typeof o!="object")throw typeError(MSG_INVALID_SIGNER_KEY)}function checkIsSecretKey(o){if(!Buffer$4.isBuffer(o)){if(typeof o=="string")return o;if(!supportsKeyObjects||typeof o!="object"||o.type!=="secret"||typeof o.export!="function")throw typeError(MSG_INVALID_SECRET)}}function fromBase64(o){return o.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function toBase64(o){o=o.toString();var e=4-o.length%4;if(e!==4)for(var r=0;r<e;++r)o+="=";return o.replace(/\-/g,"+").replace(/_/g,"/")}function typeError(o){var e=[].slice.call(arguments,1),r=util$9.format.bind(util$9,o).apply(null,e);return new TypeError(r)}function bufferOrString(o){return Buffer$4.isBuffer(o)||typeof o=="string"}function normalizeInput(o){return bufferOrString(o)||(o=JSON.stringify(o)),o}function createHmacSigner(o){return function(r,u){checkIsSecretKey(u),r=normalizeInput(r);var p=crypto$1.createHmac("sha"+o,u),h=(p.update(r),p.digest("base64"));return fromBase64(h)}}function createHmacVerifier(o){return function(r,u,p){var h=createHmacSigner(o)(r,p);return bufferEqual(Buffer$4.from(u),Buffer$4.from(h))}}function createKeySigner(o){return function(r,u){checkIsPrivateKey(u),r=normalizeInput(r);var p=crypto$1.createSign("RSA-SHA"+o),h=(p.update(r),p.sign(u,"base64"));return fromBase64(h)}}function createKeyVerifier(o){return function(r,u,p){checkIsPublicKey(p),r=normalizeInput(r),u=toBase64(u);var h=crypto$1.createVerify("RSA-SHA"+o);return h.update(r),h.verify(p,u,"base64")}}function createPSSKeySigner(o){return function(r,u){checkIsPrivateKey(u),r=normalizeInput(r);var p=crypto$1.createSign("RSA-SHA"+o),h=(p.update(r),p.sign({key:u,padding:crypto$1.constants.RSA_PKCS1_PSS_PADDING,saltLength:crypto$1.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return fromBase64(h)}}function createPSSKeyVerifier(o){return function(r,u,p){checkIsPublicKey(p),r=normalizeInput(r),u=toBase64(u);var h=crypto$1.createVerify("RSA-SHA"+o);return h.update(r),h.verify({key:p,padding:crypto$1.constants.RSA_PKCS1_PSS_PADDING,saltLength:crypto$1.constants.RSA_PSS_SALTLEN_DIGEST},u,"base64")}}function createECDSASigner(o){var e=createKeySigner(o);return function(){var u=e.apply(null,arguments);return u=formatEcdsa.derToJose(u,"ES"+o),u}}function createECDSAVerifer(o){var e=createKeyVerifier(o);return function(u,p,h){p=formatEcdsa.joseToDer(p,"ES"+o).toString("base64");var y=e(u,p,h);return y}}function createNoneSigner(){return function(){return""}}function createNoneVerifier(){return function(e,r){return r===""}}var jwa$2=function(e){var r={hs:createHmacSigner,rs:createKeySigner,ps:createPSSKeySigner,es:createECDSASigner,none:createNoneSigner},u={hs:createHmacVerifier,rs:createKeyVerifier,ps:createPSSKeyVerifier,es:createECDSAVerifer,none:createNoneVerifier},p=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/);if(!p)throw typeError(MSG_INVALID_ALGORITHM,e);var h=(p[1]||p[3]).toLowerCase(),y=p[2];return{sign:r[h](y),verify:u[h](y)}},Buffer$3=buffer.Buffer,tostring=function(e){return typeof e=="string"?e:typeof e=="number"||Buffer$3.isBuffer(e)?e.toString():JSON.stringify(e)},Buffer$2=safeBufferExports.Buffer,DataStream$1=dataStream,jwa$1=jwa$2,Stream$1=require$$1$3,toString$1=tostring,util$8=util$b;function base64url(o,e){return Buffer$2.from(o,e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jwsSecuredInput(o,e,r){r=r||"utf8";var u=base64url(toString$1(o),"binary"),p=base64url(toString$1(e),r);return util$8.format("%s.%s",u,p)}function jwsSign(o){var e=o.header,r=o.payload,u=o.secret||o.privateKey,p=o.encoding,h=jwa$1(e.alg),y=jwsSecuredInput(e,r,p),c=h.sign(y,u);return util$8.format("%s.%s",y,c)}function SignStream$1(o){var e=o.secret||o.privateKey||o.key,r=new DataStream$1(e);this.readable=!0,this.header=o.header,this.encoding=o.encoding,this.secret=this.privateKey=this.key=r,this.payload=new DataStream$1(o.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}util$8.inherits(SignStream$1,Stream$1);SignStream$1.prototype.sign=function(){try{var e=jwsSign({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(r){this.readable=!1,this.emit("error",r),this.emit("close")}};SignStream$1.sign=jwsSign;var signStream=SignStream$1,Buffer$1=safeBufferExports.Buffer,DataStream=dataStream,jwa=jwa$2,Stream=require$$1$3,toString=tostring,util$7=util$b,JWS_REGEX=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function isObject$2(o){return Object.prototype.toString.call(o)==="[object Object]"}function safeJsonParse(o){if(isObject$2(o))return o;try{return JSON.parse(o)}catch{return}}function headerFromJWS(o){var e=o.split(".",1)[0];return safeJsonParse(Buffer$1.from(e,"base64").toString("binary"))}function securedInputFromJWS(o){return o.split(".",2).join(".")}function signatureFromJWS(o){return o.split(".")[2]}function payloadFromJWS(o,e){e=e||"utf8";var r=o.split(".")[1];return Buffer$1.from(r,"base64").toString(e)}function isValidJws(o){return JWS_REGEX.test(o)&&!!headerFromJWS(o)}function jwsVerify(o,e,r){if(!e){var u=new Error("Missing algorithm parameter for jws.verify");throw u.code="MISSING_ALGORITHM",u}o=toString(o);var p=signatureFromJWS(o),h=securedInputFromJWS(o),y=jwa(e);return y.verify(h,p,r)}function jwsDecode(o,e){if(e=e||{},o=toString(o),!isValidJws(o))return null;var r=headerFromJWS(o);if(!r)return null;var u=payloadFromJWS(o);return(r.typ==="JWT"||e.json)&&(u=JSON.parse(u,e.encoding)),{header:r,payload:u,signature:signatureFromJWS(o)}}function VerifyStream$1(o){o=o||{};var e=o.secret||o.publicKey||o.key,r=new DataStream(e);this.readable=!0,this.algorithm=o.algorithm,this.encoding=o.encoding,this.secret=this.publicKey=this.key=r,this.signature=new DataStream(o.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}util$7.inherits(VerifyStream$1,Stream);VerifyStream$1.prototype.verify=function(){try{var e=jwsVerify(this.signature.buffer,this.algorithm,this.key.buffer),r=jwsDecode(this.signature.buffer,this.encoding);return this.emit("done",e,r),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(u){this.readable=!1,this.emit("error",u),this.emit("close")}};VerifyStream$1.decode=jwsDecode;VerifyStream$1.isValid=isValidJws;VerifyStream$1.verify=jwsVerify;var verifyStream=VerifyStream$1,SignStream=signStream,VerifyStream=verifyStream,ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];jws$2.ALGORITHMS=ALGORITHMS;jws$2.sign=SignStream.sign;jws$2.verify=VerifyStream.verify;jws$2.decode=VerifyStream.decode;jws$2.isValid=VerifyStream.isValid;jws$2.createSign=function(e){return new SignStream(e)};jws$2.createVerify=function(e){return new VerifyStream(e)};var __classPrivateFieldGet$2=commonjsGlobal$2&&commonjsGlobal$2.__classPrivateFieldGet||function(o,e,r,u){if(r==="a"&&!u)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?o!==e||!u:!e.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?u:r==="a"?u.call(o):u?u.value:e.get(o)},__classPrivateFieldSet=commonjsGlobal$2&&commonjsGlobal$2.__classPrivateFieldSet||function(o,e,r,u,p){if(u==="m")throw new TypeError("Private method is not writable");if(u==="a"&&!p)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?o!==e||!p:!e.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return u==="a"?p.call(o,r):p?p.value=r:e.set(o,r),r},_GoogleToken_instances,_GoogleToken_inFlightRequest,_GoogleToken_getTokenAsync,_GoogleToken_getTokenAsyncInner,_GoogleToken_ensureEmail,_GoogleToken_revokeTokenAsync,_GoogleToken_configure,_GoogleToken_requestToken;Object.defineProperty(src$3,"__esModule",{value:!0});src$3.GoogleToken=void 0;const fs$2=require$$1$3,gaxios_1$3=src$5,jws$1=jws$2,path$2=require$$1$3,util_1$9=util$b,readFile$1=fs$2.readFile?(0,util_1$9.promisify)(fs$2.readFile):async()=>{throw new ErrorWithCode("use key rather than keyFile.","MISSING_CREDENTIALS")},GOOGLE_TOKEN_URL="https://www.googleapis.com/oauth2/v4/token",GOOGLE_REVOKE_TOKEN_URL="https://accounts.google.com/o/oauth2/revoke?token=";class ErrorWithCode extends Error{constructor(e,r){super(e),this.code=r}}class GoogleToken{get accessToken(){return this.rawToken?this.rawToken.access_token:void 0}get idToken(){return this.rawToken?this.rawToken.id_token:void 0}get tokenType(){return this.rawToken?this.rawToken.token_type:void 0}get refreshToken(){return this.rawToken?this.rawToken.refresh_token:void 0}constructor(e){_GoogleToken_instances.add(this),this.transporter={request:r=>(0,gaxios_1$3.request)(r)},_GoogleToken_inFlightRequest.set(this,void 0),__classPrivateFieldGet$2(this,_GoogleToken_instances,"m",_GoogleToken_configure).call(this,e)}hasExpired(){const e=new Date().getTime();return this.rawToken&&this.expiresAt?e>=this.expiresAt:!0}isTokenExpiring(){var e;const r=new Date().getTime(),u=(e=this.eagerRefreshThresholdMillis)!==null&&e!==void 0?e:0;return this.rawToken&&this.expiresAt?this.expiresAt<=r+u:!0}getToken(e,r={}){if(typeof e=="object"&&(r=e,e=void 0),r=Object.assign({forceRefresh:!1},r),e){const u=e;__classPrivateFieldGet$2(this,_GoogleToken_instances,"m",_GoogleToken_getTokenAsync).call(this,r).then(p=>u(null,p),e);return}return __classPrivateFieldGet$2(this,_GoogleToken_instances,"m",_GoogleToken_getTokenAsync).call(this,r)}async getCredentials(e){switch(path$2.extname(e)){case".json":{const u=await readFile$1(e,"utf8"),p=JSON.parse(u),h=p.private_key,y=p.client_email;if(!h||!y)throw new ErrorWithCode("private_key and client_email are required.","MISSING_CREDENTIALS");return{privateKey:h,clientEmail:y}}case".der":case".crt":case".pem":return{privateKey:await readFile$1(e,"utf8")};case".p12":case".pfx":throw new ErrorWithCode("*.p12 certificates are not supported after v6.1.2. Consider utilizing *.json format or converting *.p12 to *.pem using the OpenSSL CLI.","UNKNOWN_CERTIFICATE_TYPE");default:throw new ErrorWithCode("Unknown certificate type. Type is determined based on file extension. Current supported extensions are *.json, and *.pem.","UNKNOWN_CERTIFICATE_TYPE")}}revokeToken(e){if(e){__classPrivateFieldGet$2(this,_GoogleToken_instances,"m",_GoogleToken_revokeTokenAsync).call(this).then(()=>e(),e);return}return __classPrivateFieldGet$2(this,_GoogleToken_instances,"m",_GoogleToken_revokeTokenAsync).call(this)}}src$3.GoogleToken=GoogleToken;_GoogleToken_inFlightRequest=new WeakMap,_GoogleToken_instances=new WeakSet,_GoogleToken_getTokenAsync=async function(e){if(__classPrivateFieldGet$2(this,_GoogleToken_inFlightRequest,"f")&&!e.forceRefresh)return __classPrivateFieldGet$2(this,_GoogleToken_inFlightRequest,"f");try{return await __classPrivateFieldSet(this,_GoogleToken_inFlightRequest,__classPrivateFieldGet$2(this,_GoogleToken_instances,"m",_GoogleToken_getTokenAsyncInner).call(this,e),"f")}finally{__classPrivateFieldSet(this,_GoogleToken_inFlightRequest,void 0,"f")}},_GoogleToken_getTokenAsyncInner=async function(e){if(this.isTokenExpiring()===!1&&e.forceRefresh===!1)return Promise.resolve(this.rawToken);if(!this.key&&!this.keyFile)throw new Error("No key or keyFile set.");if(!this.key&&this.keyFile){const r=await this.getCredentials(this.keyFile);this.key=r.privateKey,this.iss=r.clientEmail||this.iss,r.clientEmail||__classPrivateFieldGet$2(this,_GoogleToken_instances,"m",_GoogleToken_ensureEmail).call(this)}return __classPrivateFieldGet$2(this,_GoogleToken_instances,"m",_GoogleToken_requestToken).call(this)},_GoogleToken_ensureEmail=function(){if(!this.iss)throw new ErrorWithCode("email is required.","MISSING_CREDENTIALS")},_GoogleToken_revokeTokenAsync=async function(){if(!this.accessToken)throw new Error("No token to revoke.");const e=GOOGLE_REVOKE_TOKEN_URL+this.accessToken;await this.transporter.request({url:e,retry:!0}),__classPrivateFieldGet$2(this,_GoogleToken_instances,"m",_GoogleToken_configure).call(this,{email:this.iss,sub:this.sub,key:this.key,keyFile:this.keyFile,scope:this.scope,additionalClaims:this.additionalClaims})},_GoogleToken_configure=function(e={}){this.keyFile=e.keyFile,this.key=e.key,this.rawToken=void 0,this.iss=e.email||e.iss,this.sub=e.sub,this.additionalClaims=e.additionalClaims,typeof e.scope=="object"?this.scope=e.scope.join(" "):this.scope=e.scope,this.eagerRefreshThresholdMillis=e.eagerRefreshThresholdMillis,e.transporter&&(this.transporter=e.transporter)},_GoogleToken_requestToken=async function(){var e,r;const u=Math.floor(new Date().getTime()/1e3),p=this.additionalClaims||{},h=Object.assign({iss:this.iss,scope:this.scope,aud:GOOGLE_TOKEN_URL,exp:u+3600,iat:u,sub:this.sub},p),y=jws$1.sign({header:{alg:"RS256"},payload:h,secret:this.key});try{const c=await this.transporter.request({method:"POST",url:GOOGLE_TOKEN_URL,data:{grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:y},headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",retryConfig:{httpMethodsToRetry:["POST"]}});return this.rawToken=c.data,this.expiresAt=c.data.expires_in===null||c.data.expires_in===void 0?void 0:(u+c.data.expires_in)*1e3,this.rawToken}catch(c){this.rawToken=void 0,this.tokenExpires=void 0;const d=c.response&&(!((e=c.response)===null||e===void 0)&&e.data)?(r=c.response)===null||r===void 0?void 0:r.data:{};if(d.error){const m=d.error_description?`: ${d.error_description}`:"";c.message=`${d.error}${m}`}throw c}};var jwtaccess={};Object.defineProperty(jwtaccess,"__esModule",{value:!0});jwtaccess.JWTAccess=void 0;const jws=jws$2,util_1$8=util$c,DEFAULT_HEADER={alg:"RS256",typ:"JWT"};class JWTAccess{constructor(e,r,u,p){this.cache=new util_1$8.LRUCache({capacity:500,maxAge:60*60*1e3}),this.email=e,this.key=r,this.keyId=u,this.eagerRefreshThresholdMillis=p??5*60*1e3}getCachedKey(e,r){let u=e;if(r&&Array.isArray(r)&&r.length?u=e?`${e}_${r.join("_")}`:`${r.join("_")}`:typeof r=="string"&&(u=e?`${e}_${r}`:r),!u)throw Error("Scopes or url must be provided");return u}getRequestHeaders(e,r,u){const p=this.getCachedKey(e,u),h=this.cache.get(p),y=Date.now();if(h&&h.expiration-y>this.eagerRefreshThresholdMillis)return h.headers;const c=Math.floor(Date.now()/1e3),d=JWTAccess.getExpirationTime(c);let m;if(Array.isArray(u)&&(u=u.join(" ")),u?m={iss:this.email,sub:this.email,scope:u,exp:d,iat:c}:m={iss:this.email,sub:this.email,aud:e,exp:d,iat:c},r){for(const B in m)if(r[B])throw new Error(`The '${B}' property is not allowed when passing additionalClaims. This claim is included in the JWT by default.`)}const P=this.keyId?{...DEFAULT_HEADER,kid:this.keyId}:DEFAULT_HEADER,N=Object.assign(m,r),k={Authorization:`Bearer ${jws.sign({header:P,payload:N,secret:this.key})}`};return this.cache.set(p,{expiration:d*1e3,headers:k}),k}static getExpirationTime(e){return e+3600}fromJSON(e){if(!e)throw new Error("Must pass in a JSON object containing the service account auth settings.");if(!e.client_email)throw new Error("The incoming JSON object does not contain a client_email field");if(!e.private_key)throw new Error("The incoming JSON object does not contain a private_key field");this.email=e.client_email,this.key=e.private_key,this.keyId=e.private_key_id,this.projectId=e.project_id}fromStream(e,r){if(r)this.fromStreamAsync(e).then(()=>r(),r);else return this.fromStreamAsync(e)}fromStreamAsync(e){return new Promise((r,u)=>{e||u(new Error("Must pass in a stream containing the service account auth settings."));let p="";e.setEncoding("utf8").on("data",h=>p+=h).on("error",u).on("end",()=>{try{const h=JSON.parse(p);this.fromJSON(h),r()}catch(h){u(h)}})})}}jwtaccess.JWTAccess=JWTAccess;Object.defineProperty(jwtclient,"__esModule",{value:!0});jwtclient.JWT=void 0;const gtoken_1=src$3,jwtaccess_1=jwtaccess,oauth2client_1$2=oauth2client,authclient_1$2=authclient;class JWT extends oauth2client_1$2.OAuth2Client{constructor(e,r,u,p,h,y){const c=e&&typeof e=="object"?e:{email:e,keyFile:r,key:u,keyId:y,scopes:p,subject:h};super(c),this.email=c.email,this.keyFile=c.keyFile,this.key=c.key,this.keyId=c.keyId,this.scopes=c.scopes,this.subject=c.subject,this.additionalClaims=c.additionalClaims,this.credentials={refresh_token:"jwt-placeholder",expiry_date:1}}createScoped(e){const r=new JWT(this);return r.scopes=e,r}async getRequestMetadataAsync(e){e=this.defaultServicePath?`https://${this.defaultServicePath}/`:e;const r=!this.hasUserScopes()&&e||this.useJWTAccessWithScope&&this.hasAnyScopes()||this.universeDomain!==authclient_1$2.DEFAULT_UNIVERSE;if(this.subject&&this.universeDomain!==authclient_1$2.DEFAULT_UNIVERSE)throw new RangeError(`Service Account user is configured for the credential. Domain-wide delegation is not supported in universes other than ${authclient_1$2.DEFAULT_UNIVERSE}`);if(!this.apiKey&&r)if(this.additionalClaims&&this.additionalClaims.target_audience){const{tokens:u}=await this.refreshToken();return{headers:this.addSharedMetadataHeaders({Authorization:`Bearer ${u.id_token}`})}}else{this.access||(this.access=new jwtaccess_1.JWTAccess(this.email,this.key,this.keyId,this.eagerRefreshThresholdMillis));let u;this.hasUserScopes()?u=this.scopes:e||(u=this.defaultScopes);const p=this.useJWTAccessWithScope||this.universeDomain!==authclient_1$2.DEFAULT_UNIVERSE,h=await this.access.getRequestHeaders(e??void 0,this.additionalClaims,p?u:void 0);return{headers:this.addSharedMetadataHeaders(h)}}else return this.hasAnyScopes()||this.apiKey?super.getRequestMetadataAsync(e):{headers:{}}}async fetchIdToken(e){const r=new gtoken_1.GoogleToken({iss:this.email,sub:this.subject,scope:this.scopes||this.defaultScopes,keyFile:this.keyFile,key:this.key,additionalClaims:{target_audience:e},transporter:this.transporter});if(await r.getToken({forceRefresh:!0}),!r.idToken)throw new Error("Unknown error: Failed to fetch ID token");return r.idToken}hasUserScopes(){return this.scopes?this.scopes.length>0:!1}hasAnyScopes(){return!!(this.scopes&&this.scopes.length>0||this.defaultScopes&&this.defaultScopes.length>0)}authorize(e){if(e)this.authorizeAsync().then(r=>e(null,r),e);else return this.authorizeAsync()}async authorizeAsync(){const e=await this.refreshToken();if(!e)throw new Error("No result returned");return this.credentials=e.tokens,this.credentials.refresh_token="jwt-placeholder",this.key=this.gtoken.key,this.email=this.gtoken.iss,e.tokens}async refreshTokenNoCache(e){const r=this.createGToken(),p={access_token:(await r.getToken({forceRefresh:this.isTokenExpiring()})).access_token,token_type:"Bearer",expiry_date:r.expiresAt,id_token:r.idToken};return this.emit("tokens",p),{res:null,tokens:p}}createGToken(){return this.gtoken||(this.gtoken=new gtoken_1.GoogleToken({iss:this.email,sub:this.subject,scope:this.scopes||this.defaultScopes,keyFile:this.keyFile,key:this.key,additionalClaims:this.additionalClaims,transporter:this.transporter})),this.gtoken}fromJSON(e){if(!e)throw new Error("Must pass in a JSON object containing the service account auth settings.");if(!e.client_email)throw new Error("The incoming JSON object does not contain a client_email field");if(!e.private_key)throw new Error("The incoming JSON object does not contain a private_key field");this.email=e.client_email,this.key=e.private_key,this.keyId=e.private_key_id,this.projectId=e.project_id,this.quotaProjectId=e.quota_project_id,this.universeDomain=e.universe_domain||this.universeDomain}fromStream(e,r){if(r)this.fromStreamAsync(e).then(()=>r(),r);else return this.fromStreamAsync(e)}fromStreamAsync(e){return new Promise((r,u)=>{if(!e)throw new Error("Must pass in a stream containing the service account auth settings.");let p="";e.setEncoding("utf8").on("error",u).on("data",h=>p+=h).on("end",()=>{try{const h=JSON.parse(p);this.fromJSON(h),r()}catch(h){u(h)}})})}fromAPIKey(e){if(typeof e!="string")throw new Error("Must provide an API Key string.");this.apiKey=e}async getCredentials(){if(this.key)return{private_key:this.key,client_email:this.email};if(this.keyFile){const r=await this.createGToken().getCredentials(this.keyFile);return{private_key:r.privateKey,client_email:r.clientEmail}}throw new Error("A key or a keyFile must be provided to getCredentials.")}}jwtclient.JWT=JWT;var refreshclient={};Object.defineProperty(refreshclient,"__esModule",{value:!0});refreshclient.UserRefreshClient=refreshclient.USER_REFRESH_ACCOUNT_TYPE=void 0;const oauth2client_1$1=oauth2client,querystring_1=require$$1$3;refreshclient.USER_REFRESH_ACCOUNT_TYPE="authorized_user";class UserRefreshClient extends oauth2client_1$1.OAuth2Client{constructor(e,r,u,p,h){const y=e&&typeof e=="object"?e:{clientId:e,clientSecret:r,refreshToken:u,eagerRefreshThresholdMillis:p,forceRefreshOnFailure:h};super(y),this._refreshToken=y.refreshToken,this.credentials.refresh_token=y.refreshToken}async refreshTokenNoCache(e){return super.refreshTokenNoCache(this._refreshToken)}async fetchIdToken(e){return(await this.transporter.request({...UserRefreshClient.RETRY_CONFIG,url:this.endpoints.oauth2TokenUrl,headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:(0,querystring_1.stringify)({client_id:this._clientId,client_secret:this._clientSecret,grant_type:"refresh_token",refresh_token:this._refreshToken,target_audience:e})})).data.id_token}fromJSON(e){if(!e)throw new Error("Must pass in a JSON object containing the user refresh token");if(e.type!=="authorized_user")throw new Error('The incoming JSON object does not have the "authorized_user" type');if(!e.client_id)throw new Error("The incoming JSON object does not contain a client_id field");if(!e.client_secret)throw new Error("The incoming JSON object does not contain a client_secret field");if(!e.refresh_token)throw new Error("The incoming JSON object does not contain a refresh_token field");this._clientId=e.client_id,this._clientSecret=e.client_secret,this._refreshToken=e.refresh_token,this.credentials.refresh_token=e.refresh_token,this.quotaProjectId=e.quota_project_id,this.universeDomain=e.universe_domain||this.universeDomain}fromStream(e,r){if(r)this.fromStreamAsync(e).then(()=>r(),r);else return this.fromStreamAsync(e)}async fromStreamAsync(e){return new Promise((r,u)=>{if(!e)return u(new Error("Must pass in a stream containing the user refresh token."));let p="";e.setEncoding("utf8").on("error",u).on("data",h=>p+=h).on("end",()=>{try{const h=JSON.parse(p);return this.fromJSON(h),r()}catch(h){return u(h)}})})}static fromJSON(e){const r=new UserRefreshClient;return r.fromJSON(e),r}}refreshclient.UserRefreshClient=UserRefreshClient;var impersonated={};Object.defineProperty(impersonated,"__esModule",{value:!0});impersonated.Impersonated=impersonated.IMPERSONATED_ACCOUNT_TYPE=void 0;const oauth2client_1=oauth2client,gaxios_1$2=src$5,util_1$7=util$c;impersonated.IMPERSONATED_ACCOUNT_TYPE="impersonated_service_account";class Impersonated extends oauth2client_1.OAuth2Client{constructor(e={}){var r,u,p,h,y,c;if(super(e),this.credentials={expiry_date:1,refresh_token:"impersonated-placeholder"},this.sourceClient=(r=e.sourceClient)!==null&&r!==void 0?r:new oauth2client_1.OAuth2Client,this.targetPrincipal=(u=e.targetPrincipal)!==null&&u!==void 0?u:"",this.delegates=(p=e.delegates)!==null&&p!==void 0?p:[],this.targetScopes=(h=e.targetScopes)!==null&&h!==void 0?h:[],this.lifetime=(y=e.lifetime)!==null&&y!==void 0?y:3600,!!!(0,util_1$7.originalOrCamelOptions)(e).get("universe_domain"))this.universeDomain=this.sourceClient.universeDomain;else if(this.sourceClient.universeDomain!==this.universeDomain)throw new RangeError(`Universe domain ${this.sourceClient.universeDomain} in source credentials does not match ${this.universeDomain} universe domain set for impersonated credentials.`);this.endpoint=(c=e.endpoint)!==null&&c!==void 0?c:`https://iamcredentials.${this.universeDomain}`}async sign(e){await this.sourceClient.getAccessToken();const r=`projects/-/serviceAccounts/${this.targetPrincipal}`,u=`${this.endpoint}/v1/${r}:signBlob`,p={delegates:this.delegates,payload:Buffer.from(e).toString("base64")};return(await this.sourceClient.request({...Impersonated.RETRY_CONFIG,url:u,data:p,method:"POST"})).data}getTargetPrincipal(){return this.targetPrincipal}async refreshToken(){var e,r,u,p,h,y;try{await this.sourceClient.getAccessToken();const c="projects/-/serviceAccounts/"+this.targetPrincipal,d=`${this.endpoint}/v1/${c}:generateAccessToken`,m={delegates:this.delegates,scope:this.targetScopes,lifetime:this.lifetime+"s"},P=await this.sourceClient.request({...Impersonated.RETRY_CONFIG,url:d,data:m,method:"POST"}),N=P.data;return this.credentials.access_token=N.accessToken,this.credentials.expiry_date=Date.parse(N.expireTime),{tokens:this.credentials,res:P}}catch(c){if(!(c instanceof Error))throw c;let d=0,m="";throw c instanceof gaxios_1$2.GaxiosError&&(d=(u=(r=(e=c==null?void 0:c.response)===null||e===void 0?void 0:e.data)===null||r===void 0?void 0:r.error)===null||u===void 0?void 0:u.status,m=(y=(h=(p=c==null?void 0:c.response)===null||p===void 0?void 0:p.data)===null||h===void 0?void 0:h.error)===null||y===void 0?void 0:y.message),d&&m?(c.message=`${d}: unable to impersonate: ${m}`,c):(c.message=`unable to impersonate: ${c}`,c)}}async fetchIdToken(e,r){var u,p;await this.sourceClient.getAccessToken();const h=`projects/-/serviceAccounts/${this.targetPrincipal}`,y=`${this.endpoint}/v1/${h}:generateIdToken`,c={delegates:this.delegates,audience:e,includeEmail:(u=r==null?void 0:r.includeEmail)!==null&&u!==void 0?u:!0,useEmailAzp:(p=r==null?void 0:r.includeEmail)!==null&&p!==void 0?p:!0};return(await this.sourceClient.request({...Impersonated.RETRY_CONFIG,url:y,data:c,method:"POST"})).data.token}}impersonated.Impersonated=Impersonated;var externalclient={},baseexternalclient={},stscredentials={},oauth2common={};Object.defineProperty(oauth2common,"__esModule",{value:!0});oauth2common.OAuthClientAuthHandler=void 0;oauth2common.getErrorFromOAuthErrorResponse=getErrorFromOAuthErrorResponse;const querystring$1=require$$1$3,crypto_1$2=requireCrypto(),METHODS_SUPPORTING_REQUEST_BODY=["PUT","POST","PATCH"];class OAuthClientAuthHandler{constructor(e){this.clientAuthentication=e,this.crypto=(0,crypto_1$2.createCrypto)()}applyClientAuthenticationOptions(e,r){this.injectAuthenticatedHeaders(e,r),r||this.injectAuthenticatedRequestBody(e)}injectAuthenticatedHeaders(e,r){var u;if(r)e.headers=e.headers||{},Object.assign(e.headers,{Authorization:`Bearer ${r}}`});else if(((u=this.clientAuthentication)===null||u===void 0?void 0:u.confidentialClientType)==="basic"){e.headers=e.headers||{};const p=this.clientAuthentication.clientId,h=this.clientAuthentication.clientSecret||"",y=this.crypto.encodeBase64StringUtf8(`${p}:${h}`);Object.assign(e.headers,{Authorization:`Basic ${y}`})}}injectAuthenticatedRequestBody(e){var r;if(((r=this.clientAuthentication)===null||r===void 0?void 0:r.confidentialClientType)==="request-body"){const u=(e.method||"GET").toUpperCase();if(METHODS_SUPPORTING_REQUEST_BODY.indexOf(u)!==-1){let p;const h=e.headers||{};for(const y in h)if(y.toLowerCase()==="content-type"&&h[y]){p=h[y].toLowerCase();break}if(p==="application/x-www-form-urlencoded"){e.data=e.data||"";const y=querystring$1.parse(e.data);Object.assign(y,{client_id:this.clientAuthentication.clientId,client_secret:this.clientAuthentication.clientSecret||""}),e.data=querystring$1.stringify(y)}else if(p==="application/json")e.data=e.data||{},Object.assign(e.data,{client_id:this.clientAuthentication.clientId,client_secret:this.clientAuthentication.clientSecret||""});else throw new Error(`${p} content-types are not supported with ${this.clientAuthentication.confidentialClientType} client authentication`)}else throw new Error(`${u} HTTP method does not support ${this.clientAuthentication.confidentialClientType} client authentication`)}}static get RETRY_CONFIG(){return{retry:!0,retryConfig:{httpMethodsToRetry:["GET","PUT","POST","HEAD","OPTIONS","DELETE"]}}}}oauth2common.OAuthClientAuthHandler=OAuthClientAuthHandler;function getErrorFromOAuthErrorResponse(o,e){const r=o.error,u=o.error_description,p=o.error_uri;let h=`Error code ${r}`;typeof u<"u"&&(h+=`: ${u}`),typeof p<"u"&&(h+=` - ${p}`);const y=new Error(h);if(e){const c=Object.keys(e);e.stack&&c.push("stack"),c.forEach(d=>{d!=="message"&&Object.defineProperty(y,d,{value:e[d],writable:!1,enumerable:!0})})}return y}Object.defineProperty(stscredentials,"__esModule",{value:!0});stscredentials.StsCredentials=void 0;const gaxios_1$1=src$5,querystring=require$$1$3,transporters_1=transporters,oauth2common_1$1=oauth2common;class StsCredentials extends oauth2common_1$1.OAuthClientAuthHandler{constructor(e,r){super(r),this.tokenExchangeEndpoint=e,this.transporter=new transporters_1.DefaultTransporter}async exchangeToken(e,r,u){var p,h,y;const c={grant_type:e.grantType,resource:e.resource,audience:e.audience,scope:(p=e.scope)===null||p===void 0?void 0:p.join(" "),requested_token_type:e.requestedTokenType,subject_token:e.subjectToken,subject_token_type:e.subjectTokenType,actor_token:(h=e.actingParty)===null||h===void 0?void 0:h.actorToken,actor_token_type:(y=e.actingParty)===null||y===void 0?void 0:y.actorTokenType,options:u&&JSON.stringify(u)};Object.keys(c).forEach(P=>{typeof c[P]>"u"&&delete c[P]});const d={"Content-Type":"application/x-www-form-urlencoded"};Object.assign(d,r||{});const m={...StsCredentials.RETRY_CONFIG,url:this.tokenExchangeEndpoint.toString(),method:"POST",headers:d,data:querystring.stringify(c),responseType:"json"};this.applyClientAuthenticationOptions(m);try{const P=await this.transporter.request(m),N=P.data;return N.res=P,N}catch(P){throw P instanceof gaxios_1$1.GaxiosError&&P.response?(0,oauth2common_1$1.getErrorFromOAuthErrorResponse)(P.response.data,P):P}}}stscredentials.StsCredentials=StsCredentials;(function(o){var e=commonjsGlobal$2&&commonjsGlobal$2.__classPrivateFieldGet||function(q,Q,K,G){if(K==="a"&&!G)throw new TypeError("Private accessor was defined without a getter");if(typeof Q=="function"?q!==Q||!G:!Q.has(q))throw new TypeError("Cannot read private member from an object whose class did not declare it");return K==="m"?G:K==="a"?G.call(q):G?G.value:Q.get(q)},r=commonjsGlobal$2&&commonjsGlobal$2.__classPrivateFieldSet||function(q,Q,K,G,F){if(G==="m")throw new TypeError("Private method is not writable");if(G==="a"&&!F)throw new TypeError("Private accessor was defined without a setter");if(typeof Q=="function"?q!==Q||!F:!Q.has(q))throw new TypeError("Cannot write private member to an object whose class did not declare it");return G==="a"?F.call(q,K):F?F.value=K:Q.set(q,K),K},u,p,h;Object.defineProperty(o,"__esModule",{value:!0}),o.BaseExternalAccountClient=o.DEFAULT_UNIVERSE=o.CLOUD_RESOURCE_MANAGER=o.EXTERNAL_ACCOUNT_TYPE=o.EXPIRATION_TIME_OFFSET=void 0;const y=require$$1$3,c=authclient,d=stscredentials,m=util$c,P="urn:ietf:params:oauth:grant-type:token-exchange",N="urn:ietf:params:oauth:token-type:access_token",L="https://www.googleapis.com/auth/cloud-platform",k=3600;o.EXPIRATION_TIME_OFFSET=5*60*1e3,o.EXTERNAL_ACCOUNT_TYPE="external_account",o.CLOUD_RESOURCE_MANAGER="https://cloudresourcemanager.googleapis.com/v1/projects/";const B="//iam\\.googleapis\\.com/locations/[^/]+/workforcePools/[^/]+/providers/.+",U="https://sts.{universeDomain}/v1/token",$=require$$4$2;var j=authclient;Object.defineProperty(o,"DEFAULT_UNIVERSE",{enumerable:!0,get:function(){return j.DEFAULT_UNIVERSE}});class M extends c.AuthClient{constructor(Q,K){var G;super({...Q,...K}),u.add(this),p.set(this,null);const F=(0,m.originalOrCamelOptions)(Q),x=F.get("type");if(x&&x!==o.EXTERNAL_ACCOUNT_TYPE)throw new Error(`Expected "${o.EXTERNAL_ACCOUNT_TYPE}" type but received "${Q.type}"`);const z=F.get("client_id"),J=F.get("client_secret"),Z=(G=F.get("token_url"))!==null&&G!==void 0?G:U.replace("{universeDomain}",this.universeDomain),X=F.get("subject_token_type"),te=F.get("workforce_pool_user_project"),be=F.get("service_account_impersonation_url"),Ae=F.get("service_account_impersonation"),Ne=(0,m.originalOrCamelOptions)(Ae).get("token_lifetime_seconds");this.cloudResourceManagerURL=new URL(F.get("cloud_resource_manager_url")||`https://cloudresourcemanager.${this.universeDomain}/v1/projects/`),z&&(this.clientAuth={confidentialClientType:"basic",clientId:z,clientSecret:J}),this.stsCredential=new d.StsCredentials(Z,this.clientAuth),this.scopes=F.get("scopes")||[L],this.cachedAccessToken=null,this.audience=F.get("audience"),this.subjectTokenType=X,this.workforcePoolUserProject=te;const ke=new RegExp(B);if(this.workforcePoolUserProject&&!this.audience.match(ke))throw new Error("workforcePoolUserProject should not be set for non-workforce pool credentials.");this.serviceAccountImpersonationUrl=be,this.serviceAccountImpersonationLifetime=Ne,this.serviceAccountImpersonationLifetime?this.configLifetimeRequested=!0:(this.configLifetimeRequested=!1,this.serviceAccountImpersonationLifetime=k),this.projectNumber=this.getProjectNumber(this.audience),this.supplierContext={audience:this.audience,subjectTokenType:this.subjectTokenType,transporter:this.transporter}}getServiceAccountEmail(){var Q;if(this.serviceAccountImpersonationUrl){if(this.serviceAccountImpersonationUrl.length>256)throw new RangeError(`URL is too long: ${this.serviceAccountImpersonationUrl}`);const G=/serviceAccounts\/(?<email>[^:]+):generateAccessToken$/.exec(this.serviceAccountImpersonationUrl);return((Q=G==null?void 0:G.groups)===null||Q===void 0?void 0:Q.email)||null}return null}setCredentials(Q){super.setCredentials(Q),this.cachedAccessToken=Q}async getAccessToken(){return(!this.cachedAccessToken||this.isExpired(this.cachedAccessToken))&&await this.refreshAccessTokenAsync(),{token:this.cachedAccessToken.access_token,res:this.cachedAccessToken.res}}async getRequestHeaders(){const K={Authorization:`Bearer ${(await this.getAccessToken()).token}`};return this.addSharedMetadataHeaders(K)}request(Q,K){if(K)this.requestAsync(Q).then(G=>K(null,G),G=>K(G,G.response));else return this.requestAsync(Q)}async getProjectId(){const Q=this.projectNumber||this.workforcePoolUserProject;if(this.projectId)return this.projectId;if(Q){const K=await this.getRequestHeaders(),G=await this.transporter.request({...M.RETRY_CONFIG,headers:K,url:`${this.cloudResourceManagerURL.toString()}${Q}`,responseType:"json"});return this.projectId=G.data.projectId,this.projectId}return null}async requestAsync(Q,K=!1){let G;try{const F=await this.getRequestHeaders();Q.headers=Q.headers||{},F&&F["x-goog-user-project"]&&(Q.headers["x-goog-user-project"]=F["x-goog-user-project"]),F&&F.Authorization&&(Q.headers.Authorization=F.Authorization),G=await this.transporter.request(Q)}catch(F){const x=F.response;if(x){const z=x.status,J=x.config.data instanceof y.Readable;if(!K&&(z===401||z===403)&&!J&&this.forceRefreshOnFailure)return await this.refreshAccessTokenAsync(),await this.requestAsync(Q,!0)}throw F}return G}async refreshAccessTokenAsync(){r(this,p,e(this,p,"f")||e(this,u,"m",h).call(this),"f");try{return await e(this,p,"f")}finally{r(this,p,null,"f")}}getProjectNumber(Q){const K=Q.match(/\/projects\/([^/]+)/);return K?K[1]:null}async getImpersonatedAccessToken(Q){const K={...M.RETRY_CONFIG,url:this.serviceAccountImpersonationUrl,method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`},data:{scope:this.getScopesArray(),lifetime:this.serviceAccountImpersonationLifetime+"s"},responseType:"json"},G=await this.transporter.request(K),F=G.data;return{access_token:F.accessToken,expiry_date:new Date(F.expireTime).getTime(),res:G}}isExpired(Q){const K=new Date().getTime();return Q.expiry_date?K>=Q.expiry_date-this.eagerRefreshThresholdMillis:!1}getScopesArray(){return typeof this.scopes=="string"?[this.scopes]:this.scopes||[L]}getMetricsHeaderValue(){const Q=process.version.replace(/^v/,""),K=this.serviceAccountImpersonationUrl!==void 0,G=this.credentialSourceType?this.credentialSourceType:"unknown";return`gl-node/${Q} auth/${$.version} google-byoid-sdk source/${G} sa-impersonation/${K} config-lifetime/${this.configLifetimeRequested}`}}o.BaseExternalAccountClient=M,p=new WeakMap,u=new WeakSet,h=async function(){const Q=await this.retrieveSubjectToken(),K={grantType:P,audience:this.audience,requestedTokenType:N,subjectToken:Q,subjectTokenType:this.subjectTokenType,scope:this.serviceAccountImpersonationUrl?[L]:this.getScopesArray()},G=!this.clientAuth&&this.workforcePoolUserProject?{userProject:this.workforcePoolUserProject}:void 0,F={"x-goog-api-client":this.getMetricsHeaderValue()},x=await this.stsCredential.exchangeToken(K,F,G);return this.serviceAccountImpersonationUrl?this.cachedAccessToken=await this.getImpersonatedAccessToken(x.access_token):x.expires_in?this.cachedAccessToken={access_token:x.access_token,expiry_date:new Date().getTime()+x.expires_in*1e3,res:x.res}:this.cachedAccessToken={access_token:x.access_token,res:x.res},this.credentials={},Object.assign(this.credentials,this.cachedAccessToken),delete this.credentials.res,this.emit("tokens",{refresh_token:null,expiry_date:this.cachedAccessToken.expiry_date,access_token:this.cachedAccessToken.access_token,token_type:"Bearer",id_token:null}),this.cachedAccessToken}})(baseexternalclient);var identitypoolclient={},filesubjecttokensupplier={},_a$1,_b,_c;Object.defineProperty(filesubjecttokensupplier,"__esModule",{value:!0});filesubjecttokensupplier.FileSubjectTokenSupplier=void 0;const util_1$6=util$b,fs$1=require$$1$3,readFile=(0,util_1$6.promisify)((_a$1=fs$1.readFile)!==null&&_a$1!==void 0?_a$1:()=>{}),realpath=(0,util_1$6.promisify)((_b=fs$1.realpath)!==null&&_b!==void 0?_b:()=>{}),lstat=(0,util_1$6.promisify)((_c=fs$1.lstat)!==null&&_c!==void 0?_c:()=>{});class FileSubjectTokenSupplier{constructor(e){this.filePath=e.filePath,this.formatType=e.formatType,this.subjectTokenFieldName=e.subjectTokenFieldName}async getSubjectToken(e){let r=this.filePath;try{if(r=await realpath(r),!(await lstat(r)).isFile())throw new Error}catch(h){throw h instanceof Error&&(h.message=`The file at ${r} does not exist, or it is not a file. ${h.message}`),h}let u;const p=await readFile(r,{encoding:"utf8"});if(this.formatType==="text"?u=p:this.formatType==="json"&&this.subjectTokenFieldName&&(u=JSON.parse(p)[this.subjectTokenFieldName]),!u)throw new Error("Unable to parse the subject_token from the credential_source file");return u}}filesubjecttokensupplier.FileSubjectTokenSupplier=FileSubjectTokenSupplier;var urlsubjecttokensupplier={};Object.defineProperty(urlsubjecttokensupplier,"__esModule",{value:!0});urlsubjecttokensupplier.UrlSubjectTokenSupplier=void 0;class UrlSubjectTokenSupplier{constructor(e){this.url=e.url,this.formatType=e.formatType,this.subjectTokenFieldName=e.subjectTokenFieldName,this.headers=e.headers,this.additionalGaxiosOptions=e.additionalGaxiosOptions}async getSubjectToken(e){const r={...this.additionalGaxiosOptions,url:this.url,method:"GET",headers:this.headers,responseType:this.formatType};let u;if(this.formatType==="text"?u=(await e.transporter.request(r)).data:this.formatType==="json"&&this.subjectTokenFieldName&&(u=(await e.transporter.request(r)).data[this.subjectTokenFieldName]),!u)throw new Error("Unable to parse the subject_token from the credential_source URL");return u}}urlsubjecttokensupplier.UrlSubjectTokenSupplier=UrlSubjectTokenSupplier;Object.defineProperty(identitypoolclient,"__esModule",{value:!0});identitypoolclient.IdentityPoolClient=void 0;const baseexternalclient_1$3=baseexternalclient,util_1$5=util$c,filesubjecttokensupplier_1=filesubjecttokensupplier,urlsubjecttokensupplier_1=urlsubjecttokensupplier;class IdentityPoolClient extends baseexternalclient_1$3.BaseExternalAccountClient{constructor(e,r){super(e,r);const u=(0,util_1$5.originalOrCamelOptions)(e),p=u.get("credential_source"),h=u.get("subject_token_supplier");if(!p&&!h)throw new Error("A credential source or subject token supplier must be specified.");if(p&&h)throw new Error("Only one of credential source or subject token supplier can be specified.");if(h)this.subjectTokenSupplier=h,this.credentialSourceType="programmatic";else{const y=(0,util_1$5.originalOrCamelOptions)(p),c=(0,util_1$5.originalOrCamelOptions)(y.get("format")),d=c.get("type")||"text",m=c.get("subject_token_field_name");if(d!=="json"&&d!=="text")throw new Error(`Invalid credential_source format "${d}"`);if(d==="json"&&!m)throw new Error("Missing subject_token_field_name for JSON credential_source format");const P=y.get("file"),N=y.get("url"),L=y.get("headers");if(P&&N)throw new Error('No valid Identity Pool "credential_source" provided, must be either file or url.');if(P&&!N)this.credentialSourceType="file",this.subjectTokenSupplier=new filesubjecttokensupplier_1.FileSubjectTokenSupplier({filePath:P,formatType:d,subjectTokenFieldName:m});else if(!P&&N)this.credentialSourceType="url",this.subjectTokenSupplier=new urlsubjecttokensupplier_1.UrlSubjectTokenSupplier({url:N,formatType:d,subjectTokenFieldName:m,headers:L,additionalGaxiosOptions:IdentityPoolClient.RETRY_CONFIG});else throw new Error('No valid Identity Pool "credential_source" provided, must be either file or url.')}}async retrieveSubjectToken(){return this.subjectTokenSupplier.getSubjectToken(this.supplierContext)}}identitypoolclient.IdentityPoolClient=IdentityPoolClient;var awsclient={},awsrequestsigner={};Object.defineProperty(awsrequestsigner,"__esModule",{value:!0});awsrequestsigner.AwsRequestSigner=void 0;const crypto_1$1=requireCrypto(),AWS_ALGORITHM="AWS4-HMAC-SHA256",AWS_REQUEST_TYPE="aws4_request";class AwsRequestSigner{constructor(e,r){this.getCredentials=e,this.region=r,this.crypto=(0,crypto_1$1.createCrypto)()}async getRequestOptions(e){if(!e.url)throw new Error('"url" is required in "amzOptions"');const r=typeof e.data=="object"?JSON.stringify(e.data):e.data,u=e.url,p=e.method||"GET",h=e.body||r,y=e.headers,c=await this.getCredentials(),d=new URL(u),m=await generateAuthenticationHeaderMap({crypto:this.crypto,host:d.host,canonicalUri:d.pathname,canonicalQuerystring:d.search.substr(1),method:p,region:this.region,securityCredentials:c,requestPayload:h,additionalAmzHeaders:y}),P=Object.assign(m.amzDate?{"x-amz-date":m.amzDate}:{},{Authorization:m.authorizationHeader,host:d.host},y||{});c.token&&Object.assign(P,{"x-amz-security-token":c.token});const N={url:u,method:p,headers:P};return typeof h<"u"&&(N.body=h),N}}awsrequestsigner.AwsRequestSigner=AwsRequestSigner;async function sign(o,e,r){return await o.signWithHmacSha256(e,r)}async function getSigningKey(o,e,r,u,p){const h=await sign(o,`AWS4${e}`,r),y=await sign(o,h,u),c=await sign(o,y,p);return await sign(o,c,"aws4_request")}async function generateAuthenticationHeaderMap(o){const e=o.additionalAmzHeaders||{},r=o.requestPayload||"",u=o.host.split(".")[0],p=new Date,h=p.toISOString().replace(/[-:]/g,"").replace(/\.[0-9]+/,""),y=p.toISOString().replace(/[-]/g,"").replace(/T.*/,""),c={};Object.keys(e).forEach(q=>{c[q.toLowerCase()]=e[q]}),o.securityCredentials.token&&(c["x-amz-security-token"]=o.securityCredentials.token);const d=Object.assign({host:o.host},c.date?{}:{"x-amz-date":h},c);let m="";const P=Object.keys(d).sort();P.forEach(q=>{m+=`${q}:${d[q]}
`});const N=P.join(";"),L=await o.crypto.sha256DigestHex(r),k=`${o.method}
${o.canonicalUri}
${o.canonicalQuerystring}
${m}
${N}
${L}`,B=`${y}/${o.region}/${u}/${AWS_REQUEST_TYPE}`,U=`${AWS_ALGORITHM}
${h}
${B}
`+await o.crypto.sha256DigestHex(k),$=await getSigningKey(o.crypto,o.securityCredentials.secretAccessKey,y,o.region,u),j=await sign(o.crypto,$,U),M=`${AWS_ALGORITHM} Credential=${o.securityCredentials.accessKeyId}/${B}, SignedHeaders=${N}, Signature=${(0,crypto_1$1.fromArrayBufferToHex)(j)}`;return{amzDate:c.date?void 0:h,authorizationHeader:M,canonicalQuerystring:o.canonicalQuerystring}}var defaultawssecuritycredentialssupplier={},define_process_env_default$5={},__classPrivateFieldGet$1=commonjsGlobal$2&&commonjsGlobal$2.__classPrivateFieldGet||function(o,e,r,u){if(r==="a"&&!u)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?o!==e||!u:!e.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?u:r==="a"?u.call(o):u?u.value:e.get(o)},_DefaultAwsSecurityCredentialsSupplier_instances,_DefaultAwsSecurityCredentialsSupplier_getImdsV2SessionToken,_DefaultAwsSecurityCredentialsSupplier_getAwsRoleName,_DefaultAwsSecurityCredentialsSupplier_retrieveAwsSecurityCredentials,_DefaultAwsSecurityCredentialsSupplier_regionFromEnv_get,_DefaultAwsSecurityCredentialsSupplier_securityCredentialsFromEnv_get;Object.defineProperty(defaultawssecuritycredentialssupplier,"__esModule",{value:!0});defaultawssecuritycredentialssupplier.DefaultAwsSecurityCredentialsSupplier=void 0;class DefaultAwsSecurityCredentialsSupplier{constructor(e){_DefaultAwsSecurityCredentialsSupplier_instances.add(this),this.regionUrl=e.regionUrl,this.securityCredentialsUrl=e.securityCredentialsUrl,this.imdsV2SessionTokenUrl=e.imdsV2SessionTokenUrl,this.additionalGaxiosOptions=e.additionalGaxiosOptions}async getAwsRegion(e){if(__classPrivateFieldGet$1(this,_DefaultAwsSecurityCredentialsSupplier_instances,"a",_DefaultAwsSecurityCredentialsSupplier_regionFromEnv_get))return __classPrivateFieldGet$1(this,_DefaultAwsSecurityCredentialsSupplier_instances,"a",_DefaultAwsSecurityCredentialsSupplier_regionFromEnv_get);const r={};if(!__classPrivateFieldGet$1(this,_DefaultAwsSecurityCredentialsSupplier_instances,"a",_DefaultAwsSecurityCredentialsSupplier_regionFromEnv_get)&&this.imdsV2SessionTokenUrl&&(r["x-aws-ec2-metadata-token"]=await __classPrivateFieldGet$1(this,_DefaultAwsSecurityCredentialsSupplier_instances,"m",_DefaultAwsSecurityCredentialsSupplier_getImdsV2SessionToken).call(this,e.transporter)),!this.regionUrl)throw new Error('Unable to determine AWS region due to missing "options.credential_source.region_url"');const u={...this.additionalGaxiosOptions,url:this.regionUrl,method:"GET",responseType:"text",headers:r},p=await e.transporter.request(u);return p.data.substr(0,p.data.length-1)}async getAwsSecurityCredentials(e){if(__classPrivateFieldGet$1(this,_DefaultAwsSecurityCredentialsSupplier_instances,"a",_DefaultAwsSecurityCredentialsSupplier_securityCredentialsFromEnv_get))return __classPrivateFieldGet$1(this,_DefaultAwsSecurityCredentialsSupplier_instances,"a",_DefaultAwsSecurityCredentialsSupplier_securityCredentialsFromEnv_get);const r={};this.imdsV2SessionTokenUrl&&(r["x-aws-ec2-metadata-token"]=await __classPrivateFieldGet$1(this,_DefaultAwsSecurityCredentialsSupplier_instances,"m",_DefaultAwsSecurityCredentialsSupplier_getImdsV2SessionToken).call(this,e.transporter));const u=await __classPrivateFieldGet$1(this,_DefaultAwsSecurityCredentialsSupplier_instances,"m",_DefaultAwsSecurityCredentialsSupplier_getAwsRoleName).call(this,r,e.transporter),p=await __classPrivateFieldGet$1(this,_DefaultAwsSecurityCredentialsSupplier_instances,"m",_DefaultAwsSecurityCredentialsSupplier_retrieveAwsSecurityCredentials).call(this,u,r,e.transporter);return{accessKeyId:p.AccessKeyId,secretAccessKey:p.SecretAccessKey,token:p.Token}}}defaultawssecuritycredentialssupplier.DefaultAwsSecurityCredentialsSupplier=DefaultAwsSecurityCredentialsSupplier;_DefaultAwsSecurityCredentialsSupplier_instances=new WeakSet,_DefaultAwsSecurityCredentialsSupplier_getImdsV2SessionToken=async function(e){const r={...this.additionalGaxiosOptions,url:this.imdsV2SessionTokenUrl,method:"PUT",responseType:"text",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"300"}};return(await e.request(r)).data},_DefaultAwsSecurityCredentialsSupplier_getAwsRoleName=async function(e,r){if(!this.securityCredentialsUrl)throw new Error('Unable to determine AWS role name due to missing "options.credential_source.url"');const u={...this.additionalGaxiosOptions,url:this.securityCredentialsUrl,method:"GET",responseType:"text",headers:e};return(await r.request(u)).data},_DefaultAwsSecurityCredentialsSupplier_retrieveAwsSecurityCredentials=async function(e,r,u){return(await u.request({...this.additionalGaxiosOptions,url:`${this.securityCredentialsUrl}/${e}`,responseType:"json",headers:r})).data},_DefaultAwsSecurityCredentialsSupplier_regionFromEnv_get=function(){return define_process_env_default$5.AWS_REGION||define_process_env_default$5.AWS_DEFAULT_REGION||null},_DefaultAwsSecurityCredentialsSupplier_securityCredentialsFromEnv_get=function(){return define_process_env_default$5.AWS_ACCESS_KEY_ID&&define_process_env_default$5.AWS_SECRET_ACCESS_KEY?{accessKeyId:define_process_env_default$5.AWS_ACCESS_KEY_ID,secretAccessKey:define_process_env_default$5.AWS_SECRET_ACCESS_KEY,token:define_process_env_default$5.AWS_SESSION_TOKEN}:null};var __classPrivateFieldGet=commonjsGlobal$2&&commonjsGlobal$2.__classPrivateFieldGet||function(o,e,r,u){if(r==="a"&&!u)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?o!==e||!u:!e.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?u:r==="a"?u.call(o):u?u.value:e.get(o)},_a,_AwsClient_DEFAULT_AWS_REGIONAL_CREDENTIAL_VERIFICATION_URL;Object.defineProperty(awsclient,"__esModule",{value:!0});awsclient.AwsClient=void 0;const awsrequestsigner_1=awsrequestsigner,baseexternalclient_1$2=baseexternalclient,defaultawssecuritycredentialssupplier_1=defaultawssecuritycredentialssupplier,util_1$4=util$c;class AwsClient extends baseexternalclient_1$2.BaseExternalAccountClient{constructor(e,r){super(e,r);const u=(0,util_1$4.originalOrCamelOptions)(e),p=u.get("credential_source"),h=u.get("aws_security_credentials_supplier");if(!p&&!h)throw new Error("A credential source or AWS security credentials supplier must be specified.");if(p&&h)throw new Error("Only one of credential source or AWS security credentials supplier can be specified.");if(h)this.awsSecurityCredentialsSupplier=h,this.regionalCredVerificationUrl=__classPrivateFieldGet(_a,_a,"f",_AwsClient_DEFAULT_AWS_REGIONAL_CREDENTIAL_VERIFICATION_URL),this.credentialSourceType="programmatic";else{const y=(0,util_1$4.originalOrCamelOptions)(p);this.environmentId=y.get("environment_id");const c=y.get("region_url"),d=y.get("url"),m=y.get("imdsv2_session_token_url");this.awsSecurityCredentialsSupplier=new defaultawssecuritycredentialssupplier_1.DefaultAwsSecurityCredentialsSupplier({regionUrl:c,securityCredentialsUrl:d,imdsV2SessionTokenUrl:m}),this.regionalCredVerificationUrl=y.get("regional_cred_verification_url"),this.credentialSourceType="aws",this.validateEnvironmentId()}this.awsRequestSigner=null,this.region=""}validateEnvironmentId(){var e;const r=(e=this.environmentId)===null||e===void 0?void 0:e.match(/^(aws)(\d+)$/);if(!r||!this.regionalCredVerificationUrl)throw new Error('No valid AWS "credential_source" provided');if(parseInt(r[2],10)!==1)throw new Error(`aws version "${r[2]}" is not supported in the current build.`)}async retrieveSubjectToken(){this.awsRequestSigner||(this.region=await this.awsSecurityCredentialsSupplier.getAwsRegion(this.supplierContext),this.awsRequestSigner=new awsrequestsigner_1.AwsRequestSigner(async()=>this.awsSecurityCredentialsSupplier.getAwsSecurityCredentials(this.supplierContext),this.region));const e=await this.awsRequestSigner.getRequestOptions({..._a.RETRY_CONFIG,url:this.regionalCredVerificationUrl.replace("{region}",this.region),method:"POST"}),r=[],u=Object.assign({"x-goog-cloud-target-resource":this.audience},e.headers);for(const p in u)r.push({key:p,value:u[p]});return encodeURIComponent(JSON.stringify({url:e.url,method:e.method,headers:r}))}}awsclient.AwsClient=AwsClient;_a=AwsClient;_AwsClient_DEFAULT_AWS_REGIONAL_CREDENTIAL_VERIFICATION_URL={value:"https://sts.{region}.amazonaws.com?Action=GetCallerIdentity&Version=2011-06-15"};AwsClient.AWS_EC2_METADATA_IPV4_ADDRESS="169.254.169.254";AwsClient.AWS_EC2_METADATA_IPV6_ADDRESS="fd00:ec2::254";var pluggableAuthClient={},executableResponse={};Object.defineProperty(executableResponse,"__esModule",{value:!0});executableResponse.InvalidSubjectTokenError=executableResponse.InvalidMessageFieldError=executableResponse.InvalidCodeFieldError=executableResponse.InvalidTokenTypeFieldError=executableResponse.InvalidExpirationTimeFieldError=executableResponse.InvalidSuccessFieldError=executableResponse.InvalidVersionFieldError=executableResponse.ExecutableResponseError=executableResponse.ExecutableResponse=void 0;const SAML_SUBJECT_TOKEN_TYPE="urn:ietf:params:oauth:token-type:saml2",OIDC_SUBJECT_TOKEN_TYPE1="urn:ietf:params:oauth:token-type:id_token",OIDC_SUBJECT_TOKEN_TYPE2="urn:ietf:params:oauth:token-type:jwt";class ExecutableResponse{constructor(e){if(!e.version)throw new InvalidVersionFieldError("Executable response must contain a 'version' field.");if(e.success===void 0)throw new InvalidSuccessFieldError("Executable response must contain a 'success' field.");if(this.version=e.version,this.success=e.success,this.success){if(this.expirationTime=e.expiration_time,this.tokenType=e.token_type,this.tokenType!==SAML_SUBJECT_TOKEN_TYPE&&this.tokenType!==OIDC_SUBJECT_TOKEN_TYPE1&&this.tokenType!==OIDC_SUBJECT_TOKEN_TYPE2)throw new InvalidTokenTypeFieldError(`Executable response must contain a 'token_type' field when successful and it must be one of ${OIDC_SUBJECT_TOKEN_TYPE1}, ${OIDC_SUBJECT_TOKEN_TYPE2}, or ${SAML_SUBJECT_TOKEN_TYPE}.`);if(this.tokenType===SAML_SUBJECT_TOKEN_TYPE){if(!e.saml_response)throw new InvalidSubjectTokenError(`Executable response must contain a 'saml_response' field when token_type=${SAML_SUBJECT_TOKEN_TYPE}.`);this.subjectToken=e.saml_response}else{if(!e.id_token)throw new InvalidSubjectTokenError(`Executable response must contain a 'id_token' field when token_type=${OIDC_SUBJECT_TOKEN_TYPE1} or ${OIDC_SUBJECT_TOKEN_TYPE2}.`);this.subjectToken=e.id_token}}else{if(!e.code)throw new InvalidCodeFieldError("Executable response must contain a 'code' field when unsuccessful.");if(!e.message)throw new InvalidMessageFieldError("Executable response must contain a 'message' field when unsuccessful.");this.errorCode=e.code,this.errorMessage=e.message}}isValid(){return!this.isExpired()&&this.success}isExpired(){return this.expirationTime!==void 0&&this.expirationTime<Math.round(Date.now()/1e3)}}executableResponse.ExecutableResponse=ExecutableResponse;class ExecutableResponseError extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}executableResponse.ExecutableResponseError=ExecutableResponseError;class InvalidVersionFieldError extends ExecutableResponseError{}executableResponse.InvalidVersionFieldError=InvalidVersionFieldError;class InvalidSuccessFieldError extends ExecutableResponseError{}executableResponse.InvalidSuccessFieldError=InvalidSuccessFieldError;class InvalidExpirationTimeFieldError extends ExecutableResponseError{}executableResponse.InvalidExpirationTimeFieldError=InvalidExpirationTimeFieldError;class InvalidTokenTypeFieldError extends ExecutableResponseError{}executableResponse.InvalidTokenTypeFieldError=InvalidTokenTypeFieldError;class InvalidCodeFieldError extends ExecutableResponseError{}executableResponse.InvalidCodeFieldError=InvalidCodeFieldError;class InvalidMessageFieldError extends ExecutableResponseError{}executableResponse.InvalidMessageFieldError=InvalidMessageFieldError;class InvalidSubjectTokenError extends ExecutableResponseError{}executableResponse.InvalidSubjectTokenError=InvalidSubjectTokenError;var pluggableAuthHandler={},hasRequiredPluggableAuthHandler;function requirePluggableAuthHandler(){if(hasRequiredPluggableAuthHandler)return pluggableAuthHandler;hasRequiredPluggableAuthHandler=1;var o={};Object.defineProperty(pluggableAuthHandler,"__esModule",{value:!0}),pluggableAuthHandler.PluggableAuthHandler=void 0;const e=requirePluggableAuthClient(),r=executableResponse,u=require$$1$3,p=require$$1$3;class h{constructor(c){if(!c.command)throw new Error("No command provided.");if(this.commandComponents=h.parseCommand(c.command),this.timeoutMillis=c.timeoutMillis,!this.timeoutMillis)throw new Error("No timeoutMillis provided.");this.outputFile=c.outputFile}retrieveResponseFromExecutable(c){return new Promise((d,m)=>{const P=u.spawn(this.commandComponents[0],this.commandComponents.slice(1),{env:{...o,...Object.fromEntries(c)}});let N="";P.stdout.on("data",k=>{N+=k}),P.stderr.on("data",k=>{N+=k});const L=setTimeout(()=>(P.removeAllListeners(),P.kill(),m(new Error("The executable failed to finish within the timeout specified."))),this.timeoutMillis);P.on("close",k=>{if(clearTimeout(L),k===0)try{const B=JSON.parse(N),U=new r.ExecutableResponse(B);return d(U)}catch(B){return B instanceof r.ExecutableResponseError?m(B):m(new r.ExecutableResponseError(`The executable returned an invalid response: ${N}`))}else return m(new e.ExecutableError(N,k.toString()))})})}async retrieveCachedResponse(){if(!this.outputFile||this.outputFile.length===0)return;let c;try{c=await p.promises.realpath(this.outputFile)}catch{return}if(!(await p.promises.lstat(c)).isFile())return;const d=await p.promises.readFile(c,{encoding:"utf8"});if(d!=="")try{const m=JSON.parse(d);return new r.ExecutableResponse(m).isValid()?new r.ExecutableResponse(m):void 0}catch(m){throw m instanceof r.ExecutableResponseError?m:new r.ExecutableResponseError(`The output file contained an invalid response: ${d}`)}}static parseCommand(c){const d=c.match(/(?:[^\s"]+|"[^"]*")+/g);if(!d)throw new Error(`Provided command: "${c}" could not be parsed.`);for(let m=0;m<d.length;m++)d[m][0]==='"'&&d[m].slice(-1)==='"'&&(d[m]=d[m].slice(1,-1));return d}}return pluggableAuthHandler.PluggableAuthHandler=h,pluggableAuthHandler}var hasRequiredPluggableAuthClient;function requirePluggableAuthClient(){if(hasRequiredPluggableAuthClient)return pluggableAuthClient;hasRequiredPluggableAuthClient=1;var o={};Object.defineProperty(pluggableAuthClient,"__esModule",{value:!0}),pluggableAuthClient.PluggableAuthClient=pluggableAuthClient.ExecutableError=void 0;const e=baseexternalclient,r=executableResponse,u=requirePluggableAuthHandler();class p extends Error{constructor(L,k){super(`The executable failed with exit code: ${k} and error message: ${L}.`),this.code=k,Object.setPrototypeOf(this,new.target.prototype)}}pluggableAuthClient.ExecutableError=p;const h=30*1e3,y=5*1e3,c=120*1e3,d="GOOGLE_EXTERNAL_ACCOUNT_ALLOW_EXECUTABLES",m=1;class P extends e.BaseExternalAccountClient{constructor(L,k){if(super(L,k),!L.credential_source.executable)throw new Error('No valid Pluggable Auth "credential_source" provided.');if(this.command=L.credential_source.executable.command,!this.command)throw new Error('No valid Pluggable Auth "credential_source" provided.');if(L.credential_source.executable.timeout_millis===void 0)this.timeoutMillis=h;else if(this.timeoutMillis=L.credential_source.executable.timeout_millis,this.timeoutMillis<y||this.timeoutMillis>c)throw new Error(`Timeout must be between ${y} and ${c} milliseconds.`);this.outputFile=L.credential_source.executable.output_file,this.handler=new u.PluggableAuthHandler({command:this.command,timeoutMillis:this.timeoutMillis,outputFile:this.outputFile}),this.credentialSourceType="executable"}async retrieveSubjectToken(){if(o[d]!=="1")throw new Error("Pluggable Auth executables need to be explicitly allowed to run by setting the GOOGLE_EXTERNAL_ACCOUNT_ALLOW_EXECUTABLES environment Variable to 1.");let L;if(this.outputFile&&(L=await this.handler.retrieveCachedResponse()),!L){const k=new Map;k.set("GOOGLE_EXTERNAL_ACCOUNT_AUDIENCE",this.audience),k.set("GOOGLE_EXTERNAL_ACCOUNT_TOKEN_TYPE",this.subjectTokenType),k.set("GOOGLE_EXTERNAL_ACCOUNT_INTERACTIVE","0"),this.outputFile&&k.set("GOOGLE_EXTERNAL_ACCOUNT_OUTPUT_FILE",this.outputFile);const B=this.getServiceAccountEmail();B&&k.set("GOOGLE_EXTERNAL_ACCOUNT_IMPERSONATED_EMAIL",B),L=await this.handler.retrieveResponseFromExecutable(k)}if(L.version>m)throw new Error(`Version of executable is not currently supported, maximum supported version is ${m}.`);if(!L.success)throw new p(L.errorMessage,L.errorCode);if(this.outputFile&&!L.expirationTime)throw new r.InvalidExpirationTimeFieldError("The executable response must contain the `expiration_time` field for successful responses when an output_file has been specified in the configuration.");if(L.isExpired())throw new Error("Executable response is expired.");return L.subjectToken}}return pluggableAuthClient.PluggableAuthClient=P,pluggableAuthClient}Object.defineProperty(externalclient,"__esModule",{value:!0});externalclient.ExternalAccountClient=void 0;const baseexternalclient_1$1=baseexternalclient,identitypoolclient_1=identitypoolclient,awsclient_1=awsclient,pluggable_auth_client_1=requirePluggableAuthClient();class ExternalAccountClient{constructor(){throw new Error("ExternalAccountClients should be initialized via: ExternalAccountClient.fromJSON(), directly via explicit constructors, eg. new AwsClient(options), new IdentityPoolClient(options), newPluggableAuthClientOptions, or via new GoogleAuth(options).getClient()")}static fromJSON(e,r){var u,p;return e&&e.type===baseexternalclient_1$1.EXTERNAL_ACCOUNT_TYPE?!((u=e.credential_source)===null||u===void 0)&&u.environment_id?new awsclient_1.AwsClient(e,r):!((p=e.credential_source)===null||p===void 0)&&p.executable?new pluggable_auth_client_1.PluggableAuthClient(e,r):new identitypoolclient_1.IdentityPoolClient(e,r):null}}externalclient.ExternalAccountClient=ExternalAccountClient;var externalAccountAuthorizedUserClient={};Object.defineProperty(externalAccountAuthorizedUserClient,"__esModule",{value:!0});externalAccountAuthorizedUserClient.ExternalAccountAuthorizedUserClient=externalAccountAuthorizedUserClient.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE=void 0;const authclient_1$1=authclient,oauth2common_1=oauth2common,gaxios_1=src$5,stream=require$$1$3,baseexternalclient_1=baseexternalclient;externalAccountAuthorizedUserClient.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE="external_account_authorized_user";const DEFAULT_TOKEN_URL="https://sts.{universeDomain}/v1/oauthtoken";class ExternalAccountAuthorizedUserHandler extends oauth2common_1.OAuthClientAuthHandler{constructor(e,r,u){super(u),this.url=e,this.transporter=r}async refreshToken(e,r){const u=new URLSearchParams({grant_type:"refresh_token",refresh_token:e}),p={"Content-Type":"application/x-www-form-urlencoded",...r},h={...ExternalAccountAuthorizedUserHandler.RETRY_CONFIG,url:this.url,method:"POST",headers:p,data:u.toString(),responseType:"json"};this.applyClientAuthenticationOptions(h);try{const y=await this.transporter.request(h),c=y.data;return c.res=y,c}catch(y){throw y instanceof gaxios_1.GaxiosError&&y.response?(0,oauth2common_1.getErrorFromOAuthErrorResponse)(y.response.data,y):y}}}class ExternalAccountAuthorizedUserClient extends authclient_1$1.AuthClient{constructor(e,r){var u;super({...e,...r}),e.universe_domain&&(this.universeDomain=e.universe_domain),this.refreshToken=e.refresh_token;const p={confidentialClientType:"basic",clientId:e.client_id,clientSecret:e.client_secret};this.externalAccountAuthorizedUserHandler=new ExternalAccountAuthorizedUserHandler((u=e.token_url)!==null&&u!==void 0?u:DEFAULT_TOKEN_URL.replace("{universeDomain}",this.universeDomain),this.transporter,p),this.cachedAccessToken=null,this.quotaProjectId=e.quota_project_id,typeof(r==null?void 0:r.eagerRefreshThresholdMillis)!="number"?this.eagerRefreshThresholdMillis=baseexternalclient_1.EXPIRATION_TIME_OFFSET:this.eagerRefreshThresholdMillis=r.eagerRefreshThresholdMillis,this.forceRefreshOnFailure=!!(r!=null&&r.forceRefreshOnFailure)}async getAccessToken(){return(!this.cachedAccessToken||this.isExpired(this.cachedAccessToken))&&await this.refreshAccessTokenAsync(),{token:this.cachedAccessToken.access_token,res:this.cachedAccessToken.res}}async getRequestHeaders(){const r={Authorization:`Bearer ${(await this.getAccessToken()).token}`};return this.addSharedMetadataHeaders(r)}request(e,r){if(r)this.requestAsync(e).then(u=>r(null,u),u=>r(u,u.response));else return this.requestAsync(e)}async requestAsync(e,r=!1){let u;try{const p=await this.getRequestHeaders();e.headers=e.headers||{},p&&p["x-goog-user-project"]&&(e.headers["x-goog-user-project"]=p["x-goog-user-project"]),p&&p.Authorization&&(e.headers.Authorization=p.Authorization),u=await this.transporter.request(e)}catch(p){const h=p.response;if(h){const y=h.status,c=h.config.data instanceof stream.Readable;if(!r&&(y===401||y===403)&&!c&&this.forceRefreshOnFailure)return await this.refreshAccessTokenAsync(),await this.requestAsync(e,!0)}throw p}return u}async refreshAccessTokenAsync(){const e=await this.externalAccountAuthorizedUserHandler.refreshToken(this.refreshToken);return this.cachedAccessToken={access_token:e.access_token,expiry_date:new Date().getTime()+e.expires_in*1e3,res:e.res},e.refresh_token!==void 0&&(this.refreshToken=e.refresh_token),this.cachedAccessToken}isExpired(e){const r=new Date().getTime();return e.expiry_date?r>=e.expiry_date-this.eagerRefreshThresholdMillis:!1}}externalAccountAuthorizedUserClient.ExternalAccountAuthorizedUserClient=ExternalAccountAuthorizedUserClient;(function(o){var e={},r=commonjsGlobal$2&&commonjsGlobal$2.__classPrivateFieldGet||function(Z,X,te,be){if(te==="a"&&!be)throw new TypeError("Private accessor was defined without a getter");if(typeof X=="function"?Z!==X||!be:!X.has(Z))throw new TypeError("Cannot read private member from an object whose class did not declare it");return te==="m"?be:te==="a"?be.call(Z):be?be.value:X.get(Z)},u=commonjsGlobal$2&&commonjsGlobal$2.__classPrivateFieldSet||function(Z,X,te,be,Ae){if(be==="m")throw new TypeError("Private method is not writable");if(be==="a"&&!Ae)throw new TypeError("Private accessor was defined without a setter");if(typeof X=="function"?Z!==X||!Ae:!X.has(Z))throw new TypeError("Cannot write private member to an object whose class did not declare it");return be==="a"?Ae.call(Z,te):Ae?Ae.value=te:X.set(Z,te),te},p,h,y,c;Object.defineProperty(o,"__esModule",{value:!0}),o.GoogleAuth=o.GoogleAuthExceptionMessages=o.CLOUD_SDK_CLIENT_ID=void 0;const d=require$$1$3,m=require$$1$3,P=src$6,N=require$$1$3,L=require$$1$3,k=requireCrypto(),B=transporters,U=computeclient,$=idtokenclient,j=envDetect,M=jwtclient,q=refreshclient,Q=impersonated,K=externalclient,G=baseexternalclient,F=authclient,x=externalAccountAuthorizedUserClient,z=util$c;o.CLOUD_SDK_CLIENT_ID="764086051850-6qr4p6gpi6hn506pt8ejuq83di341hur.apps.googleusercontent.com",o.GoogleAuthExceptionMessages={API_KEY_WITH_CREDENTIALS:"API Keys and Credentials are mutually exclusive authentication methods and cannot be used together.",NO_PROJECT_ID_FOUND:`Unable to detect a Project Id in the current environment. 
To learn more about authentication and Google APIs, visit: 
https://cloud.google.com/docs/authentication/getting-started`,NO_CREDENTIALS_FOUND:`Unable to find credentials in current environment. 
To learn more about authentication and Google APIs, visit: 
https://cloud.google.com/docs/authentication/getting-started`,NO_ADC_FOUND:"Could not load the default credentials. Browse to https://cloud.google.com/docs/authentication/getting-started for more information.",NO_UNIVERSE_DOMAIN_FOUND:`Unable to detect a Universe Domain in the current environment.
To learn more about Universe Domain retrieval, visit: 
https://cloud.google.com/compute/docs/metadata/predefined-metadata-keys`};class J{get isGCE(){return this.checkIsGCE}constructor(X={}){if(p.add(this),this.checkIsGCE=void 0,this.jsonContent=null,this.cachedCredential=null,h.set(this,null),this.clientOptions={},this._cachedProjectId=X.projectId||null,this.cachedCredential=X.authClient||null,this.keyFilename=X.keyFilename||X.keyFile,this.scopes=X.scopes,this.clientOptions=X.clientOptions||{},this.jsonContent=X.credentials||null,this.apiKey=X.apiKey||this.clientOptions.apiKey||null,this.apiKey&&(this.jsonContent||this.clientOptions.credentials))throw new RangeError(o.GoogleAuthExceptionMessages.API_KEY_WITH_CREDENTIALS);X.universeDomain&&(this.clientOptions.universeDomain=X.universeDomain)}setGapicJWTValues(X){X.defaultServicePath=this.defaultServicePath,X.useJWTAccessWithScope=this.useJWTAccessWithScope,X.defaultScopes=this.defaultScopes}getProjectId(X){if(X)this.getProjectIdAsync().then(te=>X(null,te),X);else return this.getProjectIdAsync()}async getProjectIdOptional(){try{return await this.getProjectId()}catch(X){if(X instanceof Error&&X.message===o.GoogleAuthExceptionMessages.NO_PROJECT_ID_FOUND)return null;throw X}}async findAndCacheProjectId(){let X=null;if(X||(X=await this.getProductionProjectId()),X||(X=await this.getFileProjectId()),X||(X=await this.getDefaultServiceProjectId()),X||(X=await this.getGCEProjectId()),X||(X=await this.getExternalAccountClientProjectId()),X)return this._cachedProjectId=X,X;throw new Error(o.GoogleAuthExceptionMessages.NO_PROJECT_ID_FOUND)}async getProjectIdAsync(){return this._cachedProjectId?this._cachedProjectId:(this._findProjectIdPromise||(this._findProjectIdPromise=this.findAndCacheProjectId()),this._findProjectIdPromise)}async getUniverseDomainFromMetadataServer(){var X;let te;try{te=await P.universe("universe-domain"),te||(te=F.DEFAULT_UNIVERSE)}catch(be){if(be&&((X=be==null?void 0:be.response)===null||X===void 0?void 0:X.status)===404)te=F.DEFAULT_UNIVERSE;else throw be}return te}async getUniverseDomain(){let X=(0,z.originalOrCamelOptions)(this.clientOptions).get("universe_domain");try{X??(X=(await this.getClient()).universeDomain)}catch{X??(X=F.DEFAULT_UNIVERSE)}return X}getAnyScopes(){return this.scopes||this.defaultScopes}getApplicationDefault(X={},te){let be;if(typeof X=="function"?te=X:be=X,te)this.getApplicationDefaultAsync(be).then(Ae=>te(null,Ae.credential,Ae.projectId),te);else return this.getApplicationDefaultAsync(be)}async getApplicationDefaultAsync(X={}){if(this.cachedCredential)return await r(this,p,"m",y).call(this,this.cachedCredential,null);let te;if(te=await this._tryGetApplicationCredentialsFromEnvironmentVariable(X),te)return te instanceof M.JWT?te.scopes=this.scopes:te instanceof G.BaseExternalAccountClient&&(te.scopes=this.getAnyScopes()),await r(this,p,"m",y).call(this,te);if(te=await this._tryGetApplicationCredentialsFromWellKnownFile(X),te)return te instanceof M.JWT?te.scopes=this.scopes:te instanceof G.BaseExternalAccountClient&&(te.scopes=this.getAnyScopes()),await r(this,p,"m",y).call(this,te);if(await this._checkIsGCE())return X.scopes=this.getAnyScopes(),await r(this,p,"m",y).call(this,new U.Compute(X));throw new Error(o.GoogleAuthExceptionMessages.NO_ADC_FOUND)}async _checkIsGCE(){return this.checkIsGCE===void 0&&(this.checkIsGCE=P.getGCPResidency()||await P.isAvailable()),this.checkIsGCE}async _tryGetApplicationCredentialsFromEnvironmentVariable(X){const te=e.GOOGLE_APPLICATION_CREDENTIALS||e.google_application_credentials;if(!te||te.length===0)return null;try{return this._getApplicationCredentialsFromFilePath(te,X)}catch(be){throw be instanceof Error&&(be.message=`Unable to read the credential file specified by the GOOGLE_APPLICATION_CREDENTIALS environment variable: ${be.message}`),be}}async _tryGetApplicationCredentialsFromWellKnownFile(X){let te=null;if(this._isWindows())te=e.APPDATA;else{const Ae=e.HOME;Ae&&(te=L.join(Ae,".config"))}return te&&(te=L.join(te,"gcloud","application_default_credentials.json"),m.existsSync(te)||(te=null)),te?await this._getApplicationCredentialsFromFilePath(te,X):null}async _getApplicationCredentialsFromFilePath(X,te={}){if(!X||X.length===0)throw new Error("The file path is invalid.");try{if(X=m.realpathSync(X),!m.lstatSync(X).isFile())throw new Error}catch(Ae){throw Ae instanceof Error&&(Ae.message=`The file at ${X} does not exist, or it is not a file. ${Ae.message}`),Ae}const be=m.createReadStream(X);return this.fromStream(be,te)}fromImpersonatedJSON(X){var te,be,Ae,Ne;if(!X)throw new Error("Must pass in a JSON object containing an  impersonated refresh token");if(X.type!==Q.IMPERSONATED_ACCOUNT_TYPE)throw new Error(`The incoming JSON object does not have the "${Q.IMPERSONATED_ACCOUNT_TYPE}" type`);if(!X.source_credentials)throw new Error("The incoming JSON object does not contain a source_credentials field");if(!X.service_account_impersonation_url)throw new Error("The incoming JSON object does not contain a service_account_impersonation_url field");const ke=this.fromJSON(X.source_credentials);if(((te=X.service_account_impersonation_url)===null||te===void 0?void 0:te.length)>256)throw new RangeError(`Target principal is too long: ${X.service_account_impersonation_url}`);const Ue=(Ae=(be=/(?<target>[^/]+):(generateAccessToken|generateIdToken)$/.exec(X.service_account_impersonation_url))===null||be===void 0?void 0:be.groups)===null||Ae===void 0?void 0:Ae.target;if(!Ue)throw new RangeError(`Cannot extract target principal from ${X.service_account_impersonation_url}`);const qe=(Ne=this.getAnyScopes())!==null&&Ne!==void 0?Ne:[];return new Q.Impersonated({...X,sourceClient:ke,targetPrincipal:Ue,targetScopes:Array.isArray(qe)?qe:[qe]})}fromJSON(X,te={}){let be;const Ae=(0,z.originalOrCamelOptions)(te).get("universe_domain");return X.type===q.USER_REFRESH_ACCOUNT_TYPE?(be=new q.UserRefreshClient(te),be.fromJSON(X)):X.type===Q.IMPERSONATED_ACCOUNT_TYPE?be=this.fromImpersonatedJSON(X):X.type===G.EXTERNAL_ACCOUNT_TYPE?(be=K.ExternalAccountClient.fromJSON(X,te),be.scopes=this.getAnyScopes()):X.type===x.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE?be=new x.ExternalAccountAuthorizedUserClient(X,te):(te.scopes=this.scopes,be=new M.JWT(te),this.setGapicJWTValues(be),be.fromJSON(X)),Ae&&(be.universeDomain=Ae),be}_cacheClientFromJSON(X,te){const be=this.fromJSON(X,te);return this.jsonContent=X,this.cachedCredential=be,be}fromStream(X,te={},be){let Ae={};if(typeof te=="function"?be=te:Ae=te,be)this.fromStreamAsync(X,Ae).then(Ne=>be(null,Ne),be);else return this.fromStreamAsync(X,Ae)}fromStreamAsync(X,te){return new Promise((be,Ae)=>{if(!X)throw new Error("Must pass in a stream containing the Google auth settings.");const Ne=[];X.setEncoding("utf8").on("error",Ae).on("data",ke=>Ne.push(ke)).on("end",()=>{try{try{const ke=JSON.parse(Ne.join("")),Ue=this._cacheClientFromJSON(ke,te);return be(Ue)}catch(ke){if(!this.keyFilename)throw ke;const Ue=new M.JWT({...this.clientOptions,keyFile:this.keyFilename});return this.cachedCredential=Ue,this.setGapicJWTValues(Ue),be(Ue)}}catch(ke){return Ae(ke)}})})}fromAPIKey(X,te={}){return new M.JWT({...te,apiKey:X})}_isWindows(){const X=N.platform();return!!(X&&X.length>=3&&X.substring(0,3).toLowerCase()==="win")}async getDefaultServiceProjectId(){return new Promise(X=>{(0,d.exec)("gcloud config config-helper --format json",(te,be)=>{if(!te&&be)try{const Ae=JSON.parse(be).configuration.properties.core.project;X(Ae);return}catch{}X(null)})})}getProductionProjectId(){return e.GCLOUD_PROJECT||e.GOOGLE_CLOUD_PROJECT||e.gcloud_project||e.google_cloud_project}async getFileProjectId(){if(this.cachedCredential)return this.cachedCredential.projectId;if(this.keyFilename){const te=await this.getClient();if(te&&te.projectId)return te.projectId}const X=await this._tryGetApplicationCredentialsFromEnvironmentVariable();return X?X.projectId:null}async getExternalAccountClientProjectId(){return!this.jsonContent||this.jsonContent.type!==G.EXTERNAL_ACCOUNT_TYPE?null:await(await this.getClient()).getProjectId()}async getGCEProjectId(){try{return await P.project("project-id")}catch{return null}}getCredentials(X){if(X)this.getCredentialsAsync().then(te=>X(null,te),X);else return this.getCredentialsAsync()}async getCredentialsAsync(){const X=await this.getClient();if(X instanceof Q.Impersonated)return{client_email:X.getTargetPrincipal()};if(X instanceof G.BaseExternalAccountClient){const te=X.getServiceAccountEmail();if(te)return{client_email:te,universe_domain:X.universeDomain}}if(this.jsonContent)return{client_email:this.jsonContent.client_email,private_key:this.jsonContent.private_key,universe_domain:this.jsonContent.universe_domain};if(await this._checkIsGCE()){const[te,be]=await Promise.all([P.instance("service-accounts/default/email"),this.getUniverseDomain()]);return{client_email:te,universe_domain:be}}throw new Error(o.GoogleAuthExceptionMessages.NO_CREDENTIALS_FOUND)}async getClient(){if(this.cachedCredential)return this.cachedCredential;u(this,h,r(this,h,"f")||r(this,p,"m",c).call(this),"f");try{return await r(this,h,"f")}finally{u(this,h,null,"f")}}async getIdTokenClient(X){const te=await this.getClient();if(!("fetchIdToken"in te))throw new Error("Cannot fetch ID token in this environment, use GCE or set the GOOGLE_APPLICATION_CREDENTIALS environment variable to a service account credentials JSON file.");return new $.IdTokenClient({targetAudience:X,idTokenProvider:te})}async getAccessToken(){return(await(await this.getClient()).getAccessToken()).token}async getRequestHeaders(X){return(await this.getClient()).getRequestHeaders(X)}async authorizeRequest(X){X=X||{};const te=X.url||X.uri,Ae=await(await this.getClient()).getRequestHeaders(te);return X.headers=Object.assign(X.headers||{},Ae),X}async request(X){return(await this.getClient()).request(X)}getEnv(){return(0,j.getEnv)()}async sign(X,te){const be=await this.getClient(),Ae=await this.getUniverseDomain();if(te=te||`https://iamcredentials.${Ae}/v1/projects/-/serviceAccounts/`,be instanceof Q.Impersonated)return(await be.sign(X)).signedBlob;const Ne=(0,k.createCrypto)();if(be instanceof M.JWT&&be.key)return await Ne.sign(be.key,X);const ke=await this.getCredentials();if(!ke.client_email)throw new Error("Cannot sign data without `client_email`.");return this.signBlob(Ne,ke.client_email,X,te)}async signBlob(X,te,be,Ae){const Ne=new URL(Ae+`${te}:signBlob`);return(await this.request({method:"POST",url:Ne.href,data:{payload:X.encodeBase64StringUtf8(be)},retry:!0,retryConfig:{httpMethodsToRetry:["POST"]}})).data.signedBlob}}o.GoogleAuth=J,h=new WeakMap,p=new WeakSet,y=async function(X,te=e.GOOGLE_CLOUD_QUOTA_PROJECT||null){const be=await this.getProjectIdOptional();return te&&(X.quotaProjectId=te),this.cachedCredential=X,{credential:X,projectId:be}},c=async function(){if(this.jsonContent)return this._cacheClientFromJSON(this.jsonContent,this.clientOptions);if(this.keyFilename){const X=L.resolve(this.keyFilename),te=m.createReadStream(X);return await this.fromStreamAsync(te,this.clientOptions)}else if(this.apiKey){const X=await this.fromAPIKey(this.apiKey,this.clientOptions);X.scopes=this.scopes;const{credential:te}=await r(this,p,"m",y).call(this,X);return te}else{const{credential:X}=await this.getApplicationDefaultAsync(this.clientOptions);return X}},J.DefaultTransporter=B.DefaultTransporter})(googleauth);var iam={};Object.defineProperty(iam,"__esModule",{value:!0});iam.IAMAuth=void 0;class IAMAuth{constructor(e,r){this.selector=e,this.token=r,this.selector=e,this.token=r}getRequestHeaders(){return{"x-goog-iam-authority-selector":this.selector,"x-goog-iam-authorization-token":this.token}}}iam.IAMAuth=IAMAuth;var downscopedclient={};(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.DownscopedClient=o.EXPIRATION_TIME_OFFSET=o.MAX_ACCESS_BOUNDARY_RULES_COUNT=void 0;const e=require$$1$3,r=authclient,u=stscredentials,p="urn:ietf:params:oauth:grant-type:token-exchange",h="urn:ietf:params:oauth:token-type:access_token",y="urn:ietf:params:oauth:token-type:access_token";o.MAX_ACCESS_BOUNDARY_RULES_COUNT=10,o.EXPIRATION_TIME_OFFSET=5*60*1e3;class c extends r.AuthClient{constructor(m,P,N,L){if(super({...N,quotaProjectId:L}),this.authClient=m,this.credentialAccessBoundary=P,P.accessBoundary.accessBoundaryRules.length===0)throw new Error("At least one access boundary rule needs to be defined.");if(P.accessBoundary.accessBoundaryRules.length>o.MAX_ACCESS_BOUNDARY_RULES_COUNT)throw new Error(`The provided access boundary has more than ${o.MAX_ACCESS_BOUNDARY_RULES_COUNT} access boundary rules.`);for(const k of P.accessBoundary.accessBoundaryRules)if(k.availablePermissions.length===0)throw new Error("At least one permission should be defined in access boundary rules.");this.stsCredential=new u.StsCredentials(`https://sts.${this.universeDomain}/v1/token`),this.cachedDownscopedAccessToken=null}setCredentials(m){if(!m.expiry_date)throw new Error("The access token expiry_date field is missing in the provided credentials.");super.setCredentials(m),this.cachedDownscopedAccessToken=m}async getAccessToken(){return(!this.cachedDownscopedAccessToken||this.isExpired(this.cachedDownscopedAccessToken))&&await this.refreshAccessTokenAsync(),{token:this.cachedDownscopedAccessToken.access_token,expirationTime:this.cachedDownscopedAccessToken.expiry_date,res:this.cachedDownscopedAccessToken.res}}async getRequestHeaders(){const P={Authorization:`Bearer ${(await this.getAccessToken()).token}`};return this.addSharedMetadataHeaders(P)}request(m,P){if(P)this.requestAsync(m).then(N=>P(null,N),N=>P(N,N.response));else return this.requestAsync(m)}async requestAsync(m,P=!1){let N;try{const L=await this.getRequestHeaders();m.headers=m.headers||{},L&&L["x-goog-user-project"]&&(m.headers["x-goog-user-project"]=L["x-goog-user-project"]),L&&L.Authorization&&(m.headers.Authorization=L.Authorization),N=await this.transporter.request(m)}catch(L){const k=L.response;if(k){const B=k.status,U=k.config.data instanceof e.Readable;if(!P&&(B===401||B===403)&&!U&&this.forceRefreshOnFailure)return await this.refreshAccessTokenAsync(),await this.requestAsync(m,!0)}throw L}return N}async refreshAccessTokenAsync(){var m;const P=(await this.authClient.getAccessToken()).token,N={grantType:p,requestedTokenType:h,subjectToken:P,subjectTokenType:y},L=await this.stsCredential.exchangeToken(N,void 0,this.credentialAccessBoundary),k=((m=this.authClient.credentials)===null||m===void 0?void 0:m.expiry_date)||null,B=L.expires_in?new Date().getTime()+L.expires_in*1e3:k;return this.cachedDownscopedAccessToken={access_token:L.access_token,expiry_date:B,res:L.res},this.credentials={},Object.assign(this.credentials,this.cachedDownscopedAccessToken),delete this.credentials.res,this.emit("tokens",{refresh_token:null,expiry_date:this.cachedDownscopedAccessToken.expiry_date,access_token:this.cachedDownscopedAccessToken.access_token,token_type:"Bearer",id_token:null}),this.cachedDownscopedAccessToken}isExpired(m){const P=new Date().getTime();return m.expiry_date?P>=m.expiry_date-this.eagerRefreshThresholdMillis:!1}}o.DownscopedClient=c})(downscopedclient);var passthrough={};Object.defineProperty(passthrough,"__esModule",{value:!0});passthrough.PassThroughClient=void 0;const authclient_1=authclient;class PassThroughClient extends authclient_1.AuthClient{async request(e){return this.transporter.request(e)}async getAccessToken(){return{}}async getRequestHeaders(){return{}}}passthrough.PassThroughClient=PassThroughClient;const a=new PassThroughClient;a.getAccessToken();(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.GoogleAuth=o.auth=o.DefaultTransporter=o.PassThroughClient=o.ExecutableError=o.PluggableAuthClient=o.DownscopedClient=o.BaseExternalAccountClient=o.ExternalAccountClient=o.IdentityPoolClient=o.AwsRequestSigner=o.AwsClient=o.UserRefreshClient=o.LoginTicket=o.ClientAuthentication=o.OAuth2Client=o.CodeChallengeMethod=o.Impersonated=o.JWT=o.JWTAccess=o.IdTokenClient=o.IAMAuth=o.GCPEnv=o.Compute=o.DEFAULT_UNIVERSE=o.AuthClient=o.gaxios=o.gcpMetadata=void 0;const e=googleauth;Object.defineProperty(o,"GoogleAuth",{enumerable:!0,get:function(){return e.GoogleAuth}}),o.gcpMetadata=src$6,o.gaxios=src$5;var r=authclient;Object.defineProperty(o,"AuthClient",{enumerable:!0,get:function(){return r.AuthClient}}),Object.defineProperty(o,"DEFAULT_UNIVERSE",{enumerable:!0,get:function(){return r.DEFAULT_UNIVERSE}});var u=computeclient;Object.defineProperty(o,"Compute",{enumerable:!0,get:function(){return u.Compute}});var p=envDetect;Object.defineProperty(o,"GCPEnv",{enumerable:!0,get:function(){return p.GCPEnv}});var h=iam;Object.defineProperty(o,"IAMAuth",{enumerable:!0,get:function(){return h.IAMAuth}});var y=idtokenclient;Object.defineProperty(o,"IdTokenClient",{enumerable:!0,get:function(){return y.IdTokenClient}});var c=jwtaccess;Object.defineProperty(o,"JWTAccess",{enumerable:!0,get:function(){return c.JWTAccess}});var d=jwtclient;Object.defineProperty(o,"JWT",{enumerable:!0,get:function(){return d.JWT}});var m=impersonated;Object.defineProperty(o,"Impersonated",{enumerable:!0,get:function(){return m.Impersonated}});var P=oauth2client;Object.defineProperty(o,"CodeChallengeMethod",{enumerable:!0,get:function(){return P.CodeChallengeMethod}}),Object.defineProperty(o,"OAuth2Client",{enumerable:!0,get:function(){return P.OAuth2Client}}),Object.defineProperty(o,"ClientAuthentication",{enumerable:!0,get:function(){return P.ClientAuthentication}});var N=loginticket;Object.defineProperty(o,"LoginTicket",{enumerable:!0,get:function(){return N.LoginTicket}});var L=refreshclient;Object.defineProperty(o,"UserRefreshClient",{enumerable:!0,get:function(){return L.UserRefreshClient}});var k=awsclient;Object.defineProperty(o,"AwsClient",{enumerable:!0,get:function(){return k.AwsClient}});var B=awsrequestsigner;Object.defineProperty(o,"AwsRequestSigner",{enumerable:!0,get:function(){return B.AwsRequestSigner}});var U=identitypoolclient;Object.defineProperty(o,"IdentityPoolClient",{enumerable:!0,get:function(){return U.IdentityPoolClient}});var $=externalclient;Object.defineProperty(o,"ExternalAccountClient",{enumerable:!0,get:function(){return $.ExternalAccountClient}});var j=baseexternalclient;Object.defineProperty(o,"BaseExternalAccountClient",{enumerable:!0,get:function(){return j.BaseExternalAccountClient}});var M=downscopedclient;Object.defineProperty(o,"DownscopedClient",{enumerable:!0,get:function(){return M.DownscopedClient}});var q=requirePluggableAuthClient();Object.defineProperty(o,"PluggableAuthClient",{enumerable:!0,get:function(){return q.PluggableAuthClient}}),Object.defineProperty(o,"ExecutableError",{enumerable:!0,get:function(){return q.ExecutableError}});var Q=passthrough;Object.defineProperty(o,"PassThroughClient",{enumerable:!0,get:function(){return Q.PassThroughClient}});var K=transporters;Object.defineProperty(o,"DefaultTransporter",{enumerable:!0,get:function(){return K.DefaultTransporter}});const G=new e.GoogleAuth;o.auth=G})(src$7);var error={},deepCopy$1={};/*! firebase-admin v13.2.0 *//*!
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(deepCopy$1,"__esModule",{value:!0});deepCopy$1.deepCopy=deepCopy;deepCopy$1.deepExtend=deepExtend;function deepCopy(o){return deepExtend(void 0,o)}function deepExtend(o,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:{const r=e;return new Date(r.getTime())}case Object:o===void 0&&(o={});break;case Array:o=[];break;default:return e}for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=deepExtend(o[r],e[r]));return o}/*! firebase-admin v13.2.0 *//*!
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(error,"__esModule",{value:!0});error.InstanceIdClientErrorCode=error.InstallationsClientErrorCode=error.MessagingClientErrorCode=error.AuthClientErrorCode=error.AppErrorCodes=error.FirebaseProjectManagementError=error.FirebaseMessagingError=error.FirebaseInstallationsError=error.FirebaseInstanceIdError=error.FirebaseFirestoreError=error.FirebaseDatabaseError=error.FirebaseAuthError=error.FirebaseAppError=error.PrefixedFirebaseError=error.FirebaseError=void 0;const deep_copy_1$1=deepCopy$1;class FirebaseError extends Error{constructor(e){super(e.message),this.errorInfo=e,this.__proto__=FirebaseError.prototype}get code(){var e;return(e=this.errorInfo)==null?void 0:e.code}get message(){var e;return(e=this.errorInfo)==null?void 0:e.message}toJSON(){return{code:this.code,message:this.message}}}error.FirebaseError=FirebaseError;class PrefixedFirebaseError extends FirebaseError{constructor(e,r,u){super({code:`${e}/${r}`,message:u}),this.codePrefix=e,this.__proto__=PrefixedFirebaseError.prototype}hasCode(e){return`${this.codePrefix}/${e}`===this.code}}error.PrefixedFirebaseError=PrefixedFirebaseError;class FirebaseAppError extends PrefixedFirebaseError{constructor(e,r){super("app",e,r),this.__proto__=FirebaseAppError.prototype}}error.FirebaseAppError=FirebaseAppError;class FirebaseAuthError extends PrefixedFirebaseError{static fromServerError(e,r,u){const p=(e||"").indexOf(":");let h=null;p!==-1&&(h=e.substring(p+1).trim(),e=e.substring(0,p).trim());const y=AUTH_SERVER_TO_CLIENT_CODE[e]||"INTERNAL_ERROR",c=(0,deep_copy_1$1.deepCopy)(AuthClientErrorCode[y]);if(c.message=h||r||c.message,y==="INTERNAL_ERROR"&&typeof u<"u")try{c.message+=` Raw server response: "${JSON.stringify(u)}"`}catch{}return new FirebaseAuthError(c)}constructor(e,r){super("auth",e.code,r||e.message),this.__proto__=FirebaseAuthError.prototype}}error.FirebaseAuthError=FirebaseAuthError;class FirebaseDatabaseError extends FirebaseError{constructor(e,r){super({code:"database/"+e.code,message:r||e.message})}}error.FirebaseDatabaseError=FirebaseDatabaseError;class FirebaseFirestoreError extends FirebaseError{constructor(e,r){super({code:"firestore/"+e.code,message:r||e.message})}}error.FirebaseFirestoreError=FirebaseFirestoreError;class FirebaseInstanceIdError extends FirebaseError{constructor(e,r){super({code:"instance-id/"+e.code,message:r||e.message}),this.__proto__=FirebaseInstanceIdError.prototype}}error.FirebaseInstanceIdError=FirebaseInstanceIdError;class FirebaseInstallationsError extends FirebaseError{constructor(e,r){super({code:"installations/"+e.code,message:r||e.message}),this.__proto__=FirebaseInstallationsError.prototype}}error.FirebaseInstallationsError=FirebaseInstallationsError;class FirebaseMessagingError extends PrefixedFirebaseError{static fromServerError(e,r,u){let p="UNKNOWN_ERROR";e&&e in MESSAGING_SERVER_TO_CLIENT_CODE&&(p=MESSAGING_SERVER_TO_CLIENT_CODE[e]);const h=(0,deep_copy_1$1.deepCopy)(MessagingClientErrorCode[p]);if(h.message=r||h.message,p==="UNKNOWN_ERROR"&&typeof u<"u")try{h.message+=` Raw server response: "${JSON.stringify(u)}"`}catch{}return new FirebaseMessagingError(h)}static fromTopicManagementServerError(e,r,u){const p=TOPIC_MGT_SERVER_TO_CLIENT_CODE[e]||"UNKNOWN_ERROR",h=(0,deep_copy_1$1.deepCopy)(MessagingClientErrorCode[p]);if(h.message=r||h.message,p==="UNKNOWN_ERROR"&&typeof u<"u")try{h.message+=` Raw server response: "${JSON.stringify(u)}"`}catch{}return new FirebaseMessagingError(h)}constructor(e,r){super("messaging",e.code,r||e.message),this.__proto__=FirebaseMessagingError.prototype}}error.FirebaseMessagingError=FirebaseMessagingError;class FirebaseProjectManagementError extends PrefixedFirebaseError{constructor(e,r){super("project-management",e,r),this.__proto__=FirebaseProjectManagementError.prototype}}error.FirebaseProjectManagementError=FirebaseProjectManagementError;class AppErrorCodes{}error.AppErrorCodes=AppErrorCodes;AppErrorCodes.APP_DELETED="app-deleted";AppErrorCodes.DUPLICATE_APP="duplicate-app";AppErrorCodes.INVALID_ARGUMENT="invalid-argument";AppErrorCodes.INTERNAL_ERROR="internal-error";AppErrorCodes.INVALID_APP_NAME="invalid-app-name";AppErrorCodes.INVALID_APP_OPTIONS="invalid-app-options";AppErrorCodes.INVALID_CREDENTIAL="invalid-credential";AppErrorCodes.NETWORK_ERROR="network-error";AppErrorCodes.NETWORK_TIMEOUT="network-timeout";AppErrorCodes.NO_APP="no-app";AppErrorCodes.UNABLE_TO_PARSE_RESPONSE="unable-to-parse-response";class AuthClientErrorCode{}error.AuthClientErrorCode=AuthClientErrorCode;AuthClientErrorCode.AUTH_BLOCKING_TOKEN_EXPIRED={code:"auth-blocking-token-expired",message:"The provided Firebase Auth Blocking token is expired."};AuthClientErrorCode.BILLING_NOT_ENABLED={code:"billing-not-enabled",message:"Feature requires billing to be enabled."};AuthClientErrorCode.CLAIMS_TOO_LARGE={code:"claims-too-large",message:"Developer claims maximum payload size exceeded."};AuthClientErrorCode.CONFIGURATION_EXISTS={code:"configuration-exists",message:"A configuration already exists with the provided identifier."};AuthClientErrorCode.CONFIGURATION_NOT_FOUND={code:"configuration-not-found",message:"There is no configuration corresponding to the provided identifier."};AuthClientErrorCode.ID_TOKEN_EXPIRED={code:"id-token-expired",message:"The provided Firebase ID token is expired."};AuthClientErrorCode.INVALID_ARGUMENT={code:"argument-error",message:"Invalid argument provided."};AuthClientErrorCode.INVALID_CONFIG={code:"invalid-config",message:"The provided configuration is invalid."};AuthClientErrorCode.EMAIL_ALREADY_EXISTS={code:"email-already-exists",message:"The email address is already in use by another account."};AuthClientErrorCode.EMAIL_NOT_FOUND={code:"email-not-found",message:"There is no user record corresponding to the provided email."};AuthClientErrorCode.FORBIDDEN_CLAIM={code:"reserved-claim",message:"The specified developer claim is reserved and cannot be specified."};AuthClientErrorCode.INVALID_ID_TOKEN={code:"invalid-id-token",message:"The provided ID token is not a valid Firebase ID token."};AuthClientErrorCode.ID_TOKEN_REVOKED={code:"id-token-revoked",message:"The Firebase ID token has been revoked."};AuthClientErrorCode.INTERNAL_ERROR={code:"internal-error",message:"An internal error has occurred."};AuthClientErrorCode.INVALID_CLAIMS={code:"invalid-claims",message:"The provided custom claim attributes are invalid."};AuthClientErrorCode.INVALID_CONTINUE_URI={code:"invalid-continue-uri",message:"The continue URL must be a valid URL string."};AuthClientErrorCode.INVALID_CREATION_TIME={code:"invalid-creation-time",message:"The creation time must be a valid UTC date string."};AuthClientErrorCode.INVALID_CREDENTIAL={code:"invalid-credential",message:"Invalid credential object provided."};AuthClientErrorCode.INVALID_DISABLED_FIELD={code:"invalid-disabled-field",message:"The disabled field must be a boolean."};AuthClientErrorCode.INVALID_DISPLAY_NAME={code:"invalid-display-name",message:"The displayName field must be a valid string."};AuthClientErrorCode.INVALID_DYNAMIC_LINK_DOMAIN={code:"invalid-dynamic-link-domain",message:"The provided dynamic link domain is not configured or authorized for the current project."};AuthClientErrorCode.INVALID_HOSTING_LINK_DOMAIN={code:"invalid-hosting-link-domain",message:"The provided hosting link domain is not configured in Firebase Hosting or is not owned by the current project."};AuthClientErrorCode.INVALID_EMAIL_VERIFIED={code:"invalid-email-verified",message:"The emailVerified field must be a boolean."};AuthClientErrorCode.INVALID_EMAIL={code:"invalid-email",message:"The email address is improperly formatted."};AuthClientErrorCode.INVALID_NEW_EMAIL={code:"invalid-new-email",message:"The new email address is improperly formatted."};AuthClientErrorCode.INVALID_ENROLLED_FACTORS={code:"invalid-enrolled-factors",message:"The enrolled factors must be a valid array of MultiFactorInfo objects."};AuthClientErrorCode.INVALID_ENROLLMENT_TIME={code:"invalid-enrollment-time",message:"The second factor enrollment time must be a valid UTC date string."};AuthClientErrorCode.INVALID_HASH_ALGORITHM={code:"invalid-hash-algorithm",message:"The hash algorithm must match one of the strings in the list of supported algorithms."};AuthClientErrorCode.INVALID_HASH_BLOCK_SIZE={code:"invalid-hash-block-size",message:"The hash block size must be a valid number."};AuthClientErrorCode.INVALID_HASH_DERIVED_KEY_LENGTH={code:"invalid-hash-derived-key-length",message:"The hash derived key length must be a valid number."};AuthClientErrorCode.INVALID_HASH_KEY={code:"invalid-hash-key",message:"The hash key must a valid byte buffer."};AuthClientErrorCode.INVALID_HASH_MEMORY_COST={code:"invalid-hash-memory-cost",message:"The hash memory cost must be a valid number."};AuthClientErrorCode.INVALID_HASH_PARALLELIZATION={code:"invalid-hash-parallelization",message:"The hash parallelization must be a valid number."};AuthClientErrorCode.INVALID_HASH_ROUNDS={code:"invalid-hash-rounds",message:"The hash rounds must be a valid number."};AuthClientErrorCode.INVALID_HASH_SALT_SEPARATOR={code:"invalid-hash-salt-separator",message:"The hashing algorithm salt separator field must be a valid byte buffer."};AuthClientErrorCode.INVALID_LAST_SIGN_IN_TIME={code:"invalid-last-sign-in-time",message:"The last sign-in time must be a valid UTC date string."};AuthClientErrorCode.INVALID_NAME={code:"invalid-name",message:"The resource name provided is invalid."};AuthClientErrorCode.INVALID_OAUTH_CLIENT_ID={code:"invalid-oauth-client-id",message:"The provided OAuth client ID is invalid."};AuthClientErrorCode.INVALID_PAGE_TOKEN={code:"invalid-page-token",message:"The page token must be a valid non-empty string."};AuthClientErrorCode.INVALID_PASSWORD={code:"invalid-password",message:"The password must be a string with at least 6 characters."};AuthClientErrorCode.INVALID_PASSWORD_HASH={code:"invalid-password-hash",message:"The password hash must be a valid byte buffer."};AuthClientErrorCode.INVALID_PASSWORD_SALT={code:"invalid-password-salt",message:"The password salt must be a valid byte buffer."};AuthClientErrorCode.INVALID_PHONE_NUMBER={code:"invalid-phone-number",message:"The phone number must be a non-empty E.164 standard compliant identifier string."};AuthClientErrorCode.INVALID_PHOTO_URL={code:"invalid-photo-url",message:"The photoURL field must be a valid URL."};AuthClientErrorCode.INVALID_PROJECT_ID={code:"invalid-project-id",message:"Invalid parent project. Either parent project doesn't exist or didn't enable multi-tenancy."};AuthClientErrorCode.INVALID_PROVIDER_DATA={code:"invalid-provider-data",message:"The providerData must be a valid array of UserInfo objects."};AuthClientErrorCode.INVALID_PROVIDER_ID={code:"invalid-provider-id",message:"The providerId must be a valid supported provider identifier string."};AuthClientErrorCode.INVALID_PROVIDER_UID={code:"invalid-provider-uid",message:"The providerUid must be a valid provider uid string."};AuthClientErrorCode.INVALID_OAUTH_RESPONSETYPE={code:"invalid-oauth-responsetype",message:"Only exactly one OAuth responseType should be set to true."};AuthClientErrorCode.INVALID_SESSION_COOKIE_DURATION={code:"invalid-session-cookie-duration",message:"The session cookie duration must be a valid number in milliseconds between 5 minutes and 2 weeks."};AuthClientErrorCode.INVALID_TENANT_ID={code:"invalid-tenant-id",message:"The tenant ID must be a valid non-empty string."};AuthClientErrorCode.INVALID_TENANT_TYPE={code:"invalid-tenant-type",message:'Tenant type must be either "full_service" or "lightweight".'};AuthClientErrorCode.INVALID_TESTING_PHONE_NUMBER={code:"invalid-testing-phone-number",message:"Invalid testing phone number or invalid test code provided."};AuthClientErrorCode.INVALID_UID={code:"invalid-uid",message:"The uid must be a non-empty string with at most 128 characters."};AuthClientErrorCode.INVALID_USER_IMPORT={code:"invalid-user-import",message:"The user record to import is invalid."};AuthClientErrorCode.INVALID_TOKENS_VALID_AFTER_TIME={code:"invalid-tokens-valid-after-time",message:"The tokensValidAfterTime must be a valid UTC number in seconds."};AuthClientErrorCode.MISMATCHING_TENANT_ID={code:"mismatching-tenant-id",message:"User tenant ID does not match with the current TenantAwareAuth tenant ID."};AuthClientErrorCode.MISSING_ANDROID_PACKAGE_NAME={code:"missing-android-pkg-name",message:"An Android Package Name must be provided if the Android App is required to be installed."};AuthClientErrorCode.MISSING_CONFIG={code:"missing-config",message:"The provided configuration is missing required attributes."};AuthClientErrorCode.MISSING_CONTINUE_URI={code:"missing-continue-uri",message:"A valid continue URL must be provided in the request."};AuthClientErrorCode.MISSING_DISPLAY_NAME={code:"missing-display-name",message:"The resource being created or edited is missing a valid display name."};AuthClientErrorCode.MISSING_EMAIL={code:"missing-email",message:"The email is required for the specified action. For example, a multi-factor user requires a verified email."};AuthClientErrorCode.MISSING_IOS_BUNDLE_ID={code:"missing-ios-bundle-id",message:"The request is missing an iOS Bundle ID."};AuthClientErrorCode.MISSING_ISSUER={code:"missing-issuer",message:"The OAuth/OIDC configuration issuer must not be empty."};AuthClientErrorCode.MISSING_HASH_ALGORITHM={code:"missing-hash-algorithm",message:"Importing users with password hashes requires that the hashing algorithm and its parameters be provided."};AuthClientErrorCode.MISSING_OAUTH_CLIENT_ID={code:"missing-oauth-client-id",message:"The OAuth/OIDC configuration client ID must not be empty."};AuthClientErrorCode.MISSING_OAUTH_CLIENT_SECRET={code:"missing-oauth-client-secret",message:"The OAuth configuration client secret is required to enable OIDC code flow."};AuthClientErrorCode.MISSING_PROVIDER_ID={code:"missing-provider-id",message:"A valid provider ID must be provided in the request."};AuthClientErrorCode.MISSING_SAML_RELYING_PARTY_CONFIG={code:"missing-saml-relying-party-config",message:"The SAML configuration provided is missing a relying party configuration."};AuthClientErrorCode.MAXIMUM_TEST_PHONE_NUMBER_EXCEEDED={code:"test-phone-number-limit-exceeded",message:"The maximum allowed number of test phone number / code pairs has been exceeded."};AuthClientErrorCode.MAXIMUM_USER_COUNT_EXCEEDED={code:"maximum-user-count-exceeded",message:"The maximum allowed number of users to import has been exceeded."};AuthClientErrorCode.MISSING_UID={code:"missing-uid",message:"A uid identifier is required for the current operation."};AuthClientErrorCode.OPERATION_NOT_ALLOWED={code:"operation-not-allowed",message:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."};AuthClientErrorCode.PHONE_NUMBER_ALREADY_EXISTS={code:"phone-number-already-exists",message:"The user with the provided phone number already exists."};AuthClientErrorCode.PROJECT_NOT_FOUND={code:"project-not-found",message:"No Firebase project was found for the provided credential."};AuthClientErrorCode.INSUFFICIENT_PERMISSION={code:"insufficient-permission",message:'Credential implementation provided to initializeApp() via the "credential" property has insufficient permission to access the requested resource. See https://firebase.google.com/docs/admin/setup for details on how to authenticate this SDK with appropriate permissions.'};AuthClientErrorCode.QUOTA_EXCEEDED={code:"quota-exceeded",message:"The project quota for the specified operation has been exceeded."};AuthClientErrorCode.SECOND_FACTOR_LIMIT_EXCEEDED={code:"second-factor-limit-exceeded",message:"The maximum number of allowed second factors on a user has been exceeded."};AuthClientErrorCode.SECOND_FACTOR_UID_ALREADY_EXISTS={code:"second-factor-uid-already-exists",message:'The specified second factor "uid" already exists.'};AuthClientErrorCode.SESSION_COOKIE_EXPIRED={code:"session-cookie-expired",message:"The Firebase session cookie is expired."};AuthClientErrorCode.SESSION_COOKIE_REVOKED={code:"session-cookie-revoked",message:"The Firebase session cookie has been revoked."};AuthClientErrorCode.TENANT_NOT_FOUND={code:"tenant-not-found",message:"There is no tenant corresponding to the provided identifier."};AuthClientErrorCode.UID_ALREADY_EXISTS={code:"uid-already-exists",message:"The user with the provided uid already exists."};AuthClientErrorCode.UNAUTHORIZED_DOMAIN={code:"unauthorized-continue-uri",message:"The domain of the continue URL is not whitelisted. Whitelist the domain in the Firebase console."};AuthClientErrorCode.UNSUPPORTED_FIRST_FACTOR={code:"unsupported-first-factor",message:"A multi-factor user requires a supported first factor."};AuthClientErrorCode.UNSUPPORTED_SECOND_FACTOR={code:"unsupported-second-factor",message:"The request specified an unsupported type of second factor."};AuthClientErrorCode.UNSUPPORTED_TENANT_OPERATION={code:"unsupported-tenant-operation",message:"This operation is not supported in a multi-tenant context."};AuthClientErrorCode.UNVERIFIED_EMAIL={code:"unverified-email",message:"A verified email is required for the specified action. For example, a multi-factor user requires a verified email."};AuthClientErrorCode.USER_NOT_FOUND={code:"user-not-found",message:"There is no user record corresponding to the provided identifier."};AuthClientErrorCode.NOT_FOUND={code:"not-found",message:"The requested resource was not found."};AuthClientErrorCode.USER_DISABLED={code:"user-disabled",message:"The user record is disabled."};AuthClientErrorCode.USER_NOT_DISABLED={code:"user-not-disabled",message:"The user must be disabled in order to bulk delete it (or you must pass force=true)."};AuthClientErrorCode.INVALID_RECAPTCHA_ACTION={code:"invalid-recaptcha-action",message:'reCAPTCHA action must be "BLOCK".'};AuthClientErrorCode.INVALID_RECAPTCHA_ENFORCEMENT_STATE={code:"invalid-recaptcha-enforcement-state",message:'reCAPTCHA enforcement state must be either "OFF", "AUDIT" or "ENFORCE".'};AuthClientErrorCode.RECAPTCHA_NOT_ENABLED={code:"racaptcha-not-enabled",message:"reCAPTCHA enterprise is not enabled."};class MessagingClientErrorCode{}error.MessagingClientErrorCode=MessagingClientErrorCode;MessagingClientErrorCode.INVALID_ARGUMENT={code:"invalid-argument",message:"Invalid argument provided."};MessagingClientErrorCode.INVALID_RECIPIENT={code:"invalid-recipient",message:"Invalid message recipient provided."};MessagingClientErrorCode.INVALID_PAYLOAD={code:"invalid-payload",message:"Invalid message payload provided."};MessagingClientErrorCode.INVALID_DATA_PAYLOAD_KEY={code:"invalid-data-payload-key",message:"The data message payload contains an invalid key. See the reference documentation for the DataMessagePayload type for restricted keys."};MessagingClientErrorCode.PAYLOAD_SIZE_LIMIT_EXCEEDED={code:"payload-size-limit-exceeded",message:"The provided message payload exceeds the FCM size limits. See the error documentation for more details."};MessagingClientErrorCode.INVALID_OPTIONS={code:"invalid-options",message:"Invalid message options provided."};MessagingClientErrorCode.INVALID_REGISTRATION_TOKEN={code:"invalid-registration-token",message:"Invalid registration token provided. Make sure it matches the registration token the client app receives from registering with FCM."};MessagingClientErrorCode.REGISTRATION_TOKEN_NOT_REGISTERED={code:"registration-token-not-registered",message:"The provided registration token is not registered. A previously valid registration token can be unregistered for a variety of reasons. See the error documentation for more details. Remove this registration token and stop using it to send messages."};MessagingClientErrorCode.MISMATCHED_CREDENTIAL={code:"mismatched-credential",message:"The credential used to authenticate this SDK does not have permission to send messages to the device corresponding to the provided registration token. Make sure the credential and registration token both belong to the same Firebase project."};MessagingClientErrorCode.INVALID_PACKAGE_NAME={code:"invalid-package-name",message:'The message was addressed to a registration token whose package name does not match the provided "restrictedPackageName" option.'};MessagingClientErrorCode.DEVICE_MESSAGE_RATE_EXCEEDED={code:"device-message-rate-exceeded",message:"The rate of messages to a particular device is too high. Reduce the number of messages sent to this device and do not immediately retry sending to this device."};MessagingClientErrorCode.TOPICS_MESSAGE_RATE_EXCEEDED={code:"topics-message-rate-exceeded",message:"The rate of messages to subscribers to a particular topic is too high. Reduce the number of messages sent for this topic, and do not immediately retry sending to this topic."};MessagingClientErrorCode.MESSAGE_RATE_EXCEEDED={code:"message-rate-exceeded",message:"Sending limit exceeded for the message target."};MessagingClientErrorCode.THIRD_PARTY_AUTH_ERROR={code:"third-party-auth-error",message:"A message targeted to an iOS device could not be sent because the required APNs SSL certificate was not uploaded or has expired. Check the validity of your development and production certificates."};MessagingClientErrorCode.TOO_MANY_TOPICS={code:"too-many-topics",message:"The maximum number of topics the provided registration token can be subscribed to has been exceeded."};MessagingClientErrorCode.AUTHENTICATION_ERROR={code:"authentication-error",message:"An error occurred when trying to authenticate to the FCM servers. Make sure the credential used to authenticate this SDK has the proper permissions. See https://firebase.google.com/docs/admin/setup for setup instructions."};MessagingClientErrorCode.SERVER_UNAVAILABLE={code:"server-unavailable",message:"The FCM server could not process the request in time. See the error documentation for more details."};MessagingClientErrorCode.INTERNAL_ERROR={code:"internal-error",message:"An internal error has occurred. Please retry the request."};MessagingClientErrorCode.UNKNOWN_ERROR={code:"unknown-error",message:"An unknown server error was returned."};class InstallationsClientErrorCode{}error.InstallationsClientErrorCode=InstallationsClientErrorCode;InstallationsClientErrorCode.INVALID_ARGUMENT={code:"invalid-argument",message:"Invalid argument provided."};InstallationsClientErrorCode.INVALID_PROJECT_ID={code:"invalid-project-id",message:"Invalid project ID provided."};InstallationsClientErrorCode.INVALID_INSTALLATION_ID={code:"invalid-installation-id",message:"Invalid installation ID provided."};InstallationsClientErrorCode.API_ERROR={code:"api-error",message:"Installation ID API call failed."};class InstanceIdClientErrorCode extends InstallationsClientErrorCode{}error.InstanceIdClientErrorCode=InstanceIdClientErrorCode;InstanceIdClientErrorCode.INVALID_INSTANCE_ID={code:"invalid-instance-id",message:"Invalid instance ID provided."};const AUTH_SERVER_TO_CLIENT_CODE={BILLING_NOT_ENABLED:"BILLING_NOT_ENABLED",CLAIMS_TOO_LARGE:"CLAIMS_TOO_LARGE",CONFIGURATION_EXISTS:"CONFIGURATION_EXISTS",CONFIGURATION_NOT_FOUND:"CONFIGURATION_NOT_FOUND",INSUFFICIENT_PERMISSION:"INSUFFICIENT_PERMISSION",INVALID_CONFIG:"INVALID_CONFIG",INVALID_CONFIG_ID:"INVALID_PROVIDER_ID",INVALID_CONTINUE_URI:"INVALID_CONTINUE_URI",INVALID_DYNAMIC_LINK_DOMAIN:"INVALID_DYNAMIC_LINK_DOMAIN",INVALID_HOSTING_LINK_DOMAIN:"INVALID_HOSTING_LINK_DOMAIN",DUPLICATE_EMAIL:"EMAIL_ALREADY_EXISTS",DUPLICATE_LOCAL_ID:"UID_ALREADY_EXISTS",DUPLICATE_MFA_ENROLLMENT_ID:"SECOND_FACTOR_UID_ALREADY_EXISTS",EMAIL_EXISTS:"EMAIL_ALREADY_EXISTS",EMAIL_NOT_FOUND:"EMAIL_NOT_FOUND",FORBIDDEN_CLAIM:"FORBIDDEN_CLAIM",INVALID_CLAIMS:"INVALID_CLAIMS",INVALID_DURATION:"INVALID_SESSION_COOKIE_DURATION",INVALID_EMAIL:"INVALID_EMAIL",INVALID_NEW_EMAIL:"INVALID_NEW_EMAIL",INVALID_DISPLAY_NAME:"INVALID_DISPLAY_NAME",INVALID_ID_TOKEN:"INVALID_ID_TOKEN",INVALID_NAME:"INVALID_NAME",INVALID_OAUTH_CLIENT_ID:"INVALID_OAUTH_CLIENT_ID",INVALID_PAGE_SELECTION:"INVALID_PAGE_TOKEN",INVALID_PHONE_NUMBER:"INVALID_PHONE_NUMBER",INVALID_PROJECT_ID:"INVALID_PROJECT_ID",INVALID_PROVIDER_ID:"INVALID_PROVIDER_ID",INVALID_SERVICE_ACCOUNT:"INVALID_SERVICE_ACCOUNT",INVALID_TESTING_PHONE_NUMBER:"INVALID_TESTING_PHONE_NUMBER",INVALID_TENANT_TYPE:"INVALID_TENANT_TYPE",MISSING_ANDROID_PACKAGE_NAME:"MISSING_ANDROID_PACKAGE_NAME",MISSING_CONFIG:"MISSING_CONFIG",MISSING_CONFIG_ID:"MISSING_PROVIDER_ID",MISSING_DISPLAY_NAME:"MISSING_DISPLAY_NAME",MISSING_EMAIL:"MISSING_EMAIL",MISSING_IOS_BUNDLE_ID:"MISSING_IOS_BUNDLE_ID",MISSING_ISSUER:"MISSING_ISSUER",MISSING_LOCAL_ID:"MISSING_UID",MISSING_OAUTH_CLIENT_ID:"MISSING_OAUTH_CLIENT_ID",MISSING_PROVIDER_ID:"MISSING_PROVIDER_ID",MISSING_SAML_RELYING_PARTY_CONFIG:"MISSING_SAML_RELYING_PARTY_CONFIG",MISSING_USER_ACCOUNT:"MISSING_UID",OPERATION_NOT_ALLOWED:"OPERATION_NOT_ALLOWED",PERMISSION_DENIED:"INSUFFICIENT_PERMISSION",PHONE_NUMBER_EXISTS:"PHONE_NUMBER_ALREADY_EXISTS",PROJECT_NOT_FOUND:"PROJECT_NOT_FOUND",QUOTA_EXCEEDED:"QUOTA_EXCEEDED",SECOND_FACTOR_LIMIT_EXCEEDED:"SECOND_FACTOR_LIMIT_EXCEEDED",TENANT_NOT_FOUND:"TENANT_NOT_FOUND",TENANT_ID_MISMATCH:"MISMATCHING_TENANT_ID",TOKEN_EXPIRED:"ID_TOKEN_EXPIRED",UNAUTHORIZED_DOMAIN:"UNAUTHORIZED_DOMAIN",UNSUPPORTED_FIRST_FACTOR:"UNSUPPORTED_FIRST_FACTOR",UNSUPPORTED_SECOND_FACTOR:"UNSUPPORTED_SECOND_FACTOR",UNSUPPORTED_TENANT_OPERATION:"UNSUPPORTED_TENANT_OPERATION",UNVERIFIED_EMAIL:"UNVERIFIED_EMAIL",USER_NOT_FOUND:"USER_NOT_FOUND",USER_DISABLED:"USER_DISABLED",WEAK_PASSWORD:"INVALID_PASSWORD",INVALID_RECAPTCHA_ACTION:"INVALID_RECAPTCHA_ACTION",INVALID_RECAPTCHA_ENFORCEMENT_STATE:"INVALID_RECAPTCHA_ENFORCEMENT_STATE",RECAPTCHA_NOT_ENABLED:"RECAPTCHA_NOT_ENABLED"},MESSAGING_SERVER_TO_CLIENT_CODE={InvalidParameters:"INVALID_ARGUMENT",MismatchSenderId:"MISMATCHED_CREDENTIAL",Unavailable:"SERVER_UNAVAILABLE",InternalServerError:"INTERNAL_ERROR",InvalidRegistration:"INVALID_REGISTRATION_TOKEN",NotRegistered:"REGISTRATION_TOKEN_NOT_REGISTERED",InvalidPackageName:"INVALID_PACKAGE_NAME",MessageTooBig:"PAYLOAD_SIZE_LIMIT_EXCEEDED",InvalidDataKey:"INVALID_DATA_PAYLOAD_KEY",InvalidTtl:"INVALID_OPTIONS",DeviceMessageRateExceeded:"DEVICE_MESSAGE_RATE_EXCEEDED",TopicsMessageRateExceeded:"TOPICS_MESSAGE_RATE_EXCEEDED",InvalidApnsCredential:"THIRD_PARTY_AUTH_ERROR",NOT_FOUND:"REGISTRATION_TOKEN_NOT_REGISTERED",PERMISSION_DENIED:"MISMATCHED_CREDENTIAL",RESOURCE_EXHAUSTED:"MESSAGE_RATE_EXCEEDED",UNAUTHENTICATED:"THIRD_PARTY_AUTH_ERROR",APNS_AUTH_ERROR:"THIRD_PARTY_AUTH_ERROR",INTERNAL:"INTERNAL_ERROR",INVALID_ARGUMENT:"INVALID_ARGUMENT",QUOTA_EXCEEDED:"MESSAGE_RATE_EXCEEDED",SENDER_ID_MISMATCH:"MISMATCHED_CREDENTIAL",THIRD_PARTY_AUTH_ERROR:"THIRD_PARTY_AUTH_ERROR",UNAVAILABLE:"SERVER_UNAVAILABLE",UNREGISTERED:"REGISTRATION_TOKEN_NOT_REGISTERED",UNSPECIFIED_ERROR:"UNKNOWN_ERROR"},TOPIC_MGT_SERVER_TO_CLIENT_CODE={NOT_FOUND:"REGISTRATION_TOKEN_NOT_REGISTERED",INVALID_ARGUMENT:"INVALID_REGISTRATION_TOKEN",TOO_MANY_TOPICS:"TOO_MANY_TOPICS",RESOURCE_EXHAUSTED:"TOO_MANY_TOPICS",PERMISSION_DENIED:"AUTHENTICATION_ERROR",DEADLINE_EXCEEDED:"SERVER_UNAVAILABLE",INTERNAL:"INTERNAL_ERROR",UNKNOWN:"UNKNOWN_ERROR"};var validator$3={};/*! firebase-admin v13.2.0 *//*!
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(validator$3,"__esModule",{value:!0});validator$3.isBuffer=isBuffer;validator$3.isArray=isArray;validator$3.isNonEmptyArray=isNonEmptyArray;validator$3.isBoolean=isBoolean;validator$3.isNumber=isNumber;validator$3.isString=isString;validator$3.isBase64String=isBase64String;validator$3.isNonEmptyString=isNonEmptyString;validator$3.isObject=isObject$1;validator$3.isNonNullObject=isNonNullObject;validator$3.isUid=isUid;validator$3.isPassword=isPassword;validator$3.isEmail=isEmail;validator$3.isPhoneNumber=isPhoneNumber;validator$3.isISODateString=isISODateString;validator$3.isUTCDateString=isUTCDateString;validator$3.isURL=isURL;validator$3.isTopic=isTopic;validator$3.isTaskId=isTaskId;const url=require$$1$3;function isBuffer(o){return o instanceof Buffer}function isArray(o){return Array.isArray(o)}function isNonEmptyArray(o){return isArray(o)&&o.length!==0}function isBoolean(o){return typeof o=="boolean"}function isNumber(o){return typeof o=="number"&&!isNaN(o)}function isString(o){return typeof o=="string"}function isBase64String(o){return isString(o)?/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(o):!1}function isNonEmptyString(o){return isString(o)&&o!==""}function isObject$1(o){return typeof o=="object"&&!isArray(o)}function isNonNullObject(o){return isObject$1(o)&&o!==null}function isUid(o){return typeof o=="string"&&o.length>0&&o.length<=128}function isPassword(o){return typeof o=="string"&&o.length>=6}function isEmail(o){return typeof o!="string"?!1:/^[^@]+@[^@]+$/.test(o)}function isPhoneNumber(o){if(typeof o!="string")return!1;const e=/^\+/,r=/[\da-zA-Z]+/;return e.test(o)&&r.test(o)}function isISODateString(o){try{return isNonEmptyString(o)&&new Date(o).toISOString()===o}catch{return!1}}function isUTCDateString(o){try{return isNonEmptyString(o)&&new Date(o).toUTCString()===o}catch{return!1}}function isURL(o){if(typeof o!="string"||/[^a-z0-9:/?#[\]@!$&'()*+,;=.\-_~%]/i.test(o))return!1;try{const r=url.parse(o),u=r.protocol,p=r.slashes,h=r.hostname,y=r.pathname;if(u!=="http:"&&u!=="https:"||!p||!h||!/^[a-zA-Z0-9]+[\w-]*([.]?[a-zA-Z0-9]+[\w-]*)*$/.test(h)||y&&y!=="/"&&!/^(\/[\w\-.~!$'()*+,;=:@%]+)*\/?$/.test(y))return!1}catch{return!1}return!0}function isTopic(o){return typeof o!="string"?!1:/^(\/topics\/)?(private\/)?[a-zA-Z0-9-_.~%]+$/.test(o)}function isTaskId(o){return typeof o!="string"?!1:/^[A-Za-z0-9_-]+$/.test(o)}var forge,hasRequiredForge;function requireForge(){return hasRequiredForge||(hasRequiredForge=1,forge={options:{usePureJavaScript:!1}}),forge}var util$6={exports:{}},baseN,hasRequiredBaseN;function requireBaseN(){if(hasRequiredBaseN)return baseN;hasRequiredBaseN=1;var o={};baseN=o;var e={};o.encode=function(u,p,h){if(typeof p!="string")throw new TypeError('"alphabet" must be a string.');if(h!==void 0&&typeof h!="number")throw new TypeError('"maxline" must be a number.');var y="";if(!(u instanceof Uint8Array))y=r(u,p);else{var c=0,d=p.length,m=p.charAt(0),P=[0];for(c=0;c<u.length;++c){for(var N=0,L=u[c];N<P.length;++N)L+=P[N]<<8,P[N]=L%d,L=L/d|0;for(;L>0;)P.push(L%d),L=L/d|0}for(c=0;u[c]===0&&c<u.length-1;++c)y+=m;for(c=P.length-1;c>=0;--c)y+=p[P[c]]}if(h){var k=new RegExp(".{1,"+h+"}","g");y=y.match(k).join(`\r
`)}return y},o.decode=function(u,p){if(typeof u!="string")throw new TypeError('"input" must be a string.');if(typeof p!="string")throw new TypeError('"alphabet" must be a string.');var h=e[p];if(!h){h=e[p]=[];for(var y=0;y<p.length;++y)h[p.charCodeAt(y)]=y}u=u.replace(/\s/g,"");for(var c=p.length,d=p.charAt(0),m=[0],y=0;y<u.length;y++){var P=h[u.charCodeAt(y)];if(P===void 0)return;for(var N=0,L=P;N<m.length;++N)L+=m[N]*c,m[N]=L&255,L>>=8;for(;L>0;)m.push(L&255),L>>=8}for(var k=0;u[k]===d&&k<u.length-1;++k)m.push(0);return typeof Buffer<"u"?Buffer.from(m.reverse()):new Uint8Array(m.reverse())};function r(u,p){var h=0,y=p.length,c=p.charAt(0),d=[0];for(h=0;h<u.length();++h){for(var m=0,P=u.at(h);m<d.length;++m)P+=d[m]<<8,d[m]=P%y,P=P/y|0;for(;P>0;)d.push(P%y),P=P/y|0}var N="";for(h=0;u.at(h)===0&&h<u.length()-1;++h)N+=c;for(h=d.length-1;h>=0;--h)N+=p[d[h]];return N}return baseN}var hasRequiredUtil$3;function requireUtil$3(){if(hasRequiredUtil$3)return util$6.exports;hasRequiredUtil$3=1;var o=requireForge(),e=requireBaseN(),r=util$6.exports=o.util=o.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){r.nextTick=process.nextTick,typeof setImmediate=="function"?r.setImmediate=setImmediate:r.setImmediate=r.nextTick;return}if(typeof setImmediate=="function"){r.setImmediate=function(){return setImmediate.apply(void 0,arguments)},r.nextTick=function(F){return setImmediate(F)};return}if(r.setImmediate=function(F){setTimeout(F,0)},typeof window<"u"&&typeof window.postMessage=="function"){let F=function(x){if(x.source===window&&x.data===j){x.stopPropagation();var z=M.slice();M.length=0,z.forEach(function(J){J()})}};var j="forge.setImmediate",M=[];r.setImmediate=function(x){M.push(x),M.length===1&&window.postMessage(j,"*")},window.addEventListener("message",F,!0)}if(typeof MutationObserver<"u"){var q=Date.now(),Q=!0,K=document.createElement("div"),M=[];new MutationObserver(function(){var x=M.slice();M.length=0,x.forEach(function(z){z()})}).observe(K,{attributes:!0});var G=r.setImmediate;r.setImmediate=function(x){Date.now()-q>15?(q=Date.now(),G(x)):(M.push(x),M.length===1&&K.setAttribute("a",Q=!Q))}}r.nextTick=r.setImmediate})(),r.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,r.globalScope=function(){return r.isNodejs?commonjsGlobal$2:typeof self>"u"?window:self}(),r.isArray=Array.isArray||function(j){return Object.prototype.toString.call(j)==="[object Array]"},r.isArrayBuffer=function(j){return typeof ArrayBuffer<"u"&&j instanceof ArrayBuffer},r.isArrayBufferView=function(j){return j&&r.isArrayBuffer(j.buffer)&&j.byteLength!==void 0};function u(j){if(!(j===8||j===16||j===24||j===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+j)}r.ByteBuffer=p;function p(j){if(this.data="",this.read=0,typeof j=="string")this.data=j;else if(r.isArrayBuffer(j)||r.isArrayBufferView(j))if(typeof Buffer<"u"&&j instanceof Buffer)this.data=j.toString("binary");else{var M=new Uint8Array(j);try{this.data=String.fromCharCode.apply(null,M)}catch{for(var q=0;q<M.length;++q)this.putByte(M[q])}}else(j instanceof p||typeof j=="object"&&typeof j.data=="string"&&typeof j.read=="number")&&(this.data=j.data,this.read=j.read);this._constructedStringLength=0}r.ByteStringBuffer=p;var h=4096;r.ByteStringBuffer.prototype._optimizeConstructedString=function(j){this._constructedStringLength+=j,this._constructedStringLength>h&&(this.data.substr(0,1),this._constructedStringLength=0)},r.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},r.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},r.ByteStringBuffer.prototype.putByte=function(j){return this.putBytes(String.fromCharCode(j))},r.ByteStringBuffer.prototype.fillWithByte=function(j,M){j=String.fromCharCode(j);for(var q=this.data;M>0;)M&1&&(q+=j),M>>>=1,M>0&&(j+=j);return this.data=q,this._optimizeConstructedString(M),this},r.ByteStringBuffer.prototype.putBytes=function(j){return this.data+=j,this._optimizeConstructedString(j.length),this},r.ByteStringBuffer.prototype.putString=function(j){return this.putBytes(r.encodeUtf8(j))},r.ByteStringBuffer.prototype.putInt16=function(j){return this.putBytes(String.fromCharCode(j>>8&255)+String.fromCharCode(j&255))},r.ByteStringBuffer.prototype.putInt24=function(j){return this.putBytes(String.fromCharCode(j>>16&255)+String.fromCharCode(j>>8&255)+String.fromCharCode(j&255))},r.ByteStringBuffer.prototype.putInt32=function(j){return this.putBytes(String.fromCharCode(j>>24&255)+String.fromCharCode(j>>16&255)+String.fromCharCode(j>>8&255)+String.fromCharCode(j&255))},r.ByteStringBuffer.prototype.putInt16Le=function(j){return this.putBytes(String.fromCharCode(j&255)+String.fromCharCode(j>>8&255))},r.ByteStringBuffer.prototype.putInt24Le=function(j){return this.putBytes(String.fromCharCode(j&255)+String.fromCharCode(j>>8&255)+String.fromCharCode(j>>16&255))},r.ByteStringBuffer.prototype.putInt32Le=function(j){return this.putBytes(String.fromCharCode(j&255)+String.fromCharCode(j>>8&255)+String.fromCharCode(j>>16&255)+String.fromCharCode(j>>24&255))},r.ByteStringBuffer.prototype.putInt=function(j,M){u(M);var q="";do M-=8,q+=String.fromCharCode(j>>M&255);while(M>0);return this.putBytes(q)},r.ByteStringBuffer.prototype.putSignedInt=function(j,M){return j<0&&(j+=2<<M-1),this.putInt(j,M)},r.ByteStringBuffer.prototype.putBuffer=function(j){return this.putBytes(j.getBytes())},r.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},r.ByteStringBuffer.prototype.getInt16=function(){var j=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,j},r.ByteStringBuffer.prototype.getInt24=function(){var j=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,j},r.ByteStringBuffer.prototype.getInt32=function(){var j=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,j},r.ByteStringBuffer.prototype.getInt16Le=function(){var j=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,j},r.ByteStringBuffer.prototype.getInt24Le=function(){var j=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,j},r.ByteStringBuffer.prototype.getInt32Le=function(){var j=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,j},r.ByteStringBuffer.prototype.getInt=function(j){u(j);var M=0;do M=(M<<8)+this.data.charCodeAt(this.read++),j-=8;while(j>0);return M},r.ByteStringBuffer.prototype.getSignedInt=function(j){var M=this.getInt(j),q=2<<j-2;return M>=q&&(M-=q<<1),M},r.ByteStringBuffer.prototype.getBytes=function(j){var M;return j?(j=Math.min(this.length(),j),M=this.data.slice(this.read,this.read+j),this.read+=j):j===0?M="":(M=this.read===0?this.data:this.data.slice(this.read),this.clear()),M},r.ByteStringBuffer.prototype.bytes=function(j){return typeof j>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+j)},r.ByteStringBuffer.prototype.at=function(j){return this.data.charCodeAt(this.read+j)},r.ByteStringBuffer.prototype.setAt=function(j,M){return this.data=this.data.substr(0,this.read+j)+String.fromCharCode(M)+this.data.substr(this.read+j+1),this},r.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},r.ByteStringBuffer.prototype.copy=function(){var j=r.createBuffer(this.data);return j.read=this.read,j},r.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},r.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},r.ByteStringBuffer.prototype.truncate=function(j){var M=Math.max(0,this.length()-j);return this.data=this.data.substr(this.read,M),this.read=0,this},r.ByteStringBuffer.prototype.toHex=function(){for(var j="",M=this.read;M<this.data.length;++M){var q=this.data.charCodeAt(M);q<16&&(j+="0"),j+=q.toString(16)}return j},r.ByteStringBuffer.prototype.toString=function(){return r.decodeUtf8(this.bytes())};function y(j,M){M=M||{},this.read=M.readOffset||0,this.growSize=M.growSize||1024;var q=r.isArrayBuffer(j),Q=r.isArrayBufferView(j);if(q||Q){q?this.data=new DataView(j):this.data=new DataView(j.buffer,j.byteOffset,j.byteLength),this.write="writeOffset"in M?M.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,j!=null&&this.putBytes(j),"writeOffset"in M&&(this.write=M.writeOffset)}r.DataBuffer=y,r.DataBuffer.prototype.length=function(){return this.write-this.read},r.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},r.DataBuffer.prototype.accommodate=function(j,M){if(this.length()>=j)return this;M=Math.max(M||this.growSize,j);var q=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),Q=new Uint8Array(this.length()+M);return Q.set(q),this.data=new DataView(Q.buffer),this},r.DataBuffer.prototype.putByte=function(j){return this.accommodate(1),this.data.setUint8(this.write++,j),this},r.DataBuffer.prototype.fillWithByte=function(j,M){this.accommodate(M);for(var q=0;q<M;++q)this.data.setUint8(j);return this},r.DataBuffer.prototype.putBytes=function(j,M){if(r.isArrayBufferView(j)){var q=new Uint8Array(j.buffer,j.byteOffset,j.byteLength),Q=q.byteLength-q.byteOffset;this.accommodate(Q);var K=new Uint8Array(this.data.buffer,this.write);return K.set(q),this.write+=Q,this}if(r.isArrayBuffer(j)){var q=new Uint8Array(j);this.accommodate(q.byteLength);var K=new Uint8Array(this.data.buffer);return K.set(q,this.write),this.write+=q.byteLength,this}if(j instanceof r.DataBuffer||typeof j=="object"&&typeof j.read=="number"&&typeof j.write=="number"&&r.isArrayBufferView(j.data)){var q=new Uint8Array(j.data.byteLength,j.read,j.length());this.accommodate(q.byteLength);var K=new Uint8Array(j.data.byteLength,this.write);return K.set(q),this.write+=q.byteLength,this}if(j instanceof r.ByteStringBuffer&&(j=j.data,M="binary"),M=M||"binary",typeof j=="string"){var G;if(M==="hex")return this.accommodate(Math.ceil(j.length/2)),G=new Uint8Array(this.data.buffer,this.write),this.write+=r.binary.hex.decode(j,G,this.write),this;if(M==="base64")return this.accommodate(Math.ceil(j.length/4)*3),G=new Uint8Array(this.data.buffer,this.write),this.write+=r.binary.base64.decode(j,G,this.write),this;if(M==="utf8"&&(j=r.encodeUtf8(j),M="binary"),M==="binary"||M==="raw")return this.accommodate(j.length),G=new Uint8Array(this.data.buffer,this.write),this.write+=r.binary.raw.decode(G),this;if(M==="utf16")return this.accommodate(j.length*2),G=new Uint16Array(this.data.buffer,this.write),this.write+=r.text.utf16.encode(G),this;throw new Error("Invalid encoding: "+M)}throw Error("Invalid parameter: "+j)},r.DataBuffer.prototype.putBuffer=function(j){return this.putBytes(j),j.clear(),this},r.DataBuffer.prototype.putString=function(j){return this.putBytes(j,"utf16")},r.DataBuffer.prototype.putInt16=function(j){return this.accommodate(2),this.data.setInt16(this.write,j),this.write+=2,this},r.DataBuffer.prototype.putInt24=function(j){return this.accommodate(3),this.data.setInt16(this.write,j>>8&65535),this.data.setInt8(this.write,j>>16&255),this.write+=3,this},r.DataBuffer.prototype.putInt32=function(j){return this.accommodate(4),this.data.setInt32(this.write,j),this.write+=4,this},r.DataBuffer.prototype.putInt16Le=function(j){return this.accommodate(2),this.data.setInt16(this.write,j,!0),this.write+=2,this},r.DataBuffer.prototype.putInt24Le=function(j){return this.accommodate(3),this.data.setInt8(this.write,j>>16&255),this.data.setInt16(this.write,j>>8&65535,!0),this.write+=3,this},r.DataBuffer.prototype.putInt32Le=function(j){return this.accommodate(4),this.data.setInt32(this.write,j,!0),this.write+=4,this},r.DataBuffer.prototype.putInt=function(j,M){u(M),this.accommodate(M/8);do M-=8,this.data.setInt8(this.write++,j>>M&255);while(M>0);return this},r.DataBuffer.prototype.putSignedInt=function(j,M){return u(M),this.accommodate(M/8),j<0&&(j+=2<<M-1),this.putInt(j,M)},r.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},r.DataBuffer.prototype.getInt16=function(){var j=this.data.getInt16(this.read);return this.read+=2,j},r.DataBuffer.prototype.getInt24=function(){var j=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,j},r.DataBuffer.prototype.getInt32=function(){var j=this.data.getInt32(this.read);return this.read+=4,j},r.DataBuffer.prototype.getInt16Le=function(){var j=this.data.getInt16(this.read,!0);return this.read+=2,j},r.DataBuffer.prototype.getInt24Le=function(){var j=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,j},r.DataBuffer.prototype.getInt32Le=function(){var j=this.data.getInt32(this.read,!0);return this.read+=4,j},r.DataBuffer.prototype.getInt=function(j){u(j);var M=0;do M=(M<<8)+this.data.getInt8(this.read++),j-=8;while(j>0);return M},r.DataBuffer.prototype.getSignedInt=function(j){var M=this.getInt(j),q=2<<j-2;return M>=q&&(M-=q<<1),M},r.DataBuffer.prototype.getBytes=function(j){var M;return j?(j=Math.min(this.length(),j),M=this.data.slice(this.read,this.read+j),this.read+=j):j===0?M="":(M=this.read===0?this.data:this.data.slice(this.read),this.clear()),M},r.DataBuffer.prototype.bytes=function(j){return typeof j>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+j)},r.DataBuffer.prototype.at=function(j){return this.data.getUint8(this.read+j)},r.DataBuffer.prototype.setAt=function(j,M){return this.data.setUint8(j,M),this},r.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},r.DataBuffer.prototype.copy=function(){return new r.DataBuffer(this)},r.DataBuffer.prototype.compact=function(){if(this.read>0){var j=new Uint8Array(this.data.buffer,this.read),M=new Uint8Array(j.byteLength);M.set(j),this.data=new DataView(M),this.write-=this.read,this.read=0}return this},r.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},r.DataBuffer.prototype.truncate=function(j){return this.write=Math.max(0,this.length()-j),this.read=Math.min(this.read,this.write),this},r.DataBuffer.prototype.toHex=function(){for(var j="",M=this.read;M<this.data.byteLength;++M){var q=this.data.getUint8(M);q<16&&(j+="0"),j+=q.toString(16)}return j},r.DataBuffer.prototype.toString=function(j){var M=new Uint8Array(this.data,this.read,this.length());if(j=j||"utf8",j==="binary"||j==="raw")return r.binary.raw.encode(M);if(j==="hex")return r.binary.hex.encode(M);if(j==="base64")return r.binary.base64.encode(M);if(j==="utf8")return r.text.utf8.decode(M);if(j==="utf16")return r.text.utf16.decode(M);throw new Error("Invalid encoding: "+j)},r.createBuffer=function(j,M){return M=M||"raw",j!==void 0&&M==="utf8"&&(j=r.encodeUtf8(j)),new r.ByteBuffer(j)},r.fillString=function(j,M){for(var q="";M>0;)M&1&&(q+=j),M>>>=1,M>0&&(j+=j);return q},r.xorBytes=function(j,M,q){for(var Q="",K="",G="",F=0,x=0;q>0;--q,++F)K=j.charCodeAt(F)^M.charCodeAt(F),x>=10&&(Q+=G,G="",x=0),G+=String.fromCharCode(K),++x;return Q+=G,Q},r.hexToBytes=function(j){var M="",q=0;for(j.length&!0&&(q=1,M+=String.fromCharCode(parseInt(j[0],16)));q<j.length;q+=2)M+=String.fromCharCode(parseInt(j.substr(q,2),16));return M},r.bytesToHex=function(j){return r.createBuffer(j).toHex()},r.int32ToBytes=function(j){return String.fromCharCode(j>>24&255)+String.fromCharCode(j>>16&255)+String.fromCharCode(j>>8&255)+String.fromCharCode(j&255)};var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],m="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";r.encode64=function(j,M){for(var q="",Q="",K,G,F,x=0;x<j.length;)K=j.charCodeAt(x++),G=j.charCodeAt(x++),F=j.charCodeAt(x++),q+=c.charAt(K>>2),q+=c.charAt((K&3)<<4|G>>4),isNaN(G)?q+="==":(q+=c.charAt((G&15)<<2|F>>6),q+=isNaN(F)?"=":c.charAt(F&63)),M&&q.length>M&&(Q+=q.substr(0,M)+`\r
`,q=q.substr(M));return Q+=q,Q},r.decode64=function(j){j=j.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var M="",q,Q,K,G,F=0;F<j.length;)q=d[j.charCodeAt(F++)-43],Q=d[j.charCodeAt(F++)-43],K=d[j.charCodeAt(F++)-43],G=d[j.charCodeAt(F++)-43],M+=String.fromCharCode(q<<2|Q>>4),K!==64&&(M+=String.fromCharCode((Q&15)<<4|K>>2),G!==64&&(M+=String.fromCharCode((K&3)<<6|G)));return M},r.encodeUtf8=function(j){return unescape(encodeURIComponent(j))},r.decodeUtf8=function(j){return decodeURIComponent(escape(j))},r.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:e.encode,decode:e.decode}},r.binary.raw.encode=function(j){return String.fromCharCode.apply(null,j)},r.binary.raw.decode=function(j,M,q){var Q=M;Q||(Q=new Uint8Array(j.length)),q=q||0;for(var K=q,G=0;G<j.length;++G)Q[K++]=j.charCodeAt(G);return M?K-q:Q},r.binary.hex.encode=r.bytesToHex,r.binary.hex.decode=function(j,M,q){var Q=M;Q||(Q=new Uint8Array(Math.ceil(j.length/2))),q=q||0;var K=0,G=q;for(j.length&1&&(K=1,Q[G++]=parseInt(j[0],16));K<j.length;K+=2)Q[G++]=parseInt(j.substr(K,2),16);return M?G-q:Q},r.binary.base64.encode=function(j,M){for(var q="",Q="",K,G,F,x=0;x<j.byteLength;)K=j[x++],G=j[x++],F=j[x++],q+=c.charAt(K>>2),q+=c.charAt((K&3)<<4|G>>4),isNaN(G)?q+="==":(q+=c.charAt((G&15)<<2|F>>6),q+=isNaN(F)?"=":c.charAt(F&63)),M&&q.length>M&&(Q+=q.substr(0,M)+`\r
`,q=q.substr(M));return Q+=q,Q},r.binary.base64.decode=function(j,M,q){var Q=M;Q||(Q=new Uint8Array(Math.ceil(j.length/4)*3)),j=j.replace(/[^A-Za-z0-9\+\/\=]/g,""),q=q||0;for(var K,G,F,x,z=0,J=q;z<j.length;)K=d[j.charCodeAt(z++)-43],G=d[j.charCodeAt(z++)-43],F=d[j.charCodeAt(z++)-43],x=d[j.charCodeAt(z++)-43],Q[J++]=K<<2|G>>4,F!==64&&(Q[J++]=(G&15)<<4|F>>2,x!==64&&(Q[J++]=(F&3)<<6|x));return M?J-q:Q.subarray(0,J)},r.binary.base58.encode=function(j,M){return r.binary.baseN.encode(j,m,M)},r.binary.base58.decode=function(j,M){return r.binary.baseN.decode(j,m,M)},r.text={utf8:{},utf16:{}},r.text.utf8.encode=function(j,M,q){j=r.encodeUtf8(j);var Q=M;Q||(Q=new Uint8Array(j.length)),q=q||0;for(var K=q,G=0;G<j.length;++G)Q[K++]=j.charCodeAt(G);return M?K-q:Q},r.text.utf8.decode=function(j){return r.decodeUtf8(String.fromCharCode.apply(null,j))},r.text.utf16.encode=function(j,M,q){var Q=M;Q||(Q=new Uint8Array(j.length*2));var K=new Uint16Array(Q.buffer);q=q||0;for(var G=q,F=q,x=0;x<j.length;++x)K[F++]=j.charCodeAt(x),G+=2;return M?G-q:Q},r.text.utf16.decode=function(j){return String.fromCharCode.apply(null,new Uint16Array(j.buffer))},r.deflate=function(j,M,q){if(M=r.decode64(j.deflate(r.encode64(M)).rval),q){var Q=2,K=M.charCodeAt(1);K&32&&(Q=6),M=M.substring(Q,M.length-4)}return M},r.inflate=function(j,M,q){var Q=j.inflate(r.encode64(M)).rval;return Q===null?null:r.decode64(Q)};var P=function(j,M,q){if(!j)throw new Error("WebStorage not available.");var Q;if(q===null?Q=j.removeItem(M):(q=r.encode64(JSON.stringify(q)),Q=j.setItem(M,q)),typeof Q<"u"&&Q.rval!==!0){var K=new Error(Q.error.message);throw K.id=Q.error.id,K.name=Q.error.name,K}},N=function(j,M){if(!j)throw new Error("WebStorage not available.");var q=j.getItem(M);if(j.init)if(q.rval===null){if(q.error){var Q=new Error(q.error.message);throw Q.id=q.error.id,Q.name=q.error.name,Q}q=null}else q=q.rval;return q!==null&&(q=JSON.parse(r.decode64(q))),q},L=function(j,M,q,Q){var K=N(j,M);K===null&&(K={}),K[q]=Q,P(j,M,K)},k=function(j,M,q){var Q=N(j,M);return Q!==null&&(Q=q in Q?Q[q]:null),Q},B=function(j,M,q){var Q=N(j,M);if(Q!==null&&q in Q){delete Q[q];var K=!0;for(var G in Q){K=!1;break}K&&(Q=null),P(j,M,Q)}},U=function(j,M){P(j,M,null)},$=function(j,M,q){var Q=null;typeof q>"u"&&(q=["web","flash"]);var K,G=!1,F=null;for(var x in q){K=q[x];try{if(K==="flash"||K==="both"){if(M[0]===null)throw new Error("Flash local storage not available.");Q=j.apply(this,M),G=K==="flash"}(K==="web"||K==="both")&&(M[0]=localStorage,Q=j.apply(this,M),G=!0)}catch(z){F=z}if(G)break}if(!G)throw F;return Q};return r.setItem=function(j,M,q,Q,K){$(L,arguments,K)},r.getItem=function(j,M,q,Q){return $(k,arguments,Q)},r.removeItem=function(j,M,q,Q){$(B,arguments,Q)},r.clearItems=function(j,M,q){$(U,arguments,q)},r.isEmpty=function(j){for(var M in j)if(j.hasOwnProperty(M))return!1;return!0},r.format=function(j){for(var M=/%./g,q,Q,K=0,G=[],F=0;q=M.exec(j);){Q=j.substring(F,M.lastIndex-2),Q.length>0&&G.push(Q),F=M.lastIndex;var x=q[0][1];switch(x){case"s":case"o":K<arguments.length?G.push(arguments[K+++1]):G.push("<?>");break;case"%":G.push("%");break;default:G.push("<%"+x+"?>")}}return G.push(j.substring(F)),G.join("")},r.formatNumber=function(j,M,q,Q){var K=j,G=isNaN(M=Math.abs(M))?2:M,F=q===void 0?",":q,x=Q===void 0?".":Q,z=K<0?"-":"",J=parseInt(K=Math.abs(+K||0).toFixed(G),10)+"",Z=J.length>3?J.length%3:0;return z+(Z?J.substr(0,Z)+x:"")+J.substr(Z).replace(/(\d{3})(?=\d)/g,"$1"+x)+(G?F+Math.abs(K-J).toFixed(G).slice(2):"")},r.formatSize=function(j){return j>=1073741824?j=r.formatNumber(j/1073741824,2,".","")+" GiB":j>=1048576?j=r.formatNumber(j/1048576,2,".","")+" MiB":j>=1024?j=r.formatNumber(j/1024,0)+" KiB":j=r.formatNumber(j,0)+" bytes",j},r.bytesFromIP=function(j){return j.indexOf(".")!==-1?r.bytesFromIPv4(j):j.indexOf(":")!==-1?r.bytesFromIPv6(j):null},r.bytesFromIPv4=function(j){if(j=j.split("."),j.length!==4)return null;for(var M=r.createBuffer(),q=0;q<j.length;++q){var Q=parseInt(j[q],10);if(isNaN(Q))return null;M.putByte(Q)}return M.getBytes()},r.bytesFromIPv6=function(j){var M=0;j=j.split(":").filter(function(F){return F.length===0&&++M,!0});for(var q=(8-j.length+M)*2,Q=r.createBuffer(),K=0;K<8;++K){if(!j[K]||j[K].length===0){Q.fillWithByte(0,q),q=0;continue}var G=r.hexToBytes(j[K]);G.length<2&&Q.putByte(0),Q.putBytes(G)}return Q.getBytes()},r.bytesToIP=function(j){return j.length===4?r.bytesToIPv4(j):j.length===16?r.bytesToIPv6(j):null},r.bytesToIPv4=function(j){if(j.length!==4)return null;for(var M=[],q=0;q<j.length;++q)M.push(j.charCodeAt(q));return M.join(".")},r.bytesToIPv6=function(j){if(j.length!==16)return null;for(var M=[],q=[],Q=0,K=0;K<j.length;K+=2){for(var G=r.bytesToHex(j[K]+j[K+1]);G[0]==="0"&&G!=="0";)G=G.substr(1);if(G==="0"){var F=q[q.length-1],x=M.length;!F||x!==F.end+1?q.push({start:x,end:x}):(F.end=x,F.end-F.start>q[Q].end-q[Q].start&&(Q=q.length-1))}M.push(G)}if(q.length>0){var z=q[Q];z.end-z.start>0&&(M.splice(z.start,z.end-z.start+1,""),z.start===0&&M.unshift(""),z.end===7&&M.push(""))}return M.join(":")},r.estimateCores=function(j,M){if(typeof j=="function"&&(M=j,j={}),j=j||{},"cores"in r&&!j.update)return M(null,r.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return r.cores=navigator.hardwareConcurrency,M(null,r.cores);if(typeof Worker>"u")return r.cores=1,M(null,r.cores);if(typeof Blob>"u")return r.cores=2,M(null,r.cores);var q=URL.createObjectURL(new Blob(["(",(function(){self.addEventListener("message",function(F){var x=Date.now(),z=x+4;self.postMessage({st:x,et:z})})}).toString(),")()"],{type:"application/javascript"}));Q([],5,16);function Q(F,x,z){if(x===0){var J=Math.floor(F.reduce(function(Z,X){return Z+X},0)/F.length);return r.cores=Math.max(1,J),URL.revokeObjectURL(q),M(null,r.cores)}K(z,function(Z,X){F.push(G(z,X)),Q(F,x-1,z)})}function K(F,x){for(var z=[],J=[],Z=0;Z<F;++Z){var X=new Worker(q);X.addEventListener("message",function(te){if(J.push(te.data),J.length===F){for(var be=0;be<F;++be)z[be].terminate();x(null,J)}}),z.push(X)}for(var Z=0;Z<F;++Z)z[Z].postMessage(Z)}function G(F,x){for(var z=[],J=0;J<F;++J)for(var Z=x[J],X=z[J]=[],te=0;te<F;++te)if(J!==te){var be=x[te];(Z.st>be.st&&Z.st<be.et||be.st>Z.st&&be.st<Z.et)&&X.push(te)}return z.reduce(function(Ae,Ne){return Math.max(Ae,Ne.length)},0)}},util$6.exports}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var o=requireForge();requireUtil$3(),cipher=o.cipher=o.cipher||{},o.cipher.algorithms=o.cipher.algorithms||{},o.cipher.createCipher=function(r,u){var p=r;if(typeof p=="string"&&(p=o.cipher.getAlgorithm(p),p&&(p=p())),!p)throw new Error("Unsupported algorithm: "+r);return new o.cipher.BlockCipher({algorithm:p,key:u,decrypt:!1})},o.cipher.createDecipher=function(r,u){var p=r;if(typeof p=="string"&&(p=o.cipher.getAlgorithm(p),p&&(p=p())),!p)throw new Error("Unsupported algorithm: "+r);return new o.cipher.BlockCipher({algorithm:p,key:u,decrypt:!0})},o.cipher.registerAlgorithm=function(r,u){r=r.toUpperCase(),o.cipher.algorithms[r]=u},o.cipher.getAlgorithm=function(r){return r=r.toUpperCase(),r in o.cipher.algorithms?o.cipher.algorithms[r]:null};var e=o.cipher.BlockCipher=function(r){this.algorithm=r.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=r.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=r.decrypt,this.algorithm.initialize(r)};return e.prototype.start=function(r){r=r||{};var u={};for(var p in r)u[p]=r[p];u.decrypt=this._decrypt,this._finish=!1,this._input=o.util.createBuffer(),this.output=r.output||o.util.createBuffer(),this.mode.start(u)},e.prototype.update=function(r){for(r&&this._input.putBuffer(r);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},e.prototype.finish=function(r){r&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(p){return r(this.blockSize,p,!1)},this.mode.unpad=function(p){return r(this.blockSize,p,!0)});var u={};return u.decrypt=this._decrypt,u.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,u)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,u))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,u))},cipher}var cipherModes={exports:{}},hasRequiredCipherModes;function requireCipherModes(){if(hasRequiredCipherModes)return cipherModes.exports;hasRequiredCipherModes=1;var o=requireForge();requireUtil$3(),o.cipher=o.cipher||{};var e=cipherModes.exports=o.cipher.modes=o.cipher.modes||{};e.ecb=function(h){h=h||{},this.name="ECB",this.cipher=h.cipher,this.blockSize=h.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},e.ecb.prototype.start=function(h){},e.ecb.prototype.encrypt=function(h,y,c){if(h.length()<this.blockSize&&!(c&&h.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=h.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)y.putInt32(this._outBlock[d])},e.ecb.prototype.decrypt=function(h,y,c){if(h.length()<this.blockSize&&!(c&&h.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=h.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)y.putInt32(this._outBlock[d])},e.ecb.prototype.pad=function(h,y){var c=h.length()===this.blockSize?this.blockSize:this.blockSize-h.length();return h.fillWithByte(c,c),!0},e.ecb.prototype.unpad=function(h,y){if(y.overflow>0)return!1;var c=h.length(),d=h.at(c-1);return d>this.blockSize<<2?!1:(h.truncate(d),!0)},e.cbc=function(h){h=h||{},this.name="CBC",this.cipher=h.cipher,this.blockSize=h.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},e.cbc.prototype.start=function(h){if(h.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in h)this._iv=r(h.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")},e.cbc.prototype.encrypt=function(h,y,c){if(h.length()<this.blockSize&&!(c&&h.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=this._prev[d]^h.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)y.putInt32(this._outBlock[d]);this._prev=this._outBlock},e.cbc.prototype.decrypt=function(h,y,c){if(h.length()<this.blockSize&&!(c&&h.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=h.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)y.putInt32(this._prev[d]^this._outBlock[d]);this._prev=this._inBlock.slice(0)},e.cbc.prototype.pad=function(h,y){var c=h.length()===this.blockSize?this.blockSize:this.blockSize-h.length();return h.fillWithByte(c,c),!0},e.cbc.prototype.unpad=function(h,y){if(y.overflow>0)return!1;var c=h.length(),d=h.at(c-1);return d>this.blockSize<<2?!1:(h.truncate(d),!0)},e.cfb=function(h){h=h||{},this.name="CFB",this.cipher=h.cipher,this.blockSize=h.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=o.util.createBuffer(),this._partialBytes=0},e.cfb.prototype.start=function(h){if(!("iv"in h))throw new Error("Invalid IV parameter.");this._iv=r(h.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.cfb.prototype.encrypt=function(h,y,c){var d=h.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var m=0;m<this._ints;++m)this._inBlock[m]=h.getInt32()^this._outBlock[m],y.putInt32(this._inBlock[m]);return}var P=(this.blockSize-d)%this.blockSize;P>0&&(P=this.blockSize-P),this._partialOutput.clear();for(var m=0;m<this._ints;++m)this._partialBlock[m]=h.getInt32()^this._outBlock[m],this._partialOutput.putInt32(this._partialBlock[m]);if(P>0)h.read-=this.blockSize;else for(var m=0;m<this._ints;++m)this._inBlock[m]=this._partialBlock[m];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),P>0&&!c)return y.putBytes(this._partialOutput.getBytes(P-this._partialBytes)),this._partialBytes=P,!0;y.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0},e.cfb.prototype.decrypt=function(h,y,c){var d=h.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var m=0;m<this._ints;++m)this._inBlock[m]=h.getInt32(),y.putInt32(this._inBlock[m]^this._outBlock[m]);return}var P=(this.blockSize-d)%this.blockSize;P>0&&(P=this.blockSize-P),this._partialOutput.clear();for(var m=0;m<this._ints;++m)this._partialBlock[m]=h.getInt32(),this._partialOutput.putInt32(this._partialBlock[m]^this._outBlock[m]);if(P>0)h.read-=this.blockSize;else for(var m=0;m<this._ints;++m)this._inBlock[m]=this._partialBlock[m];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),P>0&&!c)return y.putBytes(this._partialOutput.getBytes(P-this._partialBytes)),this._partialBytes=P,!0;y.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0},e.ofb=function(h){h=h||{},this.name="OFB",this.cipher=h.cipher,this.blockSize=h.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=o.util.createBuffer(),this._partialBytes=0},e.ofb.prototype.start=function(h){if(!("iv"in h))throw new Error("Invalid IV parameter.");this._iv=r(h.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ofb.prototype.encrypt=function(h,y,c){var d=h.length();if(h.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var m=0;m<this._ints;++m)y.putInt32(h.getInt32()^this._outBlock[m]),this._inBlock[m]=this._outBlock[m];return}var P=(this.blockSize-d)%this.blockSize;P>0&&(P=this.blockSize-P),this._partialOutput.clear();for(var m=0;m<this._ints;++m)this._partialOutput.putInt32(h.getInt32()^this._outBlock[m]);if(P>0)h.read-=this.blockSize;else for(var m=0;m<this._ints;++m)this._inBlock[m]=this._outBlock[m];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),P>0&&!c)return y.putBytes(this._partialOutput.getBytes(P-this._partialBytes)),this._partialBytes=P,!0;y.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0},e.ofb.prototype.decrypt=e.ofb.prototype.encrypt,e.ctr=function(h){h=h||{},this.name="CTR",this.cipher=h.cipher,this.blockSize=h.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=o.util.createBuffer(),this._partialBytes=0},e.ctr.prototype.start=function(h){if(!("iv"in h))throw new Error("Invalid IV parameter.");this._iv=r(h.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ctr.prototype.encrypt=function(h,y,c){var d=h.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize)for(var m=0;m<this._ints;++m)y.putInt32(h.getInt32()^this._outBlock[m]);else{var P=(this.blockSize-d)%this.blockSize;P>0&&(P=this.blockSize-P),this._partialOutput.clear();for(var m=0;m<this._ints;++m)this._partialOutput.putInt32(h.getInt32()^this._outBlock[m]);if(P>0&&(h.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),P>0&&!c)return y.putBytes(this._partialOutput.getBytes(P-this._partialBytes)),this._partialBytes=P,!0;y.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0}u(this._inBlock)},e.ctr.prototype.decrypt=e.ctr.prototype.encrypt,e.gcm=function(h){h=h||{},this.name="GCM",this.cipher=h.cipher,this.blockSize=h.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=o.util.createBuffer(),this._partialBytes=0,this._R=3774873600},e.gcm.prototype.start=function(h){if(!("iv"in h))throw new Error("Invalid IV parameter.");var y=o.util.createBuffer(h.iv);this._cipherLength=0;var c;if("additionalData"in h?c=o.util.createBuffer(h.additionalData):c=o.util.createBuffer(),"tagLength"in h?this._tagLength=h.tagLength:this._tagLength=128,this._tag=null,h.decrypt&&(this._tag=o.util.createBuffer(h.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var d=y.length();if(d===12)this._j0=[y.getInt32(),y.getInt32(),y.getInt32(),1];else{for(this._j0=[0,0,0,0];y.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[y.getInt32(),y.getInt32(),y.getInt32(),y.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(p(d*8)))}this._inBlock=this._j0.slice(0),u(this._inBlock),this._partialBytes=0,c=o.util.createBuffer(c),this._aDataLength=p(c.length()*8);var m=c.length()%this.blockSize;for(m&&c.fillWithByte(0,this.blockSize-m),this._s=[0,0,0,0];c.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[c.getInt32(),c.getInt32(),c.getInt32(),c.getInt32()])},e.gcm.prototype.encrypt=function(h,y,c){var d=h.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var m=0;m<this._ints;++m)y.putInt32(this._outBlock[m]^=h.getInt32());this._cipherLength+=this.blockSize}else{var P=(this.blockSize-d)%this.blockSize;P>0&&(P=this.blockSize-P),this._partialOutput.clear();for(var m=0;m<this._ints;++m)this._partialOutput.putInt32(h.getInt32()^this._outBlock[m]);if(P<=0||c){if(c){var N=d%this.blockSize;this._cipherLength+=N,this._partialOutput.truncate(this.blockSize-N)}else this._cipherLength+=this.blockSize;for(var m=0;m<this._ints;++m)this._outBlock[m]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),P>0&&!c)return h.read-=this.blockSize,y.putBytes(this._partialOutput.getBytes(P-this._partialBytes)),this._partialBytes=P,!0;y.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),u(this._inBlock)},e.gcm.prototype.decrypt=function(h,y,c){var d=h.length();if(d<this.blockSize&&!(c&&d>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),u(this._inBlock),this._hashBlock[0]=h.getInt32(),this._hashBlock[1]=h.getInt32(),this._hashBlock[2]=h.getInt32(),this._hashBlock[3]=h.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var m=0;m<this._ints;++m)y.putInt32(this._outBlock[m]^this._hashBlock[m]);d<this.blockSize?this._cipherLength+=d%this.blockSize:this._cipherLength+=this.blockSize},e.gcm.prototype.afterFinish=function(h,y){var c=!0;y.decrypt&&y.overflow&&h.truncate(this.blockSize-y.overflow),this.tag=o.util.createBuffer();var d=this._aDataLength.concat(p(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,d);var m=[];this.cipher.encrypt(this._j0,m);for(var P=0;P<this._ints;++P)this.tag.putInt32(this._s[P]^m[P]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),y.decrypt&&this.tag.bytes()!==this._tag&&(c=!1),c},e.gcm.prototype.multiply=function(h,y){for(var c=[0,0,0,0],d=y.slice(0),m=0;m<128;++m){var P=h[m/32|0]&1<<31-m%32;P&&(c[0]^=d[0],c[1]^=d[1],c[2]^=d[2],c[3]^=d[3]),this.pow(d,d)}return c},e.gcm.prototype.pow=function(h,y){for(var c=h[3]&1,d=3;d>0;--d)y[d]=h[d]>>>1|(h[d-1]&1)<<31;y[0]=h[0]>>>1,c&&(y[0]^=this._R)},e.gcm.prototype.tableMultiply=function(h){for(var y=[0,0,0,0],c=0;c<32;++c){var d=c/8|0,m=h[d]>>>(7-c%8)*4&15,P=this._m[c][m];y[0]^=P[0],y[1]^=P[1],y[2]^=P[2],y[3]^=P[3]}return y},e.gcm.prototype.ghash=function(h,y,c){return y[0]^=c[0],y[1]^=c[1],y[2]^=c[2],y[3]^=c[3],this.tableMultiply(y)},e.gcm.prototype.generateHashTable=function(h,y){for(var c=8/y,d=4*c,m=16*c,P=new Array(m),N=0;N<m;++N){var L=[0,0,0,0],k=N/d|0,B=(d-1-N%d)*y;L[k]=1<<y-1<<B,P[N]=this.generateSubHashTable(this.multiply(L,h),y)}return P},e.gcm.prototype.generateSubHashTable=function(h,y){var c=1<<y,d=c>>>1,m=new Array(c);m[d]=h.slice(0);for(var P=d>>>1;P>0;)this.pow(m[2*P],m[P]=[]),P>>=1;for(P=2;P<d;){for(var N=1;N<P;++N){var L=m[P],k=m[N];m[P+N]=[L[0]^k[0],L[1]^k[1],L[2]^k[2],L[3]^k[3]]}P*=2}for(m[0]=[0,0,0,0],P=d+1;P<c;++P){var B=m[P^d];m[P]=[h[0]^B[0],h[1]^B[1],h[2]^B[2],h[3]^B[3]]}return m};function r(h,y){if(typeof h=="string"&&(h=o.util.createBuffer(h)),o.util.isArray(h)&&h.length>4){var c=h;h=o.util.createBuffer();for(var d=0;d<c.length;++d)h.putByte(c[d])}if(h.length()<y)throw new Error("Invalid IV length; got "+h.length()+" bytes and expected "+y+" bytes.");if(!o.util.isArray(h)){for(var m=[],P=y/4,d=0;d<P;++d)m.push(h.getInt32());h=m}return h}function u(h){h[h.length-1]=h[h.length-1]+1&4294967295}function p(h){return[h/4294967296|0,h&4294967295]}return cipherModes.exports}var aes,hasRequiredAes;function requireAes(){if(hasRequiredAes)return aes;hasRequiredAes=1;var o=requireForge();requireCipher(),requireCipherModes(),requireUtil$3(),aes=o.aes=o.aes||{},o.aes.startEncrypting=function(k,B,U,$){var j=L({key:k,output:U,decrypt:!1,mode:$});return j.start(B),j},o.aes.createEncryptionCipher=function(k,B){return L({key:k,output:null,decrypt:!1,mode:B})},o.aes.startDecrypting=function(k,B,U,$){var j=L({key:k,output:U,decrypt:!0,mode:$});return j.start(B),j},o.aes.createDecryptionCipher=function(k,B){return L({key:k,output:null,decrypt:!0,mode:B})},o.aes.Algorithm=function(k,B){r||m();var U=this;U.name=k,U.mode=new B({blockSize:16,cipher:{encrypt:function($,j){return N(U._w,$,j,!1)},decrypt:function($,j){return N(U._w,$,j,!0)}}}),U._init=!1},o.aes.Algorithm.prototype.initialize=function(k){if(!this._init){var B=k.key,U;if(typeof B=="string"&&(B.length===16||B.length===24||B.length===32))B=o.util.createBuffer(B);else if(o.util.isArray(B)&&(B.length===16||B.length===24||B.length===32)){U=B,B=o.util.createBuffer();for(var $=0;$<U.length;++$)B.putByte(U[$])}if(!o.util.isArray(B)){U=B,B=[];var j=U.length();if(j===16||j===24||j===32){j=j>>>2;for(var $=0;$<j;++$)B.push(U.getInt32())}}if(!o.util.isArray(B)||!(B.length===4||B.length===6||B.length===8))throw new Error("Invalid key parameter.");var M=this.mode.name,q=["CFB","OFB","CTR","GCM"].indexOf(M)!==-1;this._w=P(B,k.decrypt&&!q),this._init=!0}},o.aes._expandKey=function(k,B){return r||m(),P(k,B)},o.aes._updateBlock=N,e("AES-ECB",o.cipher.modes.ecb),e("AES-CBC",o.cipher.modes.cbc),e("AES-CFB",o.cipher.modes.cfb),e("AES-OFB",o.cipher.modes.ofb),e("AES-CTR",o.cipher.modes.ctr),e("AES-GCM",o.cipher.modes.gcm);function e(k,B){var U=function(){return new o.aes.Algorithm(k,B)};o.cipher.registerAlgorithm(k,U)}var r=!1,u=4,p,h,y,c,d;function m(){r=!0,y=[0,1,2,4,8,16,32,64,128,27,54];for(var k=new Array(256),B=0;B<128;++B)k[B]=B<<1,k[B+128]=B+128<<1^283;p=new Array(256),h=new Array(256),c=new Array(4),d=new Array(4);for(var B=0;B<4;++B)c[B]=new Array(256),d[B]=new Array(256);for(var U=0,$=0,j,M,q,Q,K,G,F,B=0;B<256;++B){Q=$^$<<1^$<<2^$<<3^$<<4,Q=Q>>8^Q&255^99,p[U]=Q,h[Q]=U,K=k[Q],j=k[U],M=k[j],q=k[M],G=K<<24^Q<<16^Q<<8^(Q^K),F=(j^M^q)<<24^(U^q)<<16^(U^M^q)<<8^(U^j^q);for(var x=0;x<4;++x)c[x][U]=G,d[x][Q]=F,G=G<<24|G>>>8,F=F<<24|F>>>8;U===0?U=$=1:(U=j^k[k[k[j^q]]],$^=k[k[$]])}}function P(k,B){for(var U=k.slice(0),$,j=1,M=U.length,q=M+6+1,Q=u*q,K=M;K<Q;++K)$=U[K-1],K%M===0?($=p[$>>>16&255]<<24^p[$>>>8&255]<<16^p[$&255]<<8^p[$>>>24]^y[j]<<24,j++):M>6&&K%M===4&&($=p[$>>>24]<<24^p[$>>>16&255]<<16^p[$>>>8&255]<<8^p[$&255]),U[K]=U[K-M]^$;if(B){var G,F=d[0],x=d[1],z=d[2],J=d[3],Z=U.slice(0);Q=U.length;for(var K=0,X=Q-u;K<Q;K+=u,X-=u)if(K===0||K===Q-u)Z[K]=U[X],Z[K+1]=U[X+3],Z[K+2]=U[X+2],Z[K+3]=U[X+1];else for(var te=0;te<u;++te)G=U[X+te],Z[K+(3&-te)]=F[p[G>>>24]]^x[p[G>>>16&255]]^z[p[G>>>8&255]]^J[p[G&255]];U=Z}return U}function N(k,B,U,$){var j=k.length/4-1,M,q,Q,K,G;$?(M=d[0],q=d[1],Q=d[2],K=d[3],G=h):(M=c[0],q=c[1],Q=c[2],K=c[3],G=p);var F,x,z,J,Z,X,te;F=B[0]^k[0],x=B[$?3:1]^k[1],z=B[2]^k[2],J=B[$?1:3]^k[3];for(var be=3,Ae=1;Ae<j;++Ae)Z=M[F>>>24]^q[x>>>16&255]^Q[z>>>8&255]^K[J&255]^k[++be],X=M[x>>>24]^q[z>>>16&255]^Q[J>>>8&255]^K[F&255]^k[++be],te=M[z>>>24]^q[J>>>16&255]^Q[F>>>8&255]^K[x&255]^k[++be],J=M[J>>>24]^q[F>>>16&255]^Q[x>>>8&255]^K[z&255]^k[++be],F=Z,x=X,z=te;U[0]=G[F>>>24]<<24^G[x>>>16&255]<<16^G[z>>>8&255]<<8^G[J&255]^k[++be],U[$?3:1]=G[x>>>24]<<24^G[z>>>16&255]<<16^G[J>>>8&255]<<8^G[F&255]^k[++be],U[2]=G[z>>>24]<<24^G[J>>>16&255]<<16^G[F>>>8&255]<<8^G[x&255]^k[++be],U[$?1:3]=G[J>>>24]<<24^G[F>>>16&255]<<16^G[x>>>8&255]<<8^G[z&255]^k[++be]}function L(k){k=k||{};var B=(k.mode||"CBC").toUpperCase(),U="AES-"+B,$;k.decrypt?$=o.cipher.createDecipher(U,k.key):$=o.cipher.createCipher(U,k.key);var j=$.start;return $.start=function(M,q){var Q=null;q instanceof o.util.ByteBuffer&&(Q=q,q={}),q=q||{},q.output=Q,q.iv=M,j.call($,q)},$}return aes}var aesCipherSuites={exports:{}},asn1={exports:{}},oids={exports:{}},hasRequiredOids;function requireOids(){if(hasRequiredOids)return oids.exports;hasRequiredOids=1;var o=requireForge();o.pki=o.pki||{};var e=oids.exports=o.pki.oids=o.oids=o.oids||{};function r(p,h){e[p]=h,e[h]=p}function u(p,h){e[p]=h}return r("1.2.840.113549.1.1.1","rsaEncryption"),r("1.2.840.113549.1.1.4","md5WithRSAEncryption"),r("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),r("1.2.840.113549.1.1.7","RSAES-OAEP"),r("1.2.840.113549.1.1.8","mgf1"),r("1.2.840.113549.1.1.9","pSpecified"),r("1.2.840.113549.1.1.10","RSASSA-PSS"),r("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),r("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),r("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),r("1.3.101.112","EdDSA25519"),r("1.2.840.10040.4.3","dsa-with-sha1"),r("1.3.14.3.2.7","desCBC"),r("1.3.14.3.2.26","sha1"),r("1.3.14.3.2.29","sha1WithRSASignature"),r("2.16.840.1.101.3.4.2.1","sha256"),r("2.16.840.1.101.3.4.2.2","sha384"),r("2.16.840.1.101.3.4.2.3","sha512"),r("2.16.840.1.101.3.4.2.4","sha224"),r("2.16.840.1.101.3.4.2.5","sha512-224"),r("2.16.840.1.101.3.4.2.6","sha512-256"),r("1.2.840.113549.2.2","md2"),r("1.2.840.113549.2.5","md5"),r("1.2.840.113549.1.7.1","data"),r("1.2.840.113549.1.7.2","signedData"),r("1.2.840.113549.1.7.3","envelopedData"),r("1.2.840.113549.1.7.4","signedAndEnvelopedData"),r("1.2.840.113549.1.7.5","digestedData"),r("1.2.840.113549.1.7.6","encryptedData"),r("1.2.840.113549.1.9.1","emailAddress"),r("1.2.840.113549.1.9.2","unstructuredName"),r("1.2.840.113549.1.9.3","contentType"),r("1.2.840.113549.1.9.4","messageDigest"),r("1.2.840.113549.1.9.5","signingTime"),r("1.2.840.113549.1.9.6","counterSignature"),r("1.2.840.113549.1.9.7","challengePassword"),r("1.2.840.113549.1.9.8","unstructuredAddress"),r("1.2.840.113549.1.9.14","extensionRequest"),r("1.2.840.113549.1.9.20","friendlyName"),r("1.2.840.113549.1.9.21","localKeyId"),r("1.2.840.113549.1.9.22.1","x509Certificate"),r("1.2.840.113549.1.12.10.1.1","keyBag"),r("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),r("1.2.840.113549.1.12.10.1.3","certBag"),r("1.2.840.113549.1.12.10.1.4","crlBag"),r("1.2.840.113549.1.12.10.1.5","secretBag"),r("1.2.840.113549.1.12.10.1.6","safeContentsBag"),r("1.2.840.113549.1.5.13","pkcs5PBES2"),r("1.2.840.113549.1.5.12","pkcs5PBKDF2"),r("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),r("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),r("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),r("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),r("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),r("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),r("1.2.840.113549.2.7","hmacWithSHA1"),r("1.2.840.113549.2.8","hmacWithSHA224"),r("1.2.840.113549.2.9","hmacWithSHA256"),r("1.2.840.113549.2.10","hmacWithSHA384"),r("1.2.840.113549.2.11","hmacWithSHA512"),r("1.2.840.113549.3.7","des-EDE3-CBC"),r("2.16.840.1.101.3.4.1.2","aes128-CBC"),r("2.16.840.1.101.3.4.1.22","aes192-CBC"),r("2.16.840.1.101.3.4.1.42","aes256-CBC"),r("2.5.4.3","commonName"),r("2.5.4.4","surname"),r("2.5.4.5","serialNumber"),r("2.5.4.6","countryName"),r("2.5.4.7","localityName"),r("2.5.4.8","stateOrProvinceName"),r("2.5.4.9","streetAddress"),r("2.5.4.10","organizationName"),r("2.5.4.11","organizationalUnitName"),r("2.5.4.12","title"),r("2.5.4.13","description"),r("2.5.4.15","businessCategory"),r("2.5.4.17","postalCode"),r("2.5.4.42","givenName"),r("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),r("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),r("2.16.840.1.113730.1.1","nsCertType"),r("2.16.840.1.113730.1.13","nsComment"),u("2.5.29.1","authorityKeyIdentifier"),u("2.5.29.2","keyAttributes"),u("2.5.29.3","certificatePolicies"),u("2.5.29.4","keyUsageRestriction"),u("2.5.29.5","policyMapping"),u("2.5.29.6","subtreesConstraint"),u("2.5.29.7","subjectAltName"),u("2.5.29.8","issuerAltName"),u("2.5.29.9","subjectDirectoryAttributes"),u("2.5.29.10","basicConstraints"),u("2.5.29.11","nameConstraints"),u("2.5.29.12","policyConstraints"),u("2.5.29.13","basicConstraints"),r("2.5.29.14","subjectKeyIdentifier"),r("2.5.29.15","keyUsage"),u("2.5.29.16","privateKeyUsagePeriod"),r("2.5.29.17","subjectAltName"),r("2.5.29.18","issuerAltName"),r("2.5.29.19","basicConstraints"),u("2.5.29.20","cRLNumber"),u("2.5.29.21","cRLReason"),u("2.5.29.22","expirationDate"),u("2.5.29.23","instructionCode"),u("2.5.29.24","invalidityDate"),u("2.5.29.25","cRLDistributionPoints"),u("2.5.29.26","issuingDistributionPoint"),u("2.5.29.27","deltaCRLIndicator"),u("2.5.29.28","issuingDistributionPoint"),u("2.5.29.29","certificateIssuer"),u("2.5.29.30","nameConstraints"),r("2.5.29.31","cRLDistributionPoints"),r("2.5.29.32","certificatePolicies"),u("2.5.29.33","policyMappings"),u("2.5.29.34","policyConstraints"),r("2.5.29.35","authorityKeyIdentifier"),u("2.5.29.36","policyConstraints"),r("2.5.29.37","extKeyUsage"),u("2.5.29.46","freshestCRL"),u("2.5.29.54","inhibitAnyPolicy"),r("1.3.6.1.4.1.11129.2.4.2","timestampList"),r("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),r("1.3.6.1.5.5.7.3.1","serverAuth"),r("1.3.6.1.5.5.7.3.2","clientAuth"),r("1.3.6.1.5.5.7.3.3","codeSigning"),r("1.3.6.1.5.5.7.3.4","emailProtection"),r("1.3.6.1.5.5.7.3.8","timeStamping"),oids.exports}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1.exports;hasRequiredAsn1=1;var o=requireForge();requireUtil$3(),requireOids();var e=asn1.exports=o.asn1=o.asn1||{};e.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},e.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},e.create=function(y,c,d,m,P){if(o.util.isArray(m)){for(var N=[],L=0;L<m.length;++L)m[L]!==void 0&&N.push(m[L]);m=N}var k={tagClass:y,type:c,constructed:d,composed:d||o.util.isArray(m),value:m};return P&&"bitStringContents"in P&&(k.bitStringContents=P.bitStringContents,k.original=e.copy(k)),k},e.copy=function(y,c){var d;if(o.util.isArray(y)){d=[];for(var m=0;m<y.length;++m)d.push(e.copy(y[m],c));return d}return typeof y=="string"?y:(d={tagClass:y.tagClass,type:y.type,constructed:y.constructed,composed:y.composed,value:e.copy(y.value,c)},c&&!c.excludeBitStringContents&&(d.bitStringContents=y.bitStringContents),d)},e.equals=function(y,c,d){if(o.util.isArray(y)){if(!o.util.isArray(c)||y.length!==c.length)return!1;for(var m=0;m<y.length;++m)if(!e.equals(y[m],c[m]))return!1;return!0}if(typeof y!=typeof c)return!1;if(typeof y=="string")return y===c;var P=y.tagClass===c.tagClass&&y.type===c.type&&y.constructed===c.constructed&&y.composed===c.composed&&e.equals(y.value,c.value);return d&&d.includeBitStringContents&&(P=P&&y.bitStringContents===c.bitStringContents),P},e.getBerValueLength=function(y){var c=y.getByte();if(c!==128){var d,m=c&128;return m?d=y.getInt((c&127)<<3):d=c,d}};function r(y,c,d){if(d>c){var m=new Error("Too few bytes to parse DER.");throw m.available=y.length(),m.remaining=c,m.requested=d,m}}var u=function(y,c){var d=y.getByte();if(c--,d!==128){var m,P=d&128;if(!P)m=d;else{var N=d&127;r(y,c,N),m=y.getInt(N<<3)}if(m<0)throw new Error("Negative length: "+m);return m}};e.fromDer=function(y,c){c===void 0&&(c={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof c=="boolean"&&(c={strict:c,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in c||(c.strict=!0),"parseAllBytes"in c||(c.parseAllBytes=!0),"decodeBitStrings"in c||(c.decodeBitStrings=!0),typeof y=="string"&&(y=o.util.createBuffer(y));var d=y.length(),m=p(y,y.length(),0,c);if(c.parseAllBytes&&y.length()!==0){var P=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw P.byteCount=d,P.remaining=y.length(),P}return m};function p(y,c,d,m){var P;r(y,c,2);var N=y.getByte();c--;var L=N&192,k=N&31;P=y.length();var B=u(y,c);if(c-=P-y.length(),B!==void 0&&B>c){if(m.strict){var U=new Error("Too few bytes to read ASN.1 value.");throw U.available=y.length(),U.remaining=c,U.requested=B,U}B=c}var $,j,M=(N&32)===32;if(M)if($=[],B===void 0)for(;;){if(r(y,c,2),y.bytes(2)==="\0\0"){y.getBytes(2),c-=2;break}P=y.length(),$.push(p(y,c,d+1,m)),c-=P-y.length()}else for(;B>0;)P=y.length(),$.push(p(y,B,d+1,m)),c-=P-y.length(),B-=P-y.length();if($===void 0&&L===e.Class.UNIVERSAL&&k===e.Type.BITSTRING&&(j=y.bytes(B)),$===void 0&&m.decodeBitStrings&&L===e.Class.UNIVERSAL&&k===e.Type.BITSTRING&&B>1){var q=y.read,Q=c,K=0;if(k===e.Type.BITSTRING&&(r(y,c,1),K=y.getByte(),c--),K===0)try{P=y.length();var G={strict:!0,decodeBitStrings:!0},F=p(y,c,d+1,G),x=P-y.length();c-=x,k==e.Type.BITSTRING&&x++;var z=F.tagClass;x===B&&(z===e.Class.UNIVERSAL||z===e.Class.CONTEXT_SPECIFIC)&&($=[F])}catch{}$===void 0&&(y.read=q,c=Q)}if($===void 0){if(B===void 0){if(m.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");B=c}if(k===e.Type.BMPSTRING)for($="";B>0;B-=2)r(y,c,2),$+=String.fromCharCode(y.getInt16()),c-=2;else $=y.getBytes(B),c-=B}var J=j===void 0?null:{bitStringContents:j};return e.create(L,k,M,$,J)}e.toDer=function(y){var c=o.util.createBuffer(),d=y.tagClass|y.type,m=o.util.createBuffer(),P=!1;if("bitStringContents"in y&&(P=!0,y.original&&(P=e.equals(y,y.original))),P)m.putBytes(y.bitStringContents);else if(y.composed){y.constructed?d|=32:m.putByte(0);for(var N=0;N<y.value.length;++N)y.value[N]!==void 0&&m.putBuffer(e.toDer(y.value[N]))}else if(y.type===e.Type.BMPSTRING)for(var N=0;N<y.value.length;++N)m.putInt16(y.value.charCodeAt(N));else y.type===e.Type.INTEGER&&y.value.length>1&&(y.value.charCodeAt(0)===0&&!(y.value.charCodeAt(1)&128)||y.value.charCodeAt(0)===255&&(y.value.charCodeAt(1)&128)===128)?m.putBytes(y.value.substr(1)):m.putBytes(y.value);if(c.putByte(d),m.length()<=127)c.putByte(m.length()&127);else{var L=m.length(),k="";do k+=String.fromCharCode(L&255),L=L>>>8;while(L>0);c.putByte(k.length|128);for(var N=k.length-1;N>=0;--N)c.putByte(k.charCodeAt(N))}return c.putBuffer(m),c},e.oidToDer=function(y){var c=y.split("."),d=o.util.createBuffer();d.putByte(40*parseInt(c[0],10)+parseInt(c[1],10));for(var m,P,N,L,k=2;k<c.length;++k){m=!0,P=[],N=parseInt(c[k],10);do L=N&127,N=N>>>7,m||(L|=128),P.push(L),m=!1;while(N>0);for(var B=P.length-1;B>=0;--B)d.putByte(P[B])}return d},e.derToOid=function(y){var c;typeof y=="string"&&(y=o.util.createBuffer(y));var d=y.getByte();c=Math.floor(d/40)+"."+d%40;for(var m=0;y.length()>0;)d=y.getByte(),m=m<<7,d&128?m+=d&127:(c+="."+(m+d),m=0);return c},e.utcTimeToDate=function(y){var c=new Date,d=parseInt(y.substr(0,2),10);d=d>=50?1900+d:2e3+d;var m=parseInt(y.substr(2,2),10)-1,P=parseInt(y.substr(4,2),10),N=parseInt(y.substr(6,2),10),L=parseInt(y.substr(8,2),10),k=0;if(y.length>11){var B=y.charAt(10),U=10;B!=="+"&&B!=="-"&&(k=parseInt(y.substr(10,2),10),U+=2)}if(c.setUTCFullYear(d,m,P),c.setUTCHours(N,L,k,0),U&&(B=y.charAt(U),B==="+"||B==="-")){var $=parseInt(y.substr(U+1,2),10),j=parseInt(y.substr(U+4,2),10),M=$*60+j;M*=6e4,B==="+"?c.setTime(+c-M):c.setTime(+c+M)}return c},e.generalizedTimeToDate=function(y){var c=new Date,d=parseInt(y.substr(0,4),10),m=parseInt(y.substr(4,2),10)-1,P=parseInt(y.substr(6,2),10),N=parseInt(y.substr(8,2),10),L=parseInt(y.substr(10,2),10),k=parseInt(y.substr(12,2),10),B=0,U=0,$=!1;y.charAt(y.length-1)==="Z"&&($=!0);var j=y.length-5,M=y.charAt(j);if(M==="+"||M==="-"){var q=parseInt(y.substr(j+1,2),10),Q=parseInt(y.substr(j+4,2),10);U=q*60+Q,U*=6e4,M==="+"&&(U*=-1),$=!0}return y.charAt(14)==="."&&(B=parseFloat(y.substr(14),10)*1e3),$?(c.setUTCFullYear(d,m,P),c.setUTCHours(N,L,k,B),c.setTime(+c+U)):(c.setFullYear(d,m,P),c.setHours(N,L,k,B)),c},e.dateToUtcTime=function(y){if(typeof y=="string")return y;var c="",d=[];d.push((""+y.getUTCFullYear()).substr(2)),d.push(""+(y.getUTCMonth()+1)),d.push(""+y.getUTCDate()),d.push(""+y.getUTCHours()),d.push(""+y.getUTCMinutes()),d.push(""+y.getUTCSeconds());for(var m=0;m<d.length;++m)d[m].length<2&&(c+="0"),c+=d[m];return c+="Z",c},e.dateToGeneralizedTime=function(y){if(typeof y=="string")return y;var c="",d=[];d.push(""+y.getUTCFullYear()),d.push(""+(y.getUTCMonth()+1)),d.push(""+y.getUTCDate()),d.push(""+y.getUTCHours()),d.push(""+y.getUTCMinutes()),d.push(""+y.getUTCSeconds());for(var m=0;m<d.length;++m)d[m].length<2&&(c+="0"),c+=d[m];return c+="Z",c},e.integerToDer=function(y){var c=o.util.createBuffer();if(y>=-128&&y<128)return c.putSignedInt(y,8);if(y>=-32768&&y<32768)return c.putSignedInt(y,16);if(y>=-8388608&&y<8388608)return c.putSignedInt(y,24);if(y>=-2147483648&&y<2147483648)return c.putSignedInt(y,32);var d=new Error("Integer too large; max is 32-bits.");throw d.integer=y,d},e.derToInteger=function(y){typeof y=="string"&&(y=o.util.createBuffer(y));var c=y.length()*8;if(c>32)throw new Error("Integer too large; max is 32-bits.");return y.getSignedInt(c)},e.validate=function(y,c,d,m){var P=!1;if((y.tagClass===c.tagClass||typeof c.tagClass>"u")&&(y.type===c.type||typeof c.type>"u"))if(y.constructed===c.constructed||typeof c.constructed>"u"){if(P=!0,c.value&&o.util.isArray(c.value))for(var N=0,L=0;P&&L<c.value.length;++L)P=c.value[L].optional||!1,y.value[N]&&(P=e.validate(y.value[N],c.value[L],d,m),P?++N:c.value[L].optional&&(P=!0)),!P&&m&&m.push("["+c.name+'] Tag class "'+c.tagClass+'", type "'+c.type+'" expected value length "'+c.value.length+'", got "'+y.value.length+'"');if(P&&d&&(c.capture&&(d[c.capture]=y.value),c.captureAsn1&&(d[c.captureAsn1]=y),c.captureBitStringContents&&"bitStringContents"in y&&(d[c.captureBitStringContents]=y.bitStringContents),c.captureBitStringValue&&"bitStringContents"in y))if(y.bitStringContents.length<2)d[c.captureBitStringValue]="";else{var k=y.bitStringContents.charCodeAt(0);if(k!==0)throw new Error("captureBitStringValue only supported for zero unused bits");d[c.captureBitStringValue]=y.bitStringContents.slice(1)}}else m&&m.push("["+c.name+'] Expected constructed "'+c.constructed+'", got "'+y.constructed+'"');else m&&(y.tagClass!==c.tagClass&&m.push("["+c.name+'] Expected tag class "'+c.tagClass+'", got "'+y.tagClass+'"'),y.type!==c.type&&m.push("["+c.name+'] Expected type "'+c.type+'", got "'+y.type+'"'));return P};var h=/[^\\u0000-\\u00ff]/;return e.prettyPrint=function(y,c,d){var m="";c=c||0,d=d||2,c>0&&(m+=`
`);for(var P="",N=0;N<c*d;++N)P+=" ";switch(m+=P+"Tag: ",y.tagClass){case e.Class.UNIVERSAL:m+="Universal:";break;case e.Class.APPLICATION:m+="Application:";break;case e.Class.CONTEXT_SPECIFIC:m+="Context-Specific:";break;case e.Class.PRIVATE:m+="Private:";break}if(y.tagClass===e.Class.UNIVERSAL)switch(m+=y.type,y.type){case e.Type.NONE:m+=" (None)";break;case e.Type.BOOLEAN:m+=" (Boolean)";break;case e.Type.INTEGER:m+=" (Integer)";break;case e.Type.BITSTRING:m+=" (Bit string)";break;case e.Type.OCTETSTRING:m+=" (Octet string)";break;case e.Type.NULL:m+=" (Null)";break;case e.Type.OID:m+=" (Object Identifier)";break;case e.Type.ODESC:m+=" (Object Descriptor)";break;case e.Type.EXTERNAL:m+=" (External or Instance of)";break;case e.Type.REAL:m+=" (Real)";break;case e.Type.ENUMERATED:m+=" (Enumerated)";break;case e.Type.EMBEDDED:m+=" (Embedded PDV)";break;case e.Type.UTF8:m+=" (UTF8)";break;case e.Type.ROID:m+=" (Relative Object Identifier)";break;case e.Type.SEQUENCE:m+=" (Sequence)";break;case e.Type.SET:m+=" (Set)";break;case e.Type.PRINTABLESTRING:m+=" (Printable String)";break;case e.Type.IA5String:m+=" (IA5String (ASCII))";break;case e.Type.UTCTIME:m+=" (UTC time)";break;case e.Type.GENERALIZEDTIME:m+=" (Generalized time)";break;case e.Type.BMPSTRING:m+=" (BMP String)";break}else m+=y.type;if(m+=`
`,m+=P+"Constructed: "+y.constructed+`
`,y.composed){for(var L=0,k="",N=0;N<y.value.length;++N)y.value[N]!==void 0&&(L+=1,k+=e.prettyPrint(y.value[N],c+1,d),N+1<y.value.length&&(k+=","));m+=P+"Sub values: "+L+k}else{if(m+=P+"Value: ",y.type===e.Type.OID){var B=e.derToOid(y.value);m+=B,o.pki&&o.pki.oids&&B in o.pki.oids&&(m+=" ("+o.pki.oids[B]+") ")}if(y.type===e.Type.INTEGER)try{m+=e.derToInteger(y.value)}catch{m+="0x"+o.util.bytesToHex(y.value)}else if(y.type===e.Type.BITSTRING){if(y.value.length>1?m+="0x"+o.util.bytesToHex(y.value.slice(1)):m+="(none)",y.value.length>0){var U=y.value.charCodeAt(0);U==1?m+=" (1 unused bit shown)":U>1&&(m+=" ("+U+" unused bits shown)")}}else if(y.type===e.Type.OCTETSTRING)h.test(y.value)||(m+="("+y.value+") "),m+="0x"+o.util.bytesToHex(y.value);else if(y.type===e.Type.UTF8)try{m+=o.util.decodeUtf8(y.value)}catch($){if($.message==="URI malformed")m+="0x"+o.util.bytesToHex(y.value)+" (malformed UTF8)";else throw $}else y.type===e.Type.PRINTABLESTRING||y.type===e.Type.IA5String?m+=y.value:h.test(y.value)?m+="0x"+o.util.bytesToHex(y.value):y.value.length===0?m+="[null]":m+=y.value}return m},asn1.exports}var hmac={exports:{}},md,hasRequiredMd;function requireMd(){if(hasRequiredMd)return md;hasRequiredMd=1;var o=requireForge();return md=o.md=o.md||{},o.md.algorithms=o.md.algorithms||{},md}var hasRequiredHmac;function requireHmac(){if(hasRequiredHmac)return hmac.exports;hasRequiredHmac=1;var o=requireForge();requireMd(),requireUtil$3();var e=hmac.exports=o.hmac=o.hmac||{};return e.create=function(){var r=null,u=null,p=null,h=null,y={};return y.start=function(c,d){if(c!==null)if(typeof c=="string")if(c=c.toLowerCase(),c in o.md.algorithms)u=o.md.algorithms[c].create();else throw new Error('Unknown hash algorithm "'+c+'"');else u=c;if(d===null)d=r;else{if(typeof d=="string")d=o.util.createBuffer(d);else if(o.util.isArray(d)){var m=d;d=o.util.createBuffer();for(var P=0;P<m.length;++P)d.putByte(m[P])}var N=d.length();N>u.blockLength&&(u.start(),u.update(d.bytes()),d=u.digest()),p=o.util.createBuffer(),h=o.util.createBuffer(),N=d.length();for(var P=0;P<N;++P){var m=d.at(P);p.putByte(54^m),h.putByte(92^m)}if(N<u.blockLength)for(var m=u.blockLength-N,P=0;P<m;++P)p.putByte(54),h.putByte(92);r=d,p=p.bytes(),h=h.bytes()}u.start(),u.update(p)},y.update=function(c){u.update(c)},y.getMac=function(){var c=u.digest().bytes();return u.start(),u.update(h),u.update(c),u.digest()},y.digest=y.getMac,y},hmac.exports}var md5$1={exports:{}},hasRequiredMd5$1;function requireMd5$1(){if(hasRequiredMd5$1)return md5$1.exports;hasRequiredMd5$1=1;var o=requireForge();requireMd(),requireUtil$3();var e=md5$1.exports=o.md5=o.md5||{};o.md.md5=o.md.algorithms.md5=e,e.create=function(){y||c();var m=null,P=o.util.createBuffer(),N=new Array(16),L={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return L.start=function(){L.messageLength=0,L.fullMessageLength=L.messageLength64=[];for(var k=L.messageLengthSize/4,B=0;B<k;++B)L.fullMessageLength.push(0);return P=o.util.createBuffer(),m={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},L},L.start(),L.update=function(k,B){B==="utf8"&&(k=o.util.encodeUtf8(k));var U=k.length;L.messageLength+=U,U=[U/4294967296>>>0,U>>>0];for(var $=L.fullMessageLength.length-1;$>=0;--$)L.fullMessageLength[$]+=U[1],U[1]=U[0]+(L.fullMessageLength[$]/4294967296>>>0),L.fullMessageLength[$]=L.fullMessageLength[$]>>>0,U[0]=U[1]/4294967296>>>0;return P.putBytes(k),d(m,N,P),(P.read>2048||P.length()===0)&&P.compact(),L},L.digest=function(){var k=o.util.createBuffer();k.putBytes(P.bytes());var B=L.fullMessageLength[L.fullMessageLength.length-1]+L.messageLengthSize,U=B&L.blockLength-1;k.putBytes(r.substr(0,L.blockLength-U));for(var $,j=0,M=L.fullMessageLength.length-1;M>=0;--M)$=L.fullMessageLength[M]*8+j,j=$/4294967296>>>0,k.putInt32Le($>>>0);var q={h0:m.h0,h1:m.h1,h2:m.h2,h3:m.h3};d(q,N,k);var Q=o.util.createBuffer();return Q.putInt32Le(q.h0),Q.putInt32Le(q.h1),Q.putInt32Le(q.h2),Q.putInt32Le(q.h3),Q},L};var r=null,u=null,p=null,h=null,y=!1;function c(){r="",r+=o.util.fillString("\0",64),u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],p=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],h=new Array(64);for(var m=0;m<64;++m)h[m]=Math.floor(Math.abs(Math.sin(m+1))*4294967296);y=!0}function d(m,P,N){for(var L,k,B,U,$,j,M,q,Q=N.length();Q>=64;){for(k=m.h0,B=m.h1,U=m.h2,$=m.h3,q=0;q<16;++q)P[q]=N.getInt32Le(),j=$^B&(U^$),L=k+j+h[q]+P[q],M=p[q],k=$,$=U,U=B,B+=L<<M|L>>>32-M;for(;q<32;++q)j=U^$&(B^U),L=k+j+h[q]+P[u[q]],M=p[q],k=$,$=U,U=B,B+=L<<M|L>>>32-M;for(;q<48;++q)j=B^U^$,L=k+j+h[q]+P[u[q]],M=p[q],k=$,$=U,U=B,B+=L<<M|L>>>32-M;for(;q<64;++q)j=U^(B|~$),L=k+j+h[q]+P[u[q]],M=p[q],k=$,$=U,U=B,B+=L<<M|L>>>32-M;m.h0=m.h0+k|0,m.h1=m.h1+B|0,m.h2=m.h2+U|0,m.h3=m.h3+$|0,Q-=64}}return md5$1.exports}var pem={exports:{}},hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem.exports;hasRequiredPem=1;var o=requireForge();requireUtil$3();var e=pem.exports=o.pem=o.pem||{};e.encode=function(p,h){h=h||{};var y="-----BEGIN "+p.type+`-----\r
`,c;if(p.procType&&(c={name:"Proc-Type",values:[String(p.procType.version),p.procType.type]},y+=r(c)),p.contentDomain&&(c={name:"Content-Domain",values:[p.contentDomain]},y+=r(c)),p.dekInfo&&(c={name:"DEK-Info",values:[p.dekInfo.algorithm]},p.dekInfo.parameters&&c.values.push(p.dekInfo.parameters),y+=r(c)),p.headers)for(var d=0;d<p.headers.length;++d)y+=r(p.headers[d]);return p.procType&&(y+=`\r
`),y+=o.util.encode64(p.body,h.maxline||64)+`\r
`,y+="-----END "+p.type+`-----\r
`,y},e.decode=function(p){for(var h=[],y=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,c=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,d=/\r?\n/,m;m=y.exec(p),!!m;){var P=m[1];P==="NEW CERTIFICATE REQUEST"&&(P="CERTIFICATE REQUEST");var N={type:P,procType:null,contentDomain:null,dekInfo:null,headers:[],body:o.util.decode64(m[3])};if(h.push(N),!!m[2]){for(var L=m[2].split(d),k=0;m&&k<L.length;){for(var B=L[k].replace(/\s+$/,""),U=k+1;U<L.length;++U){var $=L[U];if(!/\s/.test($[0]))break;B+=$,k=U}if(m=B.match(c),m){for(var j={name:m[1],values:[]},M=m[2].split(","),q=0;q<M.length;++q)j.values.push(u(M[q]));if(N.procType)if(!N.contentDomain&&j.name==="Content-Domain")N.contentDomain=M[0]||"";else if(!N.dekInfo&&j.name==="DEK-Info"){if(j.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');N.dekInfo={algorithm:M[0],parameters:M[1]||null}}else N.headers.push(j);else{if(j.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(j.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');N.procType={version:M[0],type:M[1]}}}++k}if(N.procType==="ENCRYPTED"&&!N.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(h.length===0)throw new Error("Invalid PEM formatted message.");return h};function r(p){for(var h=p.name+": ",y=[],c=function(L,k){return" "+k},d=0;d<p.values.length;++d)y.push(p.values[d].replace(/^(\S+\r\n)/,c));h+=y.join(",")+`\r
`;for(var m=0,P=-1,d=0;d<h.length;++d,++m)if(m>65&&P!==-1){var N=h[P];N===","?(++P,h=h.substr(0,P)+`\r
 `+h.substr(P)):h=h.substr(0,P)+`\r
`+N+h.substr(P+1),m=d-P-1,P=-1,++d}else(h[d]===" "||h[d]==="	"||h[d]===",")&&(P=d);return h}function u(p){return p.replace(/^\s+/,"")}return pem.exports}var pki={exports:{}},des,hasRequiredDes;function requireDes(){if(hasRequiredDes)return des;hasRequiredDes=1;var o=requireForge();requireCipher(),requireCipherModes(),requireUtil$3(),des=o.des=o.des||{},o.des.startEncrypting=function(k,B,U,$){var j=L({key:k,output:U,decrypt:!1,mode:$||(B===null?"ECB":"CBC")});return j.start(B),j},o.des.createEncryptionCipher=function(k,B){return L({key:k,output:null,decrypt:!1,mode:B})},o.des.startDecrypting=function(k,B,U,$){var j=L({key:k,output:U,decrypt:!0,mode:$||(B===null?"ECB":"CBC")});return j.start(B),j},o.des.createDecryptionCipher=function(k,B){return L({key:k,output:null,decrypt:!0,mode:B})},o.des.Algorithm=function(k,B){var U=this;U.name=k,U.mode=new B({blockSize:8,cipher:{encrypt:function($,j){return N(U._keys,$,j,!1)},decrypt:function($,j){return N(U._keys,$,j,!0)}}}),U._init=!1},o.des.Algorithm.prototype.initialize=function(k){if(!this._init){var B=o.util.createBuffer(k.key);if(this.name.indexOf("3DES")===0&&B.length()!==24)throw new Error("Invalid Triple-DES key size: "+B.length()*8);this._keys=P(B),this._init=!0}},e("DES-ECB",o.cipher.modes.ecb),e("DES-CBC",o.cipher.modes.cbc),e("DES-CFB",o.cipher.modes.cfb),e("DES-OFB",o.cipher.modes.ofb),e("DES-CTR",o.cipher.modes.ctr),e("3DES-ECB",o.cipher.modes.ecb),e("3DES-CBC",o.cipher.modes.cbc),e("3DES-CFB",o.cipher.modes.cfb),e("3DES-OFB",o.cipher.modes.ofb),e("3DES-CTR",o.cipher.modes.ctr);function e(k,B){var U=function(){return new o.des.Algorithm(k,B)};o.cipher.registerAlgorithm(k,U)}var r=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],u=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],p=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],h=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],y=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],c=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],d=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],m=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function P(k){for(var B=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],U=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],$=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],j=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],M=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],q=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],Q=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],K=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],G=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],F=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],x=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],z=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],J=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],Z=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],X=k.length()>8?3:1,te=[],be=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],Ae=0,Ne,ke=0;ke<X;ke++){var Ue=k.getInt32(),qe=k.getInt32();Ne=(Ue>>>4^qe)&252645135,qe^=Ne,Ue^=Ne<<4,Ne=(qe>>>-16^Ue)&65535,Ue^=Ne,qe^=Ne<<-16,Ne=(Ue>>>2^qe)&858993459,qe^=Ne,Ue^=Ne<<2,Ne=(qe>>>-16^Ue)&65535,Ue^=Ne,qe^=Ne<<-16,Ne=(Ue>>>1^qe)&1431655765,qe^=Ne,Ue^=Ne<<1,Ne=(qe>>>8^Ue)&16711935,Ue^=Ne,qe^=Ne<<8,Ne=(Ue>>>1^qe)&1431655765,qe^=Ne,Ue^=Ne<<1,Ne=Ue<<8|qe>>>20&240,Ue=qe<<24|qe<<8&16711680|qe>>>8&65280|qe>>>24&240,qe=Ne;for(var Ge=0;Ge<be.length;++Ge){be[Ge]?(Ue=Ue<<2|Ue>>>26,qe=qe<<2|qe>>>26):(Ue=Ue<<1|Ue>>>27,qe=qe<<1|qe>>>27),Ue&=-15,qe&=-15;var Qe=B[Ue>>>28]|U[Ue>>>24&15]|$[Ue>>>20&15]|j[Ue>>>16&15]|M[Ue>>>12&15]|q[Ue>>>8&15]|Q[Ue>>>4&15],Ke=K[qe>>>28]|G[qe>>>24&15]|F[qe>>>20&15]|x[qe>>>16&15]|z[qe>>>12&15]|J[qe>>>8&15]|Z[qe>>>4&15];Ne=(Ke>>>16^Qe)&65535,te[Ae++]=Qe^Ne,te[Ae++]=Ke^Ne<<16}}return te}function N(k,B,U,$){var j=k.length===32?3:9,M;j===3?M=$?[30,-2,-2]:[0,32,2]:M=$?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var q,Q=B[0],K=B[1];q=(Q>>>4^K)&252645135,K^=q,Q^=q<<4,q=(Q>>>16^K)&65535,K^=q,Q^=q<<16,q=(K>>>2^Q)&858993459,Q^=q,K^=q<<2,q=(K>>>8^Q)&16711935,Q^=q,K^=q<<8,q=(Q>>>1^K)&1431655765,K^=q,Q^=q<<1,Q=Q<<1|Q>>>31,K=K<<1|K>>>31;for(var G=0;G<j;G+=3){for(var F=M[G+1],x=M[G+2],z=M[G];z!=F;z+=x){var J=K^k[z],Z=(K>>>4|K<<28)^k[z+1];q=Q,Q=K,K=q^(u[J>>>24&63]|h[J>>>16&63]|c[J>>>8&63]|m[J&63]|r[Z>>>24&63]|p[Z>>>16&63]|y[Z>>>8&63]|d[Z&63])}q=Q,Q=K,K=q}Q=Q>>>1|Q<<31,K=K>>>1|K<<31,q=(Q>>>1^K)&1431655765,K^=q,Q^=q<<1,q=(K>>>8^Q)&16711935,Q^=q,K^=q<<8,q=(K>>>2^Q)&858993459,Q^=q,K^=q<<2,q=(Q>>>16^K)&65535,K^=q,Q^=q<<16,q=(Q>>>4^K)&252645135,K^=q,Q^=q<<4,U[0]=Q,U[1]=K}function L(k){k=k||{};var B=(k.mode||"CBC").toUpperCase(),U="DES-"+B,$;k.decrypt?$=o.cipher.createDecipher(U,k.key):$=o.cipher.createCipher(U,k.key);var j=$.start;return $.start=function(M,q){var Q=null;q instanceof o.util.ByteBuffer&&(Q=q,q={}),q=q||{},q.output=Q,q.iv=M,j.call($,q)},$}return des}var pbkdf2,hasRequiredPbkdf2;function requirePbkdf2(){if(hasRequiredPbkdf2)return pbkdf2;hasRequiredPbkdf2=1;var o=requireForge();requireHmac(),requireMd(),requireUtil$3();var e=o.pkcs5=o.pkcs5||{},r;return o.util.isNodejs&&!o.options.usePureJavaScript&&(r=require$$1$3),pbkdf2=o.pbkdf2=e.pbkdf2=function(u,p,h,y,c,d){if(typeof c=="function"&&(d=c,c=null),o.util.isNodejs&&!o.options.usePureJavaScript&&r.pbkdf2&&(c===null||typeof c!="object")&&(r.pbkdf2Sync.length>4||!c||c==="sha1"))return typeof c!="string"&&(c="sha1"),u=Buffer.from(u,"binary"),p=Buffer.from(p,"binary"),d?r.pbkdf2Sync.length===4?r.pbkdf2(u,p,h,y,function(G,F){if(G)return d(G);d(null,F.toString("binary"))}):r.pbkdf2(u,p,h,y,c,function(G,F){if(G)return d(G);d(null,F.toString("binary"))}):r.pbkdf2Sync.length===4?r.pbkdf2Sync(u,p,h,y).toString("binary"):r.pbkdf2Sync(u,p,h,y,c).toString("binary");if((typeof c>"u"||c===null)&&(c="sha1"),typeof c=="string"){if(!(c in o.md.algorithms))throw new Error("Unknown hash algorithm: "+c);c=o.md[c].create()}var m=c.digestLength;if(y>4294967295*m){var P=new Error("Derived key is too long.");if(d)return d(P);throw P}var N=Math.ceil(y/m),L=y-(N-1)*m,k=o.hmac.create();k.start(c,u);var B="",U,$,j;if(!d){for(var M=1;M<=N;++M){k.start(null,null),k.update(p),k.update(o.util.int32ToBytes(M)),U=j=k.digest().getBytes();for(var q=2;q<=h;++q)k.start(null,null),k.update(j),$=k.digest().getBytes(),U=o.util.xorBytes(U,$,m),j=$;B+=M<N?U:U.substr(0,L)}return B}var M=1,q;function Q(){if(M>N)return d(null,B);k.start(null,null),k.update(p),k.update(o.util.int32ToBytes(M)),U=j=k.digest().getBytes(),q=2,K()}function K(){if(q<=h)return k.start(null,null),k.update(j),$=k.digest().getBytes(),U=o.util.xorBytes(U,$,m),j=$,++q,o.util.setImmediate(K);B+=M<N?U:U.substr(0,L),++M,Q()}Q()},pbkdf2}var random={exports:{}},sha256={exports:{}},hasRequiredSha256;function requireSha256(){if(hasRequiredSha256)return sha256.exports;hasRequiredSha256=1;var o=requireForge();requireMd(),requireUtil$3();var e=sha256.exports=o.sha256=o.sha256||{};o.md.sha256=o.md.algorithms.sha256=e,e.create=function(){u||h();var c=null,d=o.util.createBuffer(),m=new Array(64),P={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return P.start=function(){P.messageLength=0,P.fullMessageLength=P.messageLength64=[];for(var N=P.messageLengthSize/4,L=0;L<N;++L)P.fullMessageLength.push(0);return d=o.util.createBuffer(),c={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},P},P.start(),P.update=function(N,L){L==="utf8"&&(N=o.util.encodeUtf8(N));var k=N.length;P.messageLength+=k,k=[k/4294967296>>>0,k>>>0];for(var B=P.fullMessageLength.length-1;B>=0;--B)P.fullMessageLength[B]+=k[1],k[1]=k[0]+(P.fullMessageLength[B]/4294967296>>>0),P.fullMessageLength[B]=P.fullMessageLength[B]>>>0,k[0]=k[1]/4294967296>>>0;return d.putBytes(N),y(c,m,d),(d.read>2048||d.length()===0)&&d.compact(),P},P.digest=function(){var N=o.util.createBuffer();N.putBytes(d.bytes());var L=P.fullMessageLength[P.fullMessageLength.length-1]+P.messageLengthSize,k=L&P.blockLength-1;N.putBytes(r.substr(0,P.blockLength-k));for(var B,U,$=P.fullMessageLength[0]*8,j=0;j<P.fullMessageLength.length-1;++j)B=P.fullMessageLength[j+1]*8,U=B/4294967296>>>0,$+=U,N.putInt32($>>>0),$=B>>>0;N.putInt32($);var M={h0:c.h0,h1:c.h1,h2:c.h2,h3:c.h3,h4:c.h4,h5:c.h5,h6:c.h6,h7:c.h7};y(M,m,N);var q=o.util.createBuffer();return q.putInt32(M.h0),q.putInt32(M.h1),q.putInt32(M.h2),q.putInt32(M.h3),q.putInt32(M.h4),q.putInt32(M.h5),q.putInt32(M.h6),q.putInt32(M.h7),q},P};var r=null,u=!1,p=null;function h(){r="",r+=o.util.fillString("\0",64),p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=!0}function y(c,d,m){for(var P,N,L,k,B,U,$,j,M,q,Q,K,G,F,x,z=m.length();z>=64;){for($=0;$<16;++$)d[$]=m.getInt32();for(;$<64;++$)P=d[$-2],P=(P>>>17|P<<15)^(P>>>19|P<<13)^P>>>10,N=d[$-15],N=(N>>>7|N<<25)^(N>>>18|N<<14)^N>>>3,d[$]=P+d[$-7]+N+d[$-16]|0;for(j=c.h0,M=c.h1,q=c.h2,Q=c.h3,K=c.h4,G=c.h5,F=c.h6,x=c.h7,$=0;$<64;++$)k=(K>>>6|K<<26)^(K>>>11|K<<21)^(K>>>25|K<<7),B=F^K&(G^F),L=(j>>>2|j<<30)^(j>>>13|j<<19)^(j>>>22|j<<10),U=j&M|q&(j^M),P=x+k+B+p[$]+d[$],N=L+U,x=F,F=G,G=K,K=Q+P>>>0,Q=q,q=M,M=j,j=P+N>>>0;c.h0=c.h0+j|0,c.h1=c.h1+M|0,c.h2=c.h2+q|0,c.h3=c.h3+Q|0,c.h4=c.h4+K|0,c.h5=c.h5+G|0,c.h6=c.h6+F|0,c.h7=c.h7+x|0,z-=64}}return sha256.exports}var prng={exports:{}},hasRequiredPrng;function requirePrng(){if(hasRequiredPrng)return prng.exports;hasRequiredPrng=1;var o=requireForge();requireUtil$3();var e=null;o.util.isNodejs&&!o.options.usePureJavaScript&&!process.versions["node-webkit"]&&(e=require$$1$3);var r=prng.exports=o.prng=o.prng||{};return r.create=function(u){for(var p={plugin:u,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},h=u.md,y=new Array(32),c=0;c<32;++c)y[c]=h.create();p.pools=y,p.pool=0,p.generate=function(L,k){if(!k)return p.generateSync(L);var B=p.plugin.cipher,U=p.plugin.increment,$=p.plugin.formatKey,j=p.plugin.formatSeed,M=o.util.createBuffer();p.key=null,q();function q(Q){if(Q)return k(Q);if(M.length()>=L)return k(null,M.getBytes(L));if(p.generated>1048575&&(p.key=null),p.key===null)return o.util.nextTick(function(){d(q)});var K=B(p.key,p.seed);p.generated+=K.length,M.putBytes(K),p.key=$(B(p.key,U(p.seed))),p.seed=j(B(p.key,p.seed)),o.util.setImmediate(q)}},p.generateSync=function(L){var k=p.plugin.cipher,B=p.plugin.increment,U=p.plugin.formatKey,$=p.plugin.formatSeed;p.key=null;for(var j=o.util.createBuffer();j.length()<L;){p.generated>1048575&&(p.key=null),p.key===null&&m();var M=k(p.key,p.seed);p.generated+=M.length,j.putBytes(M),p.key=U(k(p.key,B(p.seed))),p.seed=$(k(p.key,p.seed))}return j.getBytes(L)};function d(L){if(p.pools[0].messageLength>=32)return P(),L();var k=32-p.pools[0].messageLength<<5;p.seedFile(k,function(B,U){if(B)return L(B);p.collect(U),P(),L()})}function m(){if(p.pools[0].messageLength>=32)return P();var L=32-p.pools[0].messageLength<<5;p.collect(p.seedFileSync(L)),P()}function P(){p.reseeds=p.reseeds===4294967295?0:p.reseeds+1;var L=p.plugin.md.create();L.update(p.keyBytes);for(var k=1,B=0;B<32;++B)p.reseeds%k===0&&(L.update(p.pools[B].digest().getBytes()),p.pools[B].start()),k=k<<1;p.keyBytes=L.digest().getBytes(),L.start(),L.update(p.keyBytes);var U=L.digest().getBytes();p.key=p.plugin.formatKey(p.keyBytes),p.seed=p.plugin.formatSeed(U),p.generated=0}function N(L){var k=null,B=o.util.globalScope,U=B.crypto||B.msCrypto;U&&U.getRandomValues&&(k=function(x){return U.getRandomValues(x)});var $=o.util.createBuffer();if(k)for(;$.length()<L;){var j=Math.max(1,Math.min(L-$.length(),65536)/4),M=new Uint32Array(Math.floor(j));try{k(M);for(var q=0;q<M.length;++q)$.putInt32(M[q])}catch(x){if(!(typeof QuotaExceededError<"u"&&x instanceof QuotaExceededError))throw x}}if($.length()<L)for(var Q,K,G,F=Math.floor(Math.random()*65536);$.length()<L;){K=16807*(F&65535),Q=16807*(F>>16),K+=(Q&32767)<<16,K+=Q>>15,K=(K&2147483647)+(K>>31),F=K&4294967295;for(var q=0;q<3;++q)G=F>>>(q<<3),G^=Math.floor(Math.random()*256),$.putByte(G&255)}return $.getBytes(L)}return e?(p.seedFile=function(L,k){e.randomBytes(L,function(B,U){if(B)return k(B);k(null,U.toString())})},p.seedFileSync=function(L){return e.randomBytes(L).toString()}):(p.seedFile=function(L,k){try{k(null,N(L))}catch(B){k(B)}},p.seedFileSync=N),p.collect=function(L){for(var k=L.length,B=0;B<k;++B)p.pools[p.pool].update(L.substr(B,1)),p.pool=p.pool===31?0:p.pool+1},p.collectInt=function(L,k){for(var B="",U=0;U<k;U+=8)B+=String.fromCharCode(L>>U&255);p.collect(B)},p.registerWorker=function(L){if(L===self)p.seedFile=function(B,U){function $(j){var M=j.data;M.forge&&M.forge.prng&&(self.removeEventListener("message",$),U(M.forge.prng.err,M.forge.prng.bytes))}self.addEventListener("message",$),self.postMessage({forge:{prng:{needed:B}}})};else{var k=function(B){var U=B.data;U.forge&&U.forge.prng&&p.seedFile(U.forge.prng.needed,function($,j){L.postMessage({forge:{prng:{err:$,bytes:j}}})})};L.addEventListener("message",k)}},p},prng.exports}var hasRequiredRandom;function requireRandom(){if(hasRequiredRandom)return random.exports;hasRequiredRandom=1;var o=requireForge();return requireAes(),requireSha256(),requirePrng(),requireUtil$3(),function(){if(o.random&&o.random.getBytes){random.exports=o.random;return}(function(e){var r={},u=new Array(4),p=o.util.createBuffer();r.formatKey=function(L){var k=o.util.createBuffer(L);return L=new Array(4),L[0]=k.getInt32(),L[1]=k.getInt32(),L[2]=k.getInt32(),L[3]=k.getInt32(),o.aes._expandKey(L,!1)},r.formatSeed=function(L){var k=o.util.createBuffer(L);return L=new Array(4),L[0]=k.getInt32(),L[1]=k.getInt32(),L[2]=k.getInt32(),L[3]=k.getInt32(),L},r.cipher=function(L,k){return o.aes._updateBlock(L,k,u,!1),p.putInt32(u[0]),p.putInt32(u[1]),p.putInt32(u[2]),p.putInt32(u[3]),p.getBytes()},r.increment=function(L){return++L[3],L},r.md=o.md.sha256;function h(){var L=o.prng.create(r);return L.getBytes=function(k,B){return L.generate(k,B)},L.getBytesSync=function(k){return L.generate(k)},L}var y=h(),c=null,d=o.util.globalScope,m=d.crypto||d.msCrypto;if(m&&m.getRandomValues&&(c=function(L){return m.getRandomValues(L)}),o.options.usePureJavaScript||!o.util.isNodejs&&!c){if(y.collectInt(+new Date,32),typeof navigator<"u"){var P="";for(var N in navigator)try{typeof navigator[N]=="string"&&(P+=navigator[N])}catch{}y.collect(P),P=null}e&&(e().mousemove(function(L){y.collectInt(L.clientX,16),y.collectInt(L.clientY,16)}),e().keypress(function(L){y.collectInt(L.charCode,8)}))}if(!o.random)o.random=y;else for(var N in y)o.random[N]=y[N];o.random.createInstance=h,random.exports=o.random})(typeof jQuery<"u"?jQuery:null)}(),random.exports}var rc2,hasRequiredRc2;function requireRc2(){if(hasRequiredRc2)return rc2;hasRequiredRc2=1;var o=requireForge();requireUtil$3();var e=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],r=[1,2,3,5],u=function(y,c){return y<<c&65535|(y&65535)>>16-c},p=function(y,c){return(y&65535)>>c|y<<16-c&65535};rc2=o.rc2=o.rc2||{},o.rc2.expandKey=function(y,c){typeof y=="string"&&(y=o.util.createBuffer(y)),c=c||128;var d=y,m=y.length(),P=c,N=Math.ceil(P/8),L=255>>(P&7),k;for(k=m;k<128;k++)d.putByte(e[d.at(k-1)+d.at(k-m)&255]);for(d.setAt(128-N,e[d.at(128-N)&L]),k=127-N;k>=0;k--)d.setAt(k,e[d.at(k+1)^d.at(k+N)]);return d};var h=function(y,c,d){var m=!1,P=null,N=null,L=null,k,B,U,$,j=[];for(y=o.rc2.expandKey(y,c),U=0;U<64;U++)j.push(y.getInt16Le());d?(k=function(Q){for(U=0;U<4;U++)Q[U]+=j[$]+(Q[(U+3)%4]&Q[(U+2)%4])+(~Q[(U+3)%4]&Q[(U+1)%4]),Q[U]=u(Q[U],r[U]),$++},B=function(Q){for(U=0;U<4;U++)Q[U]+=j[Q[(U+3)%4]&63]}):(k=function(Q){for(U=3;U>=0;U--)Q[U]=p(Q[U],r[U]),Q[U]-=j[$]+(Q[(U+3)%4]&Q[(U+2)%4])+(~Q[(U+3)%4]&Q[(U+1)%4]),$--},B=function(Q){for(U=3;U>=0;U--)Q[U]-=j[Q[(U+3)%4]&63]});var M=function(Q){var K=[];for(U=0;U<4;U++){var G=P.getInt16Le();L!==null&&(d?G^=L.getInt16Le():L.putInt16Le(G)),K.push(G&65535)}$=d?0:63;for(var F=0;F<Q.length;F++)for(var x=0;x<Q[F][0];x++)Q[F][1](K);for(U=0;U<4;U++)L!==null&&(d?L.putInt16Le(K[U]):K[U]^=L.getInt16Le()),N.putInt16Le(K[U])},q=null;return q={start:function(Q,K){Q&&typeof Q=="string"&&(Q=o.util.createBuffer(Q)),m=!1,P=o.util.createBuffer(),N=K||new o.util.createBuffer,L=Q,q.output=N},update:function(Q){for(m||P.putBuffer(Q);P.length()>=8;)M([[5,k],[1,B],[6,k],[1,B],[5,k]])},finish:function(Q){var K=!0;if(d)if(Q)K=Q(8,P,!d);else{var G=P.length()===8?8:8-P.length();P.fillWithByte(G,G)}if(K&&(m=!0,q.update()),!d&&(K=P.length()===0,K))if(Q)K=Q(8,N,!d);else{var F=N.length(),x=N.at(F-1);x>F?K=!1:N.truncate(x)}return K}},q};return o.rc2.startEncrypting=function(y,c,d){var m=o.rc2.createEncryptionCipher(y,128);return m.start(c,d),m},o.rc2.createEncryptionCipher=function(y,c){return h(y,c,!0)},o.rc2.startDecrypting=function(y,c,d){var m=o.rc2.createDecryptionCipher(y,128);return m.start(c,d),m},o.rc2.createDecryptionCipher=function(y,c){return h(y,c,!1)},rc2}var jsbn,hasRequiredJsbn;function requireJsbn(){if(hasRequiredJsbn)return jsbn;hasRequiredJsbn=1;var o=requireForge();jsbn=o.jsbn=o.jsbn||{};var e;function r(Pe,Ce,Ve){this.data=[],Pe!=null&&(typeof Pe=="number"?this.fromNumber(Pe,Ce,Ve):Ce==null&&typeof Pe!="string"?this.fromString(Pe,256):this.fromString(Pe,Ce))}o.jsbn.BigInteger=r;function u(){return new r(null)}function p(Pe,Ce,Ve,He,Je,tt){for(;--tt>=0;){var it=Ce*this.data[Pe++]+Ve.data[He]+Je;Je=Math.floor(it/67108864),Ve.data[He++]=it&67108863}return Je}function h(Pe,Ce,Ve,He,Je,tt){for(var it=Ce&32767,st=Ce>>15;--tt>=0;){var vt=this.data[Pe]&32767,Ct=this.data[Pe++]>>15,Kt=st*vt+Ct*it;vt=it*vt+((Kt&32767)<<15)+Ve.data[He]+(Je&1073741823),Je=(vt>>>30)+(Kt>>>15)+st*Ct+(Je>>>30),Ve.data[He++]=vt&1073741823}return Je}function y(Pe,Ce,Ve,He,Je,tt){for(var it=Ce&16383,st=Ce>>14;--tt>=0;){var vt=this.data[Pe]&16383,Ct=this.data[Pe++]>>14,Kt=st*vt+Ct*it;vt=it*vt+((Kt&16383)<<14)+Ve.data[He]+Je,Je=(vt>>28)+(Kt>>14)+st*Ct,Ve.data[He++]=vt&268435455}return Je}typeof navigator>"u"?(r.prototype.am=y,e=28):navigator.appName=="Microsoft Internet Explorer"?(r.prototype.am=h,e=30):navigator.appName!="Netscape"?(r.prototype.am=p,e=26):(r.prototype.am=y,e=28),r.prototype.DB=e,r.prototype.DM=(1<<e)-1,r.prototype.DV=1<<e;var c=52;r.prototype.FV=Math.pow(2,c),r.prototype.F1=c-e,r.prototype.F2=2*e-c;var d="0123456789abcdefghijklmnopqrstuvwxyz",m=new Array,P,N;for(P=48,N=0;N<=9;++N)m[P++]=N;for(P=97,N=10;N<36;++N)m[P++]=N;for(P=65,N=10;N<36;++N)m[P++]=N;function L(Pe){return d.charAt(Pe)}function k(Pe,Ce){var Ve=m[Pe.charCodeAt(Ce)];return Ve??-1}function B(Pe){for(var Ce=this.t-1;Ce>=0;--Ce)Pe.data[Ce]=this.data[Ce];Pe.t=this.t,Pe.s=this.s}function U(Pe){this.t=1,this.s=Pe<0?-1:0,Pe>0?this.data[0]=Pe:Pe<-1?this.data[0]=Pe+this.DV:this.t=0}function $(Pe){var Ce=u();return Ce.fromInt(Pe),Ce}function j(Pe,Ce){var Ve;if(Ce==16)Ve=4;else if(Ce==8)Ve=3;else if(Ce==256)Ve=8;else if(Ce==2)Ve=1;else if(Ce==32)Ve=5;else if(Ce==4)Ve=2;else{this.fromRadix(Pe,Ce);return}this.t=0,this.s=0;for(var He=Pe.length,Je=!1,tt=0;--He>=0;){var it=Ve==8?Pe[He]&255:k(Pe,He);if(it<0){Pe.charAt(He)=="-"&&(Je=!0);continue}Je=!1,tt==0?this.data[this.t++]=it:tt+Ve>this.DB?(this.data[this.t-1]|=(it&(1<<this.DB-tt)-1)<<tt,this.data[this.t++]=it>>this.DB-tt):this.data[this.t-1]|=it<<tt,tt+=Ve,tt>=this.DB&&(tt-=this.DB)}Ve==8&&Pe[0]&128&&(this.s=-1,tt>0&&(this.data[this.t-1]|=(1<<this.DB-tt)-1<<tt)),this.clamp(),Je&&r.ZERO.subTo(this,this)}function M(){for(var Pe=this.s&this.DM;this.t>0&&this.data[this.t-1]==Pe;)--this.t}function q(Pe){if(this.s<0)return"-"+this.negate().toString(Pe);var Ce;if(Pe==16)Ce=4;else if(Pe==8)Ce=3;else if(Pe==2)Ce=1;else if(Pe==32)Ce=5;else if(Pe==4)Ce=2;else return this.toRadix(Pe);var Ve=(1<<Ce)-1,He,Je=!1,tt="",it=this.t,st=this.DB-it*this.DB%Ce;if(it-- >0)for(st<this.DB&&(He=this.data[it]>>st)>0&&(Je=!0,tt=L(He));it>=0;)st<Ce?(He=(this.data[it]&(1<<st)-1)<<Ce-st,He|=this.data[--it]>>(st+=this.DB-Ce)):(He=this.data[it]>>(st-=Ce)&Ve,st<=0&&(st+=this.DB,--it)),He>0&&(Je=!0),Je&&(tt+=L(He));return Je?tt:"0"}function Q(){var Pe=u();return r.ZERO.subTo(this,Pe),Pe}function K(){return this.s<0?this.negate():this}function G(Pe){var Ce=this.s-Pe.s;if(Ce!=0)return Ce;var Ve=this.t;if(Ce=Ve-Pe.t,Ce!=0)return this.s<0?-Ce:Ce;for(;--Ve>=0;)if((Ce=this.data[Ve]-Pe.data[Ve])!=0)return Ce;return 0}function F(Pe){var Ce=1,Ve;return(Ve=Pe>>>16)!=0&&(Pe=Ve,Ce+=16),(Ve=Pe>>8)!=0&&(Pe=Ve,Ce+=8),(Ve=Pe>>4)!=0&&(Pe=Ve,Ce+=4),(Ve=Pe>>2)!=0&&(Pe=Ve,Ce+=2),(Ve=Pe>>1)!=0&&(Pe=Ve,Ce+=1),Ce}function x(){return this.t<=0?0:this.DB*(this.t-1)+F(this.data[this.t-1]^this.s&this.DM)}function z(Pe,Ce){var Ve;for(Ve=this.t-1;Ve>=0;--Ve)Ce.data[Ve+Pe]=this.data[Ve];for(Ve=Pe-1;Ve>=0;--Ve)Ce.data[Ve]=0;Ce.t=this.t+Pe,Ce.s=this.s}function J(Pe,Ce){for(var Ve=Pe;Ve<this.t;++Ve)Ce.data[Ve-Pe]=this.data[Ve];Ce.t=Math.max(this.t-Pe,0),Ce.s=this.s}function Z(Pe,Ce){var Ve=Pe%this.DB,He=this.DB-Ve,Je=(1<<He)-1,tt=Math.floor(Pe/this.DB),it=this.s<<Ve&this.DM,st;for(st=this.t-1;st>=0;--st)Ce.data[st+tt+1]=this.data[st]>>He|it,it=(this.data[st]&Je)<<Ve;for(st=tt-1;st>=0;--st)Ce.data[st]=0;Ce.data[tt]=it,Ce.t=this.t+tt+1,Ce.s=this.s,Ce.clamp()}function X(Pe,Ce){Ce.s=this.s;var Ve=Math.floor(Pe/this.DB);if(Ve>=this.t){Ce.t=0;return}var He=Pe%this.DB,Je=this.DB-He,tt=(1<<He)-1;Ce.data[0]=this.data[Ve]>>He;for(var it=Ve+1;it<this.t;++it)Ce.data[it-Ve-1]|=(this.data[it]&tt)<<Je,Ce.data[it-Ve]=this.data[it]>>He;He>0&&(Ce.data[this.t-Ve-1]|=(this.s&tt)<<Je),Ce.t=this.t-Ve,Ce.clamp()}function te(Pe,Ce){for(var Ve=0,He=0,Je=Math.min(Pe.t,this.t);Ve<Je;)He+=this.data[Ve]-Pe.data[Ve],Ce.data[Ve++]=He&this.DM,He>>=this.DB;if(Pe.t<this.t){for(He-=Pe.s;Ve<this.t;)He+=this.data[Ve],Ce.data[Ve++]=He&this.DM,He>>=this.DB;He+=this.s}else{for(He+=this.s;Ve<Pe.t;)He-=Pe.data[Ve],Ce.data[Ve++]=He&this.DM,He>>=this.DB;He-=Pe.s}Ce.s=He<0?-1:0,He<-1?Ce.data[Ve++]=this.DV+He:He>0&&(Ce.data[Ve++]=He),Ce.t=Ve,Ce.clamp()}function be(Pe,Ce){var Ve=this.abs(),He=Pe.abs(),Je=Ve.t;for(Ce.t=Je+He.t;--Je>=0;)Ce.data[Je]=0;for(Je=0;Je<He.t;++Je)Ce.data[Je+Ve.t]=Ve.am(0,He.data[Je],Ce,Je,0,Ve.t);Ce.s=0,Ce.clamp(),this.s!=Pe.s&&r.ZERO.subTo(Ce,Ce)}function Ae(Pe){for(var Ce=this.abs(),Ve=Pe.t=2*Ce.t;--Ve>=0;)Pe.data[Ve]=0;for(Ve=0;Ve<Ce.t-1;++Ve){var He=Ce.am(Ve,Ce.data[Ve],Pe,2*Ve,0,1);(Pe.data[Ve+Ce.t]+=Ce.am(Ve+1,2*Ce.data[Ve],Pe,2*Ve+1,He,Ce.t-Ve-1))>=Ce.DV&&(Pe.data[Ve+Ce.t]-=Ce.DV,Pe.data[Ve+Ce.t+1]=1)}Pe.t>0&&(Pe.data[Pe.t-1]+=Ce.am(Ve,Ce.data[Ve],Pe,2*Ve,0,1)),Pe.s=0,Pe.clamp()}function Ne(Pe,Ce,Ve){var He=Pe.abs();if(!(He.t<=0)){var Je=this.abs();if(Je.t<He.t){Ce!=null&&Ce.fromInt(0),Ve!=null&&this.copyTo(Ve);return}Ve==null&&(Ve=u());var tt=u(),it=this.s,st=Pe.s,vt=this.DB-F(He.data[He.t-1]);vt>0?(He.lShiftTo(vt,tt),Je.lShiftTo(vt,Ve)):(He.copyTo(tt),Je.copyTo(Ve));var Ct=tt.t,Kt=tt.data[Ct-1];if(Kt!=0){var St=Kt*(1<<this.F1)+(Ct>1?tt.data[Ct-2]>>this.F2:0),At=this.FV/St,Yt=(1<<this.F1)/St,Jt=1<<this.F2,Dt=Ve.t,yt=Dt-Ct,Zt=Ce??u();for(tt.dlShiftTo(yt,Zt),Ve.compareTo(Zt)>=0&&(Ve.data[Ve.t++]=1,Ve.subTo(Zt,Ve)),r.ONE.dlShiftTo(Ct,Zt),Zt.subTo(tt,tt);tt.t<Ct;)tt.data[tt.t++]=0;for(;--yt>=0;){var ir=Ve.data[--Dt]==Kt?this.DM:Math.floor(Ve.data[Dt]*At+(Ve.data[Dt-1]+Jt)*Yt);if((Ve.data[Dt]+=tt.am(0,ir,Ve,yt,0,Ct))<ir)for(tt.dlShiftTo(yt,Zt),Ve.subTo(Zt,Ve);Ve.data[Dt]<--ir;)Ve.subTo(Zt,Ve)}Ce!=null&&(Ve.drShiftTo(Ct,Ce),it!=st&&r.ZERO.subTo(Ce,Ce)),Ve.t=Ct,Ve.clamp(),vt>0&&Ve.rShiftTo(vt,Ve),it<0&&r.ZERO.subTo(Ve,Ve)}}}function ke(Pe){var Ce=u();return this.abs().divRemTo(Pe,null,Ce),this.s<0&&Ce.compareTo(r.ZERO)>0&&Pe.subTo(Ce,Ce),Ce}function Ue(Pe){this.m=Pe}function qe(Pe){return Pe.s<0||Pe.compareTo(this.m)>=0?Pe.mod(this.m):Pe}function Ge(Pe){return Pe}function Qe(Pe){Pe.divRemTo(this.m,null,Pe)}function Ke(Pe,Ce,Ve){Pe.multiplyTo(Ce,Ve),this.reduce(Ve)}function Be(Pe,Ce){Pe.squareTo(Ce),this.reduce(Ce)}Ue.prototype.convert=qe,Ue.prototype.revert=Ge,Ue.prototype.reduce=Qe,Ue.prototype.mulTo=Ke,Ue.prototype.sqrTo=Be;function Re(){if(this.t<1)return 0;var Pe=this.data[0];if(!(Pe&1))return 0;var Ce=Pe&3;return Ce=Ce*(2-(Pe&15)*Ce)&15,Ce=Ce*(2-(Pe&255)*Ce)&255,Ce=Ce*(2-((Pe&65535)*Ce&65535))&65535,Ce=Ce*(2-Pe*Ce%this.DV)%this.DV,Ce>0?this.DV-Ce:-Ce}function $e(Pe){this.m=Pe,this.mp=Pe.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<Pe.DB-15)-1,this.mt2=2*Pe.t}function xe(Pe){var Ce=u();return Pe.abs().dlShiftTo(this.m.t,Ce),Ce.divRemTo(this.m,null,Ce),Pe.s<0&&Ce.compareTo(r.ZERO)>0&&this.m.subTo(Ce,Ce),Ce}function Le(Pe){var Ce=u();return Pe.copyTo(Ce),this.reduce(Ce),Ce}function je(Pe){for(;Pe.t<=this.mt2;)Pe.data[Pe.t++]=0;for(var Ce=0;Ce<this.m.t;++Ce){var Ve=Pe.data[Ce]&32767,He=Ve*this.mpl+((Ve*this.mph+(Pe.data[Ce]>>15)*this.mpl&this.um)<<15)&Pe.DM;for(Ve=Ce+this.m.t,Pe.data[Ve]+=this.m.am(0,He,Pe,Ce,0,this.m.t);Pe.data[Ve]>=Pe.DV;)Pe.data[Ve]-=Pe.DV,Pe.data[++Ve]++}Pe.clamp(),Pe.drShiftTo(this.m.t,Pe),Pe.compareTo(this.m)>=0&&Pe.subTo(this.m,Pe)}function Y(Pe,Ce){Pe.squareTo(Ce),this.reduce(Ce)}function l(Pe,Ce,Ve){Pe.multiplyTo(Ce,Ve),this.reduce(Ve)}$e.prototype.convert=xe,$e.prototype.revert=Le,$e.prototype.reduce=je,$e.prototype.mulTo=l,$e.prototype.sqrTo=Y;function T(){return(this.t>0?this.data[0]&1:this.s)==0}function O(Pe,Ce){if(Pe>4294967295||Pe<1)return r.ONE;var Ve=u(),He=u(),Je=Ce.convert(this),tt=F(Pe)-1;for(Je.copyTo(Ve);--tt>=0;)if(Ce.sqrTo(Ve,He),(Pe&1<<tt)>0)Ce.mulTo(He,Je,Ve);else{var it=Ve;Ve=He,He=it}return Ce.revert(Ve)}function H(Pe,Ce){var Ve;return Pe<256||Ce.isEven()?Ve=new Ue(Ce):Ve=new $e(Ce),this.exp(Pe,Ve)}r.prototype.copyTo=B,r.prototype.fromInt=U,r.prototype.fromString=j,r.prototype.clamp=M,r.prototype.dlShiftTo=z,r.prototype.drShiftTo=J,r.prototype.lShiftTo=Z,r.prototype.rShiftTo=X,r.prototype.subTo=te,r.prototype.multiplyTo=be,r.prototype.squareTo=Ae,r.prototype.divRemTo=Ne,r.prototype.invDigit=Re,r.prototype.isEven=T,r.prototype.exp=O,r.prototype.toString=q,r.prototype.negate=Q,r.prototype.abs=K,r.prototype.compareTo=G,r.prototype.bitLength=x,r.prototype.mod=ke,r.prototype.modPowInt=H,r.ZERO=$(0),r.ONE=$(1);function ae(){var Pe=u();return this.copyTo(Pe),Pe}function Oe(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function ie(){return this.t==0?this.s:this.data[0]<<24>>24}function s(){return this.t==0?this.s:this.data[0]<<16>>16}function A(Pe){return Math.floor(Math.LN2*this.DB/Math.log(Pe))}function I(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function n(Pe){if(Pe==null&&(Pe=10),this.signum()==0||Pe<2||Pe>36)return"0";var Ce=this.chunkSize(Pe),Ve=Math.pow(Pe,Ce),He=$(Ve),Je=u(),tt=u(),it="";for(this.divRemTo(He,Je,tt);Je.signum()>0;)it=(Ve+tt.intValue()).toString(Pe).substr(1)+it,Je.divRemTo(He,Je,tt);return tt.intValue().toString(Pe)+it}function R(Pe,Ce){this.fromInt(0),Ce==null&&(Ce=10);for(var Ve=this.chunkSize(Ce),He=Math.pow(Ce,Ve),Je=!1,tt=0,it=0,st=0;st<Pe.length;++st){var vt=k(Pe,st);if(vt<0){Pe.charAt(st)=="-"&&this.signum()==0&&(Je=!0);continue}it=Ce*it+vt,++tt>=Ve&&(this.dMultiply(He),this.dAddOffset(it,0),tt=0,it=0)}tt>0&&(this.dMultiply(Math.pow(Ce,tt)),this.dAddOffset(it,0)),Je&&r.ZERO.subTo(this,this)}function V(Pe,Ce,Ve){if(typeof Ce=="number")if(Pe<2)this.fromInt(1);else for(this.fromNumber(Pe,Ve),this.testBit(Pe-1)||this.bitwiseTo(r.ONE.shiftLeft(Pe-1),gt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(Ce);)this.dAddOffset(2,0),this.bitLength()>Pe&&this.subTo(r.ONE.shiftLeft(Pe-1),this);else{var He=new Array,Je=Pe&7;He.length=(Pe>>3)+1,Ce.nextBytes(He),Je>0?He[0]&=(1<<Je)-1:He[0]=0,this.fromString(He,256)}}function ee(){var Pe=this.t,Ce=new Array;Ce[0]=this.s;var Ve=this.DB-Pe*this.DB%8,He,Je=0;if(Pe-- >0)for(Ve<this.DB&&(He=this.data[Pe]>>Ve)!=(this.s&this.DM)>>Ve&&(Ce[Je++]=He|this.s<<this.DB-Ve);Pe>=0;)Ve<8?(He=(this.data[Pe]&(1<<Ve)-1)<<8-Ve,He|=this.data[--Pe]>>(Ve+=this.DB-8)):(He=this.data[Pe]>>(Ve-=8)&255,Ve<=0&&(Ve+=this.DB,--Pe)),He&128&&(He|=-256),Je==0&&(this.s&128)!=(He&128)&&++Je,(Je>0||He!=this.s)&&(Ce[Je++]=He);return Ce}function Me(Pe){return this.compareTo(Pe)==0}function rt(Pe){return this.compareTo(Pe)<0?this:Pe}function nt(Pe){return this.compareTo(Pe)>0?this:Pe}function Ze(Pe,Ce,Ve){var He,Je,tt=Math.min(Pe.t,this.t);for(He=0;He<tt;++He)Ve.data[He]=Ce(this.data[He],Pe.data[He]);if(Pe.t<this.t){for(Je=Pe.s&this.DM,He=tt;He<this.t;++He)Ve.data[He]=Ce(this.data[He],Je);Ve.t=this.t}else{for(Je=this.s&this.DM,He=tt;He<Pe.t;++He)Ve.data[He]=Ce(Je,Pe.data[He]);Ve.t=Pe.t}Ve.s=Ce(this.s,Pe.s),Ve.clamp()}function lt(Pe,Ce){return Pe&Ce}function ft(Pe){var Ce=u();return this.bitwiseTo(Pe,lt,Ce),Ce}function gt(Pe,Ce){return Pe|Ce}function Xe(Pe){var Ce=u();return this.bitwiseTo(Pe,gt,Ce),Ce}function We(Pe,Ce){return Pe^Ce}function et(Pe){var Ce=u();return this.bitwiseTo(Pe,We,Ce),Ce}function at(Pe,Ce){return Pe&~Ce}function ot(Pe){var Ce=u();return this.bitwiseTo(Pe,at,Ce),Ce}function pt(){for(var Pe=u(),Ce=0;Ce<this.t;++Ce)Pe.data[Ce]=this.DM&~this.data[Ce];return Pe.t=this.t,Pe.s=~this.s,Pe}function dt(Pe){var Ce=u();return Pe<0?this.rShiftTo(-Pe,Ce):this.lShiftTo(Pe,Ce),Ce}function jt(Pe){var Ce=u();return Pe<0?this.lShiftTo(-Pe,Ce):this.rShiftTo(Pe,Ce),Ce}function Et(Pe){if(Pe==0)return-1;var Ce=0;return Pe&65535||(Pe>>=16,Ce+=16),Pe&255||(Pe>>=8,Ce+=8),Pe&15||(Pe>>=4,Ce+=4),Pe&3||(Pe>>=2,Ce+=2),Pe&1||++Ce,Ce}function Wt(){for(var Pe=0;Pe<this.t;++Pe)if(this.data[Pe]!=0)return Pe*this.DB+Et(this.data[Pe]);return this.s<0?this.t*this.DB:-1}function Ht(Pe){for(var Ce=0;Pe!=0;)Pe&=Pe-1,++Ce;return Ce}function qt(){for(var Pe=0,Ce=this.s&this.DM,Ve=0;Ve<this.t;++Ve)Pe+=Ht(this.data[Ve]^Ce);return Pe}function rr(Pe){var Ce=Math.floor(Pe/this.DB);return Ce>=this.t?this.s!=0:(this.data[Ce]&1<<Pe%this.DB)!=0}function $t(Pe,Ce){var Ve=r.ONE.shiftLeft(Pe);return this.bitwiseTo(Ve,Ce,Ve),Ve}function Lt(Pe){return this.changeBit(Pe,gt)}function wt(Pe){return this.changeBit(Pe,at)}function kt(Pe){return this.changeBit(Pe,We)}function Tt(Pe,Ce){for(var Ve=0,He=0,Je=Math.min(Pe.t,this.t);Ve<Je;)He+=this.data[Ve]+Pe.data[Ve],Ce.data[Ve++]=He&this.DM,He>>=this.DB;if(Pe.t<this.t){for(He+=Pe.s;Ve<this.t;)He+=this.data[Ve],Ce.data[Ve++]=He&this.DM,He>>=this.DB;He+=this.s}else{for(He+=this.s;Ve<Pe.t;)He+=Pe.data[Ve],Ce.data[Ve++]=He&this.DM,He>>=this.DB;He+=Pe.s}Ce.s=He<0?-1:0,He>0?Ce.data[Ve++]=He:He<-1&&(Ce.data[Ve++]=this.DV+He),Ce.t=Ve,Ce.clamp()}function Ft(Pe){var Ce=u();return this.addTo(Pe,Ce),Ce}function ht(Pe){var Ce=u();return this.subTo(Pe,Ce),Ce}function mt(Pe){var Ce=u();return this.multiplyTo(Pe,Ce),Ce}function Pt(Pe){var Ce=u();return this.divRemTo(Pe,Ce,null),Ce}function Rt(Pe){var Ce=u();return this.divRemTo(Pe,null,Ce),Ce}function _t(Pe){var Ce=u(),Ve=u();return this.divRemTo(Pe,Ce,Ve),new Array(Ce,Ve)}function bt(Pe){this.data[this.t]=this.am(0,Pe-1,this,0,0,this.t),++this.t,this.clamp()}function Ot(Pe,Ce){if(Pe!=0){for(;this.t<=Ce;)this.data[this.t++]=0;for(this.data[Ce]+=Pe;this.data[Ce]>=this.DV;)this.data[Ce]-=this.DV,++Ce>=this.t&&(this.data[this.t++]=0),++this.data[Ce]}}function xt(){}function Mt(Pe){return Pe}function It(Pe,Ce,Ve){Pe.multiplyTo(Ce,Ve)}function Ut(Pe,Ce){Pe.squareTo(Ce)}xt.prototype.convert=Mt,xt.prototype.revert=Mt,xt.prototype.mulTo=It,xt.prototype.sqrTo=Ut;function wr(Pe){return this.exp(Pe,new xt)}function nr(Pe,Ce,Ve){var He=Math.min(this.t+Pe.t,Ce);for(Ve.s=0,Ve.t=He;He>0;)Ve.data[--He]=0;var Je;for(Je=Ve.t-this.t;He<Je;++He)Ve.data[He+this.t]=this.am(0,Pe.data[He],Ve,He,0,this.t);for(Je=Math.min(Pe.t,Ce);He<Je;++He)this.am(0,Pe.data[He],Ve,He,0,Ce-He);Ve.clamp()}function or(Pe,Ce,Ve){--Ce;var He=Ve.t=this.t+Pe.t-Ce;for(Ve.s=0;--He>=0;)Ve.data[He]=0;for(He=Math.max(Ce-this.t,0);He<Pe.t;++He)Ve.data[this.t+He-Ce]=this.am(Ce-He,Pe.data[He],Ve,0,0,this.t+He-Ce);Ve.clamp(),Ve.drShiftTo(1,Ve)}function lr(Pe){this.r2=u(),this.q3=u(),r.ONE.dlShiftTo(2*Pe.t,this.r2),this.mu=this.r2.divide(Pe),this.m=Pe}function yr(Pe){if(Pe.s<0||Pe.t>2*this.m.t)return Pe.mod(this.m);if(Pe.compareTo(this.m)<0)return Pe;var Ce=u();return Pe.copyTo(Ce),this.reduce(Ce),Ce}function fr(Pe){return Pe}function er(Pe){for(Pe.drShiftTo(this.m.t-1,this.r2),Pe.t>this.m.t+1&&(Pe.t=this.m.t+1,Pe.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);Pe.compareTo(this.r2)<0;)Pe.dAddOffset(1,this.m.t+1);for(Pe.subTo(this.r2,Pe);Pe.compareTo(this.m)>=0;)Pe.subTo(this.m,Pe)}function Pr(Pe,Ce){Pe.squareTo(Ce),this.reduce(Ce)}function Ir(Pe,Ce,Ve){Pe.multiplyTo(Ce,Ve),this.reduce(Ve)}lr.prototype.convert=yr,lr.prototype.revert=fr,lr.prototype.reduce=er,lr.prototype.mulTo=Ir,lr.prototype.sqrTo=Pr;function Xt(Pe,Ce){var Ve=Pe.bitLength(),He,Je=$(1),tt;if(Ve<=0)return Je;Ve<18?He=1:Ve<48?He=3:Ve<144?He=4:Ve<768?He=5:He=6,Ve<8?tt=new Ue(Ce):Ce.isEven()?tt=new lr(Ce):tt=new $e(Ce);var it=new Array,st=3,vt=He-1,Ct=(1<<He)-1;if(it[1]=tt.convert(this),He>1){var Kt=u();for(tt.sqrTo(it[1],Kt);st<=Ct;)it[st]=u(),tt.mulTo(Kt,it[st-2],it[st]),st+=2}var St=Pe.t-1,At,Yt=!0,Jt=u(),Dt;for(Ve=F(Pe.data[St])-1;St>=0;){for(Ve>=vt?At=Pe.data[St]>>Ve-vt&Ct:(At=(Pe.data[St]&(1<<Ve+1)-1)<<vt-Ve,St>0&&(At|=Pe.data[St-1]>>this.DB+Ve-vt)),st=He;!(At&1);)At>>=1,--st;if((Ve-=st)<0&&(Ve+=this.DB,--St),Yt)it[At].copyTo(Je),Yt=!1;else{for(;st>1;)tt.sqrTo(Je,Jt),tt.sqrTo(Jt,Je),st-=2;st>0?tt.sqrTo(Je,Jt):(Dt=Je,Je=Jt,Jt=Dt),tt.mulTo(Jt,it[At],Je)}for(;St>=0&&!(Pe.data[St]&1<<Ve);)tt.sqrTo(Je,Jt),Dt=Je,Je=Jt,Jt=Dt,--Ve<0&&(Ve=this.DB-1,--St)}return tt.revert(Je)}function Qt(Pe){var Ce=this.s<0?this.negate():this.clone(),Ve=Pe.s<0?Pe.negate():Pe.clone();if(Ce.compareTo(Ve)<0){var He=Ce;Ce=Ve,Ve=He}var Je=Ce.getLowestSetBit(),tt=Ve.getLowestSetBit();if(tt<0)return Ce;for(Je<tt&&(tt=Je),tt>0&&(Ce.rShiftTo(tt,Ce),Ve.rShiftTo(tt,Ve));Ce.signum()>0;)(Je=Ce.getLowestSetBit())>0&&Ce.rShiftTo(Je,Ce),(Je=Ve.getLowestSetBit())>0&&Ve.rShiftTo(Je,Ve),Ce.compareTo(Ve)>=0?(Ce.subTo(Ve,Ce),Ce.rShiftTo(1,Ce)):(Ve.subTo(Ce,Ve),Ve.rShiftTo(1,Ve));return tt>0&&Ve.lShiftTo(tt,Ve),Ve}function br(Pe){if(Pe<=0)return 0;var Ce=this.DV%Pe,Ve=this.s<0?Pe-1:0;if(this.t>0)if(Ce==0)Ve=this.data[0]%Pe;else for(var He=this.t-1;He>=0;--He)Ve=(Ce*Ve+this.data[He])%Pe;return Ve}function Er(Pe){var Ce=Pe.isEven();if(this.isEven()&&Ce||Pe.signum()==0)return r.ZERO;for(var Ve=Pe.clone(),He=this.clone(),Je=$(1),tt=$(0),it=$(0),st=$(1);Ve.signum()!=0;){for(;Ve.isEven();)Ve.rShiftTo(1,Ve),Ce?((!Je.isEven()||!tt.isEven())&&(Je.addTo(this,Je),tt.subTo(Pe,tt)),Je.rShiftTo(1,Je)):tt.isEven()||tt.subTo(Pe,tt),tt.rShiftTo(1,tt);for(;He.isEven();)He.rShiftTo(1,He),Ce?((!it.isEven()||!st.isEven())&&(it.addTo(this,it),st.subTo(Pe,st)),it.rShiftTo(1,it)):st.isEven()||st.subTo(Pe,st),st.rShiftTo(1,st);Ve.compareTo(He)>=0?(Ve.subTo(He,Ve),Ce&&Je.subTo(it,Je),tt.subTo(st,tt)):(He.subTo(Ve,He),Ce&&it.subTo(Je,it),st.subTo(tt,st))}if(He.compareTo(r.ONE)!=0)return r.ZERO;if(st.compareTo(Pe)>=0)return st.subtract(Pe);if(st.signum()<0)st.addTo(Pe,st);else return st;return st.signum()<0?st.add(Pe):st}var Bt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],tr=(1<<26)/Bt[Bt.length-1];function zt(Pe){var Ce,Ve=this.abs();if(Ve.t==1&&Ve.data[0]<=Bt[Bt.length-1]){for(Ce=0;Ce<Bt.length;++Ce)if(Ve.data[0]==Bt[Ce])return!0;return!1}if(Ve.isEven())return!1;for(Ce=1;Ce<Bt.length;){for(var He=Bt[Ce],Je=Ce+1;Je<Bt.length&&He<tr;)He*=Bt[Je++];for(He=Ve.modInt(He);Ce<Je;)if(He%Bt[Ce++]==0)return!1}return Ve.millerRabin(Pe)}function Cr(Pe){var Ce=this.subtract(r.ONE),Ve=Ce.getLowestSetBit();if(Ve<=0)return!1;for(var He=Ce.shiftRight(Ve),Je=ur(),tt,it=0;it<Pe;++it){do tt=new r(this.bitLength(),Je);while(tt.compareTo(r.ONE)<=0||tt.compareTo(Ce)>=0);var st=tt.modPow(He,this);if(st.compareTo(r.ONE)!=0&&st.compareTo(Ce)!=0){for(var vt=1;vt++<Ve&&st.compareTo(Ce)!=0;)if(st=st.modPowInt(2,this),st.compareTo(r.ONE)==0)return!1;if(st.compareTo(Ce)!=0)return!1}}return!0}function ur(){return{nextBytes:function(Pe){for(var Ce=0;Ce<Pe.length;++Ce)Pe[Ce]=Math.floor(Math.random()*256)}}}return r.prototype.chunkSize=A,r.prototype.toRadix=n,r.prototype.fromRadix=R,r.prototype.fromNumber=V,r.prototype.bitwiseTo=Ze,r.prototype.changeBit=$t,r.prototype.addTo=Tt,r.prototype.dMultiply=bt,r.prototype.dAddOffset=Ot,r.prototype.multiplyLowerTo=nr,r.prototype.multiplyUpperTo=or,r.prototype.modInt=br,r.prototype.millerRabin=Cr,r.prototype.clone=ae,r.prototype.intValue=Oe,r.prototype.byteValue=ie,r.prototype.shortValue=s,r.prototype.signum=I,r.prototype.toByteArray=ee,r.prototype.equals=Me,r.prototype.min=rt,r.prototype.max=nt,r.prototype.and=ft,r.prototype.or=Xe,r.prototype.xor=et,r.prototype.andNot=ot,r.prototype.not=pt,r.prototype.shiftLeft=dt,r.prototype.shiftRight=jt,r.prototype.getLowestSetBit=Wt,r.prototype.bitCount=qt,r.prototype.testBit=rr,r.prototype.setBit=Lt,r.prototype.clearBit=wt,r.prototype.flipBit=kt,r.prototype.add=Ft,r.prototype.subtract=ht,r.prototype.multiply=mt,r.prototype.divide=Pt,r.prototype.remainder=Rt,r.prototype.divideAndRemainder=_t,r.prototype.modPow=Xt,r.prototype.modInverse=Er,r.prototype.pow=wr,r.prototype.gcd=Qt,r.prototype.isProbablePrime=zt,jsbn}var pkcs1={exports:{}},sha1$1={exports:{}},hasRequiredSha1$1;function requireSha1$1(){if(hasRequiredSha1$1)return sha1$1.exports;hasRequiredSha1$1=1;var o=requireForge();requireMd(),requireUtil$3();var e=sha1$1.exports=o.sha1=o.sha1||{};o.md.sha1=o.md.algorithms.sha1=e,e.create=function(){u||p();var y=null,c=o.util.createBuffer(),d=new Array(80),m={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return m.start=function(){m.messageLength=0,m.fullMessageLength=m.messageLength64=[];for(var P=m.messageLengthSize/4,N=0;N<P;++N)m.fullMessageLength.push(0);return c=o.util.createBuffer(),y={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},m},m.start(),m.update=function(P,N){N==="utf8"&&(P=o.util.encodeUtf8(P));var L=P.length;m.messageLength+=L,L=[L/4294967296>>>0,L>>>0];for(var k=m.fullMessageLength.length-1;k>=0;--k)m.fullMessageLength[k]+=L[1],L[1]=L[0]+(m.fullMessageLength[k]/4294967296>>>0),m.fullMessageLength[k]=m.fullMessageLength[k]>>>0,L[0]=L[1]/4294967296>>>0;return c.putBytes(P),h(y,d,c),(c.read>2048||c.length()===0)&&c.compact(),m},m.digest=function(){var P=o.util.createBuffer();P.putBytes(c.bytes());var N=m.fullMessageLength[m.fullMessageLength.length-1]+m.messageLengthSize,L=N&m.blockLength-1;P.putBytes(r.substr(0,m.blockLength-L));for(var k,B,U=m.fullMessageLength[0]*8,$=0;$<m.fullMessageLength.length-1;++$)k=m.fullMessageLength[$+1]*8,B=k/4294967296>>>0,U+=B,P.putInt32(U>>>0),U=k>>>0;P.putInt32(U);var j={h0:y.h0,h1:y.h1,h2:y.h2,h3:y.h3,h4:y.h4};h(j,d,P);var M=o.util.createBuffer();return M.putInt32(j.h0),M.putInt32(j.h1),M.putInt32(j.h2),M.putInt32(j.h3),M.putInt32(j.h4),M},m};var r=null,u=!1;function p(){r="",r+=o.util.fillString("\0",64),u=!0}function h(y,c,d){for(var m,P,N,L,k,B,U,$,j=d.length();j>=64;){for(P=y.h0,N=y.h1,L=y.h2,k=y.h3,B=y.h4,$=0;$<16;++$)m=d.getInt32(),c[$]=m,U=k^N&(L^k),m=(P<<5|P>>>27)+U+B+1518500249+m,B=k,k=L,L=(N<<30|N>>>2)>>>0,N=P,P=m;for(;$<20;++$)m=c[$-3]^c[$-8]^c[$-14]^c[$-16],m=m<<1|m>>>31,c[$]=m,U=k^N&(L^k),m=(P<<5|P>>>27)+U+B+1518500249+m,B=k,k=L,L=(N<<30|N>>>2)>>>0,N=P,P=m;for(;$<32;++$)m=c[$-3]^c[$-8]^c[$-14]^c[$-16],m=m<<1|m>>>31,c[$]=m,U=N^L^k,m=(P<<5|P>>>27)+U+B+1859775393+m,B=k,k=L,L=(N<<30|N>>>2)>>>0,N=P,P=m;for(;$<40;++$)m=c[$-6]^c[$-16]^c[$-28]^c[$-32],m=m<<2|m>>>30,c[$]=m,U=N^L^k,m=(P<<5|P>>>27)+U+B+1859775393+m,B=k,k=L,L=(N<<30|N>>>2)>>>0,N=P,P=m;for(;$<60;++$)m=c[$-6]^c[$-16]^c[$-28]^c[$-32],m=m<<2|m>>>30,c[$]=m,U=N&L|k&(N^L),m=(P<<5|P>>>27)+U+B+2400959708+m,B=k,k=L,L=(N<<30|N>>>2)>>>0,N=P,P=m;for(;$<80;++$)m=c[$-6]^c[$-16]^c[$-28]^c[$-32],m=m<<2|m>>>30,c[$]=m,U=N^L^k,m=(P<<5|P>>>27)+U+B+3395469782+m,B=k,k=L,L=(N<<30|N>>>2)>>>0,N=P,P=m;y.h0=y.h0+P|0,y.h1=y.h1+N|0,y.h2=y.h2+L|0,y.h3=y.h3+k|0,y.h4=y.h4+B|0,j-=64}}return sha1$1.exports}var hasRequiredPkcs1;function requirePkcs1(){if(hasRequiredPkcs1)return pkcs1.exports;hasRequiredPkcs1=1;var o=requireForge();requireUtil$3(),requireRandom(),requireSha1$1();var e=pkcs1.exports=o.pkcs1=o.pkcs1||{};e.encode_rsa_oaep=function(u,p,h){var y,c,d,m;typeof h=="string"?(y=h,c=arguments[3]||void 0,d=arguments[4]||void 0):h&&(y=h.label||void 0,c=h.seed||void 0,d=h.md||void 0,h.mgf1&&h.mgf1.md&&(m=h.mgf1.md)),d?d.start():d=o.md.sha1.create(),m||(m=d);var P=Math.ceil(u.n.bitLength()/8),N=P-2*d.digestLength-2;if(p.length>N){var L=new Error("RSAES-OAEP input message length is too long.");throw L.length=p.length,L.maxLength=N,L}y||(y=""),d.update(y,"raw");for(var k=d.digest(),B="",U=N-p.length,$=0;$<U;$++)B+="\0";var j=k.getBytes()+B+""+p;if(!c)c=o.random.getBytes(d.digestLength);else if(c.length!==d.digestLength){var L=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw L.seedLength=c.length,L.digestLength=d.digestLength,L}var M=r(c,P-d.digestLength-1,m),q=o.util.xorBytes(j,M,j.length),Q=r(q,d.digestLength,m),K=o.util.xorBytes(c,Q,c.length);return"\0"+K+q},e.decode_rsa_oaep=function(u,p,h){var y,c,d;typeof h=="string"?(y=h,c=arguments[3]||void 0):h&&(y=h.label||void 0,c=h.md||void 0,h.mgf1&&h.mgf1.md&&(d=h.mgf1.md));var m=Math.ceil(u.n.bitLength()/8);if(p.length!==m){var q=new Error("RSAES-OAEP encoded message length is invalid.");throw q.length=p.length,q.expectedLength=m,q}if(c===void 0?c=o.md.sha1.create():c.start(),d||(d=c),m<2*c.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");y||(y=""),c.update(y,"raw");for(var P=c.digest().getBytes(),N=p.charAt(0),L=p.substring(1,c.digestLength+1),k=p.substring(1+c.digestLength),B=r(k,c.digestLength,d),U=o.util.xorBytes(L,B,L.length),$=r(U,m-c.digestLength-1,d),j=o.util.xorBytes(k,$,k.length),M=j.substring(0,c.digestLength),q=N!=="\0",Q=0;Q<c.digestLength;++Q)q|=P.charAt(Q)!==M.charAt(Q);for(var K=1,G=c.digestLength,F=c.digestLength;F<j.length;F++){var x=j.charCodeAt(F),z=x&1^1,J=K?65534:0;q|=x&J,K=K&z,G+=K}if(q||j.charCodeAt(G)!==1)throw new Error("Invalid RSAES-OAEP padding.");return j.substring(G+1)};function r(u,p,h){h||(h=o.md.sha1.create());for(var y="",c=Math.ceil(p/h.digestLength),d=0;d<c;++d){var m=String.fromCharCode(d>>24&255,d>>16&255,d>>8&255,d&255);h.start(),h.update(u+m),y+=h.digest().getBytes()}return y.substring(0,p)}return pkcs1.exports}var prime={exports:{}},hasRequiredPrime;function requirePrime(){if(hasRequiredPrime)return prime.exports;hasRequiredPrime=1;var o=requireForge();return requireUtil$3(),requireJsbn(),requireRandom(),function(){if(o.prime){prime.exports=o.prime;return}var e=prime.exports=o.prime=o.prime||{},r=o.jsbn.BigInteger,u=[6,4,2,4,2,4,6,2],p=new r(null);p.fromInt(30);var h=function(L,k){return L|k};e.generateProbablePrime=function(L,k,B){typeof k=="function"&&(B=k,k={}),k=k||{};var U=k.algorithm||"PRIMEINC";typeof U=="string"&&(U={name:U}),U.options=U.options||{};var $=k.prng||o.random,j={nextBytes:function(M){for(var q=$.getBytesSync(M.length),Q=0;Q<M.length;++Q)M[Q]=q.charCodeAt(Q)}};if(U.name==="PRIMEINC")return y(L,j,U.options,B);throw new Error("Invalid prime generation algorithm: "+U.name)};function y(L,k,B,U){return"workers"in B?m(L,k,B,U):c(L,k,B,U)}function c(L,k,B,U){var $=P(L,k),j=0,M=N($.bitLength());"millerRabinTests"in B&&(M=B.millerRabinTests);var q=10;"maxBlockTime"in B&&(q=B.maxBlockTime),d($,L,k,j,M,q,U)}function d(L,k,B,U,$,j,M){var q=+new Date;do{if(L.bitLength()>k&&(L=P(k,B)),L.isProbablePrime($))return M(null,L);L.dAddOffset(u[U++%8],0)}while(j<0||+new Date-q<j);o.util.setImmediate(function(){d(L,k,B,U,$,j,M)})}function m(L,k,B,U){if(typeof Worker>"u")return c(L,k,B,U);var $=P(L,k),j=B.workers,M=B.workLoad||100,q=M*30/8,Q=B.workerScript||"forge/prime.worker.js";if(j===-1)return o.util.estimateCores(function(G,F){G&&(F=2),j=F-1,K()});K();function K(){j=Math.max(1,j);for(var G=[],F=0;F<j;++F)G[F]=new Worker(Q);for(var F=0;F<j;++F)G[F].addEventListener("message",z);var x=!1;function z(J){if(!x){var Z=J.data;if(Z.found){for(var X=0;X<G.length;++X)G[X].terminate();return x=!0,U(null,new r(Z.prime,16))}$.bitLength()>L&&($=P(L,k));var te=$.toString(16);J.target.postMessage({hex:te,workLoad:M}),$.dAddOffset(q,0)}}}}function P(L,k){var B=new r(L,k),U=L-1;return B.testBit(U)||B.bitwiseTo(r.ONE.shiftLeft(U),h,B),B.dAddOffset(31-B.mod(p).byteValue(),0),B}function N(L){return L<=100?27:L<=150?18:L<=200?15:L<=250?12:L<=300?9:L<=350?8:L<=400?7:L<=500?6:L<=600?5:L<=800?4:L<=1250?3:2}}(),prime.exports}var rsa,hasRequiredRsa;function requireRsa(){if(hasRequiredRsa)return rsa;hasRequiredRsa=1;var o=requireForge();if(requireAsn1(),requireJsbn(),requireOids(),requirePkcs1(),requirePrime(),requireRandom(),requireUtil$3(),typeof e>"u")var e=o.jsbn.BigInteger;var r=o.util.isNodejs?require$$1$3:null,u=o.asn1,p=o.util;o.pki=o.pki||{},rsa=o.pki.rsa=o.rsa=o.rsa||{};var h=o.pki,y=[6,4,2,4,2,4,6,2],c={name:"PrivateKeyInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},d={name:"RSAPrivateKey",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},m={name:"RSAPublicKey",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},P=o.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:u.Class.UNIVERSAL,type:u.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},N={name:"DigestInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:u.Class.UNIVERSAL,type:u.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},L=function(F){var x;if(F.algorithm in h.oids)x=h.oids[F.algorithm];else{var z=new Error("Unknown message digest algorithm.");throw z.algorithm=F.algorithm,z}var J=u.oidToDer(x).getBytes(),Z=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]),X=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]);X.value.push(u.create(u.Class.UNIVERSAL,u.Type.OID,!1,J)),X.value.push(u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,""));var te=u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,F.digest().getBytes());return Z.value.push(X),Z.value.push(te),u.toDer(Z).getBytes()},k=function(F,x,z){if(z)return F.modPow(x.e,x.n);if(!x.p||!x.q)return F.modPow(x.d,x.n);x.dP||(x.dP=x.d.mod(x.p.subtract(e.ONE))),x.dQ||(x.dQ=x.d.mod(x.q.subtract(e.ONE))),x.qInv||(x.qInv=x.q.modInverse(x.p));var J;do J=new e(o.util.bytesToHex(o.random.getBytes(x.n.bitLength()/8)),16);while(J.compareTo(x.n)>=0||!J.gcd(x.n).equals(e.ONE));F=F.multiply(J.modPow(x.e,x.n)).mod(x.n);for(var Z=F.mod(x.p).modPow(x.dP,x.p),X=F.mod(x.q).modPow(x.dQ,x.q);Z.compareTo(X)<0;)Z=Z.add(x.p);var te=Z.subtract(X).multiply(x.qInv).mod(x.p).multiply(x.q).add(X);return te=te.multiply(J.modInverse(x.n)).mod(x.n),te};h.rsa.encrypt=function(F,x,z){var J=z,Z,X=Math.ceil(x.n.bitLength()/8);z!==!1&&z!==!0?(J=z===2,Z=B(F,x,z)):(Z=o.util.createBuffer(),Z.putBytes(F));for(var te=new e(Z.toHex(),16),be=k(te,x,J),Ae=be.toString(16),Ne=o.util.createBuffer(),ke=X-Math.ceil(Ae.length/2);ke>0;)Ne.putByte(0),--ke;return Ne.putBytes(o.util.hexToBytes(Ae)),Ne.getBytes()},h.rsa.decrypt=function(F,x,z,J){var Z=Math.ceil(x.n.bitLength()/8);if(F.length!==Z){var X=new Error("Encrypted message length is invalid.");throw X.length=F.length,X.expected=Z,X}var te=new e(o.util.createBuffer(F).toHex(),16);if(te.compareTo(x.n)>=0)throw new Error("Encrypted message is invalid.");for(var be=k(te,x,z),Ae=be.toString(16),Ne=o.util.createBuffer(),ke=Z-Math.ceil(Ae.length/2);ke>0;)Ne.putByte(0),--ke;return Ne.putBytes(o.util.hexToBytes(Ae)),J!==!1?U(Ne.getBytes(),x,z):Ne.getBytes()},h.rsa.createKeyPairGenerationState=function(F,x,z){typeof F=="string"&&(F=parseInt(F,10)),F=F||2048,z=z||{};var J=z.prng||o.random,Z={nextBytes:function(be){for(var Ae=J.getBytesSync(be.length),Ne=0;Ne<be.length;++Ne)be[Ne]=Ae.charCodeAt(Ne)}},X=z.algorithm||"PRIMEINC",te;if(X==="PRIMEINC")te={algorithm:X,state:0,bits:F,rng:Z,eInt:x||65537,e:new e(null),p:null,q:null,qBits:F>>1,pBits:F-(F>>1),pqState:0,num:null,keys:null},te.e.fromInt(te.eInt);else throw new Error("Invalid key generation algorithm: "+X);return te},h.rsa.stepKeyPairGenerationState=function(F,x){"algorithm"in F||(F.algorithm="PRIMEINC");var z=new e(null);z.fromInt(30);for(var J=0,Z=function(Ue,qe){return Ue|qe},X=+new Date,te,be=0;F.keys===null&&(x<=0||be<x);){if(F.state===0){var Ae=F.p===null?F.pBits:F.qBits,Ne=Ae-1;F.pqState===0?(F.num=new e(Ae,F.rng),F.num.testBit(Ne)||F.num.bitwiseTo(e.ONE.shiftLeft(Ne),Z,F.num),F.num.dAddOffset(31-F.num.mod(z).byteValue(),0),J=0,++F.pqState):F.pqState===1?F.num.bitLength()>Ae?F.pqState=0:F.num.isProbablePrime(M(F.num.bitLength()))?++F.pqState:F.num.dAddOffset(y[J++%8],0):F.pqState===2?F.pqState=F.num.subtract(e.ONE).gcd(F.e).compareTo(e.ONE)===0?3:0:F.pqState===3&&(F.pqState=0,F.p===null?F.p=F.num:F.q=F.num,F.p!==null&&F.q!==null&&++F.state,F.num=null)}else if(F.state===1)F.p.compareTo(F.q)<0&&(F.num=F.p,F.p=F.q,F.q=F.num),++F.state;else if(F.state===2)F.p1=F.p.subtract(e.ONE),F.q1=F.q.subtract(e.ONE),F.phi=F.p1.multiply(F.q1),++F.state;else if(F.state===3)F.phi.gcd(F.e).compareTo(e.ONE)===0?++F.state:(F.p=null,F.q=null,F.state=0);else if(F.state===4)F.n=F.p.multiply(F.q),F.n.bitLength()===F.bits?++F.state:(F.q=null,F.state=0);else if(F.state===5){var ke=F.e.modInverse(F.phi);F.keys={privateKey:h.rsa.setPrivateKey(F.n,F.e,ke,F.p,F.q,ke.mod(F.p1),ke.mod(F.q1),F.q.modInverse(F.p)),publicKey:h.rsa.setPublicKey(F.n,F.e)}}te=+new Date,be+=te-X,X=te}return F.keys!==null},h.rsa.generateKeyPair=function(F,x,z,J){if(arguments.length===1?typeof F=="object"?(z=F,F=void 0):typeof F=="function"&&(J=F,F=void 0):arguments.length===2?typeof F=="number"?typeof x=="function"?(J=x,x=void 0):typeof x!="number"&&(z=x,x=void 0):(z=F,J=x,F=void 0,x=void 0):arguments.length===3&&(typeof x=="number"?typeof z=="function"&&(J=z,z=void 0):(J=z,z=x,x=void 0)),z=z||{},F===void 0&&(F=z.bits||2048),x===void 0&&(x=z.e||65537),!o.options.usePureJavaScript&&!z.prng&&F>=256&&F<=16384&&(x===65537||x===3)){if(J){if(q("generateKeyPair"))return r.generateKeyPair("rsa",{modulusLength:F,publicExponent:x,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(be,Ae,Ne){if(be)return J(be);J(null,{privateKey:h.privateKeyFromPem(Ne),publicKey:h.publicKeyFromPem(Ae)})});if(Q("generateKey")&&Q("exportKey"))return p.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:F,publicExponent:G(x),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(be){return p.globalScope.crypto.subtle.exportKey("pkcs8",be.privateKey)}).then(void 0,function(be){J(be)}).then(function(be){if(be){var Ae=h.privateKeyFromAsn1(u.fromDer(o.util.createBuffer(be)));J(null,{privateKey:Ae,publicKey:h.setRsaPublicKey(Ae.n,Ae.e)})}});if(K("generateKey")&&K("exportKey")){var Z=p.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:F,publicExponent:G(x),hash:{name:"SHA-256"}},!0,["sign","verify"]);Z.oncomplete=function(be){var Ae=be.target.result,Ne=p.globalScope.msCrypto.subtle.exportKey("pkcs8",Ae.privateKey);Ne.oncomplete=function(ke){var Ue=ke.target.result,qe=h.privateKeyFromAsn1(u.fromDer(o.util.createBuffer(Ue)));J(null,{privateKey:qe,publicKey:h.setRsaPublicKey(qe.n,qe.e)})},Ne.onerror=function(ke){J(ke)}},Z.onerror=function(be){J(be)};return}}else if(q("generateKeyPairSync")){var X=r.generateKeyPairSync("rsa",{modulusLength:F,publicExponent:x,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:h.privateKeyFromPem(X.privateKey),publicKey:h.publicKeyFromPem(X.publicKey)}}}var te=h.rsa.createKeyPairGenerationState(F,x,z);if(!J)return h.rsa.stepKeyPairGenerationState(te,0),te.keys;$(te,z,J)},h.setRsaPublicKey=h.rsa.setPublicKey=function(F,x){var z={n:F,e:x};return z.encrypt=function(J,Z,X){if(typeof Z=="string"?Z=Z.toUpperCase():Z===void 0&&(Z="RSAES-PKCS1-V1_5"),Z==="RSAES-PKCS1-V1_5")Z={encode:function(be,Ae,Ne){return B(be,Ae,2).getBytes()}};else if(Z==="RSA-OAEP"||Z==="RSAES-OAEP")Z={encode:function(be,Ae){return o.pkcs1.encode_rsa_oaep(Ae,be,X)}};else if(["RAW","NONE","NULL",null].indexOf(Z)!==-1)Z={encode:function(be){return be}};else if(typeof Z=="string")throw new Error('Unsupported encryption scheme: "'+Z+'".');var te=Z.encode(J,z,!0);return h.rsa.encrypt(te,z,!0)},z.verify=function(J,Z,X,te){typeof X=="string"?X=X.toUpperCase():X===void 0&&(X="RSASSA-PKCS1-V1_5"),te===void 0&&(te={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in te||(te._parseAllDigestBytes=!0),X==="RSASSA-PKCS1-V1_5"?X={verify:function(Ae,Ne){Ne=U(Ne,z,!0);var ke=u.fromDer(Ne,{parseAllBytes:te._parseAllDigestBytes}),Ue={},qe=[];if(!u.validate(ke,N,Ue,qe)){var Ge=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw Ge.errors=qe,Ge}var Qe=u.derToOid(Ue.algorithmIdentifier);if(!(Qe===o.oids.md2||Qe===o.oids.md5||Qe===o.oids.sha1||Qe===o.oids.sha224||Qe===o.oids.sha256||Qe===o.oids.sha384||Qe===o.oids.sha512||Qe===o.oids["sha512-224"]||Qe===o.oids["sha512-256"])){var Ge=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw Ge.oid=Qe,Ge}if((Qe===o.oids.md2||Qe===o.oids.md5)&&!("parameters"in Ue))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return Ae===Ue.digest}}:(X==="NONE"||X==="NULL"||X===null)&&(X={verify:function(Ae,Ne){return Ne=U(Ne,z,!0),Ae===Ne}});var be=h.rsa.decrypt(Z,z,!0,!1);return X.verify(J,be,z.n.bitLength())},z},h.setRsaPrivateKey=h.rsa.setPrivateKey=function(F,x,z,J,Z,X,te,be){var Ae={n:F,e:x,d:z,p:J,q:Z,dP:X,dQ:te,qInv:be};return Ae.decrypt=function(Ne,ke,Ue){typeof ke=="string"?ke=ke.toUpperCase():ke===void 0&&(ke="RSAES-PKCS1-V1_5");var qe=h.rsa.decrypt(Ne,Ae,!1,!1);if(ke==="RSAES-PKCS1-V1_5")ke={decode:U};else if(ke==="RSA-OAEP"||ke==="RSAES-OAEP")ke={decode:function(Ge,Qe){return o.pkcs1.decode_rsa_oaep(Qe,Ge,Ue)}};else if(["RAW","NONE","NULL",null].indexOf(ke)!==-1)ke={decode:function(Ge){return Ge}};else throw new Error('Unsupported encryption scheme: "'+ke+'".');return ke.decode(qe,Ae,!1)},Ae.sign=function(Ne,ke){var Ue=!1;typeof ke=="string"&&(ke=ke.toUpperCase()),ke===void 0||ke==="RSASSA-PKCS1-V1_5"?(ke={encode:L},Ue=1):(ke==="NONE"||ke==="NULL"||ke===null)&&(ke={encode:function(){return Ne}},Ue=1);var qe=ke.encode(Ne,Ae.n.bitLength());return h.rsa.encrypt(qe,Ae,Ue)},Ae},h.wrapRsaPrivateKey=function(F){return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(0).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(h.oids.rsaEncryption).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")]),u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,u.toDer(F).getBytes())])},h.privateKeyFromAsn1=function(F){var x={},z=[];if(u.validate(F,c,x,z)&&(F=u.fromDer(o.util.createBuffer(x.privateKey))),x={},z=[],!u.validate(F,d,x,z)){var J=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw J.errors=z,J}var Z,X,te,be,Ae,Ne,ke,Ue;return Z=o.util.createBuffer(x.privateKeyModulus).toHex(),X=o.util.createBuffer(x.privateKeyPublicExponent).toHex(),te=o.util.createBuffer(x.privateKeyPrivateExponent).toHex(),be=o.util.createBuffer(x.privateKeyPrime1).toHex(),Ae=o.util.createBuffer(x.privateKeyPrime2).toHex(),Ne=o.util.createBuffer(x.privateKeyExponent1).toHex(),ke=o.util.createBuffer(x.privateKeyExponent2).toHex(),Ue=o.util.createBuffer(x.privateKeyCoefficient).toHex(),h.setRsaPrivateKey(new e(Z,16),new e(X,16),new e(te,16),new e(be,16),new e(Ae,16),new e(Ne,16),new e(ke,16),new e(Ue,16))},h.privateKeyToAsn1=h.privateKeyToRSAPrivateKey=function(F){return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(0).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,j(F.n)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,j(F.e)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,j(F.d)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,j(F.p)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,j(F.q)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,j(F.dP)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,j(F.dQ)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,j(F.qInv))])},h.publicKeyFromAsn1=function(F){var x={},z=[];if(u.validate(F,P,x,z)){var J=u.derToOid(x.publicKeyOid);if(J!==h.oids.rsaEncryption){var Z=new Error("Cannot read public key. Unknown OID.");throw Z.oid=J,Z}F=x.rsaPublicKey}if(z=[],!u.validate(F,m,x,z)){var Z=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw Z.errors=z,Z}var X=o.util.createBuffer(x.publicKeyModulus).toHex(),te=o.util.createBuffer(x.publicKeyExponent).toHex();return h.setRsaPublicKey(new e(X,16),new e(te,16))},h.publicKeyToAsn1=h.publicKeyToSubjectPublicKeyInfo=function(F){return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(h.oids.rsaEncryption).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")]),u.create(u.Class.UNIVERSAL,u.Type.BITSTRING,!1,[h.publicKeyToRSAPublicKey(F)])])},h.publicKeyToRSAPublicKey=function(F){return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,j(F.n)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,j(F.e))])};function B(F,x,z){var J=o.util.createBuffer(),Z=Math.ceil(x.n.bitLength()/8);if(F.length>Z-11){var X=new Error("Message is too long for PKCS#1 v1.5 padding.");throw X.length=F.length,X.max=Z-11,X}J.putByte(0),J.putByte(z);var te=Z-3-F.length,be;if(z===0||z===1){be=z===0?0:255;for(var Ae=0;Ae<te;++Ae)J.putByte(be)}else for(;te>0;){for(var Ne=0,ke=o.random.getBytes(te),Ae=0;Ae<te;++Ae)be=ke.charCodeAt(Ae),be===0?++Ne:J.putByte(be);te=Ne}return J.putByte(0),J.putBytes(F),J}function U(F,x,z,J){var Z=Math.ceil(x.n.bitLength()/8),X=o.util.createBuffer(F),te=X.getByte(),be=X.getByte();if(te!==0||z&&be!==0&&be!==1||!z&&be!=2||z&&be===0&&typeof J>"u")throw new Error("Encryption block is invalid.");var Ae=0;if(be===0){Ae=Z-3-J;for(var Ne=0;Ne<Ae;++Ne)if(X.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(be===1)for(Ae=0;X.length()>1;){if(X.getByte()!==255){--X.read;break}++Ae}else if(be===2)for(Ae=0;X.length()>1;){if(X.getByte()===0){--X.read;break}++Ae}var ke=X.getByte();if(ke!==0||Ae!==Z-3-X.length())throw new Error("Encryption block is invalid.");return X.getBytes()}function $(F,x,z){typeof x=="function"&&(z=x,x={}),x=x||{};var J={algorithm:{name:x.algorithm||"PRIMEINC",options:{workers:x.workers||2,workLoad:x.workLoad||100,workerScript:x.workerScript}}};"prng"in x&&(J.prng=x.prng),Z();function Z(){X(F.pBits,function(be,Ae){if(be)return z(be);if(F.p=Ae,F.q!==null)return te(be,F.q);X(F.qBits,te)})}function X(be,Ae){o.prime.generateProbablePrime(be,J,Ae)}function te(be,Ae){if(be)return z(be);if(F.q=Ae,F.p.compareTo(F.q)<0){var Ne=F.p;F.p=F.q,F.q=Ne}if(F.p.subtract(e.ONE).gcd(F.e).compareTo(e.ONE)!==0){F.p=null,Z();return}if(F.q.subtract(e.ONE).gcd(F.e).compareTo(e.ONE)!==0){F.q=null,X(F.qBits,te);return}if(F.p1=F.p.subtract(e.ONE),F.q1=F.q.subtract(e.ONE),F.phi=F.p1.multiply(F.q1),F.phi.gcd(F.e).compareTo(e.ONE)!==0){F.p=F.q=null,Z();return}if(F.n=F.p.multiply(F.q),F.n.bitLength()!==F.bits){F.q=null,X(F.qBits,te);return}var ke=F.e.modInverse(F.phi);F.keys={privateKey:h.rsa.setPrivateKey(F.n,F.e,ke,F.p,F.q,ke.mod(F.p1),ke.mod(F.q1),F.q.modInverse(F.p)),publicKey:h.rsa.setPublicKey(F.n,F.e)},z(null,F.keys)}}function j(F){var x=F.toString(16);x[0]>="8"&&(x="00"+x);var z=o.util.hexToBytes(x);return z.length>1&&(z.charCodeAt(0)===0&&!(z.charCodeAt(1)&128)||z.charCodeAt(0)===255&&(z.charCodeAt(1)&128)===128)?z.substr(1):z}function M(F){return F<=100?27:F<=150?18:F<=200?15:F<=250?12:F<=300?9:F<=350?8:F<=400?7:F<=500?6:F<=600?5:F<=800?4:F<=1250?3:2}function q(F){return o.util.isNodejs&&typeof r[F]=="function"}function Q(F){return typeof p.globalScope<"u"&&typeof p.globalScope.crypto=="object"&&typeof p.globalScope.crypto.subtle=="object"&&typeof p.globalScope.crypto.subtle[F]=="function"}function K(F){return typeof p.globalScope<"u"&&typeof p.globalScope.msCrypto=="object"&&typeof p.globalScope.msCrypto.subtle=="object"&&typeof p.globalScope.msCrypto.subtle[F]=="function"}function G(F){for(var x=o.util.hexToBytes(F.toString(16)),z=new Uint8Array(x.length),J=0;J<x.length;++J)z[J]=x.charCodeAt(J);return z}return rsa}var pbe,hasRequiredPbe;function requirePbe(){if(hasRequiredPbe)return pbe;hasRequiredPbe=1;var o=requireForge();if(requireAes(),requireAsn1(),requireDes(),requireMd(),requireOids(),requirePbkdf2(),requirePem(),requireRandom(),requireRc2(),requireRsa(),requireUtil$3(),typeof e>"u")var e=o.jsbn.BigInteger;var r=o.asn1,u=o.pki=o.pki||{};pbe=u.pbe=o.pbe=o.pbe||{};var p=u.oids,h={name:"EncryptedPrivateKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},y={name:"PBES2Algorithms",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},c={name:"pkcs-12PbeParams",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"iterations"}]};u.encryptPrivateKeyInfo=function(L,k,B){B=B||{},B.saltSize=B.saltSize||8,B.count=B.count||2048,B.algorithm=B.algorithm||"aes128",B.prfAlgorithm=B.prfAlgorithm||"sha1";var U=o.random.getBytesSync(B.saltSize),$=B.count,j=r.integerToDer($),M,q,Q;if(B.algorithm.indexOf("aes")===0||B.algorithm==="des"){var K,G,F;switch(B.algorithm){case"aes128":M=16,K=16,G=p["aes128-CBC"],F=o.aes.createEncryptionCipher;break;case"aes192":M=24,K=16,G=p["aes192-CBC"],F=o.aes.createEncryptionCipher;break;case"aes256":M=32,K=16,G=p["aes256-CBC"],F=o.aes.createEncryptionCipher;break;case"des":M=8,K=8,G=p.desCBC,F=o.des.createEncryptionCipher;break;default:var x=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw x.algorithm=B.algorithm,x}var z="hmacWith"+B.prfAlgorithm.toUpperCase(),J=P(z),Z=o.pkcs5.pbkdf2(k,U,$,M,J),X=o.random.getBytesSync(K),te=F(Z);te.start(X),te.update(r.toDer(L)),te.finish(),Q=te.output.getBytes();var be=N(U,j,M,z);q=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(p.pkcs5PBES2).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(p.pkcs5PBKDF2).getBytes()),be]),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(G).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,X)])])])}else if(B.algorithm==="3des"){M=24;var Ae=new o.util.ByteBuffer(U),Z=u.pbe.generatePkcs12Key(k,Ae,1,$,M),X=u.pbe.generatePkcs12Key(k,Ae,2,$,M),te=o.des.createEncryptionCipher(Z);te.start(X),te.update(r.toDer(L)),te.finish(),Q=te.output.getBytes(),q=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(p["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,U),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,j.getBytes())])])}else{var x=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw x.algorithm=B.algorithm,x}var Ne=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[q,r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,Q)]);return Ne},u.decryptPrivateKeyInfo=function(L,k){var B=null,U={},$=[];if(!r.validate(L,h,U,$)){var j=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw j.errors=$,j}var M=r.derToOid(U.encryptionOid),q=u.pbe.getCipher(M,U.encryptionParams,k),Q=o.util.createBuffer(U.encryptedData);return q.update(Q),q.finish()&&(B=r.fromDer(q.output)),B},u.encryptedPrivateKeyToPem=function(L,k){var B={type:"ENCRYPTED PRIVATE KEY",body:r.toDer(L).getBytes()};return o.pem.encode(B,{maxline:k})},u.encryptedPrivateKeyFromPem=function(L){var k=o.pem.decode(L)[0];if(k.type!=="ENCRYPTED PRIVATE KEY"){var B=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw B.headerType=k.type,B}if(k.procType&&k.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return r.fromDer(k.body)},u.encryptRsaPrivateKey=function(L,k,B){if(B=B||{},!B.legacy){var U=u.wrapRsaPrivateKey(u.privateKeyToAsn1(L));return U=u.encryptPrivateKeyInfo(U,k,B),u.encryptedPrivateKeyToPem(U)}var $,j,M,q;switch(B.algorithm){case"aes128":$="AES-128-CBC",M=16,j=o.random.getBytesSync(16),q=o.aes.createEncryptionCipher;break;case"aes192":$="AES-192-CBC",M=24,j=o.random.getBytesSync(16),q=o.aes.createEncryptionCipher;break;case"aes256":$="AES-256-CBC",M=32,j=o.random.getBytesSync(16),q=o.aes.createEncryptionCipher;break;case"3des":$="DES-EDE3-CBC",M=24,j=o.random.getBytesSync(8),q=o.des.createEncryptionCipher;break;case"des":$="DES-CBC",M=8,j=o.random.getBytesSync(8),q=o.des.createEncryptionCipher;break;default:var Q=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+B.algorithm+'".');throw Q.algorithm=B.algorithm,Q}var K=o.pbe.opensslDeriveBytes(k,j.substr(0,8),M),G=q(K);G.start(j),G.update(r.toDer(u.privateKeyToAsn1(L))),G.finish();var F={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:$,parameters:o.util.bytesToHex(j).toUpperCase()},body:G.output.getBytes()};return o.pem.encode(F)},u.decryptRsaPrivateKey=function(L,k){var B=null,U=o.pem.decode(L)[0];if(U.type!=="ENCRYPTED PRIVATE KEY"&&U.type!=="PRIVATE KEY"&&U.type!=="RSA PRIVATE KEY"){var $=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw $.headerType=$,$}if(U.procType&&U.procType.type==="ENCRYPTED"){var j,M;switch(U.dekInfo.algorithm){case"DES-CBC":j=8,M=o.des.createDecryptionCipher;break;case"DES-EDE3-CBC":j=24,M=o.des.createDecryptionCipher;break;case"AES-128-CBC":j=16,M=o.aes.createDecryptionCipher;break;case"AES-192-CBC":j=24,M=o.aes.createDecryptionCipher;break;case"AES-256-CBC":j=32,M=o.aes.createDecryptionCipher;break;case"RC2-40-CBC":j=5,M=function(F){return o.rc2.createDecryptionCipher(F,40)};break;case"RC2-64-CBC":j=8,M=function(F){return o.rc2.createDecryptionCipher(F,64)};break;case"RC2-128-CBC":j=16,M=function(F){return o.rc2.createDecryptionCipher(F,128)};break;default:var $=new Error('Could not decrypt private key; unsupported encryption algorithm "'+U.dekInfo.algorithm+'".');throw $.algorithm=U.dekInfo.algorithm,$}var q=o.util.hexToBytes(U.dekInfo.parameters),Q=o.pbe.opensslDeriveBytes(k,q.substr(0,8),j),K=M(Q);if(K.start(q),K.update(o.util.createBuffer(U.body)),K.finish())B=K.output.getBytes();else return B}else B=U.body;return U.type==="ENCRYPTED PRIVATE KEY"?B=u.decryptPrivateKeyInfo(r.fromDer(B),k):B=r.fromDer(B),B!==null&&(B=u.privateKeyFromAsn1(B)),B},u.pbe.generatePkcs12Key=function(L,k,B,U,$,j){var M,q;if(typeof j>"u"||j===null){if(!("sha1"in o.md))throw new Error('"sha1" hash algorithm unavailable.');j=o.md.sha1.create()}var Q=j.digestLength,K=j.blockLength,G=new o.util.ByteBuffer,F=new o.util.ByteBuffer;if(L!=null){for(q=0;q<L.length;q++)F.putInt16(L.charCodeAt(q));F.putInt16(0)}var x=F.length(),z=k.length(),J=new o.util.ByteBuffer;J.fillWithByte(B,K);var Z=K*Math.ceil(z/K),X=new o.util.ByteBuffer;for(q=0;q<Z;q++)X.putByte(k.at(q%z));var te=K*Math.ceil(x/K),be=new o.util.ByteBuffer;for(q=0;q<te;q++)be.putByte(F.at(q%x));var Ae=X;Ae.putBuffer(be);for(var Ne=Math.ceil($/Q),ke=1;ke<=Ne;ke++){var Ue=new o.util.ByteBuffer;Ue.putBytes(J.bytes()),Ue.putBytes(Ae.bytes());for(var qe=0;qe<U;qe++)j.start(),j.update(Ue.getBytes()),Ue=j.digest();var Ge=new o.util.ByteBuffer;for(q=0;q<K;q++)Ge.putByte(Ue.at(q%Q));var Qe=Math.ceil(z/K)+Math.ceil(x/K),Ke=new o.util.ByteBuffer;for(M=0;M<Qe;M++){var Be=new o.util.ByteBuffer(Ae.getBytes(K)),Re=511;for(q=Ge.length()-1;q>=0;q--)Re=Re>>8,Re+=Ge.at(q)+Be.at(q),Be.setAt(q,Re&255);Ke.putBuffer(Be)}Ae=Ke,G.putBuffer(Ue)}return G.truncate(G.length()-$),G},u.pbe.getCipher=function(L,k,B){switch(L){case u.oids.pkcs5PBES2:return u.pbe.getCipherForPBES2(L,k,B);case u.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case u.oids["pbewithSHAAnd40BitRC2-CBC"]:return u.pbe.getCipherForPKCS12PBE(L,k,B);default:var U=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw U.oid=L,U.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],U}},u.pbe.getCipherForPBES2=function(L,k,B){var U={},$=[];if(!r.validate(k,y,U,$)){var j=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw j.errors=$,j}if(L=r.derToOid(U.kdfOid),L!==u.oids.pkcs5PBKDF2){var j=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw j.oid=L,j.supportedOids=["pkcs5PBKDF2"],j}if(L=r.derToOid(U.encOid),L!==u.oids["aes128-CBC"]&&L!==u.oids["aes192-CBC"]&&L!==u.oids["aes256-CBC"]&&L!==u.oids["des-EDE3-CBC"]&&L!==u.oids.desCBC){var j=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw j.oid=L,j.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],j}var M=U.kdfSalt,q=o.util.createBuffer(U.kdfIterationCount);q=q.getInt(q.length()<<3);var Q,K;switch(u.oids[L]){case"aes128-CBC":Q=16,K=o.aes.createDecryptionCipher;break;case"aes192-CBC":Q=24,K=o.aes.createDecryptionCipher;break;case"aes256-CBC":Q=32,K=o.aes.createDecryptionCipher;break;case"des-EDE3-CBC":Q=24,K=o.des.createDecryptionCipher;break;case"desCBC":Q=8,K=o.des.createDecryptionCipher;break}var G=m(U.prfOid),F=o.pkcs5.pbkdf2(B,M,q,Q,G),x=U.encIv,z=K(F);return z.start(x),z},u.pbe.getCipherForPKCS12PBE=function(L,k,B){var U={},$=[];if(!r.validate(k,c,U,$)){var j=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw j.errors=$,j}var M=o.util.createBuffer(U.salt),q=o.util.createBuffer(U.iterations);q=q.getInt(q.length()<<3);var Q,K,G;switch(L){case u.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:Q=24,K=8,G=o.des.startDecrypting;break;case u.oids["pbewithSHAAnd40BitRC2-CBC"]:Q=5,K=8,G=function(Z,X){var te=o.rc2.createDecryptionCipher(Z,40);return te.start(X,null),te};break;default:var j=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw j.oid=L,j}var F=m(U.prfOid),x=u.pbe.generatePkcs12Key(B,M,1,q,Q,F);F.start();var z=u.pbe.generatePkcs12Key(B,M,2,q,K,F);return G(x,z)},u.pbe.opensslDeriveBytes=function(L,k,B,U){if(typeof U>"u"||U===null){if(!("md5"in o.md))throw new Error('"md5" hash algorithm unavailable.');U=o.md.md5.create()}k===null&&(k="");for(var $=[d(U,L+k)],j=16,M=1;j<B;++M,j+=16)$.push(d(U,$[M-1]+L+k));return $.join("").substr(0,B)};function d(L,k){return L.start().update(k).digest().getBytes()}function m(L){var k;if(!L)k="hmacWithSHA1";else if(k=u.oids[r.derToOid(L)],!k){var B=new Error("Unsupported PRF OID.");throw B.oid=L,B.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],B}return P(k)}function P(L){var k=o.md;switch(L){case"hmacWithSHA224":k=o.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":L=L.substr(8).toLowerCase();break;default:var B=new Error("Unsupported PRF algorithm.");throw B.algorithm=L,B.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],B}if(!k||!(L in k))throw new Error("Unknown hash algorithm: "+L);return k[L].create()}function N(L,k,B,U){var $=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,L),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,k.getBytes())]);return U!=="hmacWithSHA1"&&$.value.push(r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,o.util.hexToBytes(B.toString(16))),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(u.oids[U]).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])),$}return pbe}var pkcs12={exports:{}},pkcs7asn1={exports:{}},hasRequiredPkcs7asn1;function requirePkcs7asn1(){if(hasRequiredPkcs7asn1)return pkcs7asn1.exports;hasRequiredPkcs7asn1=1;var o=requireForge();requireAsn1(),requireUtil$3();var e=o.asn1,r=pkcs7asn1.exports=o.pkcs7asn1=o.pkcs7asn1||{};o.pkcs7=o.pkcs7||{},o.pkcs7.asn1=r;var u={name:"ContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};r.contentInfoValidator=u;var p={name:"EncryptedContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};r.envelopedDataValidator={name:"EnvelopedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(p)},r.encryptedDataValidator={name:"EncryptedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"}].concat(p)};var h={name:"SignerInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};return r.signedDataValidator={name:"SignedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},u,{name:"SignedData.Certificates",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,capture:"signerInfos",optional:!0,value:[h]}]},r.recipientInfoValidator={name:"RecipientInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]},pkcs7asn1.exports}var x509={exports:{}},mgf1={exports:{}},hasRequiredMgf1;function requireMgf1(){if(hasRequiredMgf1)return mgf1.exports;hasRequiredMgf1=1;var o=requireForge();requireUtil$3(),o.mgf=o.mgf||{};var e=mgf1.exports=o.mgf.mgf1=o.mgf1=o.mgf1||{};return e.create=function(r){var u={generate:function(p,h){for(var y=new o.util.ByteBuffer,c=Math.ceil(h/r.digestLength),d=0;d<c;d++){var m=new o.util.ByteBuffer;m.putInt32(d),r.start(),r.update(p+m.getBytes()),y.putBuffer(r.digest())}return y.truncate(y.length()-h),y.getBytes()}};return u},mgf1.exports}var mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var o=requireForge();return requireMgf1(),mgf=o.mgf=o.mgf||{},o.mgf.mgf1=o.mgf1,mgf}var pss={exports:{}},hasRequiredPss;function requirePss(){if(hasRequiredPss)return pss.exports;hasRequiredPss=1;var o=requireForge();requireRandom(),requireUtil$3();var e=pss.exports=o.pss=o.pss||{};return e.create=function(r){arguments.length===3&&(r={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var u=r.md,p=r.mgf,h=u.digestLength,y=r.salt||null;typeof y=="string"&&(y=o.util.createBuffer(y));var c;if("saltLength"in r)c=r.saltLength;else if(y!==null)c=y.length();else throw new Error("Salt length not specified or specific salt not given.");if(y!==null&&y.length()!==c)throw new Error("Given salt length does not match length of given salt.");var d=r.prng||o.random,m={};return m.encode=function(P,N){var L,k=N-1,B=Math.ceil(k/8),U=P.digest().getBytes();if(B<h+c+2)throw new Error("Message is too long to encrypt.");var $;y===null?$=d.getBytesSync(c):$=y.bytes();var j=new o.util.ByteBuffer;j.fillWithByte(0,8),j.putBytes(U),j.putBytes($),u.start(),u.update(j.getBytes());var M=u.digest().getBytes(),q=new o.util.ByteBuffer;q.fillWithByte(0,B-c-h-2),q.putByte(1),q.putBytes($);var Q=q.getBytes(),K=B-h-1,G=p.generate(M,K),F="";for(L=0;L<K;L++)F+=String.fromCharCode(Q.charCodeAt(L)^G.charCodeAt(L));var x=65280>>8*B-k&255;return F=String.fromCharCode(F.charCodeAt(0)&~x)+F.substr(1),F+M+""},m.verify=function(P,N,L){var k,B=L-1,U=Math.ceil(B/8);if(N=N.substr(-U),U<h+c+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(N.charCodeAt(U-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var $=U-h-1,j=N.substr(0,$),M=N.substr($,h),q=65280>>8*U-B&255;if(j.charCodeAt(0)&q)throw new Error("Bits beyond keysize not zero as expected.");var Q=p.generate(M,$),K="";for(k=0;k<$;k++)K+=String.fromCharCode(j.charCodeAt(k)^Q.charCodeAt(k));K=String.fromCharCode(K.charCodeAt(0)&~q)+K.substr(1);var G=U-h-c-2;for(k=0;k<G;k++)if(K.charCodeAt(k)!==0)throw new Error("Leftmost octets not zero as expected");if(K.charCodeAt(G)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var F=K.substr(-c),x=new o.util.ByteBuffer;x.fillWithByte(0,8),x.putBytes(P),x.putBytes(F),u.start(),u.update(x.getBytes());var z=u.digest().getBytes();return M===z},m},pss.exports}var hasRequiredX509;function requireX509(){if(hasRequiredX509)return x509.exports;hasRequiredX509=1;var o=requireForge();requireAes(),requireAsn1(),requireDes(),requireMd(),requireMgf(),requireOids(),requirePem(),requirePss(),requireRsa(),requireUtil$3();var e=o.asn1,r=x509.exports=o.pki=o.pki||{},u=r.oids,p={};p.CN=u.commonName,p.commonName="CN",p.C=u.countryName,p.countryName="C",p.L=u.localityName,p.localityName="L",p.ST=u.stateOrProvinceName,p.stateOrProvinceName="ST",p.O=u.organizationName,p.organizationName="O",p.OU=u.organizationalUnitName,p.organizationalUnitName="OU",p.E=u.emailAddress,p.emailAddress="E";var h=o.pki.rsa.publicKeyValidator,y={name:"Certificate",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:e.Class.UNIVERSAL,type:e.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:e.Class.UNIVERSAL,type:e.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:e.Class.UNIVERSAL,type:e.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:e.Class.UNIVERSAL,type:e.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},h,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:e.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:e.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},c={name:"rsapss",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:e.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:e.Class.UNIVERSAL,type:e.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:e.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:e.Class.UNIVERSAL,type:e.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},d={name:"CertificationRequestInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},h,{name:"CertificationRequestInfo.attributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0}]}]}]},m={name:"CertificationRequest",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[d,{name:"CertificationRequest.signatureAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};r.RDNAttributesAsArray=function(G,F){for(var x=[],z,J,Z,X=0;X<G.value.length;++X){z=G.value[X];for(var te=0;te<z.value.length;++te)Z={},J=z.value[te],Z.type=e.derToOid(J.value[0].value),Z.value=J.value[1].value,Z.valueTagClass=J.value[1].type,Z.type in u&&(Z.name=u[Z.type],Z.name in p&&(Z.shortName=p[Z.name])),F&&(F.update(Z.type),F.update(Z.value)),x.push(Z)}return x},r.CRIAttributesAsArray=function(G){for(var F=[],x=0;x<G.length;++x)for(var z=G[x],J=e.derToOid(z.value[0].value),Z=z.value[1].value,X=0;X<Z.length;++X){var te={};if(te.type=J,te.value=Z[X].value,te.valueTagClass=Z[X].type,te.type in u&&(te.name=u[te.type],te.name in p&&(te.shortName=p[te.name])),te.type===u.extensionRequest){te.extensions=[];for(var be=0;be<te.value.length;++be)te.extensions.push(r.certificateExtensionFromAsn1(te.value[be]))}F.push(te)}return F};function P(G,F){typeof F=="string"&&(F={shortName:F});for(var x=null,z,J=0;x===null&&J<G.attributes.length;++J)z=G.attributes[J],(F.type&&F.type===z.type||F.name&&F.name===z.name||F.shortName&&F.shortName===z.shortName)&&(x=z);return x}var N=function(G,F,x){var z={};if(G!==u["RSASSA-PSS"])return z;x&&(z={hash:{algorithmOid:u.sha1},mgf:{algorithmOid:u.mgf1,hash:{algorithmOid:u.sha1}},saltLength:20});var J={},Z=[];if(!e.validate(F,c,J,Z)){var X=new Error("Cannot read RSASSA-PSS parameter block.");throw X.errors=Z,X}return J.hashOid!==void 0&&(z.hash=z.hash||{},z.hash.algorithmOid=e.derToOid(J.hashOid)),J.maskGenOid!==void 0&&(z.mgf=z.mgf||{},z.mgf.algorithmOid=e.derToOid(J.maskGenOid),z.mgf.hash=z.mgf.hash||{},z.mgf.hash.algorithmOid=e.derToOid(J.maskGenHashOid)),J.saltLength!==void 0&&(z.saltLength=J.saltLength.charCodeAt(0)),z},L=function(G){switch(u[G.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return o.md.sha1.create();case"md5WithRSAEncryption":return o.md.md5.create();case"sha256WithRSAEncryption":return o.md.sha256.create();case"sha384WithRSAEncryption":return o.md.sha384.create();case"sha512WithRSAEncryption":return o.md.sha512.create();case"RSASSA-PSS":return o.md.sha256.create();default:var F=new Error("Could not compute "+G.type+" digest. Unknown signature OID.");throw F.signatureOid=G.signatureOid,F}},k=function(G){var F=G.certificate,x;switch(F.signatureOid){case u.sha1WithRSAEncryption:case u.sha1WithRSASignature:break;case u["RSASSA-PSS"]:var z,J;if(z=u[F.signatureParameters.mgf.hash.algorithmOid],z===void 0||o.md[z]===void 0){var Z=new Error("Unsupported MGF hash function.");throw Z.oid=F.signatureParameters.mgf.hash.algorithmOid,Z.name=z,Z}if(J=u[F.signatureParameters.mgf.algorithmOid],J===void 0||o.mgf[J]===void 0){var Z=new Error("Unsupported MGF function.");throw Z.oid=F.signatureParameters.mgf.algorithmOid,Z.name=J,Z}if(J=o.mgf[J].create(o.md[z].create()),z=u[F.signatureParameters.hash.algorithmOid],z===void 0||o.md[z]===void 0){var Z=new Error("Unsupported RSASSA-PSS hash function.");throw Z.oid=F.signatureParameters.hash.algorithmOid,Z.name=z,Z}x=o.pss.create(o.md[z].create(),J,F.signatureParameters.saltLength);break}return F.publicKey.verify(G.md.digest().getBytes(),G.signature,x)};r.certificateFromPem=function(G,F,x){var z=o.pem.decode(G)[0];if(z.type!=="CERTIFICATE"&&z.type!=="X509 CERTIFICATE"&&z.type!=="TRUSTED CERTIFICATE"){var J=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw J.headerType=z.type,J}if(z.procType&&z.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var Z=e.fromDer(z.body,x);return r.certificateFromAsn1(Z,F)},r.certificateToPem=function(G,F){var x={type:"CERTIFICATE",body:e.toDer(r.certificateToAsn1(G)).getBytes()};return o.pem.encode(x,{maxline:F})},r.publicKeyFromPem=function(G){var F=o.pem.decode(G)[0];if(F.type!=="PUBLIC KEY"&&F.type!=="RSA PUBLIC KEY"){var x=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw x.headerType=F.type,x}if(F.procType&&F.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var z=e.fromDer(F.body);return r.publicKeyFromAsn1(z)},r.publicKeyToPem=function(G,F){var x={type:"PUBLIC KEY",body:e.toDer(r.publicKeyToAsn1(G)).getBytes()};return o.pem.encode(x,{maxline:F})},r.publicKeyToRSAPublicKeyPem=function(G,F){var x={type:"RSA PUBLIC KEY",body:e.toDer(r.publicKeyToRSAPublicKey(G)).getBytes()};return o.pem.encode(x,{maxline:F})},r.getPublicKeyFingerprint=function(G,F){F=F||{};var x=F.md||o.md.sha1.create(),z=F.type||"RSAPublicKey",J;switch(z){case"RSAPublicKey":J=e.toDer(r.publicKeyToRSAPublicKey(G)).getBytes();break;case"SubjectPublicKeyInfo":J=e.toDer(r.publicKeyToAsn1(G)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+F.type+'".')}x.start(),x.update(J);var Z=x.digest();if(F.encoding==="hex"){var X=Z.toHex();return F.delimiter?X.match(/.{2}/g).join(F.delimiter):X}else{if(F.encoding==="binary")return Z.getBytes();if(F.encoding)throw new Error('Unknown encoding "'+F.encoding+'".')}return Z},r.certificationRequestFromPem=function(G,F,x){var z=o.pem.decode(G)[0];if(z.type!=="CERTIFICATE REQUEST"){var J=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw J.headerType=z.type,J}if(z.procType&&z.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var Z=e.fromDer(z.body,x);return r.certificationRequestFromAsn1(Z,F)},r.certificationRequestToPem=function(G,F){var x={type:"CERTIFICATE REQUEST",body:e.toDer(r.certificationRequestToAsn1(G)).getBytes()};return o.pem.encode(x,{maxline:F})},r.createCertificate=function(){var G={};return G.version=2,G.serialNumber="00",G.signatureOid=null,G.signature=null,G.siginfo={},G.siginfo.algorithmOid=null,G.validity={},G.validity.notBefore=new Date,G.validity.notAfter=new Date,G.issuer={},G.issuer.getField=function(F){return P(G.issuer,F)},G.issuer.addField=function(F){U([F]),G.issuer.attributes.push(F)},G.issuer.attributes=[],G.issuer.hash=null,G.subject={},G.subject.getField=function(F){return P(G.subject,F)},G.subject.addField=function(F){U([F]),G.subject.attributes.push(F)},G.subject.attributes=[],G.subject.hash=null,G.extensions=[],G.publicKey=null,G.md=null,G.setSubject=function(F,x){U(F),G.subject.attributes=F,delete G.subject.uniqueId,x&&(G.subject.uniqueId=x),G.subject.hash=null},G.setIssuer=function(F,x){U(F),G.issuer.attributes=F,delete G.issuer.uniqueId,x&&(G.issuer.uniqueId=x),G.issuer.hash=null},G.setExtensions=function(F){for(var x=0;x<F.length;++x)$(F[x],{cert:G});G.extensions=F},G.getExtension=function(F){typeof F=="string"&&(F={name:F});for(var x=null,z,J=0;x===null&&J<G.extensions.length;++J)z=G.extensions[J],(F.id&&z.id===F.id||F.name&&z.name===F.name)&&(x=z);return x},G.sign=function(F,x){G.md=x||o.md.sha1.create();var z=u[G.md.algorithm+"WithRSAEncryption"];if(!z){var J=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw J.algorithm=G.md.algorithm,J}G.signatureOid=G.siginfo.algorithmOid=z,G.tbsCertificate=r.getTBSCertificate(G);var Z=e.toDer(G.tbsCertificate);G.md.update(Z.getBytes()),G.signature=F.sign(G.md)},G.verify=function(F){var x=!1;if(!G.issued(F)){var z=F.issuer,J=G.subject,Z=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw Z.expectedIssuer=J.attributes,Z.actualIssuer=z.attributes,Z}var X=F.md;if(X===null){X=L({signatureOid:F.signatureOid,type:"certificate"});var te=F.tbsCertificate||r.getTBSCertificate(F),be=e.toDer(te);X.update(be.getBytes())}return X!==null&&(x=k({certificate:G,md:X,signature:F.signature})),x},G.isIssuer=function(F){var x=!1,z=G.issuer,J=F.subject;if(z.hash&&J.hash)x=z.hash===J.hash;else if(z.attributes.length===J.attributes.length){x=!0;for(var Z,X,te=0;x&&te<z.attributes.length;++te)Z=z.attributes[te],X=J.attributes[te],(Z.type!==X.type||Z.value!==X.value)&&(x=!1)}return x},G.issued=function(F){return F.isIssuer(G)},G.generateSubjectKeyIdentifier=function(){return r.getPublicKeyFingerprint(G.publicKey,{type:"RSAPublicKey"})},G.verifySubjectKeyIdentifier=function(){for(var F=u.subjectKeyIdentifier,x=0;x<G.extensions.length;++x){var z=G.extensions[x];if(z.id===F){var J=G.generateSubjectKeyIdentifier().getBytes();return o.util.hexToBytes(z.subjectKeyIdentifier)===J}}return!1},G},r.certificateFromAsn1=function(G,F){var x={},z=[];if(!e.validate(G,y,x,z)){var J=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw J.errors=z,J}var Z=e.derToOid(x.publicKeyOid);if(Z!==r.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var X=r.createCertificate();X.version=x.certVersion?x.certVersion.charCodeAt(0):0;var te=o.util.createBuffer(x.certSerialNumber);X.serialNumber=te.toHex(),X.signatureOid=o.asn1.derToOid(x.certSignatureOid),X.signatureParameters=N(X.signatureOid,x.certSignatureParams,!0),X.siginfo.algorithmOid=o.asn1.derToOid(x.certinfoSignatureOid),X.siginfo.parameters=N(X.siginfo.algorithmOid,x.certinfoSignatureParams,!1),X.signature=x.certSignature;var be=[];if(x.certValidity1UTCTime!==void 0&&be.push(e.utcTimeToDate(x.certValidity1UTCTime)),x.certValidity2GeneralizedTime!==void 0&&be.push(e.generalizedTimeToDate(x.certValidity2GeneralizedTime)),x.certValidity3UTCTime!==void 0&&be.push(e.utcTimeToDate(x.certValidity3UTCTime)),x.certValidity4GeneralizedTime!==void 0&&be.push(e.generalizedTimeToDate(x.certValidity4GeneralizedTime)),be.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(be.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(X.validity.notBefore=be[0],X.validity.notAfter=be[1],X.tbsCertificate=x.tbsCertificate,F){X.md=L({signatureOid:X.signatureOid,type:"certificate"});var Ae=e.toDer(X.tbsCertificate);X.md.update(Ae.getBytes())}var Ne=o.md.sha1.create(),ke=e.toDer(x.certIssuer);Ne.update(ke.getBytes()),X.issuer.getField=function(Ge){return P(X.issuer,Ge)},X.issuer.addField=function(Ge){U([Ge]),X.issuer.attributes.push(Ge)},X.issuer.attributes=r.RDNAttributesAsArray(x.certIssuer),x.certIssuerUniqueId&&(X.issuer.uniqueId=x.certIssuerUniqueId),X.issuer.hash=Ne.digest().toHex();var Ue=o.md.sha1.create(),qe=e.toDer(x.certSubject);return Ue.update(qe.getBytes()),X.subject.getField=function(Ge){return P(X.subject,Ge)},X.subject.addField=function(Ge){U([Ge]),X.subject.attributes.push(Ge)},X.subject.attributes=r.RDNAttributesAsArray(x.certSubject),x.certSubjectUniqueId&&(X.subject.uniqueId=x.certSubjectUniqueId),X.subject.hash=Ue.digest().toHex(),x.certExtensions?X.extensions=r.certificateExtensionsFromAsn1(x.certExtensions):X.extensions=[],X.publicKey=r.publicKeyFromAsn1(x.subjectPublicKeyInfo),X},r.certificateExtensionsFromAsn1=function(G){for(var F=[],x=0;x<G.value.length;++x)for(var z=G.value[x],J=0;J<z.value.length;++J)F.push(r.certificateExtensionFromAsn1(z.value[J]));return F},r.certificateExtensionFromAsn1=function(G){var F={};if(F.id=e.derToOid(G.value[0].value),F.critical=!1,G.value[1].type===e.Type.BOOLEAN?(F.critical=G.value[1].value.charCodeAt(0)!==0,F.value=G.value[2].value):F.value=G.value[1].value,F.id in u){if(F.name=u[F.id],F.name==="keyUsage"){var x=e.fromDer(F.value),z=0,J=0;x.value.length>1&&(z=x.value.charCodeAt(1),J=x.value.length>2?x.value.charCodeAt(2):0),F.digitalSignature=(z&128)===128,F.nonRepudiation=(z&64)===64,F.keyEncipherment=(z&32)===32,F.dataEncipherment=(z&16)===16,F.keyAgreement=(z&8)===8,F.keyCertSign=(z&4)===4,F.cRLSign=(z&2)===2,F.encipherOnly=(z&1)===1,F.decipherOnly=(J&128)===128}else if(F.name==="basicConstraints"){var x=e.fromDer(F.value);x.value.length>0&&x.value[0].type===e.Type.BOOLEAN?F.cA=x.value[0].value.charCodeAt(0)!==0:F.cA=!1;var Z=null;x.value.length>0&&x.value[0].type===e.Type.INTEGER?Z=x.value[0].value:x.value.length>1&&(Z=x.value[1].value),Z!==null&&(F.pathLenConstraint=e.derToInteger(Z))}else if(F.name==="extKeyUsage")for(var x=e.fromDer(F.value),X=0;X<x.value.length;++X){var te=e.derToOid(x.value[X].value);te in u?F[u[te]]=!0:F[te]=!0}else if(F.name==="nsCertType"){var x=e.fromDer(F.value),z=0;x.value.length>1&&(z=x.value.charCodeAt(1)),F.client=(z&128)===128,F.server=(z&64)===64,F.email=(z&32)===32,F.objsign=(z&16)===16,F.reserved=(z&8)===8,F.sslCA=(z&4)===4,F.emailCA=(z&2)===2,F.objCA=(z&1)===1}else if(F.name==="subjectAltName"||F.name==="issuerAltName"){F.altNames=[];for(var be,x=e.fromDer(F.value),Ae=0;Ae<x.value.length;++Ae){be=x.value[Ae];var Ne={type:be.type,value:be.value};switch(F.altNames.push(Ne),be.type){case 1:case 2:case 6:break;case 7:Ne.ip=o.util.bytesToIP(be.value);break;case 8:Ne.oid=e.derToOid(be.value);break}}}else if(F.name==="subjectKeyIdentifier"){var x=e.fromDer(F.value);F.subjectKeyIdentifier=o.util.bytesToHex(x.value)}}return F},r.certificationRequestFromAsn1=function(G,F){var x={},z=[];if(!e.validate(G,m,x,z)){var J=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw J.errors=z,J}var Z=e.derToOid(x.publicKeyOid);if(Z!==r.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var X=r.createCertificationRequest();if(X.version=x.csrVersion?x.csrVersion.charCodeAt(0):0,X.signatureOid=o.asn1.derToOid(x.csrSignatureOid),X.signatureParameters=N(X.signatureOid,x.csrSignatureParams,!0),X.siginfo.algorithmOid=o.asn1.derToOid(x.csrSignatureOid),X.siginfo.parameters=N(X.siginfo.algorithmOid,x.csrSignatureParams,!1),X.signature=x.csrSignature,X.certificationRequestInfo=x.certificationRequestInfo,F){X.md=L({signatureOid:X.signatureOid,type:"certification request"});var te=e.toDer(X.certificationRequestInfo);X.md.update(te.getBytes())}var be=o.md.sha1.create();return X.subject.getField=function(Ae){return P(X.subject,Ae)},X.subject.addField=function(Ae){U([Ae]),X.subject.attributes.push(Ae)},X.subject.attributes=r.RDNAttributesAsArray(x.certificationRequestInfoSubject,be),X.subject.hash=be.digest().toHex(),X.publicKey=r.publicKeyFromAsn1(x.subjectPublicKeyInfo),X.getAttribute=function(Ae){return P(X,Ae)},X.addAttribute=function(Ae){U([Ae]),X.attributes.push(Ae)},X.attributes=r.CRIAttributesAsArray(x.certificationRequestInfoAttributes||[]),X},r.createCertificationRequest=function(){var G={};return G.version=0,G.signatureOid=null,G.signature=null,G.siginfo={},G.siginfo.algorithmOid=null,G.subject={},G.subject.getField=function(F){return P(G.subject,F)},G.subject.addField=function(F){U([F]),G.subject.attributes.push(F)},G.subject.attributes=[],G.subject.hash=null,G.publicKey=null,G.attributes=[],G.getAttribute=function(F){return P(G,F)},G.addAttribute=function(F){U([F]),G.attributes.push(F)},G.md=null,G.setSubject=function(F){U(F),G.subject.attributes=F,G.subject.hash=null},G.setAttributes=function(F){U(F),G.attributes=F},G.sign=function(F,x){G.md=x||o.md.sha1.create();var z=u[G.md.algorithm+"WithRSAEncryption"];if(!z){var J=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw J.algorithm=G.md.algorithm,J}G.signatureOid=G.siginfo.algorithmOid=z,G.certificationRequestInfo=r.getCertificationRequestInfo(G);var Z=e.toDer(G.certificationRequestInfo);G.md.update(Z.getBytes()),G.signature=F.sign(G.md)},G.verify=function(){var F=!1,x=G.md;if(x===null){x=L({signatureOid:G.signatureOid,type:"certification request"});var z=G.certificationRequestInfo||r.getCertificationRequestInfo(G),J=e.toDer(z);x.update(J.getBytes())}return x!==null&&(F=k({certificate:G,md:x,signature:G.signature})),F},G};function B(G){for(var F=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),x,z,J=G.attributes,Z=0;Z<J.length;++Z){x=J[Z];var X=x.value,te=e.Type.PRINTABLESTRING;"valueTagClass"in x&&(te=x.valueTagClass,te===e.Type.UTF8&&(X=o.util.encodeUtf8(X))),z=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(x.type).getBytes()),e.create(e.Class.UNIVERSAL,te,!1,X)])]),F.value.push(z)}return F}function U(G){for(var F,x=0;x<G.length;++x){if(F=G[x],typeof F.name>"u"&&(F.type&&F.type in r.oids?F.name=r.oids[F.type]:F.shortName&&F.shortName in p&&(F.name=r.oids[p[F.shortName]])),typeof F.type>"u")if(F.name&&F.name in r.oids)F.type=r.oids[F.name];else{var z=new Error("Attribute type not specified.");throw z.attribute=F,z}if(typeof F.shortName>"u"&&F.name&&F.name in p&&(F.shortName=p[F.name]),F.type===u.extensionRequest&&(F.valueConstructed=!0,F.valueTagClass=e.Type.SEQUENCE,!F.value&&F.extensions)){F.value=[];for(var J=0;J<F.extensions.length;++J)F.value.push(r.certificateExtensionToAsn1($(F.extensions[J])))}if(typeof F.value>"u"){var z=new Error("Attribute value not specified.");throw z.attribute=F,z}}}function $(G,F){if(F=F||{},typeof G.name>"u"&&G.id&&G.id in r.oids&&(G.name=r.oids[G.id]),typeof G.id>"u")if(G.name&&G.name in r.oids)G.id=r.oids[G.name];else{var x=new Error("Extension ID not specified.");throw x.extension=G,x}if(typeof G.value<"u")return G;if(G.name==="keyUsage"){var z=0,J=0,Z=0;G.digitalSignature&&(J|=128,z=7),G.nonRepudiation&&(J|=64,z=6),G.keyEncipherment&&(J|=32,z=5),G.dataEncipherment&&(J|=16,z=4),G.keyAgreement&&(J|=8,z=3),G.keyCertSign&&(J|=4,z=2),G.cRLSign&&(J|=2,z=1),G.encipherOnly&&(J|=1,z=0),G.decipherOnly&&(Z|=128,z=7);var X=String.fromCharCode(z);Z!==0?X+=String.fromCharCode(J)+String.fromCharCode(Z):J!==0&&(X+=String.fromCharCode(J)),G.value=e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,X)}else if(G.name==="basicConstraints")G.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),G.cA&&G.value.value.push(e.create(e.Class.UNIVERSAL,e.Type.BOOLEAN,!1,"")),"pathLenConstraint"in G&&G.value.value.push(e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(G.pathLenConstraint).getBytes()));else if(G.name==="extKeyUsage"){G.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);var te=G.value.value;for(var be in G)G[be]===!0&&(be in u?te.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(u[be]).getBytes())):be.indexOf(".")!==-1&&te.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(be).getBytes())))}else if(G.name==="nsCertType"){var z=0,J=0;G.client&&(J|=128,z=7),G.server&&(J|=64,z=6),G.email&&(J|=32,z=5),G.objsign&&(J|=16,z=4),G.reserved&&(J|=8,z=3),G.sslCA&&(J|=4,z=2),G.emailCA&&(J|=2,z=1),G.objCA&&(J|=1,z=0);var X=String.fromCharCode(z);J!==0&&(X+=String.fromCharCode(J)),G.value=e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,X)}else if(G.name==="subjectAltName"||G.name==="issuerAltName"){G.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);for(var Ae,Ne=0;Ne<G.altNames.length;++Ne){Ae=G.altNames[Ne];var X=Ae.value;if(Ae.type===7&&Ae.ip){if(X=o.util.bytesFromIP(Ae.ip),X===null){var x=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw x.extension=G,x}}else Ae.type===8&&(Ae.oid?X=e.oidToDer(e.oidToDer(Ae.oid)):X=e.oidToDer(X));G.value.value.push(e.create(e.Class.CONTEXT_SPECIFIC,Ae.type,!1,X))}}else if(G.name==="nsComment"&&F.cert){if(!/^[\x00-\x7F]*$/.test(G.comment)||G.comment.length<1||G.comment.length>128)throw new Error('Invalid "nsComment" content.');G.value=e.create(e.Class.UNIVERSAL,e.Type.IA5STRING,!1,G.comment)}else if(G.name==="subjectKeyIdentifier"&&F.cert){var ke=F.cert.generateSubjectKeyIdentifier();G.subjectKeyIdentifier=ke.toHex(),G.value=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,ke.getBytes())}else if(G.name==="authorityKeyIdentifier"&&F.cert){G.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);var te=G.value.value;if(G.keyIdentifier){var Ue=G.keyIdentifier===!0?F.cert.generateSubjectKeyIdentifier().getBytes():G.keyIdentifier;te.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!1,Ue))}if(G.authorityCertIssuer){var qe=[e.create(e.Class.CONTEXT_SPECIFIC,4,!0,[B(G.authorityCertIssuer===!0?F.cert.issuer:G.authorityCertIssuer)])];te.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,qe))}if(G.serialNumber){var Ge=o.util.hexToBytes(G.serialNumber===!0?F.cert.serialNumber:G.serialNumber);te.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!1,Ge))}}else if(G.name==="cRLDistributionPoints"){G.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);for(var te=G.value.value,Qe=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),Ke=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]),Ae,Ne=0;Ne<G.altNames.length;++Ne){Ae=G.altNames[Ne];var X=Ae.value;if(Ae.type===7&&Ae.ip){if(X=o.util.bytesFromIP(Ae.ip),X===null){var x=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw x.extension=G,x}}else Ae.type===8&&(Ae.oid?X=e.oidToDer(e.oidToDer(Ae.oid)):X=e.oidToDer(X));Ke.value.push(e.create(e.Class.CONTEXT_SPECIFIC,Ae.type,!1,X))}Qe.value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[Ke])),te.push(Qe)}if(typeof G.value>"u"){var x=new Error("Extension value not specified.");throw x.extension=G,x}return G}function j(G,F){switch(G){case u["RSASSA-PSS"]:var x=[];return F.hash.algorithmOid!==void 0&&x.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(F.hash.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])])),F.mgf.algorithmOid!==void 0&&x.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(F.mgf.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(F.mgf.hash.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])])])),F.saltLength!==void 0&&x.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(F.saltLength).getBytes())])),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,x);default:return e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")}}function M(G){var F=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);if(G.attributes.length===0)return F;for(var x=G.attributes,z=0;z<x.length;++z){var J=x[z],Z=J.value,X=e.Type.UTF8;"valueTagClass"in J&&(X=J.valueTagClass),X===e.Type.UTF8&&(Z=o.util.encodeUtf8(Z));var te=!1;"valueConstructed"in J&&(te=J.valueConstructed);var be=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(J.type).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,X,te,Z)])]);F.value.push(be)}return F}var q=new Date("1950-01-01T00:00:00Z"),Q=new Date("2050-01-01T00:00:00Z");function K(G){return G>=q&&G<Q?e.create(e.Class.UNIVERSAL,e.Type.UTCTIME,!1,e.dateToUtcTime(G)):e.create(e.Class.UNIVERSAL,e.Type.GENERALIZEDTIME,!1,e.dateToGeneralizedTime(G))}return r.getTBSCertificate=function(G){var F=K(G.validity.notBefore),x=K(G.validity.notAfter),z=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(G.version).getBytes())]),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,o.util.hexToBytes(G.serialNumber)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(G.siginfo.algorithmOid).getBytes()),j(G.siginfo.algorithmOid,G.siginfo.parameters)]),B(G.issuer),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[F,x]),B(G.subject),r.publicKeyToAsn1(G.publicKey)]);return G.issuer.uniqueId&&z.value.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+G.issuer.uniqueId)])),G.subject.uniqueId&&z.value.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!0,[e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+G.subject.uniqueId)])),G.extensions.length>0&&z.value.push(r.certificateExtensionsToAsn1(G.extensions)),z},r.getCertificationRequestInfo=function(G){var F=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(G.version).getBytes()),B(G.subject),r.publicKeyToAsn1(G.publicKey),M(G)]);return F},r.distinguishedNameToAsn1=function(G){return B(G)},r.certificateToAsn1=function(G){var F=G.tbsCertificate||r.getTBSCertificate(G);return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[F,e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(G.signatureOid).getBytes()),j(G.signatureOid,G.signatureParameters)]),e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+G.signature)])},r.certificateExtensionsToAsn1=function(G){var F=e.create(e.Class.CONTEXT_SPECIFIC,3,!0,[]),x=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);F.value.push(x);for(var z=0;z<G.length;++z)x.value.push(r.certificateExtensionToAsn1(G[z]));return F},r.certificateExtensionToAsn1=function(G){var F=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);F.value.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(G.id).getBytes())),G.critical&&F.value.push(e.create(e.Class.UNIVERSAL,e.Type.BOOLEAN,!1,""));var x=G.value;return typeof G.value!="string"&&(x=e.toDer(x).getBytes()),F.value.push(e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,x)),F},r.certificationRequestToAsn1=function(G){var F=G.certificationRequestInfo||r.getCertificationRequestInfo(G);return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[F,e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(G.signatureOid).getBytes()),j(G.signatureOid,G.signatureParameters)]),e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+G.signature)])},r.createCaStore=function(G){var F={certs:{}};F.getIssuer=function(X){var te=x(X.issuer);return te},F.addCertificate=function(X){if(typeof X=="string"&&(X=o.pki.certificateFromPem(X)),z(X.subject),!F.hasCertificate(X))if(X.subject.hash in F.certs){var te=F.certs[X.subject.hash];o.util.isArray(te)||(te=[te]),te.push(X),F.certs[X.subject.hash]=te}else F.certs[X.subject.hash]=X},F.hasCertificate=function(X){typeof X=="string"&&(X=o.pki.certificateFromPem(X));var te=x(X.subject);if(!te)return!1;o.util.isArray(te)||(te=[te]);for(var be=e.toDer(r.certificateToAsn1(X)).getBytes(),Ae=0;Ae<te.length;++Ae){var Ne=e.toDer(r.certificateToAsn1(te[Ae])).getBytes();if(be===Ne)return!0}return!1},F.listAllCertificates=function(){var X=[];for(var te in F.certs)if(F.certs.hasOwnProperty(te)){var be=F.certs[te];if(!o.util.isArray(be))X.push(be);else for(var Ae=0;Ae<be.length;++Ae)X.push(be[Ae])}return X},F.removeCertificate=function(X){var te;if(typeof X=="string"&&(X=o.pki.certificateFromPem(X)),z(X.subject),!F.hasCertificate(X))return null;var be=x(X.subject);if(!o.util.isArray(be))return te=F.certs[X.subject.hash],delete F.certs[X.subject.hash],te;for(var Ae=e.toDer(r.certificateToAsn1(X)).getBytes(),Ne=0;Ne<be.length;++Ne){var ke=e.toDer(r.certificateToAsn1(be[Ne])).getBytes();Ae===ke&&(te=be[Ne],be.splice(Ne,1))}return be.length===0&&delete F.certs[X.subject.hash],te};function x(X){return z(X),F.certs[X.hash]||null}function z(X){if(!X.hash){var te=o.md.sha1.create();X.attributes=r.RDNAttributesAsArray(B(X),te),X.hash=te.digest().toHex()}}if(G)for(var J=0;J<G.length;++J){var Z=G[J];F.addCertificate(Z)}return F},r.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},r.verifyCertificateChain=function(G,F,x){typeof x=="function"&&(x={verify:x}),x=x||{},F=F.slice(0);var z=F.slice(0),J=x.validityCheckDate;typeof J>"u"&&(J=new Date);var Z=!0,X=null,te=0;do{var be=F.shift(),Ae=null,Ne=!1;if(J&&(J<be.validity.notBefore||J>be.validity.notAfter)&&(X={message:"Certificate is not valid yet or has expired.",error:r.certificateError.certificate_expired,notBefore:be.validity.notBefore,notAfter:be.validity.notAfter,now:J}),X===null){if(Ae=F[0]||G.getIssuer(be),Ae===null&&be.isIssuer(be)&&(Ne=!0,Ae=be),Ae){var ke=Ae;o.util.isArray(ke)||(ke=[ke]);for(var Ue=!1;!Ue&&ke.length>0;){Ae=ke.shift();try{Ue=Ae.verify(be)}catch{}}Ue||(X={message:"Certificate signature is invalid.",error:r.certificateError.bad_certificate})}X===null&&(!Ae||Ne)&&!G.hasCertificate(be)&&(X={message:"Certificate is not trusted.",error:r.certificateError.unknown_ca})}if(X===null&&Ae&&!be.isIssuer(Ae)&&(X={message:"Certificate issuer is invalid.",error:r.certificateError.bad_certificate}),X===null)for(var qe={keyUsage:!0,basicConstraints:!0},Ge=0;X===null&&Ge<be.extensions.length;++Ge){var Qe=be.extensions[Ge];Qe.critical&&!(Qe.name in qe)&&(X={message:"Certificate has an unsupported critical extension.",error:r.certificateError.unsupported_certificate})}if(X===null&&(!Z||F.length===0&&(!Ae||Ne))){var Ke=be.getExtension("basicConstraints"),Be=be.getExtension("keyUsage");if(Be!==null&&(!Be.keyCertSign||Ke===null)&&(X={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:r.certificateError.bad_certificate}),X===null&&Ke!==null&&!Ke.cA&&(X={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:r.certificateError.bad_certificate}),X===null&&Be!==null&&"pathLenConstraint"in Ke){var Re=te-1;Re>Ke.pathLenConstraint&&(X={message:"Certificate basicConstraints pathLenConstraint violated.",error:r.certificateError.bad_certificate})}}var $e=X===null?!0:X.error,xe=x.verify?x.verify($e,te,z):$e;if(xe===!0)X=null;else throw $e===!0&&(X={message:"The application rejected the certificate.",error:r.certificateError.bad_certificate}),(xe||xe===0)&&(typeof xe=="object"&&!o.util.isArray(xe)?(xe.message&&(X.message=xe.message),xe.error&&(X.error=xe.error)):typeof xe=="string"&&(X.error=xe)),X;Z=!1,++te}while(F.length>0);return!0},x509.exports}var hasRequiredPkcs12;function requirePkcs12(){if(hasRequiredPkcs12)return pkcs12.exports;hasRequiredPkcs12=1;var o=requireForge();requireAsn1(),requireHmac(),requireOids(),requirePkcs7asn1(),requirePbe(),requireRandom(),requireRsa(),requireSha1$1(),requireUtil$3(),requireX509();var e=o.asn1,r=o.pki,u=pkcs12.exports=o.pkcs12=o.pkcs12||{},p={name:"ContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},h={name:"PFX",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},p,{name:"PFX.macData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:e.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},y={name:"SafeBag",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},c={name:"Attribute",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,capture:"values"}]},d={name:"CertBag",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:e.Class.UNIVERSAL,type:e.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function m(U,$,j,M){for(var q=[],Q=0;Q<U.length;Q++)for(var K=0;K<U[Q].safeBags.length;K++){var G=U[Q].safeBags[K];if(!(M!==void 0&&G.type!==M)){if($===null){q.push(G);continue}G.attributes[$]!==void 0&&G.attributes[$].indexOf(j)>=0&&q.push(G)}}return q}u.pkcs12FromAsn1=function(U,$,j){typeof $=="string"?(j=$,$=!0):$===void 0&&($=!0);var M={},q=[];if(!e.validate(U,h,M,q)){var Q=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw Q.errors=Q,Q}var K={version:M.version.charCodeAt(0),safeContents:[],getBags:function(Ae){var Ne={},ke;return"localKeyId"in Ae?ke=Ae.localKeyId:"localKeyIdHex"in Ae&&(ke=o.util.hexToBytes(Ae.localKeyIdHex)),ke===void 0&&!("friendlyName"in Ae)&&"bagType"in Ae&&(Ne[Ae.bagType]=m(K.safeContents,null,null,Ae.bagType)),ke!==void 0&&(Ne.localKeyId=m(K.safeContents,"localKeyId",ke,Ae.bagType)),"friendlyName"in Ae&&(Ne.friendlyName=m(K.safeContents,"friendlyName",Ae.friendlyName,Ae.bagType)),Ne},getBagsByFriendlyName:function(Ae,Ne){return m(K.safeContents,"friendlyName",Ae,Ne)},getBagsByLocalKeyId:function(Ae,Ne){return m(K.safeContents,"localKeyId",Ae,Ne)}};if(M.version.charCodeAt(0)!==3){var Q=new Error("PKCS#12 PFX of version other than 3 not supported.");throw Q.version=M.version.charCodeAt(0),Q}if(e.derToOid(M.contentType)!==r.oids.data){var Q=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw Q.oid=e.derToOid(M.contentType),Q}var G=M.content.value[0];if(G.tagClass!==e.Class.UNIVERSAL||G.type!==e.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(G=P(G),M.mac){var F=null,x=0,z=e.derToOid(M.macAlgorithm);switch(z){case r.oids.sha1:F=o.md.sha1.create(),x=20;break;case r.oids.sha256:F=o.md.sha256.create(),x=32;break;case r.oids.sha384:F=o.md.sha384.create(),x=48;break;case r.oids.sha512:F=o.md.sha512.create(),x=64;break;case r.oids.md5:F=o.md.md5.create(),x=16;break}if(F===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+z);var J=new o.util.ByteBuffer(M.macSalt),Z="macIterations"in M?parseInt(o.util.bytesToHex(M.macIterations),16):1,X=u.generateKey(j,J,3,Z,x,F),te=o.hmac.create();te.start(F,X),te.update(G.value);var be=te.getMac();if(be.getBytes()!==M.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return N(K,G.value,$,j),K};function P(U){if(U.composed||U.constructed){for(var $=o.util.createBuffer(),j=0;j<U.value.length;++j)$.putBytes(U.value[j].value);U.composed=U.constructed=!1,U.value=$.getBytes()}return U}function N(U,$,j,M){if($=e.fromDer($,j),$.tagClass!==e.Class.UNIVERSAL||$.type!==e.Type.SEQUENCE||$.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var q=0;q<$.value.length;q++){var Q=$.value[q],K={},G=[];if(!e.validate(Q,p,K,G)){var F=new Error("Cannot read ContentInfo.");throw F.errors=G,F}var x={encrypted:!1},z=null,J=K.content.value[0];switch(e.derToOid(K.contentType)){case r.oids.data:if(J.tagClass!==e.Class.UNIVERSAL||J.type!==e.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");z=P(J).value;break;case r.oids.encryptedData:z=L(J,M),x.encrypted=!0;break;default:var F=new Error("Unsupported PKCS#12 contentType.");throw F.contentType=e.derToOid(K.contentType),F}x.safeBags=k(z,j,M),U.safeContents.push(x)}}function L(U,$){var j={},M=[];if(!e.validate(U,o.pkcs7.asn1.encryptedDataValidator,j,M)){var q=new Error("Cannot read EncryptedContentInfo.");throw q.errors=M,q}var Q=e.derToOid(j.contentType);if(Q!==r.oids.data){var q=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw q.oid=Q,q}Q=e.derToOid(j.encAlgorithm);var K=r.pbe.getCipher(Q,j.encParameter,$),G=P(j.encryptedContentAsn1),F=o.util.createBuffer(G.value);if(K.update(F),!K.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return K.output.getBytes()}function k(U,$,j){if(!$&&U.length===0)return[];if(U=e.fromDer(U,$),U.tagClass!==e.Class.UNIVERSAL||U.type!==e.Type.SEQUENCE||U.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var M=[],q=0;q<U.value.length;q++){var Q=U.value[q],K={},G=[];if(!e.validate(Q,y,K,G)){var F=new Error("Cannot read SafeBag.");throw F.errors=G,F}var x={type:e.derToOid(K.bagId),attributes:B(K.bagAttributes)};M.push(x);var z,J,Z=K.bagValue.value[0];switch(x.type){case r.oids.pkcs8ShroudedKeyBag:if(Z=r.decryptPrivateKeyInfo(Z,j),Z===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case r.oids.keyBag:try{x.key=r.privateKeyFromAsn1(Z)}catch{x.key=null,x.asn1=Z}continue;case r.oids.certBag:z=d,J=function(){if(e.derToOid(K.certId)!==r.oids.x509Certificate){var te=new Error("Unsupported certificate type, only X.509 supported.");throw te.oid=e.derToOid(K.certId),te}var be=e.fromDer(K.cert,$);try{x.cert=r.certificateFromAsn1(be,!0)}catch{x.cert=null,x.asn1=be}};break;default:var F=new Error("Unsupported PKCS#12 SafeBag type.");throw F.oid=x.type,F}if(z!==void 0&&!e.validate(Z,z,K,G)){var F=new Error("Cannot read PKCS#12 "+z.name);throw F.errors=G,F}J()}return M}function B(U){var $={};if(U!==void 0)for(var j=0;j<U.length;++j){var M={},q=[];if(!e.validate(U[j],c,M,q)){var Q=new Error("Cannot read PKCS#12 BagAttribute.");throw Q.errors=q,Q}var K=e.derToOid(M.oid);if(r.oids[K]!==void 0){$[r.oids[K]]=[];for(var G=0;G<M.values.length;++G)$[r.oids[K]].push(M.values[G].value)}}return $}return u.toPkcs12Asn1=function(U,$,j,M){M=M||{},M.saltSize=M.saltSize||8,M.count=M.count||2048,M.algorithm=M.algorithm||M.encAlgorithm||"aes128","useMac"in M||(M.useMac=!0),"localKeyId"in M||(M.localKeyId=null),"generateLocalKeyId"in M||(M.generateLocalKeyId=!0);var q=M.localKeyId,Q;if(q!==null)q=o.util.hexToBytes(q);else if(M.generateLocalKeyId)if($){var K=o.util.isArray($)?$[0]:$;typeof K=="string"&&(K=r.certificateFromPem(K));var G=o.md.sha1.create();G.update(e.toDer(r.certificateToAsn1(K)).getBytes()),q=G.digest().getBytes()}else q=o.random.getBytes(20);var F=[];q!==null&&F.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.oids.localKeyId).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,q)])])),"friendlyName"in M&&F.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.oids.friendlyName).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.BMPSTRING,!1,M.friendlyName)])])),F.length>0&&(Q=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,F));var x=[],z=[];$!==null&&(o.util.isArray($)?z=$:z=[$]);for(var J=[],Z=0;Z<z.length;++Z){$=z[Z],typeof $=="string"&&($=r.certificateFromPem($));var X=Z===0?Q:void 0,te=r.certificateToAsn1($),be=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.oids.certBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.oids.x509Certificate).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(te).getBytes())])])]),X]);J.push(be)}if(J.length>0){var Ae=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,J),Ne=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(Ae).getBytes())])]);x.push(Ne)}var ke=null;if(U!==null){var Ue=r.wrapRsaPrivateKey(r.privateKeyToAsn1(U));j===null?ke=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.oids.keyBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[Ue]),Q]):ke=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.oids.pkcs8ShroudedKeyBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[r.encryptPrivateKeyInfo(Ue,j,M)]),Q]);var qe=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[ke]),Ge=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(qe).getBytes())])]);x.push(Ge)}var Qe=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,x),Ke;if(M.useMac){var G=o.md.sha1.create(),Be=new o.util.ByteBuffer(o.random.getBytes(M.saltSize)),Re=M.count,U=u.generateKey(j,Be,3,Re,20),$e=o.hmac.create();$e.start(G,U),$e.update(e.toDer(Qe).getBytes());var xe=$e.getMac();Ke=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.oids.sha1).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,xe.getBytes())]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,Be.getBytes()),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(Re).getBytes())])}return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(3).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(Qe).getBytes())])]),Ke])},u.generateKey=o.pbe.generatePkcs12Key,pkcs12.exports}var hasRequiredPki;function requirePki(){if(hasRequiredPki)return pki.exports;hasRequiredPki=1;var o=requireForge();requireAsn1(),requireOids(),requirePbe(),requirePem(),requirePbkdf2(),requirePkcs12(),requirePss(),requireRsa(),requireUtil$3(),requireX509();var e=o.asn1,r=pki.exports=o.pki=o.pki||{};return r.pemToDer=function(u){var p=o.pem.decode(u)[0];if(p.procType&&p.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return o.util.createBuffer(p.body)},r.privateKeyFromPem=function(u){var p=o.pem.decode(u)[0];if(p.type!=="PRIVATE KEY"&&p.type!=="RSA PRIVATE KEY"){var h=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw h.headerType=p.type,h}if(p.procType&&p.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var y=e.fromDer(p.body);return r.privateKeyFromAsn1(y)},r.privateKeyToPem=function(u,p){var h={type:"RSA PRIVATE KEY",body:e.toDer(r.privateKeyToAsn1(u)).getBytes()};return o.pem.encode(h,{maxline:p})},r.privateKeyInfoToPem=function(u,p){var h={type:"PRIVATE KEY",body:e.toDer(u).getBytes()};return o.pem.encode(h,{maxline:p})},pki.exports}var tls_1,hasRequiredTls;function requireTls(){if(hasRequiredTls)return tls_1;hasRequiredTls=1;var o=requireForge();requireAsn1(),requireHmac(),requireMd5$1(),requirePem(),requirePki(),requireRandom(),requireSha1$1(),requireUtil$3();var e=function(Y,l,T,O){var H=o.util.createBuffer(),ae=Y.length>>1,Oe=ae+(Y.length&1),ie=Y.substr(0,Oe),s=Y.substr(ae,Oe),A=o.util.createBuffer(),I=o.hmac.create();T=l+T;var n=Math.ceil(O/16),R=Math.ceil(O/20);I.start("MD5",ie);var V=o.util.createBuffer();A.putBytes(T);for(var ee=0;ee<n;++ee)I.start(null,null),I.update(A.getBytes()),A.putBuffer(I.digest()),I.start(null,null),I.update(A.bytes()+T),V.putBuffer(I.digest());I.start("SHA1",s);var Me=o.util.createBuffer();A.clear(),A.putBytes(T);for(var ee=0;ee<R;++ee)I.start(null,null),I.update(A.getBytes()),A.putBuffer(I.digest()),I.start(null,null),I.update(A.bytes()+T),Me.putBuffer(I.digest());return H.putBytes(o.util.xorBytes(V.getBytes(),Me.getBytes(),O)),H},r=function(Y,l,T){var O=o.hmac.create();O.start("SHA1",Y);var H=o.util.createBuffer();return H.putInt32(l[0]),H.putInt32(l[1]),H.putByte(T.type),H.putByte(T.version.major),H.putByte(T.version.minor),H.putInt16(T.length),H.putBytes(T.fragment.bytes()),O.update(H.getBytes()),O.digest().getBytes()},u=function(Y,l,T){var O=!1;try{var H=Y.deflate(l.fragment.getBytes());l.fragment=o.util.createBuffer(H),l.length=H.length,O=!0}catch{}return O},p=function(Y,l,T){var O=!1;try{var H=Y.inflate(l.fragment.getBytes());l.fragment=o.util.createBuffer(H),l.length=H.length,O=!0}catch{}return O},h=function(Y,l){var T=0;switch(l){case 1:T=Y.getByte();break;case 2:T=Y.getInt16();break;case 3:T=Y.getInt24();break;case 4:T=Y.getInt32();break}return o.util.createBuffer(Y.getBytes(T))},y=function(Y,l,T){Y.putInt(T.length(),l<<3),Y.putBuffer(T)},c={};c.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}},c.SupportedVersions=[c.Versions.TLS_1_1,c.Versions.TLS_1_0],c.Version=c.SupportedVersions[0],c.MaxFragment=15360,c.ConnectionEnd={server:0,client:1},c.PRFAlgorithm={tls_prf_sha256:0},c.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},c.CipherType={stream:0,block:1,aead:2},c.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},c.CompressionMethod={none:0,deflate:1},c.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},c.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},c.Alert={},c.Alert.Level={warning:1,fatal:2},c.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},c.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},c.CipherSuites={},c.getCipherSuite=function(Y){var l=null;for(var T in c.CipherSuites){var O=c.CipherSuites[T];if(O.id[0]===Y.charCodeAt(0)&&O.id[1]===Y.charCodeAt(1)){l=O;break}}return l},c.handleUnexpected=function(Y,l){var T=!Y.open&&Y.entity===c.ConnectionEnd.client;T||Y.error(Y,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unexpected_message}})},c.handleHelloRequest=function(Y,l,T){!Y.handshaking&&Y.handshakes>0&&(c.queue(Y,c.createAlert(Y,{level:c.Alert.Level.warning,description:c.Alert.Description.no_renegotiation})),c.flush(Y)),Y.process()},c.parseHelloMessage=function(Y,l,T){var O=null,H=Y.entity===c.ConnectionEnd.client;if(T<38)Y.error(Y,{message:H?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});else{var ae=l.fragment,Oe=ae.length();if(O={version:{major:ae.getByte(),minor:ae.getByte()},random:o.util.createBuffer(ae.getBytes(32)),session_id:h(ae,1),extensions:[]},H?(O.cipher_suite=ae.getBytes(2),O.compression_method=ae.getByte()):(O.cipher_suites=h(ae,2),O.compression_methods=h(ae,1)),Oe=T-(Oe-ae.length()),Oe>0){for(var ie=h(ae,2);ie.length()>0;)O.extensions.push({type:[ie.getByte(),ie.getByte()],data:h(ie,2)});if(!H)for(var s=0;s<O.extensions.length;++s){var A=O.extensions[s];if(A.type[0]===0&&A.type[1]===0)for(var I=h(A.data,2);I.length()>0;){var n=I.getByte();if(n!==0)break;Y.session.extensions.server_name.serverNameList.push(h(I,2).getBytes())}}}if(Y.session.version&&(O.version.major!==Y.session.version.major||O.version.minor!==Y.session.version.minor))return Y.error(Y,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}});if(H)Y.session.cipherSuite=c.getCipherSuite(O.cipher_suite);else for(var R=o.util.createBuffer(O.cipher_suites.bytes());R.length()>0&&(Y.session.cipherSuite=c.getCipherSuite(R.getBytes(2)),Y.session.cipherSuite===null););if(Y.session.cipherSuite===null)return Y.error(Y,{message:"No cipher suites in common.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.handshake_failure},cipherSuite:o.util.bytesToHex(O.cipher_suite)});H?Y.session.compressionMethod=O.compression_method:Y.session.compressionMethod=c.CompressionMethod.none}return O},c.createSecurityParameters=function(Y,l){var T=Y.entity===c.ConnectionEnd.client,O=l.random.bytes(),H=T?Y.session.sp.client_random:O,ae=T?O:c.createRandom().getBytes();Y.session.sp={entity:Y.entity,prf_algorithm:c.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:Y.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:H,server_random:ae}},c.handleServerHello=function(Y,l,T){var O=c.parseHelloMessage(Y,l,T);if(!Y.fail){if(O.version.minor<=Y.version.minor)Y.version.minor=O.version.minor;else return Y.error(Y,{message:"Incompatible TLS version.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}});Y.session.version=Y.version;var H=O.session_id.bytes();H.length>0&&H===Y.session.id?(Y.expect=k,Y.session.resuming=!0,Y.session.sp.server_random=O.random.bytes()):(Y.expect=m,Y.session.resuming=!1,c.createSecurityParameters(Y,O)),Y.session.id=H,Y.process()}},c.handleClientHello=function(Y,l,T){var O=c.parseHelloMessage(Y,l,T);if(!Y.fail){var H=O.session_id.bytes(),ae=null;if(Y.sessionCache&&(ae=Y.sessionCache.getSession(H),ae===null?H="":(ae.version.major!==O.version.major||ae.version.minor>O.version.minor)&&(ae=null,H="")),H.length===0&&(H=o.random.getBytes(32)),Y.session.id=H,Y.session.clientHelloVersion=O.version,Y.session.sp={},ae)Y.version=Y.session.version=ae.version,Y.session.sp=ae.sp;else{for(var Oe,ie=1;ie<c.SupportedVersions.length&&(Oe=c.SupportedVersions[ie],!(Oe.minor<=O.version.minor));++ie);Y.version={major:Oe.major,minor:Oe.minor},Y.session.version=Y.version}ae!==null?(Y.expect=K,Y.session.resuming=!0,Y.session.sp.client_random=O.random.bytes()):(Y.expect=Y.verifyClient!==!1?M:q,Y.session.resuming=!1,c.createSecurityParameters(Y,O)),Y.open=!0,c.queue(Y,c.createRecord(Y,{type:c.ContentType.handshake,data:c.createServerHello(Y)})),Y.session.resuming?(c.queue(Y,c.createRecord(Y,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),Y.state.pending=c.createConnectionState(Y),Y.state.current.write=Y.state.pending.write,c.queue(Y,c.createRecord(Y,{type:c.ContentType.handshake,data:c.createFinished(Y)}))):(c.queue(Y,c.createRecord(Y,{type:c.ContentType.handshake,data:c.createCertificate(Y)})),Y.fail||(c.queue(Y,c.createRecord(Y,{type:c.ContentType.handshake,data:c.createServerKeyExchange(Y)})),Y.verifyClient!==!1&&c.queue(Y,c.createRecord(Y,{type:c.ContentType.handshake,data:c.createCertificateRequest(Y)})),c.queue(Y,c.createRecord(Y,{type:c.ContentType.handshake,data:c.createServerHelloDone(Y)})))),c.flush(Y),Y.process()}},c.handleCertificate=function(Y,l,T){if(T<3)return Y.error(Y,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var O=l.fragment,H={certificate_list:h(O,3)},ae,Oe,ie=[];try{for(;H.certificate_list.length()>0;)ae=h(H.certificate_list,3),Oe=o.asn1.fromDer(ae),ae=o.pki.certificateFromAsn1(Oe,!0),ie.push(ae)}catch(A){return Y.error(Y,{message:"Could not parse certificate list.",cause:A,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate}})}var s=Y.entity===c.ConnectionEnd.client;(s||Y.verifyClient===!0)&&ie.length===0?Y.error(Y,{message:s?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}}):ie.length===0?Y.expect=s?P:q:(s?Y.session.serverCertificate=ie[0]:Y.session.clientCertificate=ie[0],c.verifyCertificateChain(Y,ie)&&(Y.expect=s?P:q)),Y.process()},c.handleServerKeyExchange=function(Y,l,T){if(T>0)return Y.error(Y,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unsupported_certificate}});Y.expect=N,Y.process()},c.handleClientKeyExchange=function(Y,l,T){if(T<48)return Y.error(Y,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unsupported_certificate}});var O=l.fragment,H={enc_pre_master_secret:h(O,2).getBytes()},ae=null;if(Y.getPrivateKey)try{ae=Y.getPrivateKey(Y,Y.session.serverCertificate),ae=o.pki.privateKeyFromPem(ae)}catch(s){Y.error(Y,{message:"Could not get private key.",cause:s,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}})}if(ae===null)return Y.error(Y,{message:"No private key set.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}});try{var Oe=Y.session.sp;Oe.pre_master_secret=ae.decrypt(H.enc_pre_master_secret);var ie=Y.session.clientHelloVersion;if(ie.major!==Oe.pre_master_secret.charCodeAt(0)||ie.minor!==Oe.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{Oe.pre_master_secret=o.random.getBytes(48)}Y.expect=K,Y.session.clientCertificate!==null&&(Y.expect=Q),Y.process()},c.handleCertificateRequest=function(Y,l,T){if(T<3)return Y.error(Y,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var O=l.fragment,H={certificate_types:h(O,1),certificate_authorities:h(O,2)};Y.session.certificateRequest=H,Y.expect=L,Y.process()},c.handleCertificateVerify=function(Y,l,T){if(T<2)return Y.error(Y,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var O=l.fragment;O.read-=4;var H=O.bytes();O.read+=4;var ae={signature:h(O,2).getBytes()},Oe=o.util.createBuffer();Oe.putBuffer(Y.session.md5.digest()),Oe.putBuffer(Y.session.sha1.digest()),Oe=Oe.getBytes();try{var ie=Y.session.clientCertificate;if(!ie.publicKey.verify(Oe,ae.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");Y.session.md5.update(H),Y.session.sha1.update(H)}catch{return Y.error(Y,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.handshake_failure}})}Y.expect=K,Y.process()},c.handleServerHelloDone=function(Y,l,T){if(T>0)return Y.error(Y,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.record_overflow}});if(Y.serverCertificate===null){var O={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.insufficient_security}},H=0,ae=Y.verify(Y,O.alert.description,H,[]);if(ae!==!0)return(ae||ae===0)&&(typeof ae=="object"&&!o.util.isArray(ae)?(ae.message&&(O.message=ae.message),ae.alert&&(O.alert.description=ae.alert)):typeof ae=="number"&&(O.alert.description=ae)),Y.error(Y,O)}Y.session.certificateRequest!==null&&(l=c.createRecord(Y,{type:c.ContentType.handshake,data:c.createCertificate(Y)}),c.queue(Y,l)),l=c.createRecord(Y,{type:c.ContentType.handshake,data:c.createClientKeyExchange(Y)}),c.queue(Y,l),Y.expect=$;var Oe=function(ie,s){ie.session.certificateRequest!==null&&ie.session.clientCertificate!==null&&c.queue(ie,c.createRecord(ie,{type:c.ContentType.handshake,data:c.createCertificateVerify(ie,s)})),c.queue(ie,c.createRecord(ie,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),ie.state.pending=c.createConnectionState(ie),ie.state.current.write=ie.state.pending.write,c.queue(ie,c.createRecord(ie,{type:c.ContentType.handshake,data:c.createFinished(ie)})),ie.expect=k,c.flush(ie),ie.process()};if(Y.session.certificateRequest===null||Y.session.clientCertificate===null)return Oe(Y,null);c.getClientSignature(Y,Oe)},c.handleChangeCipherSpec=function(Y,l){if(l.fragment.getByte()!==1)return Y.error(Y,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var T=Y.entity===c.ConnectionEnd.client;(Y.session.resuming&&T||!Y.session.resuming&&!T)&&(Y.state.pending=c.createConnectionState(Y)),Y.state.current.read=Y.state.pending.read,(!Y.session.resuming&&T||Y.session.resuming&&!T)&&(Y.state.pending=null),Y.expect=T?B:G,Y.process()},c.handleFinished=function(Y,l,T){var O=l.fragment;O.read-=4;var H=O.bytes();O.read+=4;var ae=l.fragment.getBytes();O=o.util.createBuffer(),O.putBuffer(Y.session.md5.digest()),O.putBuffer(Y.session.sha1.digest());var Oe=Y.entity===c.ConnectionEnd.client,ie=Oe?"server finished":"client finished",s=Y.session.sp,A=12,I=e;if(O=I(s.master_secret,ie,O.getBytes(),A),O.getBytes()!==ae)return Y.error(Y,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.decrypt_error}});Y.session.md5.update(H),Y.session.sha1.update(H),(Y.session.resuming&&Oe||!Y.session.resuming&&!Oe)&&(c.queue(Y,c.createRecord(Y,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),Y.state.current.write=Y.state.pending.write,Y.state.pending=null,c.queue(Y,c.createRecord(Y,{type:c.ContentType.handshake,data:c.createFinished(Y)}))),Y.expect=Oe?U:F,Y.handshaking=!1,++Y.handshakes,Y.peerCertificate=Oe?Y.session.serverCertificate:Y.session.clientCertificate,c.flush(Y),Y.isConnected=!0,Y.connected(Y),Y.process()},c.handleAlert=function(Y,l){var T=l.fragment,O={level:T.getByte(),description:T.getByte()},H;switch(O.description){case c.Alert.Description.close_notify:H="Connection closed.";break;case c.Alert.Description.unexpected_message:H="Unexpected message.";break;case c.Alert.Description.bad_record_mac:H="Bad record MAC.";break;case c.Alert.Description.decryption_failed:H="Decryption failed.";break;case c.Alert.Description.record_overflow:H="Record overflow.";break;case c.Alert.Description.decompression_failure:H="Decompression failed.";break;case c.Alert.Description.handshake_failure:H="Handshake failure.";break;case c.Alert.Description.bad_certificate:H="Bad certificate.";break;case c.Alert.Description.unsupported_certificate:H="Unsupported certificate.";break;case c.Alert.Description.certificate_revoked:H="Certificate revoked.";break;case c.Alert.Description.certificate_expired:H="Certificate expired.";break;case c.Alert.Description.certificate_unknown:H="Certificate unknown.";break;case c.Alert.Description.illegal_parameter:H="Illegal parameter.";break;case c.Alert.Description.unknown_ca:H="Unknown certificate authority.";break;case c.Alert.Description.access_denied:H="Access denied.";break;case c.Alert.Description.decode_error:H="Decode error.";break;case c.Alert.Description.decrypt_error:H="Decrypt error.";break;case c.Alert.Description.export_restriction:H="Export restriction.";break;case c.Alert.Description.protocol_version:H="Unsupported protocol version.";break;case c.Alert.Description.insufficient_security:H="Insufficient security.";break;case c.Alert.Description.internal_error:H="Internal error.";break;case c.Alert.Description.user_canceled:H="User canceled.";break;case c.Alert.Description.no_renegotiation:H="Renegotiation not supported.";break;default:H="Unknown error.";break}if(O.description===c.Alert.Description.close_notify)return Y.close();Y.error(Y,{message:H,send:!1,origin:Y.entity===c.ConnectionEnd.client?"server":"client",alert:O}),Y.process()},c.handleHandshake=function(Y,l){var T=l.fragment,O=T.getByte(),H=T.getInt24();if(H>T.length())return Y.fragmented=l,l.fragment=o.util.createBuffer(),T.read-=4,Y.process();Y.fragmented=null,T.read-=4;var ae=T.bytes(H+4);T.read+=4,O in Ke[Y.entity][Y.expect]?(Y.entity===c.ConnectionEnd.server&&!Y.open&&!Y.fail&&(Y.handshaking=!0,Y.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:o.md.md5.create(),sha1:o.md.sha1.create()}),O!==c.HandshakeType.hello_request&&O!==c.HandshakeType.certificate_verify&&O!==c.HandshakeType.finished&&(Y.session.md5.update(ae),Y.session.sha1.update(ae)),Ke[Y.entity][Y.expect][O](Y,l,H)):c.handleUnexpected(Y,l)},c.handleApplicationData=function(Y,l){Y.data.putBuffer(l.fragment),Y.dataReady(Y),Y.process()},c.handleHeartbeat=function(Y,l){var T=l.fragment,O=T.getByte(),H=T.getInt16(),ae=T.getBytes(H);if(O===c.HeartbeatMessageType.heartbeat_request){if(Y.handshaking||H>ae.length)return Y.process();c.queue(Y,c.createRecord(Y,{type:c.ContentType.heartbeat,data:c.createHeartbeat(c.HeartbeatMessageType.heartbeat_response,ae)})),c.flush(Y)}else if(O===c.HeartbeatMessageType.heartbeat_response){if(ae!==Y.expectedHeartbeatPayload)return Y.process();Y.heartbeatReceived&&Y.heartbeatReceived(Y,o.util.createBuffer(ae))}Y.process()};var d=0,m=1,P=2,N=3,L=4,k=5,B=6,U=7,$=8,j=0,M=1,q=2,Q=3,K=4,G=5,F=6,x=c.handleUnexpected,z=c.handleChangeCipherSpec,J=c.handleAlert,Z=c.handleHandshake,X=c.handleApplicationData,te=c.handleHeartbeat,be=[];be[c.ConnectionEnd.client]=[[x,J,Z,x,te],[x,J,Z,x,te],[x,J,Z,x,te],[x,J,Z,x,te],[x,J,Z,x,te],[z,J,x,x,te],[x,J,Z,x,te],[x,J,Z,X,te],[x,J,Z,x,te]],be[c.ConnectionEnd.server]=[[x,J,Z,x,te],[x,J,Z,x,te],[x,J,Z,x,te],[x,J,Z,x,te],[z,J,x,x,te],[x,J,Z,x,te],[x,J,Z,X,te],[x,J,Z,x,te]];var Ae=c.handleHelloRequest,Ne=c.handleServerHello,ke=c.handleCertificate,Ue=c.handleServerKeyExchange,qe=c.handleCertificateRequest,Ge=c.handleServerHelloDone,Qe=c.handleFinished,Ke=[];Ke[c.ConnectionEnd.client]=[[x,x,Ne,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[Ae,x,x,x,x,x,x,x,x,x,x,ke,Ue,qe,Ge,x,x,x,x,x,x],[Ae,x,x,x,x,x,x,x,x,x,x,x,Ue,qe,Ge,x,x,x,x,x,x],[Ae,x,x,x,x,x,x,x,x,x,x,x,x,qe,Ge,x,x,x,x,x,x],[Ae,x,x,x,x,x,x,x,x,x,x,x,x,x,Ge,x,x,x,x,x,x],[Ae,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[Ae,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,Qe],[Ae,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[Ae,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x]];var Be=c.handleClientHello,Re=c.handleClientKeyExchange,$e=c.handleCertificateVerify;Ke[c.ConnectionEnd.server]=[[x,Be,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[x,x,x,x,x,x,x,x,x,x,x,ke,x,x,x,x,x,x,x,x,x],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,Re,x,x,x,x],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,$e,x,x,x,x,x],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,Qe],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x]],c.generateKeys=function(Y,l){var T=e,O=l.client_random+l.server_random;Y.session.resuming||(l.master_secret=T(l.pre_master_secret,"master secret",O,48).bytes(),l.pre_master_secret=null),O=l.server_random+l.client_random;var H=2*l.mac_key_length+2*l.enc_key_length,ae=Y.version.major===c.Versions.TLS_1_0.major&&Y.version.minor===c.Versions.TLS_1_0.minor;ae&&(H+=2*l.fixed_iv_length);var Oe=T(l.master_secret,"key expansion",O,H),ie={client_write_MAC_key:Oe.getBytes(l.mac_key_length),server_write_MAC_key:Oe.getBytes(l.mac_key_length),client_write_key:Oe.getBytes(l.enc_key_length),server_write_key:Oe.getBytes(l.enc_key_length)};return ae&&(ie.client_write_IV=Oe.getBytes(l.fixed_iv_length),ie.server_write_IV=Oe.getBytes(l.fixed_iv_length)),ie},c.createConnectionState=function(Y){var l=Y.entity===c.ConnectionEnd.client,T=function(){var ae={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(Oe){return!0},compressionState:null,compressFunction:function(Oe){return!0},updateSequenceNumber:function(){ae.sequenceNumber[1]===4294967295?(ae.sequenceNumber[1]=0,++ae.sequenceNumber[0]):++ae.sequenceNumber[1]}};return ae},O={read:T(),write:T()};if(O.read.update=function(ae,Oe){return O.read.cipherFunction(Oe,O.read)?O.read.compressFunction(ae,Oe,O.read)||ae.error(ae,{message:"Could not decompress record.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.decompression_failure}}):ae.error(ae,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_record_mac}}),!ae.fail},O.write.update=function(ae,Oe){return O.write.compressFunction(ae,Oe,O.write)?O.write.cipherFunction(Oe,O.write)||ae.error(ae,{message:"Could not encrypt record.",send:!1,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}):ae.error(ae,{message:"Could not compress record.",send:!1,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}),!ae.fail},Y.session){var H=Y.session.sp;switch(Y.session.cipherSuite.initSecurityParameters(H),H.keys=c.generateKeys(Y,H),O.read.macKey=l?H.keys.server_write_MAC_key:H.keys.client_write_MAC_key,O.write.macKey=l?H.keys.client_write_MAC_key:H.keys.server_write_MAC_key,Y.session.cipherSuite.initConnectionState(O,Y,H),H.compression_algorithm){case c.CompressionMethod.none:break;case c.CompressionMethod.deflate:O.read.compressFunction=p,O.write.compressFunction=u;break;default:throw new Error("Unsupported compression algorithm.")}}return O},c.createRandom=function(){var Y=new Date,l=+Y+Y.getTimezoneOffset()*6e4,T=o.util.createBuffer();return T.putInt32(l),T.putBytes(o.random.getBytes(28)),T},c.createRecord=function(Y,l){if(!l.data)return null;var T={type:l.type,version:{major:Y.version.major,minor:Y.version.minor},length:l.data.length(),fragment:l.data};return T},c.createAlert=function(Y,l){var T=o.util.createBuffer();return T.putByte(l.level),T.putByte(l.description),c.createRecord(Y,{type:c.ContentType.alert,data:T})},c.createClientHello=function(Y){Y.session.clientHelloVersion={major:Y.version.major,minor:Y.version.minor};for(var l=o.util.createBuffer(),T=0;T<Y.cipherSuites.length;++T){var O=Y.cipherSuites[T];l.putByte(O.id[0]),l.putByte(O.id[1])}var H=l.length(),ae=o.util.createBuffer();ae.putByte(c.CompressionMethod.none);var Oe=ae.length(),ie=o.util.createBuffer();if(Y.virtualHost){var s=o.util.createBuffer();s.putByte(0),s.putByte(0);var A=o.util.createBuffer();A.putByte(0),y(A,2,o.util.createBuffer(Y.virtualHost));var I=o.util.createBuffer();y(I,2,A),y(s,2,I),ie.putBuffer(s)}var n=ie.length();n>0&&(n+=2);var R=Y.session.id,V=R.length+1+2+4+28+2+H+1+Oe+n,ee=o.util.createBuffer();return ee.putByte(c.HandshakeType.client_hello),ee.putInt24(V),ee.putByte(Y.version.major),ee.putByte(Y.version.minor),ee.putBytes(Y.session.sp.client_random),y(ee,1,o.util.createBuffer(R)),y(ee,2,l),y(ee,1,ae),n>0&&y(ee,2,ie),ee},c.createServerHello=function(Y){var l=Y.session.id,T=l.length+1+2+4+28+2+1,O=o.util.createBuffer();return O.putByte(c.HandshakeType.server_hello),O.putInt24(T),O.putByte(Y.version.major),O.putByte(Y.version.minor),O.putBytes(Y.session.sp.server_random),y(O,1,o.util.createBuffer(l)),O.putByte(Y.session.cipherSuite.id[0]),O.putByte(Y.session.cipherSuite.id[1]),O.putByte(Y.session.compressionMethod),O},c.createCertificate=function(Y){var l=Y.entity===c.ConnectionEnd.client,T=null;if(Y.getCertificate){var O;l?O=Y.session.certificateRequest:O=Y.session.extensions.server_name.serverNameList,T=Y.getCertificate(Y,O)}var H=o.util.createBuffer();if(T!==null)try{o.util.isArray(T)||(T=[T]);for(var ae=null,Oe=0;Oe<T.length;++Oe){var ie=o.pem.decode(T[Oe])[0];if(ie.type!=="CERTIFICATE"&&ie.type!=="X509 CERTIFICATE"&&ie.type!=="TRUSTED CERTIFICATE"){var s=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw s.headerType=ie.type,s}if(ie.procType&&ie.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var A=o.util.createBuffer(ie.body);ae===null&&(ae=o.asn1.fromDer(A.bytes(),!1));var I=o.util.createBuffer();y(I,3,A),H.putBuffer(I)}T=o.pki.certificateFromAsn1(ae),l?Y.session.clientCertificate=T:Y.session.serverCertificate=T}catch(V){return Y.error(Y,{message:"Could not send certificate list.",cause:V,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate}})}var n=3+H.length(),R=o.util.createBuffer();return R.putByte(c.HandshakeType.certificate),R.putInt24(n),y(R,3,H),R},c.createClientKeyExchange=function(Y){var l=o.util.createBuffer();l.putByte(Y.session.clientHelloVersion.major),l.putByte(Y.session.clientHelloVersion.minor),l.putBytes(o.random.getBytes(46));var T=Y.session.sp;T.pre_master_secret=l.getBytes();var O=Y.session.serverCertificate.publicKey;l=O.encrypt(T.pre_master_secret);var H=l.length+2,ae=o.util.createBuffer();return ae.putByte(c.HandshakeType.client_key_exchange),ae.putInt24(H),ae.putInt16(l.length),ae.putBytes(l),ae},c.createServerKeyExchange=function(Y){var l=o.util.createBuffer();return l},c.getClientSignature=function(Y,l){var T=o.util.createBuffer();T.putBuffer(Y.session.md5.digest()),T.putBuffer(Y.session.sha1.digest()),T=T.getBytes(),Y.getSignature=Y.getSignature||function(O,H,ae){var Oe=null;if(O.getPrivateKey)try{Oe=O.getPrivateKey(O,O.session.clientCertificate),Oe=o.pki.privateKeyFromPem(Oe)}catch(ie){O.error(O,{message:"Could not get private key.",cause:ie,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}})}Oe===null?O.error(O,{message:"No private key set.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}):H=Oe.sign(H,null),ae(O,H)},Y.getSignature(Y,T,l)},c.createCertificateVerify=function(Y,l){var T=l.length+2,O=o.util.createBuffer();return O.putByte(c.HandshakeType.certificate_verify),O.putInt24(T),O.putInt16(l.length),O.putBytes(l),O},c.createCertificateRequest=function(Y){var l=o.util.createBuffer();l.putByte(1);var T=o.util.createBuffer();for(var O in Y.caStore.certs){var H=Y.caStore.certs[O],ae=o.pki.distinguishedNameToAsn1(H.subject),Oe=o.asn1.toDer(ae);T.putInt16(Oe.length()),T.putBuffer(Oe)}var ie=1+l.length()+2+T.length(),s=o.util.createBuffer();return s.putByte(c.HandshakeType.certificate_request),s.putInt24(ie),y(s,1,l),y(s,2,T),s},c.createServerHelloDone=function(Y){var l=o.util.createBuffer();return l.putByte(c.HandshakeType.server_hello_done),l.putInt24(0),l},c.createChangeCipherSpec=function(){var Y=o.util.createBuffer();return Y.putByte(1),Y},c.createFinished=function(Y){var l=o.util.createBuffer();l.putBuffer(Y.session.md5.digest()),l.putBuffer(Y.session.sha1.digest());var T=Y.entity===c.ConnectionEnd.client,O=Y.session.sp,H=12,ae=e,Oe=T?"client finished":"server finished";l=ae(O.master_secret,Oe,l.getBytes(),H);var ie=o.util.createBuffer();return ie.putByte(c.HandshakeType.finished),ie.putInt24(l.length()),ie.putBuffer(l),ie},c.createHeartbeat=function(Y,l,T){typeof T>"u"&&(T=l.length);var O=o.util.createBuffer();O.putByte(Y),O.putInt16(T),O.putBytes(l);var H=O.length(),ae=Math.max(16,H-T-3);return O.putBytes(o.random.getBytes(ae)),O},c.queue=function(Y,l){if(l&&!(l.fragment.length()===0&&(l.type===c.ContentType.handshake||l.type===c.ContentType.alert||l.type===c.ContentType.change_cipher_spec))){if(l.type===c.ContentType.handshake){var T=l.fragment.bytes();Y.session.md5.update(T),Y.session.sha1.update(T),T=null}var O;if(l.fragment.length()<=c.MaxFragment)O=[l];else{O=[];for(var H=l.fragment.bytes();H.length>c.MaxFragment;)O.push(c.createRecord(Y,{type:l.type,data:o.util.createBuffer(H.slice(0,c.MaxFragment))})),H=H.slice(c.MaxFragment);H.length>0&&O.push(c.createRecord(Y,{type:l.type,data:o.util.createBuffer(H)}))}for(var ae=0;ae<O.length&&!Y.fail;++ae){var Oe=O[ae],ie=Y.state.current.write;ie.update(Y,Oe)&&Y.records.push(Oe)}}},c.flush=function(Y){for(var l=0;l<Y.records.length;++l){var T=Y.records[l];Y.tlsData.putByte(T.type),Y.tlsData.putByte(T.version.major),Y.tlsData.putByte(T.version.minor),Y.tlsData.putInt16(T.fragment.length()),Y.tlsData.putBuffer(Y.records[l].fragment)}return Y.records=[],Y.tlsDataReady(Y)};var xe=function(Y){switch(Y){case!0:return!0;case o.pki.certificateError.bad_certificate:return c.Alert.Description.bad_certificate;case o.pki.certificateError.unsupported_certificate:return c.Alert.Description.unsupported_certificate;case o.pki.certificateError.certificate_revoked:return c.Alert.Description.certificate_revoked;case o.pki.certificateError.certificate_expired:return c.Alert.Description.certificate_expired;case o.pki.certificateError.certificate_unknown:return c.Alert.Description.certificate_unknown;case o.pki.certificateError.unknown_ca:return c.Alert.Description.unknown_ca;default:return c.Alert.Description.bad_certificate}},Le=function(Y){switch(Y){case!0:return!0;case c.Alert.Description.bad_certificate:return o.pki.certificateError.bad_certificate;case c.Alert.Description.unsupported_certificate:return o.pki.certificateError.unsupported_certificate;case c.Alert.Description.certificate_revoked:return o.pki.certificateError.certificate_revoked;case c.Alert.Description.certificate_expired:return o.pki.certificateError.certificate_expired;case c.Alert.Description.certificate_unknown:return o.pki.certificateError.certificate_unknown;case c.Alert.Description.unknown_ca:return o.pki.certificateError.unknown_ca;default:return o.pki.certificateError.bad_certificate}};c.verifyCertificateChain=function(Y,l){try{var T={};for(var O in Y.verifyOptions)T[O]=Y.verifyOptions[O];T.verify=function(ae,Oe,ie){var s=xe(ae),A=Y.verify(Y,ae,Oe,ie);if(A!==!0){if(typeof A=="object"&&!o.util.isArray(A)){var I=new Error("The application rejected the certificate.");throw I.send=!0,I.alert={level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate},A.message&&(I.message=A.message),A.alert&&(I.alert.description=A.alert),I}A!==ae&&(A=Le(A))}return A},o.pki.verifyCertificateChain(Y.caStore,l,T)}catch(ae){var H=ae;(typeof H!="object"||o.util.isArray(H))&&(H={send:!0,alert:{level:c.Alert.Level.fatal,description:xe(ae)}}),"send"in H||(H.send=!0),"alert"in H||(H.alert={level:c.Alert.Level.fatal,description:xe(H.error)}),Y.error(Y,H)}return!Y.fail},c.createSessionCache=function(Y,l){var T=null;if(Y&&Y.getSession&&Y.setSession&&Y.order)T=Y;else{T={},T.cache=Y||{},T.capacity=Math.max(l||100,1),T.order=[];for(var O in Y)T.order.length<=l?T.order.push(O):delete Y[O];T.getSession=function(H){var ae=null,Oe=null;if(H?Oe=o.util.bytesToHex(H):T.order.length>0&&(Oe=T.order[0]),Oe!==null&&Oe in T.cache){ae=T.cache[Oe],delete T.cache[Oe];for(var ie in T.order)if(T.order[ie]===Oe){T.order.splice(ie,1);break}}return ae},T.setSession=function(H,ae){if(T.order.length===T.capacity){var Oe=T.order.shift();delete T.cache[Oe]}var Oe=o.util.bytesToHex(H);T.order.push(Oe),T.cache[Oe]=ae}}return T},c.createConnection=function(Y){var l=null;Y.caStore?o.util.isArray(Y.caStore)?l=o.pki.createCaStore(Y.caStore):l=Y.caStore:l=o.pki.createCaStore();var T=Y.cipherSuites||null;if(T===null){T=[];for(var O in c.CipherSuites)T.push(c.CipherSuites[O])}var H=Y.server?c.ConnectionEnd.server:c.ConnectionEnd.client,ae=Y.sessionCache?c.createSessionCache(Y.sessionCache):null,Oe={version:{major:c.Version.major,minor:c.Version.minor},entity:H,sessionId:Y.sessionId,caStore:l,sessionCache:ae,cipherSuites:T,connected:Y.connected,virtualHost:Y.virtualHost||null,verifyClient:Y.verifyClient||!1,verify:Y.verify||function(I,n,R,V){return n},verifyOptions:Y.verifyOptions||{},getCertificate:Y.getCertificate||null,getPrivateKey:Y.getPrivateKey||null,getSignature:Y.getSignature||null,input:o.util.createBuffer(),tlsData:o.util.createBuffer(),data:o.util.createBuffer(),tlsDataReady:Y.tlsDataReady,dataReady:Y.dataReady,heartbeatReceived:Y.heartbeatReceived,closed:Y.closed,error:function(I,n){n.origin=n.origin||(I.entity===c.ConnectionEnd.client?"client":"server"),n.send&&(c.queue(I,c.createAlert(I,n.alert)),c.flush(I));var R=n.fatal!==!1;R&&(I.fail=!0),Y.error(I,n),R&&I.close(!1)},deflate:Y.deflate||null,inflate:Y.inflate||null};Oe.reset=function(I){Oe.version={major:c.Version.major,minor:c.Version.minor},Oe.record=null,Oe.session=null,Oe.peerCertificate=null,Oe.state={pending:null,current:null},Oe.expect=Oe.entity===c.ConnectionEnd.client?d:j,Oe.fragmented=null,Oe.records=[],Oe.open=!1,Oe.handshakes=0,Oe.handshaking=!1,Oe.isConnected=!1,Oe.fail=!(I||typeof I>"u"),Oe.input.clear(),Oe.tlsData.clear(),Oe.data.clear(),Oe.state.current=c.createConnectionState(Oe)},Oe.reset();var ie=function(I,n){var R=n.type-c.ContentType.change_cipher_spec,V=be[I.entity][I.expect];R in V?V[R](I,n):c.handleUnexpected(I,n)},s=function(I){var n=0,R=I.input,V=R.length();if(V<5)n=5-V;else{I.record={type:R.getByte(),version:{major:R.getByte(),minor:R.getByte()},length:R.getInt16(),fragment:o.util.createBuffer(),ready:!1};var ee=I.record.version.major===I.version.major;ee&&I.session&&I.session.version&&(ee=I.record.version.minor===I.version.minor),ee||I.error(I,{message:"Incompatible TLS version.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}})}return n},A=function(I){var n=0,R=I.input,V=R.length();if(V<I.record.length)n=I.record.length-V;else{I.record.fragment.putBytes(R.getBytes(I.record.length)),R.compact();var ee=I.state.current.read;ee.update(I,I.record)&&(I.fragmented!==null&&(I.fragmented.type===I.record.type?(I.fragmented.fragment.putBuffer(I.record.fragment),I.record=I.fragmented):I.error(I,{message:"Invalid fragmented record.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unexpected_message}})),I.record.ready=!0)}return n};return Oe.handshake=function(I){if(Oe.entity!==c.ConnectionEnd.client)Oe.error(Oe,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(Oe.handshaking)Oe.error(Oe,{message:"Handshake already in progress.",fatal:!1});else{Oe.fail&&!Oe.open&&Oe.handshakes===0&&(Oe.fail=!1),Oe.handshaking=!0,I=I||"";var n=null;I.length>0&&(Oe.sessionCache&&(n=Oe.sessionCache.getSession(I)),n===null&&(I="")),I.length===0&&Oe.sessionCache&&(n=Oe.sessionCache.getSession(),n!==null&&(I=n.id)),Oe.session={id:I,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:o.md.md5.create(),sha1:o.md.sha1.create()},n&&(Oe.version=n.version,Oe.session.sp=n.sp),Oe.session.sp.client_random=c.createRandom().getBytes(),Oe.open=!0,c.queue(Oe,c.createRecord(Oe,{type:c.ContentType.handshake,data:c.createClientHello(Oe)})),c.flush(Oe)}},Oe.process=function(I){var n=0;return I&&Oe.input.putBytes(I),Oe.fail||(Oe.record!==null&&Oe.record.ready&&Oe.record.fragment.isEmpty()&&(Oe.record=null),Oe.record===null&&(n=s(Oe)),!Oe.fail&&Oe.record!==null&&!Oe.record.ready&&(n=A(Oe)),!Oe.fail&&Oe.record!==null&&Oe.record.ready&&ie(Oe,Oe.record)),n},Oe.prepare=function(I){return c.queue(Oe,c.createRecord(Oe,{type:c.ContentType.application_data,data:o.util.createBuffer(I)})),c.flush(Oe)},Oe.prepareHeartbeatRequest=function(I,n){return I instanceof o.util.ByteBuffer&&(I=I.bytes()),typeof n>"u"&&(n=I.length),Oe.expectedHeartbeatPayload=I,c.queue(Oe,c.createRecord(Oe,{type:c.ContentType.heartbeat,data:c.createHeartbeat(c.HeartbeatMessageType.heartbeat_request,I,n)})),c.flush(Oe)},Oe.close=function(I){if(!Oe.fail&&Oe.sessionCache&&Oe.session){var n={id:Oe.session.id,version:Oe.session.version,sp:Oe.session.sp};n.sp.keys=null,Oe.sessionCache.setSession(n.id,n)}Oe.open&&(Oe.open=!1,Oe.input.clear(),(Oe.isConnected||Oe.handshaking)&&(Oe.isConnected=Oe.handshaking=!1,c.queue(Oe,c.createAlert(Oe,{level:c.Alert.Level.warning,description:c.Alert.Description.close_notify})),c.flush(Oe)),Oe.closed(Oe)),Oe.reset(I)},Oe},tls_1=o.tls=o.tls||{};for(var je in c)typeof c[je]!="function"&&(o.tls[je]=c[je]);return o.tls.prf_tls1=e,o.tls.hmac_sha1=r,o.tls.createSessionCache=c.createSessionCache,o.tls.createConnection=c.createConnection,tls_1}var hasRequiredAesCipherSuites;function requireAesCipherSuites(){if(hasRequiredAesCipherSuites)return aesCipherSuites.exports;hasRequiredAesCipherSuites=1;var o=requireForge();requireAes(),requireTls();var e=aesCipherSuites.exports=o.tls;e.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(d){d.bulk_cipher_algorithm=e.BulkCipherAlgorithm.aes,d.cipher_type=e.CipherType.block,d.enc_key_length=16,d.block_length=16,d.fixed_iv_length=16,d.record_iv_length=16,d.mac_algorithm=e.MACAlgorithm.hmac_sha1,d.mac_length=20,d.mac_key_length=20},initConnectionState:r},e.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(d){d.bulk_cipher_algorithm=e.BulkCipherAlgorithm.aes,d.cipher_type=e.CipherType.block,d.enc_key_length=32,d.block_length=16,d.fixed_iv_length=16,d.record_iv_length=16,d.mac_algorithm=e.MACAlgorithm.hmac_sha1,d.mac_length=20,d.mac_key_length=20},initConnectionState:r};function r(d,m,P){var N=m.entity===o.tls.ConnectionEnd.client;d.read.cipherState={init:!1,cipher:o.cipher.createDecipher("AES-CBC",N?P.keys.server_write_key:P.keys.client_write_key),iv:N?P.keys.server_write_IV:P.keys.client_write_IV},d.write.cipherState={init:!1,cipher:o.cipher.createCipher("AES-CBC",N?P.keys.client_write_key:P.keys.server_write_key),iv:N?P.keys.client_write_IV:P.keys.server_write_IV},d.read.cipherFunction=y,d.write.cipherFunction=u,d.read.macLength=d.write.macLength=P.mac_length,d.read.macFunction=d.write.macFunction=e.hmac_sha1}function u(d,m){var P=!1,N=m.macFunction(m.macKey,m.sequenceNumber,d);d.fragment.putBytes(N),m.updateSequenceNumber();var L;d.version.minor===e.Versions.TLS_1_0.minor?L=m.cipherState.init?null:m.cipherState.iv:L=o.random.getBytesSync(16),m.cipherState.init=!0;var k=m.cipherState.cipher;return k.start({iv:L}),d.version.minor>=e.Versions.TLS_1_1.minor&&k.output.putBytes(L),k.update(d.fragment),k.finish(p)&&(d.fragment=k.output,d.length=d.fragment.length(),P=!0),P}function p(d,m,P){if(!P){var N=d-m.length()%d;m.fillWithByte(N-1,N)}return!0}function h(d,m,P){var N=!0;if(P){for(var L=m.length(),k=m.last(),B=L-1-k;B<L-1;++B)N=N&&m.at(B)==k;N&&m.truncate(k+1)}return N}function y(d,m){var P=!1,N;d.version.minor===e.Versions.TLS_1_0.minor?N=m.cipherState.init?null:m.cipherState.iv:N=d.fragment.getBytes(16),m.cipherState.init=!0;var L=m.cipherState.cipher;L.start({iv:N}),L.update(d.fragment),P=L.finish(h);var k=m.macLength,B=o.random.getBytesSync(k),U=L.output.length();U>=k?(d.fragment=L.output.getBytes(U-k),B=L.output.getBytes(k)):d.fragment=L.output.getBytes(),d.fragment=o.util.createBuffer(d.fragment),d.length=d.fragment.length();var $=m.macFunction(m.macKey,m.sequenceNumber,d);return m.updateSequenceNumber(),P=c(m.macKey,B,$)&&P,P}function c(d,m,P){var N=o.hmac.create();return N.start("SHA1",d),N.update(m),m=N.digest().getBytes(),N.start(null,null),N.update(P),P=N.digest().getBytes(),m===P}return aesCipherSuites.exports}var sha512={exports:{}},hasRequiredSha512;function requireSha512(){if(hasRequiredSha512)return sha512.exports;hasRequiredSha512=1;var o=requireForge();requireMd(),requireUtil$3();var e=sha512.exports=o.sha512=o.sha512||{};o.md.sha512=o.md.algorithms.sha512=e;var r=o.sha384=o.sha512.sha384=o.sha512.sha384||{};r.create=function(){return e.create("SHA-384")},o.md.sha384=o.md.algorithms.sha384=r,o.sha512.sha256=o.sha512.sha256||{create:function(){return e.create("SHA-512/256")}},o.md["sha512/256"]=o.md.algorithms["sha512/256"]=o.sha512.sha256,o.sha512.sha224=o.sha512.sha224||{create:function(){return e.create("SHA-512/224")}},o.md["sha512/224"]=o.md.algorithms["sha512/224"]=o.sha512.sha224,e.create=function(m){if(p||c(),typeof m>"u"&&(m="SHA-512"),!(m in y))throw new Error("Invalid SHA-512 algorithm: "+m);for(var P=y[m],N=null,L=o.util.createBuffer(),k=new Array(80),B=0;B<80;++B)k[B]=new Array(2);var U=64;switch(m){case"SHA-384":U=48;break;case"SHA-512/256":U=32;break;case"SHA-512/224":U=28;break}var $={algorithm:m.replace("-","").toLowerCase(),blockLength:128,digestLength:U,messageLength:0,fullMessageLength:null,messageLengthSize:16};return $.start=function(){$.messageLength=0,$.fullMessageLength=$.messageLength128=[];for(var j=$.messageLengthSize/4,M=0;M<j;++M)$.fullMessageLength.push(0);L=o.util.createBuffer(),N=new Array(P.length);for(var M=0;M<P.length;++M)N[M]=P[M].slice(0);return $},$.start(),$.update=function(j,M){M==="utf8"&&(j=o.util.encodeUtf8(j));var q=j.length;$.messageLength+=q,q=[q/4294967296>>>0,q>>>0];for(var Q=$.fullMessageLength.length-1;Q>=0;--Q)$.fullMessageLength[Q]+=q[1],q[1]=q[0]+($.fullMessageLength[Q]/4294967296>>>0),$.fullMessageLength[Q]=$.fullMessageLength[Q]>>>0,q[0]=q[1]/4294967296>>>0;return L.putBytes(j),d(N,k,L),(L.read>2048||L.length()===0)&&L.compact(),$},$.digest=function(){var j=o.util.createBuffer();j.putBytes(L.bytes());var M=$.fullMessageLength[$.fullMessageLength.length-1]+$.messageLengthSize,q=M&$.blockLength-1;j.putBytes(u.substr(0,$.blockLength-q));for(var Q,K,G=$.fullMessageLength[0]*8,F=0;F<$.fullMessageLength.length-1;++F)Q=$.fullMessageLength[F+1]*8,K=Q/4294967296>>>0,G+=K,j.putInt32(G>>>0),G=Q>>>0;j.putInt32(G);for(var x=new Array(N.length),F=0;F<N.length;++F)x[F]=N[F].slice(0);d(x,k,j);var z=o.util.createBuffer(),J;m==="SHA-512"?J=x.length:m==="SHA-384"?J=x.length-2:J=x.length-4;for(var F=0;F<J;++F)z.putInt32(x[F][0]),(F!==J-1||m!=="SHA-512/224")&&z.putInt32(x[F][1]);return z},$};var u=null,p=!1,h=null,y=null;function c(){u="",u+=o.util.fillString("\0",128),h=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],y={},y["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],y["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],y["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],y["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],p=!0}function d(m,P,N){for(var L,k,B,U,$,j,M,q,Q,K,G,F,x,z,J,Z,X,te,be,Ae,Ne,ke,Ue,qe,Ge,Qe,Ke,Be,Re,$e,xe,Le,je,Y,l,T=N.length();T>=128;){for(Re=0;Re<16;++Re)P[Re][0]=N.getInt32()>>>0,P[Re][1]=N.getInt32()>>>0;for(;Re<80;++Re)Le=P[Re-2],$e=Le[0],xe=Le[1],L=(($e>>>19|xe<<13)^(xe>>>29|$e<<3)^$e>>>6)>>>0,k=(($e<<13|xe>>>19)^(xe<<3|$e>>>29)^($e<<26|xe>>>6))>>>0,Y=P[Re-15],$e=Y[0],xe=Y[1],B=(($e>>>1|xe<<31)^($e>>>8|xe<<24)^$e>>>7)>>>0,U=(($e<<31|xe>>>1)^($e<<24|xe>>>8)^($e<<25|xe>>>7))>>>0,je=P[Re-7],l=P[Re-16],xe=k+je[1]+U+l[1],P[Re][0]=L+je[0]+B+l[0]+(xe/4294967296>>>0)>>>0,P[Re][1]=xe>>>0;for(x=m[0][0],z=m[0][1],J=m[1][0],Z=m[1][1],X=m[2][0],te=m[2][1],be=m[3][0],Ae=m[3][1],Ne=m[4][0],ke=m[4][1],Ue=m[5][0],qe=m[5][1],Ge=m[6][0],Qe=m[6][1],Ke=m[7][0],Be=m[7][1],Re=0;Re<80;++Re)M=((Ne>>>14|ke<<18)^(Ne>>>18|ke<<14)^(ke>>>9|Ne<<23))>>>0,q=((Ne<<18|ke>>>14)^(Ne<<14|ke>>>18)^(ke<<23|Ne>>>9))>>>0,Q=(Ge^Ne&(Ue^Ge))>>>0,K=(Qe^ke&(qe^Qe))>>>0,$=((x>>>28|z<<4)^(z>>>2|x<<30)^(z>>>7|x<<25))>>>0,j=((x<<4|z>>>28)^(z<<30|x>>>2)^(z<<25|x>>>7))>>>0,G=(x&J|X&(x^J))>>>0,F=(z&Z|te&(z^Z))>>>0,xe=Be+q+K+h[Re][1]+P[Re][1],L=Ke+M+Q+h[Re][0]+P[Re][0]+(xe/4294967296>>>0)>>>0,k=xe>>>0,xe=j+F,B=$+G+(xe/4294967296>>>0)>>>0,U=xe>>>0,Ke=Ge,Be=Qe,Ge=Ue,Qe=qe,Ue=Ne,qe=ke,xe=Ae+k,Ne=be+L+(xe/4294967296>>>0)>>>0,ke=xe>>>0,be=X,Ae=te,X=J,te=Z,J=x,Z=z,xe=k+U,x=L+B+(xe/4294967296>>>0)>>>0,z=xe>>>0;xe=m[0][1]+z,m[0][0]=m[0][0]+x+(xe/4294967296>>>0)>>>0,m[0][1]=xe>>>0,xe=m[1][1]+Z,m[1][0]=m[1][0]+J+(xe/4294967296>>>0)>>>0,m[1][1]=xe>>>0,xe=m[2][1]+te,m[2][0]=m[2][0]+X+(xe/4294967296>>>0)>>>0,m[2][1]=xe>>>0,xe=m[3][1]+Ae,m[3][0]=m[3][0]+be+(xe/4294967296>>>0)>>>0,m[3][1]=xe>>>0,xe=m[4][1]+ke,m[4][0]=m[4][0]+Ne+(xe/4294967296>>>0)>>>0,m[4][1]=xe>>>0,xe=m[5][1]+qe,m[5][0]=m[5][0]+Ue+(xe/4294967296>>>0)>>>0,m[5][1]=xe>>>0,xe=m[6][1]+Qe,m[6][0]=m[6][0]+Ge+(xe/4294967296>>>0)>>>0,m[6][1]=xe>>>0,xe=m[7][1]+Be,m[7][0]=m[7][0]+Ke+(xe/4294967296>>>0)>>>0,m[7][1]=xe>>>0,T-=128}}return sha512.exports}var asn1Validator={},hasRequiredAsn1Validator;function requireAsn1Validator(){if(hasRequiredAsn1Validator)return asn1Validator;hasRequiredAsn1Validator=1;var o=requireForge();requireAsn1();var e=o.asn1;return asn1Validator.privateKeyValidator={name:"PrivateKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},asn1Validator.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]},asn1Validator}var ed25519_1,hasRequiredEd25519;function requireEd25519(){if(hasRequiredEd25519)return ed25519_1;hasRequiredEd25519=1;var o=requireForge();requireJsbn(),requireRandom(),requireSha512(),requireUtil$3();var e=requireAsn1Validator(),r=e.publicKeyValidator,u=e.privateKeyValidator;if(typeof p>"u")var p=o.jsbn.BigInteger;var h=o.util.ByteBuffer,y=typeof Buffer>"u"?Uint8Array:Buffer;o.pki=o.pki||{},ed25519_1=o.pki.ed25519=o.ed25519=o.ed25519||{};var c=o.ed25519;c.constants={},c.constants.PUBLIC_KEY_BYTE_LENGTH=32,c.constants.PRIVATE_KEY_BYTE_LENGTH=64,c.constants.SEED_BYTE_LENGTH=32,c.constants.SIGN_BYTE_LENGTH=64,c.constants.HASH_BYTE_LENGTH=64,c.generateKeyPair=function(Y){Y=Y||{};var l=Y.seed;if(l===void 0)l=o.random.getBytesSync(c.constants.SEED_BYTE_LENGTH);else if(typeof l=="string"){if(l.length!==c.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+c.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(l instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');l=d({message:l,encoding:"binary"});for(var T=new y(c.constants.PUBLIC_KEY_BYTE_LENGTH),O=new y(c.constants.PRIVATE_KEY_BYTE_LENGTH),H=0;H<32;++H)O[H]=l[H];return M(T,O),{publicKey:T,privateKey:O}},c.privateKeyFromAsn1=function(Y){var l={},T=[],O=o.asn1.validate(Y,u,l,T);if(!O){var H=new Error("Invalid Key.");throw H.errors=T,H}var ae=o.asn1.derToOid(l.privateKeyOid),Oe=o.oids.EdDSA25519;if(ae!==Oe)throw new Error('Invalid OID "'+ae+'"; OID must be "'+Oe+'".');var ie=l.privateKey,s=d({message:o.asn1.fromDer(ie).value,encoding:"binary"});return{privateKeyBytes:s}},c.publicKeyFromAsn1=function(Y){var l={},T=[],O=o.asn1.validate(Y,r,l,T);if(!O){var H=new Error("Invalid Key.");throw H.errors=T,H}var ae=o.asn1.derToOid(l.publicKeyOid),Oe=o.oids.EdDSA25519;if(ae!==Oe)throw new Error('Invalid OID "'+ae+'"; OID must be "'+Oe+'".');var ie=l.ed25519PublicKey;if(ie.length!==c.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return d({message:ie,encoding:"binary"})},c.publicKeyFromPrivateKey=function(Y){Y=Y||{};var l=d({message:Y.privateKey,encoding:"binary"});if(l.length!==c.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+c.constants.PRIVATE_KEY_BYTE_LENGTH);for(var T=new y(c.constants.PUBLIC_KEY_BYTE_LENGTH),O=0;O<T.length;++O)T[O]=l[32+O];return T},c.sign=function(Y){Y=Y||{};var l=d(Y),T=d({message:Y.privateKey,encoding:"binary"});if(T.length===c.constants.SEED_BYTE_LENGTH){var O=c.generateKeyPair({seed:T});T=O.privateKey}else if(T.length!==c.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+c.constants.SEED_BYTE_LENGTH+" or "+c.constants.PRIVATE_KEY_BYTE_LENGTH);var H=new y(c.constants.SIGN_BYTE_LENGTH+l.length);q(H,l,l.length,T);for(var ae=new y(c.constants.SIGN_BYTE_LENGTH),Oe=0;Oe<ae.length;++Oe)ae[Oe]=H[Oe];return ae},c.verify=function(Y){Y=Y||{};var l=d(Y);if(Y.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var T=d({message:Y.signature,encoding:"binary"});if(T.length!==c.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+c.constants.SIGN_BYTE_LENGTH);var O=d({message:Y.publicKey,encoding:"binary"});if(O.length!==c.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+c.constants.PUBLIC_KEY_BYTE_LENGTH);var H=new y(c.constants.SIGN_BYTE_LENGTH+l.length),ae=new y(c.constants.SIGN_BYTE_LENGTH+l.length),Oe;for(Oe=0;Oe<c.constants.SIGN_BYTE_LENGTH;++Oe)H[Oe]=T[Oe];for(Oe=0;Oe<l.length;++Oe)H[Oe+c.constants.SIGN_BYTE_LENGTH]=l[Oe];return Q(ae,H,H.length,O)>=0};function d(Y){var l=Y.message;if(l instanceof Uint8Array||l instanceof y)return l;var T=Y.encoding;if(l===void 0)if(Y.md)l=Y.md.digest().getBytes(),T="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof l=="string"&&!T)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof l=="string"){if(typeof Buffer<"u")return Buffer.from(l,T);l=new h(l,T)}else if(!(l instanceof h))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var O=new y(l.length()),H=0;H<O.length;++H)O[H]=l.at(H);return O}var m=Re(),P=Re([1]),N=Re([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),L=Re([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),k=Re([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),B=Re([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),U=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),$=Re([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function j(Y,l){var T=o.md.sha512.create(),O=new h(Y);T.update(O.getBytes(l),"binary");var H=T.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(H,"binary");for(var ae=new y(c.constants.HASH_BYTE_LENGTH),Oe=0;Oe<64;++Oe)ae[Oe]=H.charCodeAt(Oe);return ae}function M(Y,l){var T=[Re(),Re(),Re(),Re()],O,H=j(l,32);for(H[0]&=248,H[31]&=127,H[31]|=64,qe(T,H),z(Y,T),O=0;O<32;++O)l[O+32]=Y[O];return 0}function q(Y,l,T,O){var H,ae,Oe=new Float64Array(64),ie=[Re(),Re(),Re(),Re()],s=j(O,32);s[0]&=248,s[31]&=127,s[31]|=64;var A=T+64;for(H=0;H<T;++H)Y[64+H]=l[H];for(H=0;H<32;++H)Y[32+H]=s[32+H];var I=j(Y.subarray(32),T+32);for(G(I),qe(ie,I),z(Y,ie),H=32;H<64;++H)Y[H]=O[H];var n=j(Y,T+64);for(G(n),H=32;H<64;++H)Oe[H]=0;for(H=0;H<32;++H)Oe[H]=I[H];for(H=0;H<32;++H)for(ae=0;ae<32;ae++)Oe[H+ae]+=n[H]*s[ae];return K(Y.subarray(32),Oe),A}function Q(Y,l,T,O){var H,ae,Oe=new y(32),ie=[Re(),Re(),Re(),Re()],s=[Re(),Re(),Re(),Re()];if(ae=-1,T<64||Z(s,O))return-1;for(H=0;H<T;++H)Y[H]=l[H];for(H=0;H<32;++H)Y[H+32]=O[H];var A=j(Y,T);if(G(A),Ue(ie,s,A),qe(s,l.subarray(32)),F(ie,s),z(Oe,ie),T-=64,Ae(l,0,Oe,0)){for(H=0;H<T;++H)Y[H]=0;return-1}for(H=0;H<T;++H)Y[H]=l[H+64];return ae=T,ae}function K(Y,l){var T,O,H,ae;for(O=63;O>=32;--O){for(T=0,H=O-32,ae=O-12;H<ae;++H)l[H]+=T-16*l[O]*U[H-(O-32)],T=l[H]+128>>8,l[H]-=T*256;l[H]+=T,l[O]=0}for(T=0,H=0;H<32;++H)l[H]+=T-(l[31]>>4)*U[H],T=l[H]>>8,l[H]&=255;for(H=0;H<32;++H)l[H]-=T*U[H];for(O=0;O<32;++O)l[O+1]+=l[O]>>8,Y[O]=l[O]&255}function G(Y){for(var l=new Float64Array(64),T=0;T<64;++T)l[T]=Y[T],Y[T]=0;K(Y,l)}function F(Y,l){var T=Re(),O=Re(),H=Re(),ae=Re(),Oe=Re(),ie=Re(),s=Re(),A=Re(),I=Re();xe(T,Y[1],Y[0]),xe(I,l[1],l[0]),je(T,T,I),$e(O,Y[0],Y[1]),$e(I,l[0],l[1]),je(O,O,I),je(H,Y[3],l[3]),je(H,H,L),je(ae,Y[2],l[2]),$e(ae,ae,ae),xe(Oe,O,T),xe(ie,ae,H),$e(s,ae,H),$e(A,O,T),je(Y[0],Oe,ie),je(Y[1],A,s),je(Y[2],s,ie),je(Y[3],Oe,A)}function x(Y,l,T){for(var O=0;O<4;++O)Be(Y[O],l[O],T)}function z(Y,l){var T=Re(),O=Re(),H=Re();Qe(H,l[2]),je(T,l[0],H),je(O,l[1],H),J(Y,O),Y[31]^=ke(T)<<7}function J(Y,l){var T,O,H,ae=Re(),Oe=Re();for(T=0;T<16;++T)Oe[T]=l[T];for(Ke(Oe),Ke(Oe),Ke(Oe),O=0;O<2;++O){for(ae[0]=Oe[0]-65517,T=1;T<15;++T)ae[T]=Oe[T]-65535-(ae[T-1]>>16&1),ae[T-1]&=65535;ae[15]=Oe[15]-32767-(ae[14]>>16&1),H=ae[15]>>16&1,ae[14]&=65535,Be(Oe,ae,1-H)}for(T=0;T<16;T++)Y[2*T]=Oe[T]&255,Y[2*T+1]=Oe[T]>>8}function Z(Y,l){var T=Re(),O=Re(),H=Re(),ae=Re(),Oe=Re(),ie=Re(),s=Re();return Ge(Y[2],P),X(Y[1],l),Le(H,Y[1]),je(ae,H,N),xe(H,H,Y[2]),$e(ae,Y[2],ae),Le(Oe,ae),Le(ie,Oe),je(s,ie,Oe),je(T,s,H),je(T,T,ae),te(T,T),je(T,T,H),je(T,T,ae),je(T,T,ae),je(Y[0],T,ae),Le(O,Y[0]),je(O,O,ae),be(O,H)&&je(Y[0],Y[0],$),Le(O,Y[0]),je(O,O,ae),be(O,H)?-1:(ke(Y[0])===l[31]>>7&&xe(Y[0],m,Y[0]),je(Y[3],Y[0],Y[1]),0)}function X(Y,l){var T;for(T=0;T<16;++T)Y[T]=l[2*T]+(l[2*T+1]<<8);Y[15]&=32767}function te(Y,l){var T=Re(),O;for(O=0;O<16;++O)T[O]=l[O];for(O=250;O>=0;--O)Le(T,T),O!==1&&je(T,T,l);for(O=0;O<16;++O)Y[O]=T[O]}function be(Y,l){var T=new y(32),O=new y(32);return J(T,Y),J(O,l),Ae(T,0,O,0)}function Ae(Y,l,T,O){return Ne(Y,l,T,O,32)}function Ne(Y,l,T,O,H){var ae,Oe=0;for(ae=0;ae<H;++ae)Oe|=Y[l+ae]^T[O+ae];return(1&Oe-1>>>8)-1}function ke(Y){var l=new y(32);return J(l,Y),l[0]&1}function Ue(Y,l,T){var O,H;for(Ge(Y[0],m),Ge(Y[1],P),Ge(Y[2],P),Ge(Y[3],m),H=255;H>=0;--H)O=T[H/8|0]>>(H&7)&1,x(Y,l,O),F(l,Y),F(Y,Y),x(Y,l,O)}function qe(Y,l){var T=[Re(),Re(),Re(),Re()];Ge(T[0],k),Ge(T[1],B),Ge(T[2],P),je(T[3],k,B),Ue(Y,T,l)}function Ge(Y,l){var T;for(T=0;T<16;T++)Y[T]=l[T]|0}function Qe(Y,l){var T=Re(),O;for(O=0;O<16;++O)T[O]=l[O];for(O=253;O>=0;--O)Le(T,T),O!==2&&O!==4&&je(T,T,l);for(O=0;O<16;++O)Y[O]=T[O]}function Ke(Y){var l,T,O=1;for(l=0;l<16;++l)T=Y[l]+O+65535,O=Math.floor(T/65536),Y[l]=T-O*65536;Y[0]+=O-1+37*(O-1)}function Be(Y,l,T){for(var O,H=~(T-1),ae=0;ae<16;++ae)O=H&(Y[ae]^l[ae]),Y[ae]^=O,l[ae]^=O}function Re(Y){var l,T=new Float64Array(16);if(Y)for(l=0;l<Y.length;++l)T[l]=Y[l];return T}function $e(Y,l,T){for(var O=0;O<16;++O)Y[O]=l[O]+T[O]}function xe(Y,l,T){for(var O=0;O<16;++O)Y[O]=l[O]-T[O]}function Le(Y,l){je(Y,l,l)}function je(Y,l,T){var O,H,ae=0,Oe=0,ie=0,s=0,A=0,I=0,n=0,R=0,V=0,ee=0,Me=0,rt=0,nt=0,Ze=0,lt=0,ft=0,gt=0,Xe=0,We=0,et=0,at=0,ot=0,pt=0,dt=0,jt=0,Et=0,Wt=0,Ht=0,qt=0,rr=0,$t=0,Lt=T[0],wt=T[1],kt=T[2],Tt=T[3],Ft=T[4],ht=T[5],mt=T[6],Pt=T[7],Rt=T[8],_t=T[9],bt=T[10],Ot=T[11],xt=T[12],Mt=T[13],It=T[14],Ut=T[15];O=l[0],ae+=O*Lt,Oe+=O*wt,ie+=O*kt,s+=O*Tt,A+=O*Ft,I+=O*ht,n+=O*mt,R+=O*Pt,V+=O*Rt,ee+=O*_t,Me+=O*bt,rt+=O*Ot,nt+=O*xt,Ze+=O*Mt,lt+=O*It,ft+=O*Ut,O=l[1],Oe+=O*Lt,ie+=O*wt,s+=O*kt,A+=O*Tt,I+=O*Ft,n+=O*ht,R+=O*mt,V+=O*Pt,ee+=O*Rt,Me+=O*_t,rt+=O*bt,nt+=O*Ot,Ze+=O*xt,lt+=O*Mt,ft+=O*It,gt+=O*Ut,O=l[2],ie+=O*Lt,s+=O*wt,A+=O*kt,I+=O*Tt,n+=O*Ft,R+=O*ht,V+=O*mt,ee+=O*Pt,Me+=O*Rt,rt+=O*_t,nt+=O*bt,Ze+=O*Ot,lt+=O*xt,ft+=O*Mt,gt+=O*It,Xe+=O*Ut,O=l[3],s+=O*Lt,A+=O*wt,I+=O*kt,n+=O*Tt,R+=O*Ft,V+=O*ht,ee+=O*mt,Me+=O*Pt,rt+=O*Rt,nt+=O*_t,Ze+=O*bt,lt+=O*Ot,ft+=O*xt,gt+=O*Mt,Xe+=O*It,We+=O*Ut,O=l[4],A+=O*Lt,I+=O*wt,n+=O*kt,R+=O*Tt,V+=O*Ft,ee+=O*ht,Me+=O*mt,rt+=O*Pt,nt+=O*Rt,Ze+=O*_t,lt+=O*bt,ft+=O*Ot,gt+=O*xt,Xe+=O*Mt,We+=O*It,et+=O*Ut,O=l[5],I+=O*Lt,n+=O*wt,R+=O*kt,V+=O*Tt,ee+=O*Ft,Me+=O*ht,rt+=O*mt,nt+=O*Pt,Ze+=O*Rt,lt+=O*_t,ft+=O*bt,gt+=O*Ot,Xe+=O*xt,We+=O*Mt,et+=O*It,at+=O*Ut,O=l[6],n+=O*Lt,R+=O*wt,V+=O*kt,ee+=O*Tt,Me+=O*Ft,rt+=O*ht,nt+=O*mt,Ze+=O*Pt,lt+=O*Rt,ft+=O*_t,gt+=O*bt,Xe+=O*Ot,We+=O*xt,et+=O*Mt,at+=O*It,ot+=O*Ut,O=l[7],R+=O*Lt,V+=O*wt,ee+=O*kt,Me+=O*Tt,rt+=O*Ft,nt+=O*ht,Ze+=O*mt,lt+=O*Pt,ft+=O*Rt,gt+=O*_t,Xe+=O*bt,We+=O*Ot,et+=O*xt,at+=O*Mt,ot+=O*It,pt+=O*Ut,O=l[8],V+=O*Lt,ee+=O*wt,Me+=O*kt,rt+=O*Tt,nt+=O*Ft,Ze+=O*ht,lt+=O*mt,ft+=O*Pt,gt+=O*Rt,Xe+=O*_t,We+=O*bt,et+=O*Ot,at+=O*xt,ot+=O*Mt,pt+=O*It,dt+=O*Ut,O=l[9],ee+=O*Lt,Me+=O*wt,rt+=O*kt,nt+=O*Tt,Ze+=O*Ft,lt+=O*ht,ft+=O*mt,gt+=O*Pt,Xe+=O*Rt,We+=O*_t,et+=O*bt,at+=O*Ot,ot+=O*xt,pt+=O*Mt,dt+=O*It,jt+=O*Ut,O=l[10],Me+=O*Lt,rt+=O*wt,nt+=O*kt,Ze+=O*Tt,lt+=O*Ft,ft+=O*ht,gt+=O*mt,Xe+=O*Pt,We+=O*Rt,et+=O*_t,at+=O*bt,ot+=O*Ot,pt+=O*xt,dt+=O*Mt,jt+=O*It,Et+=O*Ut,O=l[11],rt+=O*Lt,nt+=O*wt,Ze+=O*kt,lt+=O*Tt,ft+=O*Ft,gt+=O*ht,Xe+=O*mt,We+=O*Pt,et+=O*Rt,at+=O*_t,ot+=O*bt,pt+=O*Ot,dt+=O*xt,jt+=O*Mt,Et+=O*It,Wt+=O*Ut,O=l[12],nt+=O*Lt,Ze+=O*wt,lt+=O*kt,ft+=O*Tt,gt+=O*Ft,Xe+=O*ht,We+=O*mt,et+=O*Pt,at+=O*Rt,ot+=O*_t,pt+=O*bt,dt+=O*Ot,jt+=O*xt,Et+=O*Mt,Wt+=O*It,Ht+=O*Ut,O=l[13],Ze+=O*Lt,lt+=O*wt,ft+=O*kt,gt+=O*Tt,Xe+=O*Ft,We+=O*ht,et+=O*mt,at+=O*Pt,ot+=O*Rt,pt+=O*_t,dt+=O*bt,jt+=O*Ot,Et+=O*xt,Wt+=O*Mt,Ht+=O*It,qt+=O*Ut,O=l[14],lt+=O*Lt,ft+=O*wt,gt+=O*kt,Xe+=O*Tt,We+=O*Ft,et+=O*ht,at+=O*mt,ot+=O*Pt,pt+=O*Rt,dt+=O*_t,jt+=O*bt,Et+=O*Ot,Wt+=O*xt,Ht+=O*Mt,qt+=O*It,rr+=O*Ut,O=l[15],ft+=O*Lt,gt+=O*wt,Xe+=O*kt,We+=O*Tt,et+=O*Ft,at+=O*ht,ot+=O*mt,pt+=O*Pt,dt+=O*Rt,jt+=O*_t,Et+=O*bt,Wt+=O*Ot,Ht+=O*xt,qt+=O*Mt,rr+=O*It,$t+=O*Ut,ae+=38*gt,Oe+=38*Xe,ie+=38*We,s+=38*et,A+=38*at,I+=38*ot,n+=38*pt,R+=38*dt,V+=38*jt,ee+=38*Et,Me+=38*Wt,rt+=38*Ht,nt+=38*qt,Ze+=38*rr,lt+=38*$t,H=1,O=ae+H+65535,H=Math.floor(O/65536),ae=O-H*65536,O=Oe+H+65535,H=Math.floor(O/65536),Oe=O-H*65536,O=ie+H+65535,H=Math.floor(O/65536),ie=O-H*65536,O=s+H+65535,H=Math.floor(O/65536),s=O-H*65536,O=A+H+65535,H=Math.floor(O/65536),A=O-H*65536,O=I+H+65535,H=Math.floor(O/65536),I=O-H*65536,O=n+H+65535,H=Math.floor(O/65536),n=O-H*65536,O=R+H+65535,H=Math.floor(O/65536),R=O-H*65536,O=V+H+65535,H=Math.floor(O/65536),V=O-H*65536,O=ee+H+65535,H=Math.floor(O/65536),ee=O-H*65536,O=Me+H+65535,H=Math.floor(O/65536),Me=O-H*65536,O=rt+H+65535,H=Math.floor(O/65536),rt=O-H*65536,O=nt+H+65535,H=Math.floor(O/65536),nt=O-H*65536,O=Ze+H+65535,H=Math.floor(O/65536),Ze=O-H*65536,O=lt+H+65535,H=Math.floor(O/65536),lt=O-H*65536,O=ft+H+65535,H=Math.floor(O/65536),ft=O-H*65536,ae+=H-1+37*(H-1),H=1,O=ae+H+65535,H=Math.floor(O/65536),ae=O-H*65536,O=Oe+H+65535,H=Math.floor(O/65536),Oe=O-H*65536,O=ie+H+65535,H=Math.floor(O/65536),ie=O-H*65536,O=s+H+65535,H=Math.floor(O/65536),s=O-H*65536,O=A+H+65535,H=Math.floor(O/65536),A=O-H*65536,O=I+H+65535,H=Math.floor(O/65536),I=O-H*65536,O=n+H+65535,H=Math.floor(O/65536),n=O-H*65536,O=R+H+65535,H=Math.floor(O/65536),R=O-H*65536,O=V+H+65535,H=Math.floor(O/65536),V=O-H*65536,O=ee+H+65535,H=Math.floor(O/65536),ee=O-H*65536,O=Me+H+65535,H=Math.floor(O/65536),Me=O-H*65536,O=rt+H+65535,H=Math.floor(O/65536),rt=O-H*65536,O=nt+H+65535,H=Math.floor(O/65536),nt=O-H*65536,O=Ze+H+65535,H=Math.floor(O/65536),Ze=O-H*65536,O=lt+H+65535,H=Math.floor(O/65536),lt=O-H*65536,O=ft+H+65535,H=Math.floor(O/65536),ft=O-H*65536,ae+=H-1+37*(H-1),Y[0]=ae,Y[1]=Oe,Y[2]=ie,Y[3]=s,Y[4]=A,Y[5]=I,Y[6]=n,Y[7]=R,Y[8]=V,Y[9]=ee,Y[10]=Me,Y[11]=rt,Y[12]=nt,Y[13]=Ze,Y[14]=lt,Y[15]=ft}return ed25519_1}var kem,hasRequiredKem;function requireKem(){if(hasRequiredKem)return kem;hasRequiredKem=1;var o=requireForge();requireUtil$3(),requireRandom(),requireJsbn(),kem=o.kem=o.kem||{};var e=o.jsbn.BigInteger;o.kem.rsa={},o.kem.rsa.create=function(u,p){p=p||{};var h=p.prng||o.random,y={};return y.encrypt=function(c,d){var m=Math.ceil(c.n.bitLength()/8),P;do P=new e(o.util.bytesToHex(h.getBytesSync(m)),16).mod(c.n);while(P.compareTo(e.ONE)<=0);P=o.util.hexToBytes(P.toString(16));var N=m-P.length;N>0&&(P=o.util.fillString("\0",N)+P);var L=c.encrypt(P,"NONE"),k=u.generate(P,d);return{encapsulation:L,key:k}},y.decrypt=function(c,d,m){var P=c.decrypt(d,"NONE");return u.generate(P,m)},y},o.kem.kdf1=function(u,p){r(this,u,0,p||u.digestLength)},o.kem.kdf2=function(u,p){r(this,u,1,p||u.digestLength)};function r(u,p,h,y){u.generate=function(c,d){for(var m=new o.util.ByteBuffer,P=Math.ceil(d/y)+h,N=new o.util.ByteBuffer,L=h;L<P;++L){N.putInt32(L),p.start(),p.update(c+N.getBytes());var k=p.digest();m.putBytes(k.getBytes(y))}return m.truncate(m.length()-d),m.getBytes()}}return kem}var log,hasRequiredLog;function requireLog(){if(hasRequiredLog)return log;hasRequiredLog=1;var o=requireForge();requireUtil$3(),log=o.log=o.log||{},o.log.levels=["none","error","warning","info","debug","verbose","max"];var e={},r=[],u=null;o.log.LEVEL_LOCKED=2,o.log.NO_LEVEL_CHECK=4,o.log.INTERPOLATE=8;for(var p=0;p<o.log.levels.length;++p){var h=o.log.levels[p];e[h]={index:p,name:h.toUpperCase()}}o.log.logMessage=function(L){for(var k=e[L.level].index,B=0;B<r.length;++B){var U=r[B];if(U.flags&o.log.NO_LEVEL_CHECK)U.f(L);else{var $=e[U.level].index;k<=$&&U.f(U,L)}}},o.log.prepareStandard=function(L){"standard"in L||(L.standard=e[L.level].name+" ["+L.category+"] "+L.message)},o.log.prepareFull=function(L){if(!("full"in L)){var k=[L.message];k=k.concat([]),L.full=o.util.format.apply(this,k)}},o.log.prepareStandardFull=function(L){"standardFull"in L||(o.log.prepareStandard(L),L.standardFull=L.standard)};for(var y=["error","warning","info","debug","verbose"],p=0;p<y.length;++p)(function(k){o.log[k]=function(B,U){var $=Array.prototype.slice.call(arguments).slice(2),j={timestamp:new Date,level:k,category:B,message:U,arguments:$};o.log.logMessage(j)}})(y[p]);if(o.log.makeLogger=function(L){var k={flags:0,f:L};return o.log.setLevel(k,"none"),k},o.log.setLevel=function(L,k){var B=!1;if(L&&!(L.flags&o.log.LEVEL_LOCKED))for(var U=0;U<o.log.levels.length;++U){var $=o.log.levels[U];if(k==$){L.level=k,B=!0;break}}return B},o.log.lock=function(L,k){typeof k>"u"||k?L.flags|=o.log.LEVEL_LOCKED:L.flags&=~o.log.LEVEL_LOCKED},o.log.addLogger=function(L){r.push(L)},typeof console<"u"&&"log"in console){var c;if(console.error&&console.warn&&console.info&&console.debug){var d={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},m=function(L,k){o.log.prepareStandard(k);var B=d[k.level],U=[k.standard];U=U.concat(k.arguments.slice()),B.apply(console,U)};c=o.log.makeLogger(m)}else{var m=function(k,B){o.log.prepareStandardFull(B),console.log(B.standardFull)};c=o.log.makeLogger(m)}o.log.setLevel(c,"debug"),o.log.addLogger(c),u=c}else console={log:function(){}};if(u!==null&&typeof window<"u"&&window.location){var P=new URL(window.location.href).searchParams;if(P.has("console.level")&&o.log.setLevel(u,P.get("console.level").slice(-1)[0]),P.has("console.lock")){var N=P.get("console.lock").slice(-1)[0];N=="true"&&o.log.lock(u)}}return o.log.consoleLogger=u,log}var md_all,hasRequiredMd_all;function requireMd_all(){return hasRequiredMd_all||(hasRequiredMd_all=1,md_all=requireMd(),requireMd5$1(),requireSha1$1(),requireSha256(),requireSha512()),md_all}var pkcs7={exports:{}},hasRequiredPkcs7;function requirePkcs7(){if(hasRequiredPkcs7)return pkcs7.exports;hasRequiredPkcs7=1;var o=requireForge();requireAes(),requireAsn1(),requireDes(),requireOids(),requirePem(),requirePkcs7asn1(),requireRandom(),requireUtil$3(),requireX509();var e=o.asn1,r=pkcs7.exports=o.pkcs7=o.pkcs7||{};r.messageFromPem=function(k){var B=o.pem.decode(k)[0];if(B.type!=="PKCS7"){var U=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw U.headerType=B.type,U}if(B.procType&&B.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var $=e.fromDer(B.body);return r.messageFromAsn1($)},r.messageToPem=function(k,B){var U={type:"PKCS7",body:e.toDer(k.toAsn1()).getBytes()};return o.pem.encode(U,{maxline:B})},r.messageFromAsn1=function(k){var B={},U=[];if(!e.validate(k,r.asn1.contentInfoValidator,B,U)){var $=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw $.errors=U,$}var j=e.derToOid(B.contentType),M;switch(j){case o.pki.oids.envelopedData:M=r.createEnvelopedData();break;case o.pki.oids.encryptedData:M=r.createEncryptedData();break;case o.pki.oids.signedData:M=r.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+j+" is not (yet) supported.")}return M.fromAsn1(B.content.value[0]),M},r.createSignedData=function(){var k=null;return k={type:o.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function($){if(N(k,$,r.asn1.signedDataValidator),k.certificates=[],k.crls=[],k.digestAlgorithmIdentifiers=[],k.contentInfo=null,k.signerInfos=[],k.rawCapture.certificates)for(var j=k.rawCapture.certificates.value,M=0;M<j.length;++M)k.certificates.push(o.pki.certificateFromAsn1(j[M]))},toAsn1:function(){k.contentInfo||k.sign();for(var $=[],j=0;j<k.certificates.length;++j)$.push(o.pki.certificateToAsn1(k.certificates[j]));var M=[],q=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(k.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,k.digestAlgorithmIdentifiers),k.contentInfo])]);return $.length>0&&q.value[0].value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,$)),M.length>0&&q.value[0].value.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,M)),q.value[0].value.push(e.create(e.Class.UNIVERSAL,e.Type.SET,!0,k.signerInfos)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(k.type).getBytes()),q])},addSigner:function($){var j=$.issuer,M=$.serialNumber;if($.certificate){var q=$.certificate;typeof q=="string"&&(q=o.pki.certificateFromPem(q)),j=q.issuer.attributes,M=q.serialNumber}var Q=$.key;if(!Q)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof Q=="string"&&(Q=o.pki.privateKeyFromPem(Q));var K=$.digestAlgorithm||o.pki.oids.sha1;switch(K){case o.pki.oids.sha1:case o.pki.oids.sha256:case o.pki.oids.sha384:case o.pki.oids.sha512:case o.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+K)}var G=$.authenticatedAttributes||[];if(G.length>0){for(var F=!1,x=!1,z=0;z<G.length;++z){var J=G[z];if(!F&&J.type===o.pki.oids.contentType){if(F=!0,x)break;continue}if(!x&&J.type===o.pki.oids.messageDigest){if(x=!0,F)break;continue}}if(!F||!x)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}k.signers.push({key:Q,version:1,issuer:j,serialNumber:M,digestAlgorithm:K,signatureAlgorithm:o.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:G,unauthenticatedAttributes:[]})},sign:function($){if($=$||{},(typeof k.content!="object"||k.contentInfo===null)&&(k.contentInfo=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(o.pki.oids.data).getBytes())]),"content"in k)){var j;k.content instanceof o.util.ByteBuffer?j=k.content.bytes():typeof k.content=="string"&&(j=o.util.encodeUtf8(k.content)),$.detached?k.detachedContent=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,j):k.contentInfo.value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,j)]))}if(k.signers.length!==0){var M=B();U(M)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function($){typeof $=="string"&&($=o.pki.certificateFromPem($)),k.certificates.push($)},addCertificateRevokationList:function($){throw new Error("PKCS#7 CRL support not yet implemented.")}},k;function B(){for(var $={},j=0;j<k.signers.length;++j){var M=k.signers[j],q=M.digestAlgorithm;q in $||($[q]=o.md[o.pki.oids[q]].create()),M.authenticatedAttributes.length===0?M.md=$[q]:M.md=o.md[o.pki.oids[q]].create()}k.digestAlgorithmIdentifiers=[];for(var q in $)k.digestAlgorithmIdentifiers.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(q).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]));return $}function U($){var j;if(k.detachedContent?j=k.detachedContent:(j=k.contentInfo.value[1],j=j.value[0]),!j)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var M=e.derToOid(k.contentInfo.value[0].value),q=e.toDer(j);q.getByte(),e.getBerValueLength(q),q=q.getBytes();for(var Q in $)$[Q].start().update(q);for(var K=new Date,G=0;G<k.signers.length;++G){var F=k.signers[G];if(F.authenticatedAttributes.length===0){if(M!==o.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{F.authenticatedAttributesAsn1=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var x=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[]),z=0;z<F.authenticatedAttributes.length;++z){var J=F.authenticatedAttributes[z];J.type===o.pki.oids.messageDigest?J.value=$[F.digestAlgorithm].digest():J.type===o.pki.oids.signingTime&&(J.value||(J.value=K)),x.value.push(m(J)),F.authenticatedAttributesAsn1.value.push(m(J))}q=e.toDer(x).getBytes(),F.md.start().update(q)}F.signature=F.key.sign(F.md,"RSASSA-PKCS1-V1_5")}k.signerInfos=d(k.signers)}},r.createEncryptedData=function(){var k=null;return k={type:o.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:o.pki.oids["aes256-CBC"]},fromAsn1:function(B){N(k,B,r.asn1.encryptedDataValidator)},decrypt:function(B){B!==void 0&&(k.encryptedContent.key=B),L(k)}},k},r.createEnvelopedData=function(){var k=null;return k={type:o.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:o.pki.oids["aes256-CBC"]},fromAsn1:function(B){var U=N(k,B,r.asn1.envelopedDataValidator);k.recipients=h(U.recipientInfos.value)},toAsn1:function(){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(k.type).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(k.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,y(k.recipients)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,P(k.encryptedContent))])])])},findRecipient:function(B){for(var U=B.issuer.attributes,$=0;$<k.recipients.length;++$){var j=k.recipients[$],M=j.issuer;if(j.serialNumber===B.serialNumber&&M.length===U.length){for(var q=!0,Q=0;Q<U.length;++Q)if(M[Q].type!==U[Q].type||M[Q].value!==U[Q].value){q=!1;break}if(q)return j}}return null},decrypt:function(B,U){if(k.encryptedContent.key===void 0&&B!==void 0&&U!==void 0)switch(B.encryptedContent.algorithm){case o.pki.oids.rsaEncryption:case o.pki.oids.desCBC:var $=U.decrypt(B.encryptedContent.content);k.encryptedContent.key=o.util.createBuffer($);break;default:throw new Error("Unsupported asymmetric cipher, OID "+B.encryptedContent.algorithm)}L(k)},addRecipient:function(B){k.recipients.push({version:0,issuer:B.issuer.attributes,serialNumber:B.serialNumber,encryptedContent:{algorithm:o.pki.oids.rsaEncryption,key:B.publicKey}})},encrypt:function(B,U){if(k.encryptedContent.content===void 0){U=U||k.encryptedContent.algorithm,B=B||k.encryptedContent.key;var $,j,M;switch(U){case o.pki.oids["aes128-CBC"]:$=16,j=16,M=o.aes.createEncryptionCipher;break;case o.pki.oids["aes192-CBC"]:$=24,j=16,M=o.aes.createEncryptionCipher;break;case o.pki.oids["aes256-CBC"]:$=32,j=16,M=o.aes.createEncryptionCipher;break;case o.pki.oids["des-EDE3-CBC"]:$=24,j=8,M=o.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+U)}if(B===void 0)B=o.util.createBuffer(o.random.getBytes($));else if(B.length()!=$)throw new Error("Symmetric key has wrong length; got "+B.length()+" bytes, expected "+$+".");k.encryptedContent.algorithm=U,k.encryptedContent.key=B,k.encryptedContent.parameter=o.util.createBuffer(o.random.getBytes(j));var q=M(B);if(q.start(k.encryptedContent.parameter.copy()),q.update(k.content),!q.finish())throw new Error("Symmetric encryption failed.");k.encryptedContent.content=q.output}for(var Q=0;Q<k.recipients.length;++Q){var K=k.recipients[Q];if(K.encryptedContent.content===void 0)switch(K.encryptedContent.algorithm){case o.pki.oids.rsaEncryption:K.encryptedContent.content=K.encryptedContent.key.encrypt(k.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+K.encryptedContent.algorithm)}}}},k};function u(k){var B={},U=[];if(!e.validate(k,r.asn1.recipientInfoValidator,B,U)){var $=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw $.errors=U,$}return{version:B.version.charCodeAt(0),issuer:o.pki.RDNAttributesAsArray(B.issuer),serialNumber:o.util.createBuffer(B.serial).toHex(),encryptedContent:{algorithm:e.derToOid(B.encAlgorithm),parameter:B.encParameter?B.encParameter.value:void 0,content:B.encKey}}}function p(k){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(k.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[o.pki.distinguishedNameToAsn1({attributes:k.issuer}),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,o.util.hexToBytes(k.serialNumber))]),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(k.encryptedContent.algorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,k.encryptedContent.content)])}function h(k){for(var B=[],U=0;U<k.length;++U)B.push(u(k[U]));return B}function y(k){for(var B=[],U=0;U<k.length;++U)B.push(p(k[U]));return B}function c(k){var B=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(k.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[o.pki.distinguishedNameToAsn1({attributes:k.issuer}),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,o.util.hexToBytes(k.serialNumber))]),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(k.digestAlgorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])]);if(k.authenticatedAttributesAsn1&&B.value.push(k.authenticatedAttributesAsn1),B.value.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(k.signatureAlgorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])),B.value.push(e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,k.signature)),k.unauthenticatedAttributes.length>0){for(var U=e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[]),$=0;$<k.unauthenticatedAttributes.length;++$){var j=k.unauthenticatedAttributes[$];U.values.push(m(j))}B.value.push(U)}return B}function d(k){for(var B=[],U=0;U<k.length;++U)B.push(c(k[U]));return B}function m(k){var B;if(k.type===o.pki.oids.contentType)B=e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(k.value).getBytes());else if(k.type===o.pki.oids.messageDigest)B=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,k.value.bytes());else if(k.type===o.pki.oids.signingTime){var U=new Date("1950-01-01T00:00:00Z"),$=new Date("2050-01-01T00:00:00Z"),j=k.value;if(typeof j=="string"){var M=Date.parse(j);isNaN(M)?j.length===13?j=e.utcTimeToDate(j):j=e.generalizedTimeToDate(j):j=new Date(M)}j>=U&&j<$?B=e.create(e.Class.UNIVERSAL,e.Type.UTCTIME,!1,e.dateToUtcTime(j)):B=e.create(e.Class.UNIVERSAL,e.Type.GENERALIZEDTIME,!1,e.dateToGeneralizedTime(j))}return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(k.type).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[B])])}function P(k){return[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(o.pki.oids.data).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(k.algorithm).getBytes()),k.parameter?e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,k.parameter.getBytes()):void 0]),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,k.content.getBytes())])]}function N(k,B,U){var $={},j=[];if(!e.validate(B,U,$,j)){var M=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw M.errors=M,M}var q=e.derToOid($.contentType);if(q!==o.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if($.encryptedContent){var Q="";if(o.util.isArray($.encryptedContent))for(var K=0;K<$.encryptedContent.length;++K){if($.encryptedContent[K].type!==e.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");Q+=$.encryptedContent[K].value}else Q=$.encryptedContent;k.encryptedContent={algorithm:e.derToOid($.encAlgorithm),parameter:o.util.createBuffer($.encParameter.value),content:o.util.createBuffer(Q)}}if($.content){var Q="";if(o.util.isArray($.content))for(var K=0;K<$.content.length;++K){if($.content[K].type!==e.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");Q+=$.content[K].value}else Q=$.content;k.content=o.util.createBuffer(Q)}return k.version=$.version.charCodeAt(0),k.rawCapture=$,$}function L(k){if(k.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(k.content===void 0){var B;switch(k.encryptedContent.algorithm){case o.pki.oids["aes128-CBC"]:case o.pki.oids["aes192-CBC"]:case o.pki.oids["aes256-CBC"]:B=o.aes.createDecryptionCipher(k.encryptedContent.key);break;case o.pki.oids.desCBC:case o.pki.oids["des-EDE3-CBC"]:B=o.des.createDecryptionCipher(k.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+k.encryptedContent.algorithm)}if(B.start(k.encryptedContent.parameter),B.update(k.encryptedContent.content),!B.finish())throw new Error("Symmetric decryption failed.");k.content=B.output}}return pkcs7.exports}var ssh={exports:{}},hasRequiredSsh;function requireSsh(){if(hasRequiredSsh)return ssh.exports;hasRequiredSsh=1;var o=requireForge();requireAes(),requireHmac(),requireMd5$1(),requireSha1$1(),requireUtil$3();var e=ssh.exports=o.ssh=o.ssh||{};e.privateKeyToPutty=function(h,y,c){c=c||"",y=y||"";var d="ssh-rsa",m=y===""?"none":"aes256-cbc",P="PuTTY-User-Key-File-2: "+d+`\r
`;P+="Encryption: "+m+`\r
`,P+="Comment: "+c+`\r
`;var N=o.util.createBuffer();u(N,d),r(N,h.e),r(N,h.n);var L=o.util.encode64(N.bytes(),64),k=Math.floor(L.length/66)+1;P+="Public-Lines: "+k+`\r
`,P+=L;var B=o.util.createBuffer();r(B,h.d),r(B,h.p),r(B,h.q),r(B,h.qInv);var U;if(!y)U=o.util.encode64(B.bytes(),64);else{var $=B.length()+16-1;$-=$%16;var j=p(B.bytes());j.truncate(j.length()-$+B.length()),B.putBuffer(j);var M=o.util.createBuffer();M.putBuffer(p("\0\0\0\0",y)),M.putBuffer(p("\0\0\0",y));var q=o.aes.createEncryptionCipher(M.truncate(8),"CBC");q.start(o.util.createBuffer().fillWithByte(0,16)),q.update(B.copy()),q.finish();var Q=q.output;Q.truncate(16),U=o.util.encode64(Q.bytes(),64)}k=Math.floor(U.length/66)+1,P+=`\r
Private-Lines: `+k+`\r
`,P+=U;var K=p("putty-private-key-file-mac-key",y),G=o.util.createBuffer();u(G,d),u(G,m),u(G,c),G.putInt32(N.length()),G.putBuffer(N),G.putInt32(B.length()),G.putBuffer(B);var F=o.hmac.create();return F.start("sha1",K),F.update(G.bytes()),P+=`\r
Private-MAC: `+F.digest().toHex()+`\r
`,P},e.publicKeyToOpenSSH=function(h,y){var c="ssh-rsa";y=y||"";var d=o.util.createBuffer();return u(d,c),r(d,h.e),r(d,h.n),c+" "+o.util.encode64(d.bytes())+" "+y},e.privateKeyToOpenSSH=function(h,y){return y?o.pki.encryptRsaPrivateKey(h,y,{legacy:!0,algorithm:"aes128"}):o.pki.privateKeyToPem(h)},e.getPublicKeyFingerprint=function(h,y){y=y||{};var c=y.md||o.md.md5.create(),d="ssh-rsa",m=o.util.createBuffer();u(m,d),r(m,h.e),r(m,h.n),c.start(),c.update(m.getBytes());var P=c.digest();if(y.encoding==="hex"){var N=P.toHex();return y.delimiter?N.match(/.{2}/g).join(y.delimiter):N}else{if(y.encoding==="binary")return P.getBytes();if(y.encoding)throw new Error('Unknown encoding "'+y.encoding+'".')}return P};function r(h,y){var c=y.toString(16);c[0]>="8"&&(c="00"+c);var d=o.util.hexToBytes(c);h.putInt32(d.length),h.putBytes(d)}function u(h,y){h.putInt32(y.length),h.putString(y)}function p(){for(var h=o.md.sha1.create(),y=arguments.length,c=0;c<y;++c)h.update(arguments[c]);return h.digest()}return ssh.exports}var lib,hasRequiredLib;function requireLib(){return hasRequiredLib||(hasRequiredLib=1,lib=requireForge(),requireAes(),requireAesCipherSuites(),requireAsn1(),requireCipher(),requireDes(),requireEd25519(),requireHmac(),requireKem(),requireLog(),requireMd_all(),requireMgf1(),requirePbkdf2(),requirePem(),requirePkcs1(),requirePkcs12(),requirePkcs7(),requirePki(),requirePrime(),requirePrng(),requirePss(),requireRandom(),requireRc2(),requireSsh(),requireTls(),requireUtil$3()),lib}/*! firebase-admin v13.2.0 *//*!
 * @license
 * Copyright 2020 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(credentialInternal,"__esModule",{value:!0});credentialInternal.ImpersonatedServiceAccountCredential=credentialInternal.RefreshTokenCredential=credentialInternal.ServiceAccountCredential=credentialInternal.ApplicationDefaultCredential=void 0;credentialInternal.isApplicationDefault=isApplicationDefault;credentialInternal.getApplicationDefault=getApplicationDefault;const fs=require$$1$3,google_auth_library_1=src$7,error_1$2=error,util$5=validator$3,SCOPES=["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/firebase.database","https://www.googleapis.com/auth/firebase.messaging","https://www.googleapis.com/auth/identitytoolkit","https://www.googleapis.com/auth/userinfo.email"];class ApplicationDefaultCredential{constructor(e){this.googleAuth=new google_auth_library_1.GoogleAuth({scopes:SCOPES,clientOptions:{transporterOptions:{agent:e}}})}async getAccessToken(){this.authClient||(this.authClient=await this.googleAuth.getClient()),await this.authClient.getAccessToken();const e=this.authClient.credentials;return this.quotaProjectId=this.authClient.quotaProjectId,populateCredential(e)}async getProjectId(){return this.projectId||(this.projectId=await this.googleAuth.getProjectId()),Promise.resolve(this.projectId)}getQuotaProjectId(){var e;return this.quotaProjectId||(this.quotaProjectId=(e=this.authClient)==null?void 0:e.quotaProjectId),this.quotaProjectId}async isComputeEngineCredential(){return this.authClient||(this.authClient=await this.googleAuth.getClient()),Promise.resolve(this.authClient instanceof google_auth_library_1.Compute)}async getIDToken(e){if(await this.isComputeEngineCredential())return this.authClient.fetchIdToken(e);throw new error_1$2.FirebaseAppError(error_1$2.AppErrorCodes.INVALID_CREDENTIAL,"Credentials type should be Compute Engine Credentials.")}async getServiceAccountEmail(){if(this.accountId)return Promise.resolve(this.accountId);const{client_email:e}=await this.googleAuth.getCredentials();return this.accountId=e??"",Promise.resolve(this.accountId)}}credentialInternal.ApplicationDefaultCredential=ApplicationDefaultCredential;class ServiceAccountCredential{constructor(e,r,u=!1){this.serviceAccountPathOrObject=e,this.httpAgent=r,this.implicit=u;const p=typeof e=="string"?ServiceAccount.fromPath(e):new ServiceAccount(e);this.projectId=p.projectId,this.privateKey=p.privateKey,this.clientEmail=p.clientEmail}getGoogleAuth(){if(this.googleAuth)return this.googleAuth;const{auth:e,client:r}=populateGoogleAuth(this.serviceAccountPathOrObject,this.httpAgent);return this.googleAuth=e,this.authClient=r,this.googleAuth}async getAccessToken(){const e=this.getGoogleAuth();this.authClient===void 0&&(this.authClient=await e.getClient()),await this.authClient.getAccessToken();const r=this.authClient.credentials;return populateCredential(r)}}credentialInternal.ServiceAccountCredential=ServiceAccountCredential;class ServiceAccount{static fromPath(e){try{return new ServiceAccount(JSON.parse(fs.readFileSync(e,"utf8")))}catch(r){throw new error_1$2.FirebaseAppError(error_1$2.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse service account json file: "+r)}}constructor(e){if(!util$5.isNonNullObject(e))throw new error_1$2.FirebaseAppError(error_1$2.AppErrorCodes.INVALID_CREDENTIAL,"Service account must be an object.");copyAttr(this,e,"projectId","project_id"),copyAttr(this,e,"privateKey","private_key"),copyAttr(this,e,"clientEmail","client_email");let r;if(util$5.isNonEmptyString(this.projectId)?util$5.isNonEmptyString(this.privateKey)?util$5.isNonEmptyString(this.clientEmail)||(r='Service account object must contain a string "client_email" property.'):r='Service account object must contain a string "private_key" property.':r='Service account object must contain a string "project_id" property.',typeof r<"u")throw new error_1$2.FirebaseAppError(error_1$2.AppErrorCodes.INVALID_CREDENTIAL,r);const u=requireLib();try{u.pki.privateKeyFromPem(this.privateKey)}catch(p){throw new error_1$2.FirebaseAppError(error_1$2.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse private key: "+p)}}}class RefreshTokenCredential{constructor(e,r,u=!1){this.refreshTokenPathOrObject=e,this.httpAgent=r,this.implicit=u,typeof e=="string"?RefreshToken.validateFromPath(e):RefreshToken.validateFromJSON(e)}getGoogleAuth(){if(this.googleAuth)return this.googleAuth;const{auth:e,client:r}=populateGoogleAuth(this.refreshTokenPathOrObject,this.httpAgent);return this.googleAuth=e,this.authClient=r,this.googleAuth}async getAccessToken(){const e=this.getGoogleAuth();this.authClient===void 0&&(this.authClient=await e.getClient()),await this.authClient.getAccessToken();const r=this.authClient.credentials;return populateCredential(r)}}credentialInternal.RefreshTokenCredential=RefreshTokenCredential;class RefreshToken{static validateFromPath(e){try{RefreshToken.validateFromJSON(JSON.parse(fs.readFileSync(e,"utf8")))}catch(r){throw new error_1$2.FirebaseAppError(error_1$2.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse refresh token file: "+r)}}static validateFromJSON(e){const r={clientId:"",clientSecret:"",refreshToken:"",type:""};copyAttr(r,e,"clientId","client_id"),copyAttr(r,e,"clientSecret","client_secret"),copyAttr(r,e,"refreshToken","refresh_token"),copyAttr(r,e,"type","type");let u;if(util$5.isNonEmptyString(r.clientId)?util$5.isNonEmptyString(r.clientSecret)?util$5.isNonEmptyString(r.refreshToken)?util$5.isNonEmptyString(r.type)||(u='Refresh token must contain a "type" property.'):u='Refresh token must contain a "refresh_token" property.':u='Refresh token must contain a "client_secret" property.':u='Refresh token must contain a "client_id" property.',typeof u<"u")throw new error_1$2.FirebaseAppError(error_1$2.AppErrorCodes.INVALID_CREDENTIAL,u)}}class ImpersonatedServiceAccountCredential{constructor(e,r,u=!1){this.impersonatedServiceAccountPathOrObject=e,this.httpAgent=r,this.implicit=u,typeof e=="string"?ImpersonatedServiceAccount.validateFromPath(e):ImpersonatedServiceAccount.validateFromJSON(e)}getGoogleAuth(){if(this.googleAuth)return this.googleAuth;const{auth:e,client:r}=populateGoogleAuth(this.impersonatedServiceAccountPathOrObject,this.httpAgent);return this.googleAuth=e,this.authClient=r,this.googleAuth}async getAccessToken(){const e=this.getGoogleAuth();this.authClient===void 0&&(this.authClient=await e.getClient()),await this.authClient.getAccessToken();const r=this.authClient.credentials;return populateCredential(r)}}credentialInternal.ImpersonatedServiceAccountCredential=ImpersonatedServiceAccountCredential;class ImpersonatedServiceAccount{static validateFromPath(e){try{ImpersonatedServiceAccount.validateFromJSON(JSON.parse(fs.readFileSync(e,"utf8")))}catch(r){throw new error_1$2.FirebaseAppError(error_1$2.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse impersonated service account file: "+r)}}static validateFromJSON(e){const{client_id:r,client_secret:u,refresh_token:p,type:h}=e.source_credentials;let y;if(util$5.isNonEmptyString(r)?util$5.isNonEmptyString(u)?util$5.isNonEmptyString(p)?util$5.isNonEmptyString(h)||(y='Impersonated Service Account must contain a "source_credentials.type" property.'):y='Impersonated Service Account must contain a "source_credentials.refresh_token" property.':y='Impersonated Service Account must contain a "source_credentials.client_secret" property.':y='Impersonated Service Account must contain a "source_credentials.client_id" property.',typeof y<"u")throw new error_1$2.FirebaseAppError(error_1$2.AppErrorCodes.INVALID_CREDENTIAL,y)}}function isApplicationDefault(o){return o instanceof ApplicationDefaultCredential||o instanceof RefreshTokenCredential&&o.implicit}function getApplicationDefault(o){return new ApplicationDefaultCredential(o)}function copyAttr(o,e,r,u){const p=e[r]||e[u];typeof p<"u"&&(o[r]=p)}function populateGoogleAuth(o,e){let r;const u=new google_auth_library_1.GoogleAuth({scopes:SCOPES,clientOptions:{transporterOptions:{agent:e}},keyFile:typeof o=="string"?o:void 0});if(typeof o=="object"){if(!util$5.isNonNullObject(o))throw new error_1$2.FirebaseAppError(error_1$2.AppErrorCodes.INVALID_CREDENTIAL,"Service account must be an object.");copyAttr(o,o,"project_id","projectId"),copyAttr(o,o,"private_key","privateKey"),copyAttr(o,o,"client_email","clientEmail"),r=u.fromJSON(o)}return{auth:u,client:r}}function populateCredential(o){const e=o==null?void 0:o.access_token,r=o==null?void 0:o.expiry_date;if(typeof e!="string")throw new error_1$2.FirebaseAppError(error_1$2.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse Google auth credential: access_token must be a non empty string.");if(typeof r!="number")throw new error_1$2.FirebaseAppError(error_1$2.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse Google auth credential: Invalid expiry_date.");return{...o,access_token:e,expires_in:Math.floor((r-new Date().getTime())/1e3)}}const version$5="13.2.0",require$$2$2={version:version$5};var define_process_env_default$4={};/*! firebase-admin v13.2.0 *//*!
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(utils$1,"__esModule",{value:!0});utils$1.getSdkVersion=getSdkVersion;utils$1.getMetricsHeader=getMetricsHeader;utils$1.renameProperties=renameProperties;utils$1.addReadonlyGetter=addReadonlyGetter;utils$1.getExplicitProjectId=getExplicitProjectId;utils$1.findProjectId=findProjectId;utils$1.getExplicitServiceAccountEmail=getExplicitServiceAccountEmail;utils$1.findServiceAccountEmail=findServiceAccountEmail;utils$1.toWebSafeBase64=toWebSafeBase64;utils$1.formatString=formatString;utils$1.generateUpdateMask=generateUpdateMask;utils$1.transformMillisecondsToSecondsString=transformMillisecondsToSecondsString;utils$1.parseResourceName=parseResourceName;const credential_internal_1$3=credentialInternal,validator$2=validator$3;let sdkVersion;function getSdkVersion(){if(!sdkVersion){const{version:o}=require$$2$2;sdkVersion=o}return sdkVersion}function getMetricsHeader(){return`gl-node/${process.versions.node} fire-admin/${getSdkVersion()}`}function renameProperties(o,e){Object.keys(e).forEach(r=>{if(r in o){const u=e[r];o[u]=o[r],delete o[r]}})}function addReadonlyGetter(o,e,r){Object.defineProperty(o,e,{value:r,writable:!1,enumerable:!0})}function getExplicitProjectId(o){const e=o.options;if(validator$2.isNonEmptyString(e.projectId))return e.projectId;const r=o.options.credential;if(r instanceof credential_internal_1$3.ServiceAccountCredential)return r.projectId;const u=define_process_env_default$4.GOOGLE_CLOUD_PROJECT||define_process_env_default$4.GCLOUD_PROJECT;return validator$2.isNonEmptyString(u)?u:null}function findProjectId(o){const e=getExplicitProjectId(o);if(e)return Promise.resolve(e);const r=o.options.credential;return r instanceof credential_internal_1$3.ApplicationDefaultCredential?r.getProjectId():Promise.resolve(null)}function getExplicitServiceAccountEmail(o){const e=o.options;if(validator$2.isNonEmptyString(e.serviceAccountId))return e.serviceAccountId;const r=o.options.credential;return r instanceof credential_internal_1$3.ServiceAccountCredential?r.clientEmail:null}function findServiceAccountEmail(o){const e=getExplicitServiceAccountEmail(o);if(e)return Promise.resolve(e);const r=o.options.credential;return r instanceof credential_internal_1$3.ApplicationDefaultCredential?r.getServiceAccountEmail():Promise.resolve(null)}function toWebSafeBase64(o){return o.toString("base64").replace(/\//g,"_").replace(/\+/g,"-")}function formatString(o,e){let r=o;return Object.keys(e||{}).forEach(u=>{r=r.replace(new RegExp("{"+u+"}","g"),e[u])}),r}function generateUpdateMask(o,e=[],r=""){const u=[];if(!validator$2.isNonNullObject(o))return u;for(const p in o)if(typeof o[p]<"u"){const h=r?`${r}.${p}`:p;if(e.indexOf(h)!==-1)u.push(p);else{const y=generateUpdateMask(o[p],e,h);y.length>0?y.forEach(c=>{u.push(`${p}.${c}`)}):u.push(p)}}return u}function transformMillisecondsToSecondsString(o){let e;const r=Math.floor(o/1e3),u=Math.floor((o-r*1e3)*1e6);if(u>0){let p=u.toString();for(;p.length<9;)p="0"+p;e=`${r}.${p}s`}else e=`${r}s`;return e}function parseResourceName(o,e){if(!o.includes("/"))return{resourceId:o};const u=new RegExp(`^(projects/([^/]+)/)?locations/([^/]+)/${e}/([^/]+)$`).exec(o);if(u===null)throw new Error("Invalid resource name format.");const p=u[2],h=u[3],y=u[4];return{projectId:p,locationId:h,resourceId:y}}var lifecycle={},firebaseApp={};/*! firebase-admin v13.2.0 *//*!
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(firebaseApp,"__esModule",{value:!0});firebaseApp.FirebaseApp=firebaseApp.FirebaseAppInternals=void 0;const credential_internal_1$2=credentialInternal,validator$1=validator$3,deep_copy_1=deepCopy$1,error_1$1=error,TOKEN_EXPIRY_THRESHOLD_MILLIS=5*60*1e3;class FirebaseAppInternals{constructor(e){this.credential_=e,this.tokenListeners_=[],this.isRefreshing=!1}getToken(e=!1){return(e||this.shouldRefresh())&&(this.promiseToCachedToken_=this.refreshToken()),this.promiseToCachedToken_}getCachedToken(){return this.cachedToken_||null}refreshToken(){return this.isRefreshing=!0,Promise.resolve(this.credential_.getAccessToken()).then(e=>{if(!validator$1.isNonNullObject(e)||typeof e.expires_in!="number"||typeof e.access_token!="string")throw new error_1$1.FirebaseAppError(error_1$1.AppErrorCodes.INVALID_CREDENTIAL,`Invalid access token generated: "${JSON.stringify(e)}". Valid access tokens must be an object with the "expires_in" (number) and "access_token" (string) properties.`);const r={accessToken:e.access_token,expirationTime:Date.now()+e.expires_in*1e3};return(!this.cachedToken_||this.cachedToken_.accessToken!==r.accessToken||this.cachedToken_.expirationTime!==r.expirationTime)&&(this.cachedToken_=r,this.tokenListeners_.forEach(u=>{u(r.accessToken)})),r}).catch(e=>{let r=typeof e=="string"?e:e.message;throw r=`Credential implementation provided to initializeApp() via the "credential" property failed to fetch a valid Google OAuth2 access token with the following error: "${r}".`,r.indexOf("invalid_grant")!==-1&&(r+=" There are two likely causes: (1) your server time is not properly synced or (2) your certificate key file has been revoked. To solve (1), re-sync the time on your server. To solve (2), make sure the key ID for your key file is still present at https://console.firebase.google.com/iam-admin/serviceaccounts/project. If not, generate a new key file at https://console.firebase.google.com/project/_/settings/serviceaccounts/adminsdk."),new error_1$1.FirebaseAppError(error_1$1.AppErrorCodes.INVALID_CREDENTIAL,r)}).finally(()=>{this.isRefreshing=!1})}shouldRefresh(){return(!this.cachedToken_||this.cachedToken_.expirationTime-Date.now()<=TOKEN_EXPIRY_THRESHOLD_MILLIS)&&!this.isRefreshing}addAuthTokenListener(e){this.tokenListeners_.push(e),this.cachedToken_&&e(this.cachedToken_.accessToken)}removeAuthTokenListener(e){this.tokenListeners_=this.tokenListeners_.filter(r=>r!==e)}}firebaseApp.FirebaseAppInternals=FirebaseAppInternals;class FirebaseApp{constructor(e,r,u){if(this.appStore=u,this.services_={},this.isDeleted_=!1,this.name_=r,this.options_=(0,deep_copy_1.deepCopy)(e),!validator$1.isNonNullObject(this.options_))throw new error_1$1.FirebaseAppError(error_1$1.AppErrorCodes.INVALID_APP_OPTIONS,`Invalid Firebase app options passed as the first argument to initializeApp() for the app named "${this.name_}". Options must be a non-null object.`);"credential"in this.options_||(this.options_.credential=(0,credential_internal_1$2.getApplicationDefault)(this.options_.httpAgent));const h=this.options_.credential;if(typeof h!="object"||h===null||typeof h.getAccessToken!="function")throw new error_1$1.FirebaseAppError(error_1$1.AppErrorCodes.INVALID_APP_OPTIONS,`Invalid Firebase app options passed as the first argument to initializeApp() for the app named "${this.name_}". The "credential" property must be an object which implements the Credential interface.`);this.INTERNAL=new FirebaseAppInternals(h)}get name(){return this.checkDestroyed_(),this.name_}get options(){return this.checkDestroyed_(),(0,deep_copy_1.deepCopy)(this.options_)}getOrInitService(e,r){return this.ensureService_(e,()=>r(this))}delete(){var e;return this.checkDestroyed_(),(e=this.appStore)==null||e.removeApp(this.name),Promise.all(Object.keys(this.services_).map(r=>{const u=this.services_[r];return isStateful(u)?u.delete():Promise.resolve()})).then(()=>{this.services_={},this.isDeleted_=!0})}ensureService_(e,r){return this.checkDestroyed_(),e in this.services_||(this.services_[e]=r()),this.services_[e]}checkDestroyed_(){if(this.isDeleted_)throw new error_1$1.FirebaseAppError(error_1$1.AppErrorCodes.APP_DELETED,`Firebase app named "${this.name_}" has already been deleted.`)}}firebaseApp.FirebaseApp=FirebaseApp;function isStateful(o){return typeof o.delete=="function"}(function(o){var e={};/*! firebase-admin v13.2.0 *//*!
 * @license
 * Copyright 2021 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(o,"__esModule",{value:!0}),o.FIREBASE_CONFIG_VAR=o.defaultAppStore=o.AppStore=void 0,o.initializeApp=m,o.getApp=P,o.getApps=N,o.deleteApp=L;const r=require$$1$3,u=validator$3,p=error,h=credentialInternal,y=firebaseApp,c="[DEFAULT]";class d{constructor(){this.appStore=new Map}initializeApp(U,$=c){if(typeof U>"u"&&(U=k(),U.credential=(0,h.getApplicationDefault)()),typeof $!="string"||$==="")throw new p.FirebaseAppError(p.AppErrorCodes.INVALID_APP_NAME,`Invalid Firebase app name "${$}" provided. App name must be a non-empty string.`);if(this.appStore.has($))throw $===c?new p.FirebaseAppError(p.AppErrorCodes.DUPLICATE_APP,"The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name."):new p.FirebaseAppError(p.AppErrorCodes.DUPLICATE_APP,`Firebase app named "${$}" already exists. This means you called initializeApp() more than once with the same app name as the second argument. Make sure you provide a unique name every time you call initializeApp().`);const j=new y.FirebaseApp(U,$,this);return this.appStore.set(j.name,j),j}getApp(U=c){if(typeof U!="string"||U==="")throw new p.FirebaseAppError(p.AppErrorCodes.INVALID_APP_NAME,`Invalid Firebase app name "${U}" provided. App name must be a non-empty string.`);if(!this.appStore.has(U)){let $=U===c?"The default Firebase app does not exist. ":`Firebase app named "${U}" does not exist. `;throw $+="Make sure you call initializeApp() before using any of the Firebase services.",new p.FirebaseAppError(p.AppErrorCodes.NO_APP,$)}return this.appStore.get(U)}getApps(){return Array.from(this.appStore.values())}deleteApp(U){if(typeof U!="object"||U===null||!("options"in U))throw new p.FirebaseAppError(p.AppErrorCodes.INVALID_ARGUMENT,"Invalid app argument.");return P(U.name).delete()}clearAllApps(){const U=[];return this.getApps().forEach($=>{U.push(this.deleteApp($))}),Promise.all(U).then()}removeApp(U){this.appStore.delete(U)}}o.AppStore=d,o.defaultAppStore=new d;function m(B,U=c){return o.defaultAppStore.initializeApp(B,U)}function P(B=c){return o.defaultAppStore.getApp(B)}function N(){return o.defaultAppStore.getApps()}function L(B){return o.defaultAppStore.deleteApp(B)}o.FIREBASE_CONFIG_VAR="FIREBASE_CONFIG";function k(){const B=e[o.FIREBASE_CONFIG_VAR];if(!u.isNonEmptyString(B))return{};try{const U=B.startsWith("{")?B:r.readFileSync(B,"utf8");return JSON.parse(U)}catch(U){throw new p.FirebaseAppError(p.AppErrorCodes.INVALID_APP_OPTIONS,"Failed to parse app options file: "+U)}}})(lifecycle);var credentialFactory={};/*! firebase-admin v13.2.0 *//*!
 * @license
 * Copyright 2021 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(credentialFactory,"__esModule",{value:!0});credentialFactory.applicationDefault=applicationDefault;credentialFactory.cert=cert;credentialFactory.refreshToken=refreshToken;credentialFactory.clearGlobalAppDefaultCred=clearGlobalAppDefaultCred;const credential_internal_1$1=credentialInternal;let globalAppDefaultCred;const globalCertCreds={},globalRefreshTokenCreds={};function applicationDefault(o){return typeof globalAppDefaultCred>"u"&&(globalAppDefaultCred=(0,credential_internal_1$1.getApplicationDefault)(o)),globalAppDefaultCred}function cert(o,e){const r=JSON.stringify(o);return r in globalCertCreds||(globalCertCreds[r]=new credential_internal_1$1.ServiceAccountCredential(o,e)),globalCertCreds[r]}function refreshToken(o,e){const r=JSON.stringify(o);return r in globalRefreshTokenCreds||(globalRefreshTokenCreds[r]=new credential_internal_1$1.RefreshTokenCredential(o,e)),globalRefreshTokenCreds[r]}function clearGlobalAppDefaultCred(){globalAppDefaultCred=void 0}/*! firebase-admin v13.2.0 */(function(o){/*!
 * @license
 * Copyright 2021 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(o,"__esModule",{value:!0}),o.SDK_VERSION=o.AppErrorCodes=o.FirebaseAppError=o.refreshToken=o.cert=o.applicationDefault=o.deleteApp=o.getApps=o.getApp=o.initializeApp=void 0;const e=utils$1;var r=lifecycle;Object.defineProperty(o,"initializeApp",{enumerable:!0,get:function(){return r.initializeApp}}),Object.defineProperty(o,"getApp",{enumerable:!0,get:function(){return r.getApp}}),Object.defineProperty(o,"getApps",{enumerable:!0,get:function(){return r.getApps}}),Object.defineProperty(o,"deleteApp",{enumerable:!0,get:function(){return r.deleteApp}});var u=credentialFactory;Object.defineProperty(o,"applicationDefault",{enumerable:!0,get:function(){return u.applicationDefault}}),Object.defineProperty(o,"cert",{enumerable:!0,get:function(){return u.cert}}),Object.defineProperty(o,"refreshToken",{enumerable:!0,get:function(){return u.refreshToken}});var p=error;Object.defineProperty(o,"FirebaseAppError",{enumerable:!0,get:function(){return p.FirebaseAppError}}),Object.defineProperty(o,"AppErrorCodes",{enumerable:!0,get:function(){return p.AppErrorCodes}}),o.SDK_VERSION=(0,e.getSdkVersion)()})(app);const mod$1=getDefaultExportFromCjs(app);var firestoreInternal={},src$2={exports:{}},backoff={},logger$1={},validate$1={},util$4={};const interfaces$5={"google.firestore.v1.Firestore":{retry_codes:{non_idempotent:[],idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"],deadline_exceeded_resource_exhausted_internal_unavailable:["DEADLINE_EXCEEDED","RESOURCE_EXHAUSTED","INTERNAL","UNAVAILABLE"],resource_exhausted_unavailable:["RESOURCE_EXHAUSTED","UNAVAILABLE"],resource_exhausted_aborted_unavailable:["RESOURCE_EXHAUSTED","ABORTED","UNAVAILABLE"]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:6e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:6e4,total_timeout_millis:6e5}},methods:{GetDocument:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},ListDocuments:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},UpdateDocument:{timeout_millis:6e4,retry_codes_name:"resource_exhausted_unavailable",retry_params_name:"default"},DeleteDocument:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},BatchGetDocuments:{timeout_millis:3e5,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},BeginTransaction:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},Commit:{timeout_millis:6e4,retry_codes_name:"resource_exhausted_unavailable",retry_params_name:"default"},Rollback:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},RunQuery:{timeout_millis:3e5,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},RunAggregationQuery:{timeout_millis:3e5,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},PartitionQuery:{timeout_millis:3e5,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},Write:{timeout_millis:864e5,retry_codes_name:"non_idempotent",retry_params_name:"default"},Listen:{timeout_millis:864e5,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},ListCollectionIds:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},BatchWrite:{timeout_millis:6e4,retry_codes_name:"resource_exhausted_aborted_unavailable",retry_params_name:"default"},CreateDocument:{timeout_millis:6e4,retry_codes_name:"resource_exhausted_unavailable",retry_params_name:"default"}}}},require$$19={interfaces:interfaces$5};var fallback={exports:{}};function commonjsRequire(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var object_hash={exports:{}},hasRequiredObject_hash;function requireObject_hash(){return hasRequiredObject_hash||(hasRequiredObject_hash=1,function(o,e){(function(r){o.exports=r()})(function(){return function r(u,p,h){function y(m,P){if(!p[m]){if(!u[m]){var N=typeof commonjsRequire=="function"&&commonjsRequire;if(!P&&N)return N(m,!0);if(c)return c(m,!0);throw new Error("Cannot find module '"+m+"'")}P=p[m]={exports:{}},u[m][0].call(P.exports,function(L){var k=u[m][1][L];return y(k||L)},P,P.exports,r,u,p,h)}return p[m].exports}for(var c=typeof commonjsRequire=="function"&&commonjsRequire,d=0;d<h.length;d++)y(h[d]);return y}({1:[function(r,u,p){(function(h,y,c,d,m,P,N,L,k){var B=r("crypto");function U(G,F){F=M(G,F);var x;return(x=F.algorithm!=="passthrough"?B.createHash(F.algorithm):new K).write===void 0&&(x.write=x.update,x.end=x.update),Q(F,x).dispatch(G),x.update||x.end(""),x.digest?x.digest(F.encoding==="buffer"?void 0:F.encoding):(G=x.read(),F.encoding!=="buffer"?G.toString(F.encoding):G)}(p=u.exports=U).sha1=function(G){return U(G)},p.keys=function(G){return U(G,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},p.MD5=function(G){return U(G,{algorithm:"md5",encoding:"hex"})},p.keysMD5=function(G){return U(G,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var $=B.getHashes?B.getHashes().slice():["sha1","md5"],j=($.push("passthrough"),["buffer","hex","binary","base64"]);function M(G,F){var x={};if(x.algorithm=(F=F||{}).algorithm||"sha1",x.encoding=F.encoding||"hex",x.excludeValues=!!F.excludeValues,x.algorithm=x.algorithm.toLowerCase(),x.encoding=x.encoding.toLowerCase(),x.ignoreUnknown=F.ignoreUnknown===!0,x.respectType=F.respectType!==!1,x.respectFunctionNames=F.respectFunctionNames!==!1,x.respectFunctionProperties=F.respectFunctionProperties!==!1,x.unorderedArrays=F.unorderedArrays===!0,x.unorderedSets=F.unorderedSets!==!1,x.unorderedObjects=F.unorderedObjects!==!1,x.replacer=F.replacer||void 0,x.excludeKeys=F.excludeKeys||void 0,G===void 0)throw new Error("Object argument required.");for(var z=0;z<$.length;++z)$[z].toLowerCase()===x.algorithm.toLowerCase()&&(x.algorithm=$[z]);if($.indexOf(x.algorithm)===-1)throw new Error('Algorithm "'+x.algorithm+'"  not supported. supported values: '+$.join(", "));if(j.indexOf(x.encoding)===-1&&x.algorithm!=="passthrough")throw new Error('Encoding "'+x.encoding+'"  not supported. supported values: '+j.join(", "));return x}function q(G){if(typeof G=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(G))!=null}function Q(G,F,x){x=x||[];function z(J){return F.update?F.update(J,"utf8"):F.write(J,"utf8")}return{dispatch:function(J){return this["_"+((J=G.replacer?G.replacer(J):J)===null?"null":typeof J)](J)},_object:function(J){var Z,X=Object.prototype.toString.call(J),te=/\[object (.*)\]/i.exec(X);if(te=(te=te?te[1]:"unknown:["+X+"]").toLowerCase(),0<=(X=x.indexOf(J)))return this.dispatch("[CIRCULAR:"+X+"]");if(x.push(J),c!==void 0&&c.isBuffer&&c.isBuffer(J))return z("buffer:"),z(J);if(te==="object"||te==="function"||te==="asyncfunction")return X=Object.keys(J),G.unorderedObjects&&(X=X.sort()),G.respectType===!1||q(J)||X.splice(0,0,"prototype","__proto__","constructor"),G.excludeKeys&&(X=X.filter(function(be){return!G.excludeKeys(be)})),z("object:"+X.length+":"),Z=this,X.forEach(function(be){Z.dispatch(be),z(":"),G.excludeValues||Z.dispatch(J[be]),z(",")});if(!this["_"+te]){if(G.ignoreUnknown)return z("["+te+"]");throw new Error('Unknown object type "'+te+'"')}this["_"+te](J)},_array:function(J,be){be=be!==void 0?be:G.unorderedArrays!==!1;var X=this;if(z("array:"+J.length+":"),!be||J.length<=1)return J.forEach(function(Ae){return X.dispatch(Ae)});var te=[],be=J.map(function(Ae){var Ne=new K,ke=x.slice();return Q(G,Ne,ke).dispatch(Ae),te=te.concat(ke.slice(x.length)),Ne.read().toString()});return x=x.concat(te),be.sort(),this._array(be,!1)},_date:function(J){return z("date:"+J.toJSON())},_symbol:function(J){return z("symbol:"+J.toString())},_error:function(J){return z("error:"+J.toString())},_boolean:function(J){return z("bool:"+J.toString())},_string:function(J){z("string:"+J.length+":"),z(J.toString())},_function:function(J){z("fn:"),q(J)?this.dispatch("[native]"):this.dispatch(J.toString()),G.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(J.name)),G.respectFunctionProperties&&this._object(J)},_number:function(J){return z("number:"+J.toString())},_xml:function(J){return z("xml:"+J.toString())},_null:function(){return z("Null")},_undefined:function(){return z("Undefined")},_regexp:function(J){return z("regex:"+J.toString())},_uint8array:function(J){return z("uint8array:"),this.dispatch(Array.prototype.slice.call(J))},_uint8clampedarray:function(J){return z("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(J))},_int8array:function(J){return z("int8array:"),this.dispatch(Array.prototype.slice.call(J))},_uint16array:function(J){return z("uint16array:"),this.dispatch(Array.prototype.slice.call(J))},_int16array:function(J){return z("int16array:"),this.dispatch(Array.prototype.slice.call(J))},_uint32array:function(J){return z("uint32array:"),this.dispatch(Array.prototype.slice.call(J))},_int32array:function(J){return z("int32array:"),this.dispatch(Array.prototype.slice.call(J))},_float32array:function(J){return z("float32array:"),this.dispatch(Array.prototype.slice.call(J))},_float64array:function(J){return z("float64array:"),this.dispatch(Array.prototype.slice.call(J))},_arraybuffer:function(J){return z("arraybuffer:"),this.dispatch(new Uint8Array(J))},_url:function(J){return z("url:"+J.toString())},_map:function(J){return z("map:"),J=Array.from(J),this._array(J,G.unorderedSets!==!1)},_set:function(J){return z("set:"),J=Array.from(J),this._array(J,G.unorderedSets!==!1)},_file:function(J){return z("file:"),this.dispatch([J.name,J.size,J.type,J.lastModfied])},_blob:function(){if(G.ignoreUnknown)return z("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return z("domwindow")},_bigint:function(J){return z("bigint:"+J.toString())},_process:function(){return z("process")},_timer:function(){return z("timer")},_pipe:function(){return z("pipe")},_tcp:function(){return z("tcp")},_udp:function(){return z("udp")},_tty:function(){return z("tty")},_statwatcher:function(){return z("statwatcher")},_securecontext:function(){return z("securecontext")},_connection:function(){return z("connection")},_zlib:function(){return z("zlib")},_context:function(){return z("context")},_nodescript:function(){return z("nodescript")},_httpparser:function(){return z("httpparser")},_dataview:function(){return z("dataview")},_signal:function(){return z("signal")},_fsevent:function(){return z("fsevent")},_tlswrap:function(){return z("tlswrap")}}}function K(){return{buf:"",write:function(G){this.buf+=G},end:function(G){this.buf+=G},read:function(){return this.buf}}}p.writeToStream=function(G,F,x){return x===void 0&&(x=F,F={}),Q(F=M(G,F),x).dispatch(G)}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(r,u,p){(function(h,y,c,d,m,P,N,L,k){(function(B){var U=typeof Uint8Array<"u"?Uint8Array:Array,$=43,j=47,M=48,q=97,Q=65,K=45,G=95;function F(x){return x=x.charCodeAt(0),x===$||x===K?62:x===j||x===G?63:x<M?-1:x<M+10?x-M+26+26:x<Q+26?x-Q:x<q+26?x-q+26:void 0}B.toByteArray=function(x){var z,J;if(0<x.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var Z=x.length,Z=x.charAt(Z-2)==="="?2:x.charAt(Z-1)==="="?1:0,X=new U(3*x.length/4-Z),te=0<Z?x.length-4:x.length,be=0;function Ae(Ne){X[be++]=Ne}for(z=0;z<te;z+=4,0)Ae((16711680&(J=F(x.charAt(z))<<18|F(x.charAt(z+1))<<12|F(x.charAt(z+2))<<6|F(x.charAt(z+3))))>>16),Ae((65280&J)>>8),Ae(255&J);return Z==2?Ae(255&(J=F(x.charAt(z))<<2|F(x.charAt(z+1))>>4)):Z==1&&(Ae((J=F(x.charAt(z))<<10|F(x.charAt(z+1))<<4|F(x.charAt(z+2))>>2)>>8&255),Ae(255&J)),X},B.fromByteArray=function(x){var z,J,Z,X,te=x.length%3,be="";function Ae(Ne){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(Ne)}for(z=0,Z=x.length-te;z<Z;z+=3)J=(x[z]<<16)+(x[z+1]<<8)+x[z+2],be+=Ae((X=J)>>18&63)+Ae(X>>12&63)+Ae(X>>6&63)+Ae(63&X);switch(te){case 1:be=(be+=Ae((J=x[x.length-1])>>2))+Ae(J<<4&63)+"==";break;case 2:be=(be=(be+=Ae((J=(x[x.length-2]<<8)+x[x.length-1])>>10))+Ae(J>>4&63))+Ae(J<<2&63)+"="}return be}})(p===void 0?this.base64js={}:p)}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(r,u,p){(function(h,y,$,d,m,P,N,L,k){var B=r("base64-js"),U=r("ieee754");function $(Y,l,T){if(!(this instanceof $))return new $(Y,l,T);var O,H,ae,Oe,ie=typeof Y;if(l==="base64"&&ie=="string")for(Y=(Oe=Y).trim?Oe.trim():Oe.replace(/^\s+|\s+$/g,"");Y.length%4!=0;)Y+="=";if(ie=="number")O=Ue(Y);else if(ie=="string")O=$.byteLength(Y,l);else{if(ie!="object")throw new Error("First argument needs to be a number, array or string.");O=Ue(Y.length)}if($._useTypedArrays?H=$._augment(new Uint8Array(O)):((H=this).length=O,H._isBuffer=!0),$._useTypedArrays&&typeof Y.byteLength=="number")H._set(Y);else if(qe(Oe=Y)||$.isBuffer(Oe)||Oe&&typeof Oe=="object"&&typeof Oe.length=="number")for(ae=0;ae<O;ae++)$.isBuffer(Y)?H[ae]=Y.readUInt8(ae):H[ae]=Y[ae];else if(ie=="string")H.write(Y,0,l);else if(ie=="number"&&!$._useTypedArrays&&!T)for(ae=0;ae<O;ae++)H[ae]=0;return H}function j(Y,l,T,O){return $._charsWritten=Be(function(H){for(var ae=[],Oe=0;Oe<H.length;Oe++)ae.push(255&H.charCodeAt(Oe));return ae}(l),Y,T,O)}function M(Y,l,T,O){return $._charsWritten=Be(function(H){for(var ae,Oe,ie=[],s=0;s<H.length;s++)Oe=H.charCodeAt(s),ae=Oe>>8,Oe=Oe%256,ie.push(Oe),ie.push(ae);return ie}(l),Y,T,O)}function q(Y,l,T){var O="";T=Math.min(Y.length,T);for(var H=l;H<T;H++)O+=String.fromCharCode(Y[H]);return O}function Q(Y,l,T,ae){ae||(je(typeof T=="boolean","missing or invalid endian"),je(l!=null,"missing offset"),je(l+1<Y.length,"Trying to read beyond buffer length"));var H,ae=Y.length;if(!(ae<=l))return T?(H=Y[l],l+1<ae&&(H|=Y[l+1]<<8)):(H=Y[l]<<8,l+1<ae&&(H|=Y[l+1])),H}function K(Y,l,T,ae){ae||(je(typeof T=="boolean","missing or invalid endian"),je(l!=null,"missing offset"),je(l+3<Y.length,"Trying to read beyond buffer length"));var H,ae=Y.length;if(!(ae<=l))return T?(l+2<ae&&(H=Y[l+2]<<16),l+1<ae&&(H|=Y[l+1]<<8),H|=Y[l],l+3<ae&&(H+=Y[l+3]<<24>>>0)):(l+1<ae&&(H=Y[l+1]<<16),l+2<ae&&(H|=Y[l+2]<<8),l+3<ae&&(H|=Y[l+3]),H+=Y[l]<<24>>>0),H}function G(Y,l,T,O){if(O||(je(typeof T=="boolean","missing or invalid endian"),je(l!=null,"missing offset"),je(l+1<Y.length,"Trying to read beyond buffer length")),!(Y.length<=l))return O=Q(Y,l,T,!0),32768&O?-1*(65535-O+1):O}function F(Y,l,T,O){if(O||(je(typeof T=="boolean","missing or invalid endian"),je(l!=null,"missing offset"),je(l+3<Y.length,"Trying to read beyond buffer length")),!(Y.length<=l))return O=K(Y,l,T,!0),2147483648&O?-1*(4294967295-O+1):O}function x(Y,l,T,O){return O||(je(typeof T=="boolean","missing or invalid endian"),je(l+3<Y.length,"Trying to read beyond buffer length")),U.read(Y,l,T,23,4)}function z(Y,l,T,O){return O||(je(typeof T=="boolean","missing or invalid endian"),je(l+7<Y.length,"Trying to read beyond buffer length")),U.read(Y,l,T,52,8)}function J(Y,l,T,O,H){if(H||(je(l!=null,"missing value"),je(typeof O=="boolean","missing or invalid endian"),je(T!=null,"missing offset"),je(T+1<Y.length,"trying to write beyond buffer length"),$e(l,65535)),H=Y.length,!(H<=T))for(var ae=0,Oe=Math.min(H-T,2);ae<Oe;ae++)Y[T+ae]=(l&255<<8*(O?ae:1-ae))>>>8*(O?ae:1-ae)}function Z(Y,l,T,O,H){if(H||(je(l!=null,"missing value"),je(typeof O=="boolean","missing or invalid endian"),je(T!=null,"missing offset"),je(T+3<Y.length,"trying to write beyond buffer length"),$e(l,4294967295)),H=Y.length,!(H<=T))for(var ae=0,Oe=Math.min(H-T,4);ae<Oe;ae++)Y[T+ae]=l>>>8*(O?ae:3-ae)&255}function X(Y,l,T,O,H){H||(je(l!=null,"missing value"),je(typeof O=="boolean","missing or invalid endian"),je(T!=null,"missing offset"),je(T+1<Y.length,"Trying to write beyond buffer length"),xe(l,32767,-32768)),Y.length<=T||J(Y,0<=l?l:65535+l+1,T,O,H)}function te(Y,l,T,O,H){H||(je(l!=null,"missing value"),je(typeof O=="boolean","missing or invalid endian"),je(T!=null,"missing offset"),je(T+3<Y.length,"Trying to write beyond buffer length"),xe(l,2147483647,-2147483648)),Y.length<=T||Z(Y,0<=l?l:4294967295+l+1,T,O,H)}function be(Y,l,T,O,H){H||(je(l!=null,"missing value"),je(typeof O=="boolean","missing or invalid endian"),je(T!=null,"missing offset"),je(T+3<Y.length,"Trying to write beyond buffer length"),Le(l,34028234663852886e22,-34028234663852886e22)),Y.length<=T||U.write(Y,l,T,O,23,4)}function Ae(Y,l,T,O,H){H||(je(l!=null,"missing value"),je(typeof O=="boolean","missing or invalid endian"),je(T!=null,"missing offset"),je(T+7<Y.length,"Trying to write beyond buffer length"),Le(l,17976931348623157e292,-17976931348623157e292)),Y.length<=T||U.write(Y,l,T,O,52,8)}p.Buffer=$,p.SlowBuffer=$,p.INSPECT_MAX_BYTES=50,$.poolSize=8192,$._useTypedArrays=function(){try{var Y=new ArrayBuffer(0),l=new Uint8Array(Y);return l.foo=function(){return 42},l.foo()===42&&typeof l.subarray=="function"}catch{return!1}}(),$.isEncoding=function(Y){switch(String(Y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},$.isBuffer=function(Y){return!(Y==null||!Y._isBuffer)},$.byteLength=function(Y,l){var T;switch(Y+="",l||"utf8"){case"hex":T=Y.length/2;break;case"utf8":case"utf-8":T=Qe(Y).length;break;case"ascii":case"binary":case"raw":T=Y.length;break;case"base64":T=Ke(Y).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":T=2*Y.length;break;default:throw new Error("Unknown encoding")}return T},$.concat=function(Y,l){if(je(qe(Y),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),Y.length===0)return new $(0);if(Y.length===1)return Y[0];if(typeof l!="number")for(H=l=0;H<Y.length;H++)l+=Y[H].length;for(var T=new $(l),O=0,H=0;H<Y.length;H++){var ae=Y[H];ae.copy(T,O),O+=ae.length}return T},$.prototype.write=function(Y,l,T,O){isFinite(l)?isFinite(T)||(O=T,T=void 0):(s=O,O=l,l=T,T=s),l=Number(l)||0;var H,ae,Oe,ie,s=this.length-l;switch((!T||s<(T=Number(T)))&&(T=s),O=String(O||"utf8").toLowerCase()){case"hex":H=function(A,I,n,R){n=Number(n)||0;var V=A.length-n;(!R||V<(R=Number(R)))&&(R=V),je((V=I.length)%2==0,"Invalid hex string"),V/2<R&&(R=V/2);for(var ee=0;ee<R;ee++){var Me=parseInt(I.substr(2*ee,2),16);je(!isNaN(Me),"Invalid hex string"),A[n+ee]=Me}return $._charsWritten=2*ee,ee}(this,Y,l,T);break;case"utf8":case"utf-8":ae=this,Oe=l,ie=T,H=$._charsWritten=Be(Qe(Y),ae,Oe,ie);break;case"ascii":case"binary":H=j(this,Y,l,T);break;case"base64":ae=this,Oe=l,ie=T,H=$._charsWritten=Be(Ke(Y),ae,Oe,ie);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":H=M(this,Y,l,T);break;default:throw new Error("Unknown encoding")}return H},$.prototype.toString=function(Y,l,T){var O,H,ae,Oe,ie=this;if(Y=String(Y||"utf8").toLowerCase(),l=Number(l)||0,(T=T!==void 0?Number(T):ie.length)===l)return"";switch(Y){case"hex":O=function(s,A,I){var n=s.length;(!A||A<0)&&(A=0),(!I||I<0||n<I)&&(I=n);for(var R="",V=A;V<I;V++)R+=Ge(s[V]);return R}(ie,l,T);break;case"utf8":case"utf-8":O=function(s,A,I){var n="",R="";I=Math.min(s.length,I);for(var V=A;V<I;V++)s[V]<=127?(n+=Re(R)+String.fromCharCode(s[V]),R=""):R+="%"+s[V].toString(16);return n+Re(R)}(ie,l,T);break;case"ascii":case"binary":O=q(ie,l,T);break;case"base64":H=ie,Oe=T,O=(ae=l)===0&&Oe===H.length?B.fromByteArray(H):B.fromByteArray(H.slice(ae,Oe));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":O=function(s,A,I){for(var n=s.slice(A,I),R="",V=0;V<n.length;V+=2)R+=String.fromCharCode(n[V]+256*n[V+1]);return R}(ie,l,T);break;default:throw new Error("Unknown encoding")}return O},$.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},$.prototype.copy=function(Y,l,T,O){if(l=l||0,(O=O||O===0?O:this.length)!==(T=T||0)&&Y.length!==0&&this.length!==0){je(T<=O,"sourceEnd < sourceStart"),je(0<=l&&l<Y.length,"targetStart out of bounds"),je(0<=T&&T<this.length,"sourceStart out of bounds"),je(0<=O&&O<=this.length,"sourceEnd out of bounds"),O>this.length&&(O=this.length);var H=(O=Y.length-l<O-T?Y.length-l+T:O)-T;if(H<100||!$._useTypedArrays)for(var ae=0;ae<H;ae++)Y[ae+l]=this[ae+T];else Y._set(this.subarray(T,T+H),l)}},$.prototype.slice=function(Y,l){var T=this.length;if(Y=ke(Y,T,0),l=ke(l,T,T),$._useTypedArrays)return $._augment(this.subarray(Y,l));for(var O=l-Y,H=new $(O,void 0,!0),ae=0;ae<O;ae++)H[ae]=this[ae+Y];return H},$.prototype.get=function(Y){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(Y)},$.prototype.set=function(Y,l){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(Y,l)},$.prototype.readUInt8=function(Y,l){if(l||(je(Y!=null,"missing offset"),je(Y<this.length,"Trying to read beyond buffer length")),!(Y>=this.length))return this[Y]},$.prototype.readUInt16LE=function(Y,l){return Q(this,Y,!0,l)},$.prototype.readUInt16BE=function(Y,l){return Q(this,Y,!1,l)},$.prototype.readUInt32LE=function(Y,l){return K(this,Y,!0,l)},$.prototype.readUInt32BE=function(Y,l){return K(this,Y,!1,l)},$.prototype.readInt8=function(Y,l){if(l||(je(Y!=null,"missing offset"),je(Y<this.length,"Trying to read beyond buffer length")),!(Y>=this.length))return 128&this[Y]?-1*(255-this[Y]+1):this[Y]},$.prototype.readInt16LE=function(Y,l){return G(this,Y,!0,l)},$.prototype.readInt16BE=function(Y,l){return G(this,Y,!1,l)},$.prototype.readInt32LE=function(Y,l){return F(this,Y,!0,l)},$.prototype.readInt32BE=function(Y,l){return F(this,Y,!1,l)},$.prototype.readFloatLE=function(Y,l){return x(this,Y,!0,l)},$.prototype.readFloatBE=function(Y,l){return x(this,Y,!1,l)},$.prototype.readDoubleLE=function(Y,l){return z(this,Y,!0,l)},$.prototype.readDoubleBE=function(Y,l){return z(this,Y,!1,l)},$.prototype.writeUInt8=function(Y,l,T){T||(je(Y!=null,"missing value"),je(l!=null,"missing offset"),je(l<this.length,"trying to write beyond buffer length"),$e(Y,255)),l>=this.length||(this[l]=Y)},$.prototype.writeUInt16LE=function(Y,l,T){J(this,Y,l,!0,T)},$.prototype.writeUInt16BE=function(Y,l,T){J(this,Y,l,!1,T)},$.prototype.writeUInt32LE=function(Y,l,T){Z(this,Y,l,!0,T)},$.prototype.writeUInt32BE=function(Y,l,T){Z(this,Y,l,!1,T)},$.prototype.writeInt8=function(Y,l,T){T||(je(Y!=null,"missing value"),je(l!=null,"missing offset"),je(l<this.length,"Trying to write beyond buffer length"),xe(Y,127,-128)),l>=this.length||(0<=Y?this.writeUInt8(Y,l,T):this.writeUInt8(255+Y+1,l,T))},$.prototype.writeInt16LE=function(Y,l,T){X(this,Y,l,!0,T)},$.prototype.writeInt16BE=function(Y,l,T){X(this,Y,l,!1,T)},$.prototype.writeInt32LE=function(Y,l,T){te(this,Y,l,!0,T)},$.prototype.writeInt32BE=function(Y,l,T){te(this,Y,l,!1,T)},$.prototype.writeFloatLE=function(Y,l,T){be(this,Y,l,!0,T)},$.prototype.writeFloatBE=function(Y,l,T){be(this,Y,l,!1,T)},$.prototype.writeDoubleLE=function(Y,l,T){Ae(this,Y,l,!0,T)},$.prototype.writeDoubleBE=function(Y,l,T){Ae(this,Y,l,!1,T)},$.prototype.fill=function(Y,l,T){if(l=l||0,T=T||this.length,je(typeof(Y=typeof(Y=Y||0)=="string"?Y.charCodeAt(0):Y)=="number"&&!isNaN(Y),"value is not a number"),je(l<=T,"end < start"),T!==l&&this.length!==0){je(0<=l&&l<this.length,"start out of bounds"),je(0<=T&&T<=this.length,"end out of bounds");for(var O=l;O<T;O++)this[O]=Y}},$.prototype.inspect=function(){for(var Y=[],l=this.length,T=0;T<l;T++)if(Y[T]=Ge(this[T]),T===p.INSPECT_MAX_BYTES){Y[T+1]="...";break}return"<Buffer "+Y.join(" ")+">"},$.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if($._useTypedArrays)return new $(this).buffer;for(var Y=new Uint8Array(this.length),l=0,T=Y.length;l<T;l+=1)Y[l]=this[l];return Y.buffer};var Ne=$.prototype;function ke(Y,l,T){return typeof Y!="number"?T:l<=(Y=~~Y)?l:0<=Y||0<=(Y+=l)?Y:0}function Ue(Y){return(Y=~~Math.ceil(+Y))<0?0:Y}function qe(Y){return(Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"})(Y)}function Ge(Y){return Y<16?"0"+Y.toString(16):Y.toString(16)}function Qe(Y){for(var l=[],T=0;T<Y.length;T++){var O=Y.charCodeAt(T);if(O<=127)l.push(Y.charCodeAt(T));else for(var H=T,ae=(55296<=O&&O<=57343&&T++,encodeURIComponent(Y.slice(H,T+1)).substr(1).split("%")),Oe=0;Oe<ae.length;Oe++)l.push(parseInt(ae[Oe],16))}return l}function Ke(Y){return B.toByteArray(Y)}function Be(Y,l,T,O){for(var H=0;H<O&&!(H+T>=l.length||H>=Y.length);H++)l[H+T]=Y[H];return H}function Re(Y){try{return decodeURIComponent(Y)}catch{return""}}function $e(Y,l){je(typeof Y=="number","cannot write a non-number as a number"),je(0<=Y,"specified a negative value for writing an unsigned value"),je(Y<=l,"value is larger than maximum value for type"),je(Math.floor(Y)===Y,"value has a fractional component")}function xe(Y,l,T){je(typeof Y=="number","cannot write a non-number as a number"),je(Y<=l,"value larger than maximum allowed value"),je(T<=Y,"value smaller than minimum allowed value"),je(Math.floor(Y)===Y,"value has a fractional component")}function Le(Y,l,T){je(typeof Y=="number","cannot write a non-number as a number"),je(Y<=l,"value larger than maximum allowed value"),je(T<=Y,"value smaller than minimum allowed value")}function je(Y,l){if(!Y)throw new Error(l||"Failed assertion")}$._augment=function(Y){return Y._isBuffer=!0,Y._get=Y.get,Y._set=Y.set,Y.get=Ne.get,Y.set=Ne.set,Y.write=Ne.write,Y.toString=Ne.toString,Y.toLocaleString=Ne.toString,Y.toJSON=Ne.toJSON,Y.copy=Ne.copy,Y.slice=Ne.slice,Y.readUInt8=Ne.readUInt8,Y.readUInt16LE=Ne.readUInt16LE,Y.readUInt16BE=Ne.readUInt16BE,Y.readUInt32LE=Ne.readUInt32LE,Y.readUInt32BE=Ne.readUInt32BE,Y.readInt8=Ne.readInt8,Y.readInt16LE=Ne.readInt16LE,Y.readInt16BE=Ne.readInt16BE,Y.readInt32LE=Ne.readInt32LE,Y.readInt32BE=Ne.readInt32BE,Y.readFloatLE=Ne.readFloatLE,Y.readFloatBE=Ne.readFloatBE,Y.readDoubleLE=Ne.readDoubleLE,Y.readDoubleBE=Ne.readDoubleBE,Y.writeUInt8=Ne.writeUInt8,Y.writeUInt16LE=Ne.writeUInt16LE,Y.writeUInt16BE=Ne.writeUInt16BE,Y.writeUInt32LE=Ne.writeUInt32LE,Y.writeUInt32BE=Ne.writeUInt32BE,Y.writeInt8=Ne.writeInt8,Y.writeInt16LE=Ne.writeInt16LE,Y.writeInt16BE=Ne.writeInt16BE,Y.writeInt32LE=Ne.writeInt32LE,Y.writeInt32BE=Ne.writeInt32BE,Y.writeFloatLE=Ne.writeFloatLE,Y.writeFloatBE=Ne.writeFloatBE,Y.writeDoubleLE=Ne.writeDoubleLE,Y.writeDoubleBE=Ne.writeDoubleBE,Y.fill=Ne.fill,Y.inspect=Ne.inspect,Y.toArrayBuffer=Ne.toArrayBuffer,Y}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(r,u,p){(function(h,y,B,d,m,P,N,L,k){var B=r("buffer").Buffer,U=4,$=new B(U);$.fill(0),u.exports={hash:function(j,M,q,Q){for(var K=M(function(J,Z){J.length%U!=0&&(X=J.length+(U-J.length%U),J=B.concat([J,$],X));for(var X,te=[],be=Z?J.readInt32BE:J.readInt32LE,Ae=0;Ae<J.length;Ae+=U)te.push(be.call(J,Ae));return te}(j=B.isBuffer(j)?j:new B(j),Q),8*j.length),M=Q,G=new B(q),F=M?G.writeInt32BE:G.writeInt32LE,x=0;x<K.length;x++)F.call(G,K[x],4*x,!0);return G}}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(r,u,p){(function(h,y,B,d,m,P,N,L,k){var B=r("buffer").Buffer,U=r("./sha"),$=r("./sha256"),j=r("./rng"),M={sha1:U,sha256:$,md5:r("./md5")},q=64,Q=new B(q);function K(J,Z){var X=M[J=J||"sha1"],te=[];return X||G("algorithm:",J,"is not yet supported"),{update:function(be){return B.isBuffer(be)||(be=new B(be)),te.push(be),be.length,this},digest:function(be){var Ae=B.concat(te),Ae=Z?function(Ne,ke,Ue){B.isBuffer(ke)||(ke=new B(ke)),B.isBuffer(Ue)||(Ue=new B(Ue)),ke.length>q?ke=Ne(ke):ke.length<q&&(ke=B.concat([ke,Q],q));for(var qe=new B(q),Ge=new B(q),Qe=0;Qe<q;Qe++)qe[Qe]=54^ke[Qe],Ge[Qe]=92^ke[Qe];return Ue=Ne(B.concat([qe,Ue])),Ne(B.concat([Ge,Ue]))}(X,Z,Ae):X(Ae);return te=null,be?Ae.toString(be):Ae}}}function G(){var J=[].slice.call(arguments).join(" ");throw new Error([J,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}Q.fill(0),p.createHash=function(J){return K(J)},p.createHmac=K,p.randomBytes=function(J,Z){if(!Z||!Z.call)return new B(j(J));try{Z.call(this,void 0,new B(j(J)))}catch(X){Z(X)}};var F,x=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],z=function(J){p[J]=function(){G("sorry,",J,"is not implemented yet")}};for(F in x)z(x[F])}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(r,u,p){(function(h,y,c,d,m,P,N,L,k){var B=r("./helpers");function U(G,F){G[F>>5]|=128<<F%32,G[14+(F+64>>>9<<4)]=F;for(var x=1732584193,z=-271733879,J=-1732584194,Z=271733878,X=0;X<G.length;X+=16){var te=x,be=z,Ae=J,Ne=Z,x=j(x,z,J,Z,G[X+0],7,-680876936),Z=j(Z,x,z,J,G[X+1],12,-389564586),J=j(J,Z,x,z,G[X+2],17,606105819),z=j(z,J,Z,x,G[X+3],22,-1044525330);x=j(x,z,J,Z,G[X+4],7,-176418897),Z=j(Z,x,z,J,G[X+5],12,1200080426),J=j(J,Z,x,z,G[X+6],17,-1473231341),z=j(z,J,Z,x,G[X+7],22,-45705983),x=j(x,z,J,Z,G[X+8],7,1770035416),Z=j(Z,x,z,J,G[X+9],12,-1958414417),J=j(J,Z,x,z,G[X+10],17,-42063),z=j(z,J,Z,x,G[X+11],22,-1990404162),x=j(x,z,J,Z,G[X+12],7,1804603682),Z=j(Z,x,z,J,G[X+13],12,-40341101),J=j(J,Z,x,z,G[X+14],17,-1502002290),x=M(x,z=j(z,J,Z,x,G[X+15],22,1236535329),J,Z,G[X+1],5,-165796510),Z=M(Z,x,z,J,G[X+6],9,-1069501632),J=M(J,Z,x,z,G[X+11],14,643717713),z=M(z,J,Z,x,G[X+0],20,-373897302),x=M(x,z,J,Z,G[X+5],5,-701558691),Z=M(Z,x,z,J,G[X+10],9,38016083),J=M(J,Z,x,z,G[X+15],14,-660478335),z=M(z,J,Z,x,G[X+4],20,-405537848),x=M(x,z,J,Z,G[X+9],5,568446438),Z=M(Z,x,z,J,G[X+14],9,-1019803690),J=M(J,Z,x,z,G[X+3],14,-187363961),z=M(z,J,Z,x,G[X+8],20,1163531501),x=M(x,z,J,Z,G[X+13],5,-1444681467),Z=M(Z,x,z,J,G[X+2],9,-51403784),J=M(J,Z,x,z,G[X+7],14,1735328473),x=q(x,z=M(z,J,Z,x,G[X+12],20,-1926607734),J,Z,G[X+5],4,-378558),Z=q(Z,x,z,J,G[X+8],11,-2022574463),J=q(J,Z,x,z,G[X+11],16,1839030562),z=q(z,J,Z,x,G[X+14],23,-35309556),x=q(x,z,J,Z,G[X+1],4,-1530992060),Z=q(Z,x,z,J,G[X+4],11,1272893353),J=q(J,Z,x,z,G[X+7],16,-155497632),z=q(z,J,Z,x,G[X+10],23,-1094730640),x=q(x,z,J,Z,G[X+13],4,681279174),Z=q(Z,x,z,J,G[X+0],11,-358537222),J=q(J,Z,x,z,G[X+3],16,-722521979),z=q(z,J,Z,x,G[X+6],23,76029189),x=q(x,z,J,Z,G[X+9],4,-640364487),Z=q(Z,x,z,J,G[X+12],11,-421815835),J=q(J,Z,x,z,G[X+15],16,530742520),x=Q(x,z=q(z,J,Z,x,G[X+2],23,-995338651),J,Z,G[X+0],6,-198630844),Z=Q(Z,x,z,J,G[X+7],10,1126891415),J=Q(J,Z,x,z,G[X+14],15,-1416354905),z=Q(z,J,Z,x,G[X+5],21,-57434055),x=Q(x,z,J,Z,G[X+12],6,1700485571),Z=Q(Z,x,z,J,G[X+3],10,-1894986606),J=Q(J,Z,x,z,G[X+10],15,-1051523),z=Q(z,J,Z,x,G[X+1],21,-2054922799),x=Q(x,z,J,Z,G[X+8],6,1873313359),Z=Q(Z,x,z,J,G[X+15],10,-30611744),J=Q(J,Z,x,z,G[X+6],15,-1560198380),z=Q(z,J,Z,x,G[X+13],21,1309151649),x=Q(x,z,J,Z,G[X+4],6,-145523070),Z=Q(Z,x,z,J,G[X+11],10,-1120210379),J=Q(J,Z,x,z,G[X+2],15,718787259),z=Q(z,J,Z,x,G[X+9],21,-343485551),x=K(x,te),z=K(z,be),J=K(J,Ae),Z=K(Z,Ne)}return Array(x,z,J,Z)}function $(G,F,x,z,J,Z){return K((F=K(K(F,G),K(z,Z)))<<J|F>>>32-J,x)}function j(G,F,x,z,J,Z,X){return $(F&x|~F&z,G,F,J,Z,X)}function M(G,F,x,z,J,Z,X){return $(F&z|x&~z,G,F,J,Z,X)}function q(G,F,x,z,J,Z,X){return $(F^x^z,G,F,J,Z,X)}function Q(G,F,x,z,J,Z,X){return $(x^(F|~z),G,F,J,Z,X)}function K(G,F){var x=(65535&G)+(65535&F);return(G>>16)+(F>>16)+(x>>16)<<16|65535&x}u.exports=function(G){return B.hash(G,U,16)}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(r,u,p){(function(h,y,c,d,m,P,N,L,k){u.exports=function(B){for(var U,$=new Array(B),j=0;j<B;j++)!(3&j)&&(U=4294967296*Math.random()),$[j]=U>>>((3&j)<<3)&255;return $}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(r,u,p){(function(h,y,c,d,m,P,N,L,k){var B=r("./helpers");function U(M,q){M[q>>5]|=128<<24-q%32,M[15+(q+64>>9<<4)]=q;for(var Q,K,G,F=Array(80),x=1732584193,z=-271733879,J=-1732584194,Z=271733878,X=-1009589776,te=0;te<M.length;te+=16){for(var be=x,Ae=z,Ne=J,ke=Z,Ue=X,qe=0;qe<80;qe++){F[qe]=qe<16?M[te+qe]:j(F[qe-3]^F[qe-8]^F[qe-14]^F[qe-16],1);var Ge=$($(j(x,5),(Ge=z,K=J,G=Z,(Q=qe)<20?Ge&K|~Ge&G:!(Q<40)&&Q<60?Ge&K|Ge&G|K&G:Ge^K^G)),$($(X,F[qe]),(Q=qe)<20?1518500249:Q<40?1859775393:Q<60?-1894007588:-899497514)),X=Z,Z=J,J=j(z,30),z=x,x=Ge}x=$(x,be),z=$(z,Ae),J=$(J,Ne),Z=$(Z,ke),X=$(X,Ue)}return Array(x,z,J,Z,X)}function $(M,q){var Q=(65535&M)+(65535&q);return(M>>16)+(q>>16)+(Q>>16)<<16|65535&Q}function j(M,q){return M<<q|M>>>32-q}u.exports=function(M){return B.hash(M,U,20,!0)}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(r,u,p){(function(h,y,c,d,m,P,N,L,k){function B(q,Q){var K=(65535&q)+(65535&Q);return(q>>16)+(Q>>16)+(K>>16)<<16|65535&K}function U(q,Q){var K,G=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),F=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),x=new Array(64);q[Q>>5]|=128<<24-Q%32,q[15+(Q+64>>9<<4)]=Q;for(var z,J,Z=0;Z<q.length;Z+=16){for(var X=F[0],te=F[1],be=F[2],Ae=F[3],Ne=F[4],ke=F[5],Ue=F[6],qe=F[7],Ge=0;Ge<64;Ge++)x[Ge]=Ge<16?q[Ge+Z]:B(B(B((J=x[Ge-2],j(J,17)^j(J,19)^M(J,10)),x[Ge-7]),(J=x[Ge-15],j(J,7)^j(J,18)^M(J,3))),x[Ge-16]),K=B(B(B(B(qe,j(J=Ne,6)^j(J,11)^j(J,25)),Ne&ke^~Ne&Ue),G[Ge]),x[Ge]),z=B(j(z=X,2)^j(z,13)^j(z,22),X&te^X&be^te&be),qe=Ue,Ue=ke,ke=Ne,Ne=B(Ae,K),Ae=be,be=te,te=X,X=B(K,z);F[0]=B(X,F[0]),F[1]=B(te,F[1]),F[2]=B(be,F[2]),F[3]=B(Ae,F[3]),F[4]=B(Ne,F[4]),F[5]=B(ke,F[5]),F[6]=B(Ue,F[6]),F[7]=B(qe,F[7])}return F}var $=r("./helpers"),j=function(q,Q){return q>>>Q|q<<32-Q},M=function(q,Q){return q>>>Q};u.exports=function(q){return $.hash(q,U,32,!0)}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(r,u,p){(function(h,y,c,d,m,P,N,L,k){p.read=function(B,U,$,j,Z){var q,Q,K=8*Z-j-1,G=(1<<K)-1,F=G>>1,x=-7,z=$?Z-1:0,J=$?-1:1,Z=B[U+z];for(z+=J,q=Z&(1<<-x)-1,Z>>=-x,x+=K;0<x;q=256*q+B[U+z],z+=J,x-=8);for(Q=q&(1<<-x)-1,q>>=-x,x+=j;0<x;Q=256*Q+B[U+z],z+=J,x-=8);if(q===0)q=1-F;else{if(q===G)return Q?NaN:1/0*(Z?-1:1);Q+=Math.pow(2,j),q-=F}return(Z?-1:1)*Q*Math.pow(2,q-j)},p.write=function(B,U,$,j,M,X){var Q,K,G=8*X-M-1,F=(1<<G)-1,x=F>>1,z=M===23?Math.pow(2,-24)-Math.pow(2,-77):0,J=j?0:X-1,Z=j?1:-1,X=U<0||U===0&&1/U<0?1:0;for(U=Math.abs(U),isNaN(U)||U===1/0?(K=isNaN(U)?1:0,Q=F):(Q=Math.floor(Math.log(U)/Math.LN2),U*(j=Math.pow(2,-Q))<1&&(Q--,j*=2),2<=(U+=1<=Q+x?z/j:z*Math.pow(2,1-x))*j&&(Q++,j/=2),F<=Q+x?(K=0,Q=F):1<=Q+x?(K=(U*j-1)*Math.pow(2,M),Q+=x):(K=U*Math.pow(2,x-1)*Math.pow(2,M),Q=0));8<=M;B[$+J]=255&K,J+=Z,K/=256,M-=8);for(Q=Q<<M|K,G+=M;0<G;B[$+J]=255&Q,J+=Z,Q/=256,G-=8);B[$+J-Z]|=128*X}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(r,u,p){(function(h,y,c,d,m,P,N,L,k){var B,U,$;function j(){}(h=u.exports={}).nextTick=(U=typeof window<"u"&&window.setImmediate,$=typeof window<"u"&&window.postMessage&&window.addEventListener,U?function(M){return window.setImmediate(M)}:$?(B=[],window.addEventListener("message",function(M){var q=M.source;q!==window&&q!==null||M.data!=="process-tick"||(M.stopPropagation(),0<B.length&&B.shift()())},!0),function(M){B.push(M),window.postMessage("process-tick","*")}):function(M){setTimeout(M,0)}),h.title="browser",h.browser=!0,h.env={},h.argv=[],h.on=j,h.addListener=j,h.once=j,h.off=j,h.removeListener=j,h.removeAllListeners=j,h.emit=j,h.binding=function(M){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(M){throw new Error("process.chdir is not supported")}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})}(object_hash)),object_hash.exports}var src$1={exports:{}},indexLight={exports:{}},indexMinimal={},minimal$1={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=o;function o(e,r){for(var u=new Array(arguments.length-1),p=0,h=2,y=!0;h<arguments.length;)u[p++]=arguments[h++];return new Promise(function(d,m){u[p]=function(N){if(y)if(y=!1,N)m(N);else{for(var L=new Array(arguments.length-1),k=0;k<L.length;)L[k++]=arguments[k];d.apply(null,L)}};try{e.apply(r||null,u)}catch(P){y&&(y=!1,m(P))}})}return aspromise}var base64={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,function(o){var e=o;e.length=function(c){var d=c.length;if(!d)return 0;for(var m=0;--d%4>1&&c.charAt(d)==="=";)++m;return Math.ceil(c.length*3)/4-m};for(var r=new Array(64),u=new Array(123),p=0;p<64;)u[r[p]=p<26?p+65:p<52?p+71:p<62?p-4:p-59|43]=p++;e.encode=function(c,d,m){for(var P=null,N=[],L=0,k=0,B;d<m;){var U=c[d++];switch(k){case 0:N[L++]=r[U>>2],B=(U&3)<<4,k=1;break;case 1:N[L++]=r[B|U>>4],B=(U&15)<<2,k=2;break;case 2:N[L++]=r[B|U>>6],N[L++]=r[U&63],k=0;break}L>8191&&((P||(P=[])).push(String.fromCharCode.apply(String,N)),L=0)}return k&&(N[L++]=r[B],N[L++]=61,k===1&&(N[L++]=61)),P?(L&&P.push(String.fromCharCode.apply(String,N.slice(0,L))),P.join("")):String.fromCharCode.apply(String,N.slice(0,L))};var h="invalid encoding";e.decode=function(c,d,m){for(var P=m,N=0,L,k=0;k<c.length;){var B=c.charCodeAt(k++);if(B===61&&N>1)break;if((B=u[B])===void 0)throw Error(h);switch(N){case 0:L=B,N=1;break;case 1:d[m++]=L<<2|(B&48)>>4,L=B,N=2;break;case 2:d[m++]=(L&15)<<4|(B&60)>>2,L=B,N=3;break;case 3:d[m++]=(L&3)<<6|B,N=0;break}}if(N===1)throw Error(h);return m-P},e.test=function(c){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(c)}}(base64)),base64}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=o;function o(){this._listeners={}}return o.prototype.on=function(r,u,p){return(this._listeners[r]||(this._listeners[r]=[])).push({fn:u,ctx:p||this}),this},o.prototype.off=function(r,u){if(r===void 0)this._listeners={};else if(u===void 0)this._listeners[r]=[];else for(var p=this._listeners[r],h=0;h<p.length;)p[h].fn===u?p.splice(h,1):++h;return this},o.prototype.emit=function(r){var u=this._listeners[r];if(u){for(var p=[],h=1;h<arguments.length;)p.push(arguments[h++]);for(h=0;h<u.length;)u[h].fn.apply(u[h++].ctx,p)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=o(o);function o(h){return typeof Float32Array<"u"?function(){var y=new Float32Array([-0]),c=new Uint8Array(y.buffer),d=c[3]===128;function m(k,B,U){y[0]=k,B[U]=c[0],B[U+1]=c[1],B[U+2]=c[2],B[U+3]=c[3]}function P(k,B,U){y[0]=k,B[U]=c[3],B[U+1]=c[2],B[U+2]=c[1],B[U+3]=c[0]}h.writeFloatLE=d?m:P,h.writeFloatBE=d?P:m;function N(k,B){return c[0]=k[B],c[1]=k[B+1],c[2]=k[B+2],c[3]=k[B+3],y[0]}function L(k,B){return c[3]=k[B],c[2]=k[B+1],c[1]=k[B+2],c[0]=k[B+3],y[0]}h.readFloatLE=d?N:L,h.readFloatBE=d?L:N}():function(){function y(d,m,P,N){var L=m<0?1:0;if(L&&(m=-m),m===0)d(1/m>0?0:2147483648,P,N);else if(isNaN(m))d(2143289344,P,N);else if(m>34028234663852886e22)d((L<<31|2139095040)>>>0,P,N);else if(m<11754943508222875e-54)d((L<<31|Math.round(m/1401298464324817e-60))>>>0,P,N);else{var k=Math.floor(Math.log(m)/Math.LN2),B=Math.round(m*Math.pow(2,-k)*8388608)&8388607;d((L<<31|k+127<<23|B)>>>0,P,N)}}h.writeFloatLE=y.bind(null,e),h.writeFloatBE=y.bind(null,r);function c(d,m,P){var N=d(m,P),L=(N>>31)*2+1,k=N>>>23&255,B=N&8388607;return k===255?B?NaN:L*(1/0):k===0?L*1401298464324817e-60*B:L*Math.pow(2,k-150)*(B+8388608)}h.readFloatLE=c.bind(null,u),h.readFloatBE=c.bind(null,p)}(),typeof Float64Array<"u"?function(){var y=new Float64Array([-0]),c=new Uint8Array(y.buffer),d=c[7]===128;function m(k,B,U){y[0]=k,B[U]=c[0],B[U+1]=c[1],B[U+2]=c[2],B[U+3]=c[3],B[U+4]=c[4],B[U+5]=c[5],B[U+6]=c[6],B[U+7]=c[7]}function P(k,B,U){y[0]=k,B[U]=c[7],B[U+1]=c[6],B[U+2]=c[5],B[U+3]=c[4],B[U+4]=c[3],B[U+5]=c[2],B[U+6]=c[1],B[U+7]=c[0]}h.writeDoubleLE=d?m:P,h.writeDoubleBE=d?P:m;function N(k,B){return c[0]=k[B],c[1]=k[B+1],c[2]=k[B+2],c[3]=k[B+3],c[4]=k[B+4],c[5]=k[B+5],c[6]=k[B+6],c[7]=k[B+7],y[0]}function L(k,B){return c[7]=k[B],c[6]=k[B+1],c[5]=k[B+2],c[4]=k[B+3],c[3]=k[B+4],c[2]=k[B+5],c[1]=k[B+6],c[0]=k[B+7],y[0]}h.readDoubleLE=d?N:L,h.readDoubleBE=d?L:N}():function(){function y(d,m,P,N,L,k){var B=N<0?1:0;if(B&&(N=-N),N===0)d(0,L,k+m),d(1/N>0?0:2147483648,L,k+P);else if(isNaN(N))d(0,L,k+m),d(2146959360,L,k+P);else if(N>17976931348623157e292)d(0,L,k+m),d((B<<31|2146435072)>>>0,L,k+P);else{var U;if(N<22250738585072014e-324)U=N/5e-324,d(U>>>0,L,k+m),d((B<<31|U/4294967296)>>>0,L,k+P);else{var $=Math.floor(Math.log(N)/Math.LN2);$===1024&&($=1023),U=N*Math.pow(2,-$),d(U*4503599627370496>>>0,L,k+m),d((B<<31|$+1023<<20|U*1048576&1048575)>>>0,L,k+P)}}}h.writeDoubleLE=y.bind(null,e,0,4),h.writeDoubleBE=y.bind(null,r,4,0);function c(d,m,P,N,L){var k=d(N,L+m),B=d(N,L+P),U=(B>>31)*2+1,$=B>>>20&2047,j=4294967296*(B&1048575)+k;return $===2047?j?NaN:U*(1/0):$===0?U*5e-324*j:U*Math.pow(2,$-1075)*(j+4503599627370496)}h.readDoubleLE=c.bind(null,u,0,4),h.readDoubleBE=c.bind(null,p,4,0)}(),h}function e(h,y,c){y[c]=h&255,y[c+1]=h>>>8&255,y[c+2]=h>>>16&255,y[c+3]=h>>>24}function r(h,y,c){y[c]=h>>>24,y[c+1]=h>>>16&255,y[c+2]=h>>>8&255,y[c+3]=h&255}function u(h,y){return(h[y]|h[y+1]<<8|h[y+2]<<16|h[y+3]<<24)>>>0}function p(h,y){return(h[y]<<24|h[y+1]<<16|h[y+2]<<8|h[y+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(o){}return null}return inquire_1}var utf8={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,function(o){var e=o;e.length=function(u){for(var p=0,h=0,y=0;y<u.length;++y)h=u.charCodeAt(y),h<128?p+=1:h<2048?p+=2:(h&64512)===55296&&(u.charCodeAt(y+1)&64512)===56320?(++y,p+=4):p+=3;return p},e.read=function(u,p,h){var y=h-p;if(y<1)return"";for(var c=null,d=[],m=0,P;p<h;)P=u[p++],P<128?d[m++]=P:P>191&&P<224?d[m++]=(P&31)<<6|u[p++]&63:P>239&&P<365?(P=((P&7)<<18|(u[p++]&63)<<12|(u[p++]&63)<<6|u[p++]&63)-65536,d[m++]=55296+(P>>10),d[m++]=56320+(P&1023)):d[m++]=(P&15)<<12|(u[p++]&63)<<6|u[p++]&63,m>8191&&((c||(c=[])).push(String.fromCharCode.apply(String,d)),m=0);return c?(m&&c.push(String.fromCharCode.apply(String,d.slice(0,m))),c.join("")):String.fromCharCode.apply(String,d.slice(0,m))},e.write=function(u,p,h){for(var y=h,c,d,m=0;m<u.length;++m)c=u.charCodeAt(m),c<128?p[h++]=c:c<2048?(p[h++]=c>>6|192,p[h++]=c&63|128):(c&64512)===55296&&((d=u.charCodeAt(m+1))&64512)===56320?(c=65536+((c&1023)<<10)+(d&1023),++m,p[h++]=c>>18|240,p[h++]=c>>12&63|128,p[h++]=c>>6&63|128,p[h++]=c&63|128):(p[h++]=c>>12|224,p[h++]=c>>6&63|128,p[h++]=c&63|128);return h-y}}(utf8)),utf8}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=o;function o(e,r,u){var p=u||8192,h=p>>>1,y=null,c=p;return function(m){if(m<1||m>h)return e(m);c+m>p&&(y=e(p),c=0);var P=r.call(y,c,c+=m);return c&7&&(c=(c|7)+1),P}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=e;var o=requireMinimal$1();function e(h,y){this.lo=h>>>0,this.hi=y>>>0}var r=e.zero=new e(0,0);r.toNumber=function(){return 0},r.zzEncode=r.zzDecode=function(){return this},r.length=function(){return 1};var u=e.zeroHash="\0\0\0\0\0\0\0\0";e.fromNumber=function(y){if(y===0)return r;var c=y<0;c&&(y=-y);var d=y>>>0,m=(y-d)/4294967296>>>0;return c&&(m=~m>>>0,d=~d>>>0,++d>4294967295&&(d=0,++m>4294967295&&(m=0))),new e(d,m)},e.from=function(y){if(typeof y=="number")return e.fromNumber(y);if(o.isString(y))if(o.Long)y=o.Long.fromString(y);else return e.fromNumber(parseInt(y,10));return y.low||y.high?new e(y.low>>>0,y.high>>>0):r},e.prototype.toNumber=function(y){if(!y&&this.hi>>>31){var c=~this.lo+1>>>0,d=~this.hi>>>0;return c||(d=d+1>>>0),-(c+d*4294967296)}return this.lo+this.hi*4294967296},e.prototype.toLong=function(y){return o.Long?new o.Long(this.lo|0,this.hi|0,!!y):{low:this.lo|0,high:this.hi|0,unsigned:!!y}};var p=String.prototype.charCodeAt;return e.fromHash=function(y){return y===u?r:new e((p.call(y,0)|p.call(y,1)<<8|p.call(y,2)<<16|p.call(y,3)<<24)>>>0,(p.call(y,4)|p.call(y,5)<<8|p.call(y,6)<<16|p.call(y,7)<<24)>>>0)},e.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},e.prototype.zzEncode=function(){var y=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^y)>>>0,this.lo=(this.lo<<1^y)>>>0,this},e.prototype.zzDecode=function(){var y=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^y)>>>0,this.hi=(this.hi>>>1^y)>>>0,this},e.prototype.length=function(){var y=this.lo,c=(this.lo>>>28|this.hi<<4)>>>0,d=this.hi>>>24;return d===0?c===0?y<16384?y<128?1:2:y<2097152?3:4:c<16384?c<128?5:6:c<2097152?7:8:d<128?9:10},longbits}var hasRequiredMinimal$1;function requireMinimal$1(){return hasRequiredMinimal$1||(hasRequiredMinimal$1=1,function(o){var e=o;e.asPromise=requireAspromise(),e.base64=requireBase64(),e.EventEmitter=requireEventemitter(),e.float=requireFloat(),e.inquire=requireInquire(),e.utf8=requireUtf8(),e.pool=requirePool(),e.LongBits=requireLongbits(),e.isNode=!!(typeof commonjsGlobal$2<"u"&&commonjsGlobal$2&&commonjsGlobal$2.process&&commonjsGlobal$2.process.versions&&commonjsGlobal$2.process.versions.node),e.global=e.isNode&&commonjsGlobal$2||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal$2,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isInteger=Number.isInteger||function(h){return typeof h=="number"&&isFinite(h)&&Math.floor(h)===h},e.isString=function(h){return typeof h=="string"||h instanceof String},e.isObject=function(h){return h&&typeof h=="object"},e.isset=e.isSet=function(h,y){var c=h[y];return c!=null&&h.hasOwnProperty(y)?typeof c!="object"||(Array.isArray(c)?c.length:Object.keys(c).length)>0:!1},e.Buffer=function(){try{var p=e.inquire("buffer").Buffer;return p.prototype.utf8Write?p:null}catch{return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(h){return typeof h=="number"?e.Buffer?e._Buffer_allocUnsafe(h):new e.Array(h):e.Buffer?e._Buffer_from(h):typeof Uint8Array>"u"?h:new Uint8Array(h)},e.Array=typeof Uint8Array<"u"?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(h){return h?e.LongBits.from(h).toHash():e.LongBits.zeroHash},e.longFromHash=function(h,y){var c=e.LongBits.fromHash(h);return e.Long?e.Long.fromBits(c.lo,c.hi,y):c.toNumber(!!y)};function r(p,h,y){for(var c=Object.keys(h),d=0;d<c.length;++d)(p[c[d]]===void 0||!y)&&(p[c[d]]=h[c[d]]);return p}e.merge=r,e.lcFirst=function(h){return h.charAt(0).toLowerCase()+h.substring(1)};function u(p){function h(y,c){if(!(this instanceof h))return new h(y,c);Object.defineProperty(this,"message",{get:function(){return y}}),Error.captureStackTrace?Error.captureStackTrace(this,h):Object.defineProperty(this,"stack",{value:new Error().stack||""}),c&&r(this,c)}return h.prototype=Object.create(Error.prototype,{constructor:{value:h,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return p},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),h}e.newError=u,e.ProtocolError=u("ProtocolError"),e.oneOfGetter=function(h){for(var y={},c=0;c<h.length;++c)y[h[c]]=1;return function(){for(var d=Object.keys(this),m=d.length-1;m>-1;--m)if(y[d[m]]===1&&this[d[m]]!==void 0&&this[d[m]]!==null)return d[m]}},e.oneOfSetter=function(h){return function(y){for(var c=0;c<h.length;++c)h[c]!==y&&delete this[h[c]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var p=e.Buffer;if(!p){e._Buffer_from=e._Buffer_allocUnsafe=null;return}e._Buffer_from=p.from!==Uint8Array.from&&p.from||function(y,c){return new p(y,c)},e._Buffer_allocUnsafe=p.allocUnsafe||function(y){return new p(y)}}}(minimal$1)),minimal$1}var writer,hasRequiredWriter;function requireWriter(){if(hasRequiredWriter)return writer;hasRequiredWriter=1,writer=d;var o=requireMinimal$1(),e,r=o.LongBits,u=o.base64,p=o.utf8;function h($,j,M){this.fn=$,this.len=j,this.next=void 0,this.val=M}function y(){}function c($){this.head=$.head,this.tail=$.tail,this.len=$.len,this.next=$.states}function d(){this.len=0,this.head=new h(y,0,0),this.tail=this.head,this.states=null}var m=function(){return o.Buffer?function(){return(d.create=function(){return new e})()}:function(){return new d}};d.create=m(),d.alloc=function(j){return new o.Array(j)},o.Array!==Array&&(d.alloc=o.pool(d.alloc,o.Array.prototype.subarray)),d.prototype._push=function(j,M,q){return this.tail=this.tail.next=new h(j,M,q),this.len+=M,this};function P($,j,M){j[M]=$&255}function N($,j,M){for(;$>127;)j[M++]=$&127|128,$>>>=7;j[M]=$}function L($,j){this.len=$,this.next=void 0,this.val=j}L.prototype=Object.create(h.prototype),L.prototype.fn=N,d.prototype.uint32=function(j){return this.len+=(this.tail=this.tail.next=new L((j=j>>>0)<128?1:j<16384?2:j<2097152?3:j<268435456?4:5,j)).len,this},d.prototype.int32=function(j){return j<0?this._push(k,10,r.fromNumber(j)):this.uint32(j)},d.prototype.sint32=function(j){return this.uint32((j<<1^j>>31)>>>0)};function k($,j,M){for(;$.hi;)j[M++]=$.lo&127|128,$.lo=($.lo>>>7|$.hi<<25)>>>0,$.hi>>>=7;for(;$.lo>127;)j[M++]=$.lo&127|128,$.lo=$.lo>>>7;j[M++]=$.lo}d.prototype.uint64=function(j){var M=r.from(j);return this._push(k,M.length(),M)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(j){var M=r.from(j).zzEncode();return this._push(k,M.length(),M)},d.prototype.bool=function(j){return this._push(P,1,j?1:0)};function B($,j,M){j[M]=$&255,j[M+1]=$>>>8&255,j[M+2]=$>>>16&255,j[M+3]=$>>>24}d.prototype.fixed32=function(j){return this._push(B,4,j>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(j){var M=r.from(j);return this._push(B,4,M.lo)._push(B,4,M.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(j){return this._push(o.float.writeFloatLE,4,j)},d.prototype.double=function(j){return this._push(o.float.writeDoubleLE,8,j)};var U=o.Array.prototype.set?function(j,M,q){M.set(j,q)}:function(j,M,q){for(var Q=0;Q<j.length;++Q)M[q+Q]=j[Q]};return d.prototype.bytes=function(j){var M=j.length>>>0;if(!M)return this._push(P,1,0);if(o.isString(j)){var q=d.alloc(M=u.length(j));u.decode(j,q,0),j=q}return this.uint32(M)._push(U,M,j)},d.prototype.string=function(j){var M=p.length(j);return M?this.uint32(M)._push(p.write,M,j):this._push(P,1,0)},d.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new h(y,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new h(y,0,0),this.len=0),this},d.prototype.ldelim=function(){var j=this.head,M=this.tail,q=this.len;return this.reset().uint32(q),q&&(this.tail.next=j.next,this.tail=M,this.len+=q),this},d.prototype.finish=function(){for(var j=this.head.next,M=this.constructor.alloc(this.len),q=0;j;)j.fn(j.val,M,q),q+=j.len,j=j.next;return M},d._configure=function($){e=$,d.create=m(),e._configure()},writer}var writer_buffer,hasRequiredWriter_buffer;function requireWriter_buffer(){if(hasRequiredWriter_buffer)return writer_buffer;hasRequiredWriter_buffer=1,writer_buffer=r;var o=requireWriter();(r.prototype=Object.create(o.prototype)).constructor=r;var e=requireMinimal$1();function r(){o.call(this)}r._configure=function(){r.alloc=e._Buffer_allocUnsafe,r.writeBytesBuffer=e.Buffer&&e.Buffer.prototype instanceof Uint8Array&&e.Buffer.prototype.set.name==="set"?function(h,y,c){y.set(h,c)}:function(h,y,c){if(h.copy)h.copy(y,c,0,h.length);else for(var d=0;d<h.length;)y[c++]=h[d++]}},r.prototype.bytes=function(h){e.isString(h)&&(h=e._Buffer_from(h,"base64"));var y=h.length>>>0;return this.uint32(y),y&&this._push(r.writeBytesBuffer,y,h),this};function u(p,h,y){p.length<40?e.utf8.write(p,h,y):h.utf8Write?h.utf8Write(p,y):h.write(p,y)}return r.prototype.string=function(h){var y=e.Buffer.byteLength(h);return this.uint32(y),y&&this._push(u,y,h),this},r._configure(),writer_buffer}var reader,hasRequiredReader;function requireReader(){if(hasRequiredReader)return reader;hasRequiredReader=1,reader=h;var o=requireMinimal$1(),e,r=o.LongBits,u=o.utf8;function p(N,L){return RangeError("index out of range: "+N.pos+" + "+(L||1)+" > "+N.len)}function h(N){this.buf=N,this.pos=0,this.len=N.length}var y=typeof Uint8Array<"u"?function(L){if(L instanceof Uint8Array||Array.isArray(L))return new h(L);throw Error("illegal buffer")}:function(L){if(Array.isArray(L))return new h(L);throw Error("illegal buffer")},c=function(){return o.Buffer?function(k){return(h.create=function(U){return o.Buffer.isBuffer(U)?new e(U):y(U)})(k)}:y};h.create=c(),h.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,h.prototype.uint32=function(){var L=4294967295;return function(){if(L=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(L=(L|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(L=(L|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(L=(L|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(L=(L|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return L;if((this.pos+=5)>this.len)throw this.pos=this.len,p(this,10);return L}}(),h.prototype.int32=function(){return this.uint32()|0},h.prototype.sint32=function(){var L=this.uint32();return L>>>1^-(L&1)|0};function d(){var N=new r(0,0),L=0;if(this.len-this.pos>4){for(;L<4;++L)if(N.lo=(N.lo|(this.buf[this.pos]&127)<<L*7)>>>0,this.buf[this.pos++]<128)return N;if(N.lo=(N.lo|(this.buf[this.pos]&127)<<28)>>>0,N.hi=(N.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return N;L=0}else{for(;L<3;++L){if(this.pos>=this.len)throw p(this);if(N.lo=(N.lo|(this.buf[this.pos]&127)<<L*7)>>>0,this.buf[this.pos++]<128)return N}return N.lo=(N.lo|(this.buf[this.pos++]&127)<<L*7)>>>0,N}if(this.len-this.pos>4){for(;L<5;++L)if(N.hi=(N.hi|(this.buf[this.pos]&127)<<L*7+3)>>>0,this.buf[this.pos++]<128)return N}else for(;L<5;++L){if(this.pos>=this.len)throw p(this);if(N.hi=(N.hi|(this.buf[this.pos]&127)<<L*7+3)>>>0,this.buf[this.pos++]<128)return N}throw Error("invalid varint encoding")}h.prototype.bool=function(){return this.uint32()!==0};function m(N,L){return(N[L-4]|N[L-3]<<8|N[L-2]<<16|N[L-1]<<24)>>>0}h.prototype.fixed32=function(){if(this.pos+4>this.len)throw p(this,4);return m(this.buf,this.pos+=4)},h.prototype.sfixed32=function(){if(this.pos+4>this.len)throw p(this,4);return m(this.buf,this.pos+=4)|0};function P(){if(this.pos+8>this.len)throw p(this,8);return new r(m(this.buf,this.pos+=4),m(this.buf,this.pos+=4))}return h.prototype.float=function(){if(this.pos+4>this.len)throw p(this,4);var L=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,L},h.prototype.double=function(){if(this.pos+8>this.len)throw p(this,4);var L=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,L},h.prototype.bytes=function(){var L=this.uint32(),k=this.pos,B=this.pos+L;if(B>this.len)throw p(this,L);if(this.pos+=L,Array.isArray(this.buf))return this.buf.slice(k,B);if(k===B){var U=o.Buffer;return U?U.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,k,B)},h.prototype.string=function(){var L=this.bytes();return u.read(L,0,L.length)},h.prototype.skip=function(L){if(typeof L=="number"){if(this.pos+L>this.len)throw p(this,L);this.pos+=L}else do if(this.pos>=this.len)throw p(this);while(this.buf[this.pos++]&128);return this},h.prototype.skipType=function(N){switch(N){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(N=this.uint32()&7)!==4;)this.skipType(N);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+N+" at offset "+this.pos)}return this},h._configure=function(N){e=N,h.create=c(),e._configure();var L=o.Long?"toLong":"toNumber";o.merge(h.prototype,{int64:function(){return d.call(this)[L](!1)},uint64:function(){return d.call(this)[L](!0)},sint64:function(){return d.call(this).zzDecode()[L](!1)},fixed64:function(){return P.call(this)[L](!0)},sfixed64:function(){return P.call(this)[L](!1)}})},reader}var reader_buffer,hasRequiredReader_buffer;function requireReader_buffer(){if(hasRequiredReader_buffer)return reader_buffer;hasRequiredReader_buffer=1,reader_buffer=r;var o=requireReader();(r.prototype=Object.create(o.prototype)).constructor=r;var e=requireMinimal$1();function r(u){o.call(this,u)}return r._configure=function(){e.Buffer&&(r.prototype._slice=e.Buffer.prototype.slice)},r.prototype.string=function(){var p=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+p,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+p,this.len))},r._configure(),reader_buffer}var rpc={},service$1,hasRequiredService$1;function requireService$1(){if(hasRequiredService$1)return service$1;hasRequiredService$1=1,service$1=e;var o=requireMinimal$1();(e.prototype=Object.create(o.EventEmitter.prototype)).constructor=e;function e(r,u,p){if(typeof r!="function")throw TypeError("rpcImpl must be a function");o.EventEmitter.call(this),this.rpcImpl=r,this.requestDelimited=!!u,this.responseDelimited=!!p}return e.prototype.rpcCall=function r(u,p,h,y,c){if(!y)throw TypeError("request must be specified");var d=this;if(!c)return o.asPromise(r,d,u,p,h,y);if(!d.rpcImpl){setTimeout(function(){c(Error("already ended"))},0);return}try{return d.rpcImpl(u,p[d.requestDelimited?"encodeDelimited":"encode"](y).finish(),function(P,N){if(P)return d.emit("error",P,u),c(P);if(N===null){d.end(!0);return}if(!(N instanceof h))try{N=h[d.responseDelimited?"decodeDelimited":"decode"](N)}catch(L){return d.emit("error",L,u),c(L)}return d.emit("data",N,u),c(null,N)})}catch(m){d.emit("error",m,u),setTimeout(function(){c(m)},0);return}},e.prototype.end=function(u){return this.rpcImpl&&(u||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service$1}var hasRequiredRpc;function requireRpc(){return hasRequiredRpc||(hasRequiredRpc=1,function(o){var e=o;e.Service=requireService$1()}(rpc)),rpc}var roots,hasRequiredRoots;function requireRoots(){return hasRequiredRoots||(hasRequiredRoots=1,roots={}),roots}var hasRequiredIndexMinimal;function requireIndexMinimal(){return hasRequiredIndexMinimal||(hasRequiredIndexMinimal=1,function(o){var e=o;e.build="minimal",e.Writer=requireWriter(),e.BufferWriter=requireWriter_buffer(),e.Reader=requireReader(),e.BufferReader=requireReader_buffer(),e.util=requireMinimal$1(),e.rpc=requireRpc(),e.roots=requireRoots(),e.configure=r;function r(){e.util._configure(),e.Writer._configure(e.BufferWriter),e.Reader._configure(e.BufferReader)}r()}(indexMinimal)),indexMinimal}var util$3={exports:{}},codegen_1,hasRequiredCodegen;function requireCodegen(){if(hasRequiredCodegen)return codegen_1;hasRequiredCodegen=1,codegen_1=o;function o(e,r){typeof e=="string"&&(r=e,e=void 0);var u=[];function p(y){if(typeof y!="string"){var c=h();if(o.verbose&&console.log("codegen: "+c),c="return "+c,y){for(var d=Object.keys(y),m=new Array(d.length+1),P=new Array(d.length),N=0;N<d.length;)m[N]=d[N],P[N]=y[d[N++]];return m[N]=c,Function.apply(null,m).apply(null,P)}return Function(c)()}for(var L=new Array(arguments.length-1),k=0;k<L.length;)L[k]=arguments[++k];if(k=0,y=y.replace(/%([%dfijs])/g,function(U,$){var j=L[k++];switch($){case"d":case"f":return String(Number(j));case"i":return String(Math.floor(j));case"j":return JSON.stringify(j);case"s":return String(j)}return"%"}),k!==L.length)throw Error("parameter count mismatch");return u.push(y),p}function h(y){return"function "+(y||r||"")+"("+(e&&e.join(",")||"")+`){
  `+u.join(`
  `)+`
}`}return p.toString=h,p}return o.verbose=!1,codegen_1}var fetch_1,hasRequiredFetch;function requireFetch(){if(hasRequiredFetch)return fetch_1;hasRequiredFetch=1,fetch_1=u;var o=requireAspromise(),e=requireInquire(),r=e("fs");function u(p,h,y){return typeof h=="function"?(y=h,h={}):h||(h={}),y?!h.xhr&&r&&r.readFile?r.readFile(p,function(d,m){return d&&typeof XMLHttpRequest<"u"?u.xhr(p,h,y):d?y(d):y(null,h.binary?m:m.toString("utf8"))}):u.xhr(p,h,y):o(u,this,p,h)}return u.xhr=function(h,y,c){var d=new XMLHttpRequest;d.onreadystatechange=function(){if(d.readyState===4){if(d.status!==0&&d.status!==200)return c(Error("status "+d.status));if(y.binary){var P=d.response;if(!P){P=[];for(var N=0;N<d.responseText.length;++N)P.push(d.responseText.charCodeAt(N)&255)}return c(null,typeof Uint8Array<"u"?new Uint8Array(P):P)}return c(null,d.responseText)}},y.binary&&("overrideMimeType"in d&&d.overrideMimeType("text/plain; charset=x-user-defined"),d.responseType="arraybuffer"),d.open("GET",h),d.send()},fetch_1}var path$1={},hasRequiredPath;function requirePath(){return hasRequiredPath||(hasRequiredPath=1,function(o){var e=o,r=e.isAbsolute=function(h){return/^(?:\/|\w+:)/.test(h)},u=e.normalize=function(h){h=h.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var y=h.split("/"),c=r(h),d="";c&&(d=y.shift()+"/");for(var m=0;m<y.length;)y[m]===".."?m>0&&y[m-1]!==".."?y.splice(--m,2):c?y.splice(m,1):++m:y[m]==="."?y.splice(m,1):++m;return d+y.join("/")};e.resolve=function(h,y,c){return c||(y=u(y)),r(y)?y:(c||(h=u(h)),(h=h.replace(/(?:\/|^)[^/]+$/,"")).length?u(h+"/"+y):y)}}(path$1)),path$1}var types$2={},hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(o){var e=o,r=requireUtil$2(),u=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function p(h,y){var c=0,d={};for(y|=0;c<h.length;)d[u[c+y]]=h[c++];return d}e.basic=p([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),e.defaults=p([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",r.emptyArray,null]),e.long=p([0,0,0,1,1],7),e.mapKey=p([0,0,0,5,5,0,0,0,1,1,0,2],2),e.packed=p([1,5,0,0,0,5,5,0,0,0,1,1,0])}(types$2)),types$2}var field,hasRequiredField;function requireField(){if(hasRequiredField)return field;hasRequiredField=1,field=y;var o=requireObject();((y.prototype=Object.create(o.prototype)).constructor=y).className="Field";var e=require_enum$1(),r=requireTypes(),u=requireUtil$2(),p,h=/^required|optional|repeated$/;y.fromJSON=function(d,m){return new y(d,m.id,m.type,m.rule,m.extend,m.options,m.comment)};function y(c,d,m,P,N,L,k){if(u.isObject(P)?(k=N,L=P,P=N=void 0):u.isObject(N)&&(k=L,L=N,N=void 0),o.call(this,c,L),!u.isInteger(d)||d<0)throw TypeError("id must be a non-negative integer");if(!u.isString(m))throw TypeError("type must be a string");if(P!==void 0&&!h.test(P=P.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(N!==void 0&&!u.isString(N))throw TypeError("extend must be a string");P==="proto3_optional"&&(P="optional"),this.rule=P&&P!=="optional"?P:void 0,this.type=m,this.id=d,this.extend=N||void 0,this.required=P==="required",this.optional=!this.required,this.repeated=P==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=u.Long?r.long[m]!==void 0:!1,this.bytes=m==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=k}return Object.defineProperty(y.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}}),y.prototype.setOption=function(d,m,P){return d==="packed"&&(this._packed=null),o.prototype.setOption.call(this,d,m,P)},y.prototype.toJSON=function(d){var m=d?!!d.keepComments:!1;return u.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",m?this.comment:void 0])},y.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=r.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof p?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof e&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof e))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=u.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var d;u.base64.test(this.typeDefault)?u.base64.decode(this.typeDefault,d=u.newBuffer(u.base64.length(this.typeDefault)),0):u.utf8.write(this.typeDefault,d=u.newBuffer(u.utf8.length(this.typeDefault)),0),this.typeDefault=d}return this.map?this.defaultValue=u.emptyObject:this.repeated?this.defaultValue=u.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof p&&(this.parent.ctor.prototype[this.name]=this.defaultValue),o.prototype.resolve.call(this)},y.d=function(d,m,P,N){return typeof m=="function"?m=u.decorateType(m).name:m&&typeof m=="object"&&(m=u.decorateEnum(m).name),function(k,B){u.decorateType(k.constructor).add(new y(B,d,m,P,{default:N}))}},y._configure=function(d){p=d},field}var oneof,hasRequiredOneof;function requireOneof(){if(hasRequiredOneof)return oneof;hasRequiredOneof=1,oneof=u;var o=requireObject();((u.prototype=Object.create(o.prototype)).constructor=u).className="OneOf";var e=requireField(),r=requireUtil$2();function u(h,y,c,d){if(Array.isArray(y)||(c=y,y=void 0),o.call(this,h,c),!(y===void 0||Array.isArray(y)))throw TypeError("fieldNames must be an Array");this.oneof=y||[],this.fieldsArray=[],this.comment=d}u.fromJSON=function(y,c){return new u(y,c.oneof,c.options,c.comment)},u.prototype.toJSON=function(y){var c=y?!!y.keepComments:!1;return r.toObject(["options",this.options,"oneof",this.oneof,"comment",c?this.comment:void 0])};function p(h){if(h.parent)for(var y=0;y<h.fieldsArray.length;++y)h.fieldsArray[y].parent||h.parent.add(h.fieldsArray[y])}return u.prototype.add=function(y){if(!(y instanceof e))throw TypeError("field must be a Field");return y.parent&&y.parent!==this.parent&&y.parent.remove(y),this.oneof.push(y.name),this.fieldsArray.push(y),y.partOf=this,p(this),this},u.prototype.remove=function(y){if(!(y instanceof e))throw TypeError("field must be a Field");var c=this.fieldsArray.indexOf(y);if(c<0)throw Error(y+" is not a member of "+this);return this.fieldsArray.splice(c,1),c=this.oneof.indexOf(y.name),c>-1&&this.oneof.splice(c,1),y.partOf=null,this},u.prototype.onAdd=function(y){o.prototype.onAdd.call(this,y);for(var c=this,d=0;d<this.oneof.length;++d){var m=y.get(this.oneof[d]);m&&!m.partOf&&(m.partOf=c,c.fieldsArray.push(m))}p(this)},u.prototype.onRemove=function(y){for(var c=0,d;c<this.fieldsArray.length;++c)(d=this.fieldsArray[c]).parent&&d.parent.remove(d);o.prototype.onRemove.call(this,y)},u.d=function(){for(var y=new Array(arguments.length),c=0;c<arguments.length;)y[c]=arguments[c++];return function(m,P){r.decorateType(m.constructor).add(new u(P,y)),Object.defineProperty(m,P,{get:r.oneOfGetter(y),set:r.oneOfSetter(y)})}},oneof}var namespace,hasRequiredNamespace;function requireNamespace(){if(hasRequiredNamespace)return namespace;hasRequiredNamespace=1,namespace=d;var o=requireObject();((d.prototype=Object.create(o.prototype)).constructor=d).className="Namespace";var e=requireField(),r=requireUtil$2(),u=requireOneof(),p,h,y;d.fromJSON=function(N,L){return new d(N,L.options).addJSON(L.nested)};function c(P,N){if(P&&P.length){for(var L={},k=0;k<P.length;++k)L[P[k].name]=P[k].toJSON(N);return L}}d.arrayToJSON=c,d.isReservedId=function(N,L){if(N){for(var k=0;k<N.length;++k)if(typeof N[k]!="string"&&N[k][0]<=L&&N[k][1]>L)return!0}return!1},d.isReservedName=function(N,L){if(N){for(var k=0;k<N.length;++k)if(N[k]===L)return!0}return!1};function d(P,N){o.call(this,P,N),this.nested=void 0,this._nestedArray=null}function m(P){return P._nestedArray=null,P}return Object.defineProperty(d.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=r.toArray(this.nested))}}),d.prototype.toJSON=function(N){return r.toObject(["options",this.options,"nested",c(this.nestedArray,N)])},d.prototype.addJSON=function(N){var L=this;if(N)for(var k=Object.keys(N),B=0,U;B<k.length;++B)U=N[k[B]],L.add((U.fields!==void 0?p.fromJSON:U.values!==void 0?y.fromJSON:U.methods!==void 0?h.fromJSON:U.id!==void 0?e.fromJSON:d.fromJSON)(k[B],U));return this},d.prototype.get=function(N){return this.nested&&this.nested[N]||null},d.prototype.getEnum=function(N){if(this.nested&&this.nested[N]instanceof y)return this.nested[N].values;throw Error("no such enum: "+N)},d.prototype.add=function(N){if(!(N instanceof e&&N.extend!==void 0||N instanceof p||N instanceof u||N instanceof y||N instanceof h||N instanceof d))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var L=this.get(N.name);if(L)if(L instanceof d&&N instanceof d&&!(L instanceof p||L instanceof h)){for(var k=L.nestedArray,B=0;B<k.length;++B)N.add(k[B]);this.remove(L),this.nested||(this.nested={}),N.setOptions(L.options,!0)}else throw Error("duplicate name '"+N.name+"' in "+this)}return this.nested[N.name]=N,N.onAdd(this),m(this)},d.prototype.remove=function(N){if(!(N instanceof o))throw TypeError("object must be a ReflectionObject");if(N.parent!==this)throw Error(N+" is not a member of "+this);return delete this.nested[N.name],Object.keys(this.nested).length||(this.nested=void 0),N.onRemove(this),m(this)},d.prototype.define=function(N,L){if(r.isString(N))N=N.split(".");else if(!Array.isArray(N))throw TypeError("illegal path");if(N&&N.length&&N[0]==="")throw Error("path must be relative");for(var k=this;N.length>0;){var B=N.shift();if(k.nested&&k.nested[B]){if(k=k.nested[B],!(k instanceof d))throw Error("path conflicts with non-namespace objects")}else k.add(k=new d(B))}return L&&k.addJSON(L),k},d.prototype.resolveAll=function(){for(var N=this.nestedArray,L=0;L<N.length;)N[L]instanceof d?N[L++].resolveAll():N[L++].resolve();return this.resolve()},d.prototype.lookup=function(N,L,k){if(typeof L=="boolean"?(k=L,L=void 0):L&&!Array.isArray(L)&&(L=[L]),r.isString(N)&&N.length){if(N===".")return this.root;N=N.split(".")}else if(!N.length)return this;if(N[0]==="")return this.root.lookup(N.slice(1),L);var B=this.get(N[0]);if(B){if(N.length===1){if(!L||L.indexOf(B.constructor)>-1)return B}else if(B instanceof d&&(B=B.lookup(N.slice(1),L,!0)))return B}else for(var U=0;U<this.nestedArray.length;++U)if(this._nestedArray[U]instanceof d&&(B=this._nestedArray[U].lookup(N,L,!0)))return B;return this.parent===null||k?null:this.parent.lookup(N,L)},d.prototype.lookupType=function(N){var L=this.lookup(N,[p]);if(!L)throw Error("no such type: "+N);return L},d.prototype.lookupEnum=function(N){var L=this.lookup(N,[y]);if(!L)throw Error("no such Enum '"+N+"' in "+this);return L},d.prototype.lookupTypeOrEnum=function(N){var L=this.lookup(N,[p,y]);if(!L)throw Error("no such Type or Enum '"+N+"' in "+this);return L},d.prototype.lookupService=function(N){var L=this.lookup(N,[h]);if(!L)throw Error("no such Service '"+N+"' in "+this);return L},d._configure=function(P,N,L){p=P,h=N,y=L},namespace}var mapfield,hasRequiredMapfield;function requireMapfield(){if(hasRequiredMapfield)return mapfield;hasRequiredMapfield=1,mapfield=u;var o=requireField();((u.prototype=Object.create(o.prototype)).constructor=u).className="MapField";var e=requireTypes(),r=requireUtil$2();function u(p,h,y,c,d,m){if(o.call(this,p,h,c,void 0,void 0,d,m),!r.isString(y))throw TypeError("keyType must be a string");this.keyType=y,this.resolvedKeyType=null,this.map=!0}return u.fromJSON=function(h,y){return new u(h,y.id,y.keyType,y.type,y.options,y.comment)},u.prototype.toJSON=function(h){var y=h?!!h.keepComments:!1;return r.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",y?this.comment:void 0])},u.prototype.resolve=function(){if(this.resolved)return this;if(e.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return o.prototype.resolve.call(this)},u.d=function(h,y,c){return typeof c=="function"?c=r.decorateType(c).name:c&&typeof c=="object"&&(c=r.decorateEnum(c).name),function(m,P){r.decorateType(m.constructor).add(new u(P,h,y,c))}},mapfield}var method,hasRequiredMethod;function requireMethod(){if(hasRequiredMethod)return method;hasRequiredMethod=1,method=r;var o=requireObject();((r.prototype=Object.create(o.prototype)).constructor=r).className="Method";var e=requireUtil$2();function r(u,p,h,y,c,d,m,P,N){if(e.isObject(c)?(m=c,c=d=void 0):e.isObject(d)&&(m=d,d=void 0),!(p===void 0||e.isString(p)))throw TypeError("type must be a string");if(!e.isString(h))throw TypeError("requestType must be a string");if(!e.isString(y))throw TypeError("responseType must be a string");o.call(this,u,m),this.type=p||"rpc",this.requestType=h,this.requestStream=c?!0:void 0,this.responseType=y,this.responseStream=d?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=P,this.parsedOptions=N}return r.fromJSON=function(p,h){return new r(p,h.type,h.requestType,h.responseType,h.requestStream,h.responseStream,h.options,h.comment,h.parsedOptions)},r.prototype.toJSON=function(p){var h=p?!!p.keepComments:!1;return e.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",h?this.comment:void 0,"parsedOptions",this.parsedOptions])},r.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),o.prototype.resolve.call(this))},method}var service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=p;var o=requireNamespace();((p.prototype=Object.create(o.prototype)).constructor=p).className="Service";var e=requireMethod(),r=requireUtil$2(),u=requireRpc();function p(y,c){o.call(this,y,c),this.methods={},this._methodsArray=null}p.fromJSON=function(c,d){var m=new p(c,d.options);if(d.methods)for(var P=Object.keys(d.methods),N=0;N<P.length;++N)m.add(e.fromJSON(P[N],d.methods[P[N]]));return d.nested&&m.addJSON(d.nested),m.comment=d.comment,m},p.prototype.toJSON=function(c){var d=o.prototype.toJSON.call(this,c),m=c?!!c.keepComments:!1;return r.toObject(["options",d&&d.options||void 0,"methods",o.arrayToJSON(this.methodsArray,c)||{},"nested",d&&d.nested||void 0,"comment",m?this.comment:void 0])},Object.defineProperty(p.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=r.toArray(this.methods))}});function h(y){return y._methodsArray=null,y}return p.prototype.get=function(c){return this.methods[c]||o.prototype.get.call(this,c)},p.prototype.resolveAll=function(){for(var c=this.methodsArray,d=0;d<c.length;++d)c[d].resolve();return o.prototype.resolve.call(this)},p.prototype.add=function(c){if(this.get(c.name))throw Error("duplicate name '"+c.name+"' in "+this);return c instanceof e?(this.methods[c.name]=c,c.parent=this,h(this)):o.prototype.add.call(this,c)},p.prototype.remove=function(c){if(c instanceof e){if(this.methods[c.name]!==c)throw Error(c+" is not a member of "+this);return delete this.methods[c.name],c.parent=null,h(this)}return o.prototype.remove.call(this,c)},p.prototype.create=function(c,d,m){for(var P=new u.Service(c,d,m),N=0,L;N<this.methodsArray.length;++N){var k=r.lcFirst((L=this._methodsArray[N]).resolve().name).replace(/[^$\w_]/g,"");P[k]=r.codegen(["r","c"],r.isReserved(k)?k+"_":k)("return this.rpcCall(m,q,s,r,c)")({m:L,q:L.resolvedRequestType.ctor,s:L.resolvedResponseType.ctor})}return P},service}var message,hasRequiredMessage;function requireMessage(){if(hasRequiredMessage)return message;hasRequiredMessage=1,message=e;var o=requireMinimal$1();function e(r){if(r)for(var u=Object.keys(r),p=0;p<u.length;++p)this[u[p]]=r[u[p]]}return e.create=function(u){return this.$type.create(u)},e.encode=function(u,p){return this.$type.encode(u,p)},e.encodeDelimited=function(u,p){return this.$type.encodeDelimited(u,p)},e.decode=function(u){return this.$type.decode(u)},e.decodeDelimited=function(u){return this.$type.decodeDelimited(u)},e.verify=function(u){return this.$type.verify(u)},e.fromObject=function(u){return this.$type.fromObject(u)},e.toObject=function(u,p){return this.$type.toObject(u,p)},e.prototype.toJSON=function(){return this.$type.toObject(this,o.toJSONOptions)},message}var decoder_1,hasRequiredDecoder;function requireDecoder(){if(hasRequiredDecoder)return decoder_1;hasRequiredDecoder=1,decoder_1=p;var o=require_enum$1(),e=requireTypes(),r=requireUtil$2();function u(h){return"missing required '"+h.name+"'"}function p(h){var y=r.codegen(["r","l"],h.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(h.fieldsArray.filter(function(L){return L.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");h.group&&y("if((t&7)===4)")("break"),y("switch(t>>>3){");for(var c=0;c<h.fieldsArray.length;++c){var d=h._fieldsArray[c].resolve(),m=d.resolvedType instanceof o?"int32":d.type,P="m"+r.safeProp(d.name);y("case %i: {",d.id),d.map?(y("if(%s===util.emptyObject)",P)("%s={}",P)("var c2 = r.uint32()+r.pos"),e.defaults[d.keyType]!==void 0?y("k=%j",e.defaults[d.keyType]):y("k=null"),e.defaults[m]!==void 0?y("value=%j",e.defaults[m]):y("value=null"),y("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",d.keyType)("case 2:"),e.basic[m]===void 0?y("value=types[%i].decode(r,r.uint32())",c):y("value=r.%s()",m),y("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),e.long[d.keyType]!==void 0?y('%s[typeof k==="object"?util.longToHash(k):k]=value',P):y("%s[k]=value",P)):d.repeated?(y("if(!(%s&&%s.length))",P,P)("%s=[]",P),e.packed[m]!==void 0&&y("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",P,m)("}else"),e.basic[m]===void 0?y(d.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",P,c):y("%s.push(r.%s())",P,m)):e.basic[m]===void 0?y(d.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",P,c):y("%s=r.%s()",P,m),y("break")("}")}for(y("default:")("r.skipType(t&7)")("break")("}")("}"),c=0;c<h._fieldsArray.length;++c){var N=h._fieldsArray[c];N.required&&y("if(!m.hasOwnProperty(%j))",N.name)("throw util.ProtocolError(%j,{instance:m})",u(N))}return y("return m")}return decoder_1}var verifier_1,hasRequiredVerifier;function requireVerifier(){if(hasRequiredVerifier)return verifier_1;hasRequiredVerifier=1,verifier_1=h;var o=require_enum$1(),e=requireUtil$2();function r(y,c){return y.name+": "+c+(y.repeated&&c!=="array"?"[]":y.map&&c!=="object"?"{k:"+y.keyType+"}":"")+" expected"}function u(y,c,d,m){if(c.resolvedType)if(c.resolvedType instanceof o){y("switch(%s){",m)("default:")("return%j",r(c,"enum value"));for(var P=Object.keys(c.resolvedType.values),N=0;N<P.length;++N)y("case %i:",c.resolvedType.values[P[N]]);y("break")("}")}else y("{")("var e=types[%i].verify(%s);",d,m)("if(e)")("return%j+e",c.name+".")("}");else switch(c.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":y("if(!util.isInteger(%s))",m)("return%j",r(c,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":y("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",m,m,m,m)("return%j",r(c,"integer|Long"));break;case"float":case"double":y('if(typeof %s!=="number")',m)("return%j",r(c,"number"));break;case"bool":y('if(typeof %s!=="boolean")',m)("return%j",r(c,"boolean"));break;case"string":y("if(!util.isString(%s))",m)("return%j",r(c,"string"));break;case"bytes":y('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',m,m,m)("return%j",r(c,"buffer"));break}return y}function p(y,c,d){switch(c.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":y("if(!util.key32Re.test(%s))",d)("return%j",r(c,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":y("if(!util.key64Re.test(%s))",d)("return%j",r(c,"integer|Long key"));break;case"bool":y("if(!util.key2Re.test(%s))",d)("return%j",r(c,"boolean key"));break}return y}function h(y){var c=e.codegen(["m"],y.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),d=y.oneofsArray,m={};d.length&&c("var p={}");for(var P=0;P<y.fieldsArray.length;++P){var N=y._fieldsArray[P].resolve(),L="m"+e.safeProp(N.name);if(N.optional&&c("if(%s!=null&&m.hasOwnProperty(%j)){",L,N.name),N.map)c("if(!util.isObject(%s))",L)("return%j",r(N,"object"))("var k=Object.keys(%s)",L)("for(var i=0;i<k.length;++i){"),p(c,N,"k[i]"),u(c,N,P,L+"[k[i]]")("}");else if(N.repeated)c("if(!Array.isArray(%s))",L)("return%j",r(N,"array"))("for(var i=0;i<%s.length;++i){",L),u(c,N,P,L+"[i]")("}");else{if(N.partOf){var k=e.safeProp(N.partOf.name);m[N.partOf.name]===1&&c("if(p%s===1)",k)("return%j",N.partOf.name+": multiple values"),m[N.partOf.name]=1,c("p%s=1",k)}u(c,N,P,L)}N.optional&&c("}")}return c("return null")}return verifier_1}var converter={},hasRequiredConverter;function requireConverter(){return hasRequiredConverter||(hasRequiredConverter=1,function(o){var e=o,r=require_enum$1(),u=requireUtil$2();function p(y,c,d,m){var P=!1;if(c.resolvedType)if(c.resolvedType instanceof r){y("switch(d%s){",m);for(var N=c.resolvedType.values,L=Object.keys(N),k=0;k<L.length;++k)N[L[k]]===c.typeDefault&&!P&&(y("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',m,m,m),c.repeated||y("break"),P=!0),y("case%j:",L[k])("case %i:",N[L[k]])("m%s=%j",m,N[L[k]])("break");y("}")}else y('if(typeof d%s!=="object")',m)("throw TypeError(%j)",c.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",m,d,m);else{var B=!1;switch(c.type){case"double":case"float":y("m%s=Number(d%s)",m,m);break;case"uint32":case"fixed32":y("m%s=d%s>>>0",m,m);break;case"int32":case"sint32":case"sfixed32":y("m%s=d%s|0",m,m);break;case"uint64":B=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":y("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",m,m,B)('else if(typeof d%s==="string")',m)("m%s=parseInt(d%s,10)",m,m)('else if(typeof d%s==="number")',m)("m%s=d%s",m,m)('else if(typeof d%s==="object")',m)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",m,m,m,B?"true":"");break;case"bytes":y('if(typeof d%s==="string")',m)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",m,m,m)("else if(d%s.length >= 0)",m)("m%s=d%s",m,m);break;case"string":y("m%s=String(d%s)",m,m);break;case"bool":y("m%s=Boolean(d%s)",m,m);break}}return y}e.fromObject=function(c){var d=c.fieldsArray,m=u.codegen(["d"],c.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!d.length)return m("return new this.ctor");m("var m=new this.ctor");for(var P=0;P<d.length;++P){var N=d[P].resolve(),L=u.safeProp(N.name);N.map?(m("if(d%s){",L)('if(typeof d%s!=="object")',L)("throw TypeError(%j)",N.fullName+": object expected")("m%s={}",L)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",L),p(m,N,P,L+"[ks[i]]")("}")("}")):N.repeated?(m("if(d%s){",L)("if(!Array.isArray(d%s))",L)("throw TypeError(%j)",N.fullName+": array expected")("m%s=[]",L)("for(var i=0;i<d%s.length;++i){",L),p(m,N,P,L+"[i]")("}")("}")):(N.resolvedType instanceof r||m("if(d%s!=null){",L),p(m,N,P,L),N.resolvedType instanceof r||m("}"))}return m("return m")};function h(y,c,d,m){if(c.resolvedType)c.resolvedType instanceof r?y("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",m,d,m,m,d,m,m):y("d%s=types[%i].toObject(m%s,o)",m,d,m);else{var P=!1;switch(c.type){case"double":case"float":y("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",m,m,m,m);break;case"uint64":P=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":y('if(typeof m%s==="number")',m)("d%s=o.longs===String?String(m%s):m%s",m,m,m)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",m,m,m,m,P?"true":"",m);break;case"bytes":y("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",m,m,m,m,m);break;default:y("d%s=m%s",m,m);break}}return y}e.toObject=function(c){var d=c.fieldsArray.slice().sort(u.compareFieldsById);if(!d.length)return u.codegen()("return {}");for(var m=u.codegen(["m","o"],c.name+"$toObject")("if(!o)")("o={}")("var d={}"),P=[],N=[],L=[],k=0;k<d.length;++k)d[k].partOf||(d[k].resolve().repeated?P:d[k].map?N:L).push(d[k]);if(P.length){for(m("if(o.arrays||o.defaults){"),k=0;k<P.length;++k)m("d%s=[]",u.safeProp(P[k].name));m("}")}if(N.length){for(m("if(o.objects||o.defaults){"),k=0;k<N.length;++k)m("d%s={}",u.safeProp(N[k].name));m("}")}if(L.length){for(m("if(o.defaults){"),k=0;k<L.length;++k){var B=L[k],U=u.safeProp(B.name);if(B.resolvedType instanceof r)m("d%s=o.enums===String?%j:%j",U,B.resolvedType.valuesById[B.typeDefault],B.typeDefault);else if(B.long)m("if(util.Long){")("var n=new util.Long(%i,%i,%j)",B.typeDefault.low,B.typeDefault.high,B.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",U)("}else")("d%s=o.longs===String?%j:%i",U,B.typeDefault.toString(),B.typeDefault.toNumber());else if(B.bytes){var $="["+Array.prototype.slice.call(B.typeDefault).join(",")+"]";m("if(o.bytes===String)d%s=%j",U,String.fromCharCode.apply(String,B.typeDefault))("else{")("d%s=%s",U,$)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",U,U)("}")}else m("d%s=%j",U,B.typeDefault)}m("}")}var j=!1;for(k=0;k<d.length;++k){var B=d[k],M=c._fieldsArray.indexOf(B),U=u.safeProp(B.name);B.map?(j||(j=!0,m("var ks2")),m("if(m%s&&(ks2=Object.keys(m%s)).length){",U,U)("d%s={}",U)("for(var j=0;j<ks2.length;++j){"),h(m,B,M,U+"[ks2[j]]")("}")):B.repeated?(m("if(m%s&&m%s.length){",U,U)("d%s=[]",U)("for(var j=0;j<m%s.length;++j){",U),h(m,B,M,U+"[j]")("}")):(m("if(m%s!=null&&m.hasOwnProperty(%j)){",U,B.name),h(m,B,M,U),B.partOf&&m("if(o.oneofs)")("d%s=%j",u.safeProp(B.partOf.name),B.name)),m("}")}return m("return d")}}(converter)),converter}var wrappers$1={},hasRequiredWrappers$1;function requireWrappers$1(){return hasRequiredWrappers$1||(hasRequiredWrappers$1=1,function(o){var e=o,r=requireMessage();e[".google.protobuf.Any"]={fromObject:function(u){if(u&&u["@type"]){var p=u["@type"].substring(u["@type"].lastIndexOf("/")+1),h=this.lookup(p);if(h){var y=u["@type"].charAt(0)==="."?u["@type"].slice(1):u["@type"];return y.indexOf("/")===-1&&(y="/"+y),this.create({type_url:y,value:h.encode(h.fromObject(u)).finish()})}}return this.fromObject(u)},toObject:function(u,p){var h="type.googleapis.com/",y="",c="";if(p&&p.json&&u.type_url&&u.value){c=u.type_url.substring(u.type_url.lastIndexOf("/")+1),y=u.type_url.substring(0,u.type_url.lastIndexOf("/")+1);var d=this.lookup(c);d&&(u=d.decode(u.value))}if(!(u instanceof this.ctor)&&u instanceof r){var m=u.$type.toObject(u,p),P=u.$type.fullName[0]==="."?u.$type.fullName.slice(1):u.$type.fullName;return y===""&&(y=h),c=y+P,m["@type"]=c,m}return this.toObject(u,p)}}}(wrappers$1)),wrappers$1}var type,hasRequiredType;function requireType(){if(hasRequiredType)return type;hasRequiredType=1,type=U;var o=requireNamespace();((U.prototype=Object.create(o.prototype)).constructor=U).className="Type";var e=require_enum$1(),r=requireOneof(),u=requireField(),p=requireMapfield(),h=requireService(),y=requireMessage(),c=requireReader(),d=requireWriter(),m=requireUtil$2(),P=requireEncoder(),N=requireDecoder(),L=requireVerifier(),k=requireConverter(),B=requireWrappers$1();function U(j,M){o.call(this,j,M),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(U.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var j=Object.keys(this.fields),M=0;M<j.length;++M){var q=this.fields[j[M]],Q=q.id;if(this._fieldsById[Q])throw Error("duplicate id "+Q+" in "+this);this._fieldsById[Q]=q}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=m.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=m.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=U.generateConstructor(this)())},set:function(j){var M=j.prototype;M instanceof y||((j.prototype=new y).constructor=j,m.merge(j.prototype,M)),j.$type=j.prototype.$type=this,m.merge(j,y,!0),this._ctor=j;for(var q=0;q<this.fieldsArray.length;++q)this._fieldsArray[q].resolve();var Q={};for(q=0;q<this.oneofsArray.length;++q)Q[this._oneofsArray[q].resolve().name]={get:m.oneOfGetter(this._oneofsArray[q].oneof),set:m.oneOfSetter(this._oneofsArray[q].oneof)};q&&Object.defineProperties(j.prototype,Q)}}}),U.generateConstructor=function(M){for(var q=m.codegen(["p"],M.name),Q=0,K;Q<M.fieldsArray.length;++Q)(K=M._fieldsArray[Q]).map?q("this%s={}",m.safeProp(K.name)):K.repeated&&q("this%s=[]",m.safeProp(K.name));return q("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function $(j){return j._fieldsById=j._fieldsArray=j._oneofsArray=null,delete j.encode,delete j.decode,delete j.verify,j}return U.fromJSON=function(M,q){var Q=new U(M,q.options);Q.extensions=q.extensions,Q.reserved=q.reserved;for(var K=Object.keys(q.fields),G=0;G<K.length;++G)Q.add((typeof q.fields[K[G]].keyType<"u"?p.fromJSON:u.fromJSON)(K[G],q.fields[K[G]]));if(q.oneofs)for(K=Object.keys(q.oneofs),G=0;G<K.length;++G)Q.add(r.fromJSON(K[G],q.oneofs[K[G]]));if(q.nested)for(K=Object.keys(q.nested),G=0;G<K.length;++G){var F=q.nested[K[G]];Q.add((F.id!==void 0?u.fromJSON:F.fields!==void 0?U.fromJSON:F.values!==void 0?e.fromJSON:F.methods!==void 0?h.fromJSON:o.fromJSON)(K[G],F))}return q.extensions&&q.extensions.length&&(Q.extensions=q.extensions),q.reserved&&q.reserved.length&&(Q.reserved=q.reserved),q.group&&(Q.group=!0),q.comment&&(Q.comment=q.comment),Q},U.prototype.toJSON=function(M){var q=o.prototype.toJSON.call(this,M),Q=M?!!M.keepComments:!1;return m.toObject(["options",q&&q.options||void 0,"oneofs",o.arrayToJSON(this.oneofsArray,M),"fields",o.arrayToJSON(this.fieldsArray.filter(function(K){return!K.declaringField}),M)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",q&&q.nested||void 0,"comment",Q?this.comment:void 0])},U.prototype.resolveAll=function(){for(var M=this.fieldsArray,q=0;q<M.length;)M[q++].resolve();var Q=this.oneofsArray;for(q=0;q<Q.length;)Q[q++].resolve();return o.prototype.resolveAll.call(this)},U.prototype.get=function(M){return this.fields[M]||this.oneofs&&this.oneofs[M]||this.nested&&this.nested[M]||null},U.prototype.add=function(M){if(this.get(M.name))throw Error("duplicate name '"+M.name+"' in "+this);if(M instanceof u&&M.extend===void 0){if(this._fieldsById?this._fieldsById[M.id]:this.fieldsById[M.id])throw Error("duplicate id "+M.id+" in "+this);if(this.isReservedId(M.id))throw Error("id "+M.id+" is reserved in "+this);if(this.isReservedName(M.name))throw Error("name '"+M.name+"' is reserved in "+this);return M.parent&&M.parent.remove(M),this.fields[M.name]=M,M.message=this,M.onAdd(this),$(this)}return M instanceof r?(this.oneofs||(this.oneofs={}),this.oneofs[M.name]=M,M.onAdd(this),$(this)):o.prototype.add.call(this,M)},U.prototype.remove=function(M){if(M instanceof u&&M.extend===void 0){if(!this.fields||this.fields[M.name]!==M)throw Error(M+" is not a member of "+this);return delete this.fields[M.name],M.parent=null,M.onRemove(this),$(this)}if(M instanceof r){if(!this.oneofs||this.oneofs[M.name]!==M)throw Error(M+" is not a member of "+this);return delete this.oneofs[M.name],M.parent=null,M.onRemove(this),$(this)}return o.prototype.remove.call(this,M)},U.prototype.isReservedId=function(M){return o.isReservedId(this.reserved,M)},U.prototype.isReservedName=function(M){return o.isReservedName(this.reserved,M)},U.prototype.create=function(M){return new this.ctor(M)},U.prototype.setup=function(){for(var M=this.fullName,q=[],Q=0;Q<this.fieldsArray.length;++Q)q.push(this._fieldsArray[Q].resolve().resolvedType);this.encode=P(this)({Writer:d,types:q,util:m}),this.decode=N(this)({Reader:c,types:q,util:m}),this.verify=L(this)({types:q,util:m}),this.fromObject=k.fromObject(this)({types:q,util:m}),this.toObject=k.toObject(this)({types:q,util:m});var K=B[M];if(K){var G=Object.create(this);G.fromObject=this.fromObject,this.fromObject=K.fromObject.bind(G),G.toObject=this.toObject,this.toObject=K.toObject.bind(G)}return this},U.prototype.encode=function(M,q){return this.setup().encode(M,q)},U.prototype.encodeDelimited=function(M,q){return this.encode(M,q&&q.len?q.fork():q).ldelim()},U.prototype.decode=function(M,q){return this.setup().decode(M,q)},U.prototype.decodeDelimited=function(M){return M instanceof c||(M=c.create(M)),this.decode(M,M.uint32())},U.prototype.verify=function(M){return this.setup().verify(M)},U.prototype.fromObject=function(M){return this.setup().fromObject(M)},U.prototype.toObject=function(M,q){return this.setup().toObject(M,q)},U.d=function(M){return function(Q){m.decorateType(Q,M)}},type}var root,hasRequiredRoot;function requireRoot(){if(hasRequiredRoot)return root;hasRequiredRoot=1,root=d;var o=requireNamespace();((d.prototype=Object.create(o.prototype)).constructor=d).className="Root";var e=requireField(),r=require_enum$1(),u=requireOneof(),p=requireUtil$2(),h,y,c;function d(L){o.call(this,"",L),this.deferred=[],this.files=[]}d.fromJSON=function(k,B){return B||(B=new d),k.options&&B.setOptions(k.options),B.addJSON(k.nested)},d.prototype.resolvePath=p.path.resolve,d.prototype.fetch=p.fetch;function m(){}d.prototype.load=function L(k,B,U){typeof B=="function"&&(U=B,B=void 0);var $=this;if(!U)return p.asPromise(L,$,k,B);var j=U===m;function M(z,J){if(U){if(j)throw z;var Z=U;U=null,Z(z,J)}}function q(z){var J=z.lastIndexOf("google/protobuf/");if(J>-1){var Z=z.substring(J);if(Z in c)return Z}return null}function Q(z,J){try{if(p.isString(J)&&J.charAt(0)==="{"&&(J=JSON.parse(J)),!p.isString(J))$.setOptions(J.options).addJSON(J.nested);else{y.filename=z;var Z=y(J,$,B),X,te=0;if(Z.imports)for(;te<Z.imports.length;++te)(X=q(Z.imports[te])||$.resolvePath(z,Z.imports[te]))&&K(X);if(Z.weakImports)for(te=0;te<Z.weakImports.length;++te)(X=q(Z.weakImports[te])||$.resolvePath(z,Z.weakImports[te]))&&K(X,!0)}}catch(be){M(be)}!j&&!G&&M(null,$)}function K(z,J){if(z=q(z)||z,!($.files.indexOf(z)>-1)){if($.files.push(z),z in c){j?Q(z,c[z]):(++G,setTimeout(function(){--G,Q(z,c[z])}));return}if(j){var Z;try{Z=p.fs.readFileSync(z).toString("utf8")}catch(X){J||M(X);return}Q(z,Z)}else++G,$.fetch(z,function(X,te){if(--G,!!U){if(X){J?G||M(null,$):M(X);return}Q(z,te)}})}}var G=0;p.isString(k)&&(k=[k]);for(var F=0,x;F<k.length;++F)(x=$.resolvePath("",k[F]))&&K(x);if(j)return $;G||M(null,$)},d.prototype.loadSync=function(k,B){if(!p.isNode)throw Error("not supported");return this.load(k,B,m)},d.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(k){return"'extend "+k.extend+"' in "+k.parent.fullName}).join(", "));return o.prototype.resolveAll.call(this)};var P=/^[A-Z]/;function N(L,k){var B=k.parent.lookup(k.extend);if(B){var U=new e(k.fullName,k.id,k.type,k.rule,void 0,k.options);return B.get(U.name)||(U.declaringField=k,k.extensionField=U,B.add(U)),!0}return!1}return d.prototype._handleAdd=function(k){if(k instanceof e)k.extend!==void 0&&!k.extensionField&&(N(this,k)||this.deferred.push(k));else if(k instanceof r)P.test(k.name)&&(k.parent[k.name]=k.values);else if(!(k instanceof u)){if(k instanceof h)for(var B=0;B<this.deferred.length;)N(this,this.deferred[B])?this.deferred.splice(B,1):++B;for(var U=0;U<k.nestedArray.length;++U)this._handleAdd(k._nestedArray[U]);P.test(k.name)&&(k.parent[k.name]=k)}},d.prototype._handleRemove=function(k){if(k instanceof e){if(k.extend!==void 0)if(k.extensionField)k.extensionField.parent.remove(k.extensionField),k.extensionField=null;else{var B=this.deferred.indexOf(k);B>-1&&this.deferred.splice(B,1)}}else if(k instanceof r)P.test(k.name)&&delete k.parent[k.name];else if(k instanceof o){for(var U=0;U<k.nestedArray.length;++U)this._handleRemove(k._nestedArray[U]);P.test(k.name)&&delete k.parent[k.name]}},d._configure=function(L,k,B){h=L,y=k,c=B},root}var hasRequiredUtil$2;function requireUtil$2(){if(hasRequiredUtil$2)return util$3.exports;hasRequiredUtil$2=1;var o=util$3.exports=requireMinimal$1(),e=requireRoots(),r,u;o.codegen=requireCodegen(),o.fetch=requireFetch(),o.path=requirePath(),o.fs=o.inquire("fs"),o.toArray=function(m){if(m){for(var P=Object.keys(m),N=new Array(P.length),L=0;L<P.length;)N[L]=m[P[L++]];return N}return[]},o.toObject=function(m){for(var P={},N=0;N<m.length;){var L=m[N++],k=m[N++];k!==void 0&&(P[L]=k)}return P};var p=/\\/g,h=/"/g;o.isReserved=function(m){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(m)},o.safeProp=function(m){return!/^[$\w_]+$/.test(m)||o.isReserved(m)?'["'+m.replace(p,"\\\\").replace(h,'\\"')+'"]':"."+m},o.ucFirst=function(m){return m.charAt(0).toUpperCase()+m.substring(1)};var y=/_([a-z])/g;o.camelCase=function(m){return m.substring(0,1)+m.substring(1).replace(y,function(P,N){return N.toUpperCase()})},o.compareFieldsById=function(m,P){return m.id-P.id},o.decorateType=function(m,P){if(m.$type)return P&&m.$type.name!==P&&(o.decorateRoot.remove(m.$type),m.$type.name=P,o.decorateRoot.add(m.$type)),m.$type;r||(r=requireType());var N=new r(P||m.name);return o.decorateRoot.add(N),N.ctor=m,Object.defineProperty(m,"$type",{value:N,enumerable:!1}),Object.defineProperty(m.prototype,"$type",{value:N,enumerable:!1}),N};var c=0;return o.decorateEnum=function(m){if(m.$type)return m.$type;u||(u=require_enum$1());var P=new u("Enum"+c++,m);return o.decorateRoot.add(P),Object.defineProperty(m,"$type",{value:P,enumerable:!1}),P},o.setProperty=function(m,P,N){function L(k,B,U){var $=B.shift();if($==="__proto__"||$==="prototype")return k;if(B.length>0)k[$]=L(k[$]||{},B,U);else{var j=k[$];j&&(U=[].concat(j).concat(U)),k[$]=U}return k}if(typeof m!="object")throw TypeError("dst must be an object");if(!P)throw TypeError("path must be specified");return P=P.split("."),L(m,P,N)},Object.defineProperty(o,"decorateRoot",{get:function(){return e.decorated||(e.decorated=new(requireRoot()))}}),util$3.exports}var object,hasRequiredObject;function requireObject(){if(hasRequiredObject)return object;hasRequiredObject=1,object=r,r.className="ReflectionObject";var o=requireUtil$2(),e;function r(u,p){if(!o.isString(u))throw TypeError("name must be a string");if(p&&!o.isObject(p))throw TypeError("options must be an object");this.options=p,this.parsedOptions=null,this.name=u,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}return Object.defineProperties(r.prototype,{root:{get:function(){for(var u=this;u.parent!==null;)u=u.parent;return u}},fullName:{get:function(){for(var u=[this.name],p=this.parent;p;)u.unshift(p.name),p=p.parent;return u.join(".")}}}),r.prototype.toJSON=function(){throw Error()},r.prototype.onAdd=function(p){this.parent&&this.parent!==p&&this.parent.remove(this),this.parent=p,this.resolved=!1;var h=p.root;h instanceof e&&h._handleAdd(this)},r.prototype.onRemove=function(p){var h=p.root;h instanceof e&&h._handleRemove(this),this.parent=null,this.resolved=!1},r.prototype.resolve=function(){return this.resolved?this:(this.root instanceof e&&(this.resolved=!0),this)},r.prototype.getOption=function(p){if(this.options)return this.options[p]},r.prototype.setOption=function(p,h,y){return(!y||!this.options||this.options[p]===void 0)&&((this.options||(this.options={}))[p]=h),this},r.prototype.setParsedOption=function(p,h,y){this.parsedOptions||(this.parsedOptions=[]);var c=this.parsedOptions;if(y){var d=c.find(function(N){return Object.prototype.hasOwnProperty.call(N,p)});if(d){var m=d[p];o.setProperty(m,y,h)}else d={},d[p]=o.setProperty({},y,h),c.push(d)}else{var P={};P[p]=h,c.push(P)}return this},r.prototype.setOptions=function(p,h){if(p)for(var y=Object.keys(p),c=0;c<y.length;++c)this.setOption(y[c],p[y[c]],h);return this},r.prototype.toString=function(){var p=this.constructor.className,h=this.fullName;return h.length?p+" "+h:p},r._configure=function(u){e=u},object}var _enum$1,hasRequired_enum$1;function require_enum$1(){if(hasRequired_enum$1)return _enum$1;hasRequired_enum$1=1,_enum$1=u;var o=requireObject();((u.prototype=Object.create(o.prototype)).constructor=u).className="Enum";var e=requireNamespace(),r=requireUtil$2();function u(p,h,y,c,d,m){if(o.call(this,p,y),h&&typeof h!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=c,this.comments=d||{},this.valuesOptions=m,this.reserved=void 0,h)for(var P=Object.keys(h),N=0;N<P.length;++N)typeof h[P[N]]=="number"&&(this.valuesById[this.values[P[N]]=h[P[N]]]=P[N])}return u.fromJSON=function(h,y){var c=new u(h,y.values,y.options,y.comment,y.comments);return c.reserved=y.reserved,c},u.prototype.toJSON=function(h){var y=h?!!h.keepComments:!1;return r.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",y?this.comment:void 0,"comments",y?this.comments:void 0])},u.prototype.add=function(h,y,c,d){if(!r.isString(h))throw TypeError("name must be a string");if(!r.isInteger(y))throw TypeError("id must be an integer");if(this.values[h]!==void 0)throw Error("duplicate name '"+h+"' in "+this);if(this.isReservedId(y))throw Error("id "+y+" is reserved in "+this);if(this.isReservedName(h))throw Error("name '"+h+"' is reserved in "+this);if(this.valuesById[y]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+y+" in "+this);this.values[h]=y}else this.valuesById[this.values[h]=y]=h;return d&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[h]=d||null),this.comments[h]=c||null,this},u.prototype.remove=function(h){if(!r.isString(h))throw TypeError("name must be a string");var y=this.values[h];if(y==null)throw Error("name '"+h+"' does not exist in "+this);return delete this.valuesById[y],delete this.values[h],delete this.comments[h],this.valuesOptions&&delete this.valuesOptions[h],this},u.prototype.isReservedId=function(h){return e.isReservedId(this.reserved,h)},u.prototype.isReservedName=function(h){return e.isReservedName(this.reserved,h)},_enum$1}var encoder_1,hasRequiredEncoder;function requireEncoder(){if(hasRequiredEncoder)return encoder_1;hasRequiredEncoder=1,encoder_1=p;var o=require_enum$1(),e=requireTypes(),r=requireUtil$2();function u(h,y,c,d){return y.resolvedType.group?h("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",c,d,(y.id<<3|3)>>>0,(y.id<<3|4)>>>0):h("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",c,d,(y.id<<3|2)>>>0)}function p(h){for(var y=r.codegen(["m","w"],h.name+"$encode")("if(!w)")("w=Writer.create()"),c,d,m=h.fieldsArray.slice().sort(r.compareFieldsById),c=0;c<m.length;++c){var P=m[c].resolve(),N=h._fieldsArray.indexOf(P),L=P.resolvedType instanceof o?"int32":P.type,k=e.basic[L];d="m"+r.safeProp(P.name),P.map?(y("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",d,P.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",d)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(P.id<<3|2)>>>0,8|e.mapKey[P.keyType],P.keyType),k===void 0?y("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",N,d):y(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|k,L,d),y("}")("}")):P.repeated?(y("if(%s!=null&&%s.length){",d,d),P.packed&&e.packed[L]!==void 0?y("w.uint32(%i).fork()",(P.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",d)("w.%s(%s[i])",L,d)("w.ldelim()"):(y("for(var i=0;i<%s.length;++i)",d),k===void 0?u(y,P,N,d+"[i]"):y("w.uint32(%i).%s(%s[i])",(P.id<<3|k)>>>0,L,d)),y("}")):(P.optional&&y("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",d,P.name),k===void 0?u(y,P,N,d):y("w.uint32(%i).%s(%s)",(P.id<<3|k)>>>0,L,d))}return y("return w")}return encoder_1}var hasRequiredIndexLight;function requireIndexLight(){if(hasRequiredIndexLight)return indexLight.exports;hasRequiredIndexLight=1;var o=indexLight.exports=requireIndexMinimal();o.build="light";function e(u,p,h){return typeof p=="function"?(h=p,p=new o.Root):p||(p=new o.Root),p.load(u,h)}o.load=e;function r(u,p){return p||(p=new o.Root),p.loadSync(u)}return o.loadSync=r,o.encoder=requireEncoder(),o.decoder=requireDecoder(),o.verifier=requireVerifier(),o.converter=requireConverter(),o.ReflectionObject=requireObject(),o.Namespace=requireNamespace(),o.Root=requireRoot(),o.Enum=require_enum$1(),o.Type=requireType(),o.Field=requireField(),o.OneOf=requireOneof(),o.MapField=requireMapfield(),o.Service=requireService(),o.Method=requireMethod(),o.Message=requireMessage(),o.wrappers=requireWrappers$1(),o.types=requireTypes(),o.util=requireUtil$2(),o.ReflectionObject._configure(o.Root),o.Namespace._configure(o.Type,o.Service,o.Enum),o.Root._configure(o.Type),o.Field._configure(o.Type),indexLight.exports}var tokenize_1,hasRequiredTokenize;function requireTokenize(){if(hasRequiredTokenize)return tokenize_1;hasRequiredTokenize=1,tokenize_1=P;var o=/[\s{}=;:[\],'"()<>]/g,e=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,r=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,u=/^ *[*/]+ */,p=/^\s*\*?\/*/,h=/\n/g,y=/\s/,c=/\\(.?)/g,d={0:"\0",r:"\r",n:`
`,t:"	"};function m(N){return N.replace(c,function(L,k){switch(k){case"\\":case"":return k;default:return d[k]||""}})}P.unescape=m;function P(N,L){N=N.toString();var k=0,B=N.length,U=1,$=0,j={},M=[],q=null;function Q(Ae){return Error("illegal "+Ae+" (line "+U+")")}function K(){var Ae=q==="'"?r:e;Ae.lastIndex=k-1;var Ne=Ae.exec(N);if(!Ne)throw Q("string");return k=Ae.lastIndex,Z(q),q=null,m(Ne[1])}function G(Ae){return N.charAt(Ae)}function F(Ae,Ne,ke){var Ue={type:N.charAt(Ae++),lineEmpty:!1,leading:ke},qe;L?qe=2:qe=3;var Ge=Ae-qe,Qe;do if(--Ge<0||(Qe=N.charAt(Ge))===`
`){Ue.lineEmpty=!0;break}while(Qe===" "||Qe==="	");for(var Ke=N.substring(Ae,Ne).split(h),Be=0;Be<Ke.length;++Be)Ke[Be]=Ke[Be].replace(L?p:u,"").trim();Ue.text=Ke.join(`
`).trim(),j[U]=Ue,$=U}function x(Ae){var Ne=z(Ae),ke=N.substring(Ae,Ne),Ue=/^\s*\/\//.test(ke);return Ue}function z(Ae){for(var Ne=Ae;Ne<B&&G(Ne)!==`
`;)Ne++;return Ne}function J(){if(M.length>0)return M.shift();if(q)return K();var Ae,Ne,ke,Ue,qe,Ge=k===0;do{if(k===B)return null;for(Ae=!1;y.test(ke=G(k));)if(ke===`
`&&(Ge=!0,++U),++k===B)return null;if(G(k)==="/"){if(++k===B)throw Q("comment");if(G(k)==="/")if(L){if(Ue=k,qe=!1,x(k-1)){qe=!0;do if(k=z(k),k===B||(k++,!Ge))break;while(x(k))}else k=Math.min(B,z(k)+1);qe&&(F(Ue,k,Ge),Ge=!0),U++,Ae=!0}else{for(qe=G(Ue=k+1)==="/";G(++k)!==`
`;)if(k===B)return null;++k,qe&&(F(Ue,k-1,Ge),Ge=!0),++U,Ae=!0}else if((ke=G(k))==="*"){Ue=k+1,qe=L||G(Ue)==="*";do{if(ke===`
`&&++U,++k===B)throw Q("comment");Ne=ke,ke=G(k)}while(Ne!=="*"||ke!=="/");++k,qe&&(F(Ue,k-2,Ge),Ge=!0),Ae=!0}else return"/"}}while(Ae);var Qe=k;o.lastIndex=0;var Ke=o.test(G(Qe++));if(!Ke)for(;Qe<B&&!o.test(G(Qe));)++Qe;var Be=N.substring(k,k=Qe);return(Be==='"'||Be==="'")&&(q=Be),Be}function Z(Ae){M.push(Ae)}function X(){if(!M.length){var Ae=J();if(Ae===null)return null;Z(Ae)}return M[0]}function te(Ae,Ne){var ke=X(),Ue=ke===Ae;if(Ue)return J(),!0;if(!Ne)throw Q("token '"+ke+"', '"+Ae+"' expected");return!1}function be(Ae){var Ne=null,ke;return Ae===void 0?(ke=j[U-1],delete j[U-1],ke&&(L||ke.type==="*"||ke.lineEmpty)&&(Ne=ke.leading?ke.text:null)):($<Ae&&X(),ke=j[Ae],delete j[Ae],ke&&!ke.lineEmpty&&(L||ke.type==="/")&&(Ne=ke.leading?null:ke.text)),Ne}return Object.defineProperty({next:J,peek:X,push:Z,skip:te,cmnt:be},"line",{get:function(){return U}})}return tokenize_1}var parse_1,hasRequiredParse$1;function requireParse$1(){if(hasRequiredParse$1)return parse_1;hasRequiredParse$1=1,parse_1=K,K.filename=null,K.defaults={keepCase:!1};var o=requireTokenize(),e=requireRoot(),r=requireType(),u=requireField(),p=requireMapfield(),h=requireOneof(),y=require_enum$1(),c=requireService(),d=requireMethod(),m=requireTypes(),P=requireUtil$2(),N=/^[1-9][0-9]*$/,L=/^-?[1-9][0-9]*$/,k=/^0[x][0-9a-fA-F]+$/,B=/^-?0[x][0-9a-fA-F]+$/,U=/^0[0-7]+$/,$=/^-?0[0-7]+$/,j=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,M=/^[a-zA-Z_][a-zA-Z_0-9]*$/,q=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,Q=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function K(G,F,x){F instanceof e||(x=F,F=new e),x||(x=K.defaults);var z=x.preferTrailingComment||!1,J=o(G,x.alternateCommentMode||!1),Z=J.next,X=J.push,te=J.peek,be=J.skip,Ae=J.cmnt,Ne=!0,ke,Ue,qe,Ge,Qe=!1,Ke=F,Be=x.keepCase?function(Xe){return Xe}:P.camelCase;function Re(Xe,We,et){var at=K.filename;return et||(K.filename=null),Error("illegal "+(We||"token")+" '"+Xe+"' ("+(at?at+", ":"")+"line "+J.line+")")}function $e(){var Xe=[],We;do{if((We=Z())!=='"'&&We!=="'")throw Re(We);Xe.push(Z()),be(We),We=te()}while(We==='"'||We==="'");return Xe.join("")}function xe(Xe){var We=Z();switch(We){case"'":case'"':return X(We),$e();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return je(We,!0)}catch{if(q.test(We))return We;throw Re(We,"value")}}function Le(Xe,We){var et,at;do We&&((et=te())==='"'||et==="'")?Xe.push($e()):Xe.push([at=Y(Z()),be("to",!0)?Y(Z()):at]);while(be(",",!0));var ot={options:void 0};ot.setOption=function(pt,dt){this.options===void 0&&(this.options={}),this.options[pt]=dt},ae(ot,function(dt){if(dt==="option")V(ot,dt),be(";");else throw Re(dt)},function(){nt(ot)})}function je(Xe,We){var et=1;switch(Xe.charAt(0)==="-"&&(et=-1,Xe=Xe.substring(1)),Xe){case"inf":case"INF":case"Inf":return et*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(N.test(Xe))return et*parseInt(Xe,10);if(k.test(Xe))return et*parseInt(Xe,16);if(U.test(Xe))return et*parseInt(Xe,8);if(j.test(Xe))return et*parseFloat(Xe);throw Re(Xe,"number",We)}function Y(Xe,We){switch(Xe){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!We&&Xe.charAt(0)==="-")throw Re(Xe,"id");if(L.test(Xe))return parseInt(Xe,10);if(B.test(Xe))return parseInt(Xe,16);if($.test(Xe))return parseInt(Xe,8);throw Re(Xe,"id")}function l(){if(ke!==void 0)throw Re("package");if(ke=Z(),!q.test(ke))throw Re(ke,"name");Ke=Ke.define(ke),be(";")}function T(){var Xe=te(),We;switch(Xe){case"weak":We=qe||(qe=[]),Z();break;case"public":Z();default:We=Ue||(Ue=[]);break}Xe=$e(),be(";"),We.push(Xe)}function O(){if(be("="),Ge=$e(),Qe=Ge==="proto3",!Qe&&Ge!=="proto2")throw Re(Ge,"syntax");F.setOption("syntax",Ge),be(";")}function H(Xe,We){switch(We){case"option":return V(Xe,We),be(";"),!0;case"message":return Oe(Xe,We),!0;case"enum":return n(Xe,We),!0;case"service":return Ze(Xe,We),!0;case"extend":return ft(Xe,We),!0}return!1}function ae(Xe,We,et){var at=J.line;if(Xe&&(typeof Xe.comment!="string"&&(Xe.comment=Ae()),Xe.filename=K.filename),be("{",!0)){for(var ot;(ot=Z())!=="}";)We(ot);be(";",!0)}else et&&et(),be(";"),Xe&&(typeof Xe.comment!="string"||z)&&(Xe.comment=Ae(at)||Xe.comment)}function Oe(Xe,We){if(!M.test(We=Z()))throw Re(We,"type name");var et=new r(We);ae(et,function(ot){if(!H(et,ot))switch(ot){case"map":A(et);break;case"required":case"repeated":ie(et,ot);break;case"optional":Qe?ie(et,"proto3_optional"):ie(et,"optional");break;case"oneof":I(et,ot);break;case"extensions":Le(et.extensions||(et.extensions=[]));break;case"reserved":Le(et.reserved||(et.reserved=[]),!0);break;default:if(!Qe||!q.test(ot))throw Re(ot);X(ot),ie(et,"optional");break}}),Xe.add(et)}function ie(Xe,We,et){var at=Z();if(at==="group"){s(Xe,We);return}for(;at.endsWith(".")||te().startsWith(".");)at+=Z();if(!q.test(at))throw Re(at,"type");var ot=Z();if(!M.test(ot))throw Re(ot,"name");ot=Be(ot),be("=");var pt=new u(ot,Y(Z()),at,We,et);if(ae(pt,function(Et){if(Et==="option")V(pt,Et),be(";");else throw Re(Et)},function(){nt(pt)}),We==="proto3_optional"){var dt=new h("_"+ot);pt.setOption("proto3_optional",!0),dt.add(pt),Xe.add(dt)}else Xe.add(pt);!Qe&&pt.repeated&&(m.packed[at]!==void 0||m.basic[at]===void 0)&&pt.setOption("packed",!1,!0)}function s(Xe,We){var et=Z();if(!M.test(et))throw Re(et,"name");var at=P.lcFirst(et);et===at&&(et=P.ucFirst(et)),be("=");var ot=Y(Z()),pt=new r(et);pt.group=!0;var dt=new u(at,ot,et,We);dt.filename=K.filename,ae(pt,function(Et){switch(Et){case"option":V(pt,Et),be(";");break;case"required":case"repeated":ie(pt,Et);break;case"optional":Qe?ie(pt,"proto3_optional"):ie(pt,"optional");break;case"message":Oe(pt,Et);break;case"enum":n(pt,Et);break;default:throw Re(Et)}}),Xe.add(pt).add(dt)}function A(Xe){be("<");var We=Z();if(m.mapKey[We]===void 0)throw Re(We,"type");be(",");var et=Z();if(!q.test(et))throw Re(et,"type");be(">");var at=Z();if(!M.test(at))throw Re(at,"name");be("=");var ot=new p(Be(at),Y(Z()),We,et);ae(ot,function(dt){if(dt==="option")V(ot,dt),be(";");else throw Re(dt)},function(){nt(ot)}),Xe.add(ot)}function I(Xe,We){if(!M.test(We=Z()))throw Re(We,"name");var et=new h(Be(We));ae(et,function(ot){ot==="option"?(V(et,ot),be(";")):(X(ot),ie(et,"optional"))}),Xe.add(et)}function n(Xe,We){if(!M.test(We=Z()))throw Re(We,"name");var et=new y(We);ae(et,function(ot){switch(ot){case"option":V(et,ot),be(";");break;case"reserved":Le(et.reserved||(et.reserved=[]),!0);break;default:R(et,ot)}}),Xe.add(et)}function R(Xe,We){if(!M.test(We))throw Re(We,"name");be("=");var et=Y(Z(),!0),at={options:void 0};at.setOption=function(ot,pt){this.options===void 0&&(this.options={}),this.options[ot]=pt},ae(at,function(pt){if(pt==="option")V(at,pt),be(";");else throw Re(pt)},function(){nt(at)}),Xe.add(We,et,at.comment,at.options)}function V(Xe,We){var et=be("(",!0);if(!q.test(We=Z()))throw Re(We,"name");var at=We,ot=at,pt;et&&(be(")"),at="("+at+")",ot=at,We=te(),Q.test(We)&&(pt=We.slice(1),at+=We,Z())),be("=");var dt=ee(Xe,at);rt(Xe,ot,dt,pt)}function ee(Xe,We){if(be("{",!0)){for(var et={};!be("}",!0);){if(!M.test(gt=Z()))throw Re(gt,"name");if(gt===null)throw Re(gt,"end of input");var at,ot=gt;if(be(":",!0),te()==="{")at=ee(Xe,We+"."+gt);else if(te()==="["){at=[];var pt;if(be("[",!0)){do pt=xe(),at.push(pt);while(be(",",!0));be("]"),typeof pt<"u"&&Me(Xe,We+"."+gt,pt)}}else at=xe(),Me(Xe,We+"."+gt,at);var dt=et[ot];dt&&(at=[].concat(dt).concat(at)),et[ot]=at,be(",",!0),be(";",!0)}return et}var jt=xe();return Me(Xe,We,jt),jt}function Me(Xe,We,et){Xe.setOption&&Xe.setOption(We,et)}function rt(Xe,We,et,at){Xe.setParsedOption&&Xe.setParsedOption(We,et,at)}function nt(Xe){if(be("[",!0)){do V(Xe,"option");while(be(",",!0));be("]")}return Xe}function Ze(Xe,We){if(!M.test(We=Z()))throw Re(We,"service name");var et=new c(We);ae(et,function(ot){if(!H(et,ot))if(ot==="rpc")lt(et,ot);else throw Re(ot)}),Xe.add(et)}function lt(Xe,We){var et=Ae(),at=We;if(!M.test(We=Z()))throw Re(We,"name");var ot=We,pt,dt,jt,Et;if(be("("),be("stream",!0)&&(dt=!0),!q.test(We=Z())||(pt=We,be(")"),be("returns"),be("("),be("stream",!0)&&(Et=!0),!q.test(We=Z())))throw Re(We);jt=We,be(")");var Wt=new d(ot,at,pt,jt,dt,Et);Wt.comment=et,ae(Wt,function(qt){if(qt==="option")V(Wt,qt),be(";");else throw Re(qt)}),Xe.add(Wt)}function ft(Xe,We){if(!q.test(We=Z()))throw Re(We,"reference");var et=We;ae(null,function(ot){switch(ot){case"required":case"repeated":ie(Xe,ot,et);break;case"optional":Qe?ie(Xe,"proto3_optional",et):ie(Xe,"optional",et);break;default:if(!Qe||!q.test(ot))throw Re(ot);X(ot),ie(Xe,"optional",et);break}})}for(var gt;(gt=Z())!==null;)switch(gt){case"package":if(!Ne)throw Re(gt);l();break;case"import":if(!Ne)throw Re(gt);T();break;case"syntax":if(!Ne)throw Re(gt);O();break;case"option":V(Ke,gt),be(";");break;default:if(H(Ke,gt)){Ne=!1;continue}throw Re(gt)}return K.filename=null,{package:ke,imports:Ue,weakImports:qe,syntax:Ge,root:F}}return parse_1}var common_1,hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common_1;hasRequiredCommon=1,common_1=e;var o=/\/|\./;function e(u,p){o.test(u)||(u="google/protobuf/"+u+".proto",p={nested:{google:{nested:{protobuf:{nested:p}}}}}),e[u]=p}e("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var r;return e("duration",{Duration:r={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),e("timestamp",{Timestamp:r}),e("empty",{Empty:{fields:{}}}),e("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),e("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),e("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),e.get=function(p){return e[p]||null},common_1}var hasRequiredSrc$2;function requireSrc$2(){if(hasRequiredSrc$2)return src$1.exports;hasRequiredSrc$2=1;var o=src$1.exports=requireIndexLight();return o.build="full",o.tokenize=requireTokenize(),o.parse=requireParse$1(),o.common=requireCommon(),o.Root._configure(o.Type,o.parse,o.common),src$1.exports}var protobufjs,hasRequiredProtobufjs;function requireProtobufjs(){return hasRequiredProtobufjs||(hasRequiredProtobufjs=1,protobufjs=requireSrc$2()),protobufjs}var gax={},warnings={},featureDetection={},hasRequiredFeatureDetection;function requireFeatureDetection(){if(hasRequiredFeatureDetection)return featureDetection;hasRequiredFeatureDetection=1;var o;Object.defineProperty(featureDetection,"__esModule",{value:!0}),featureDetection.hasWindowFetch=r,featureDetection.isNodeJS=u,featureDetection.hasAbortController=p;const e={windowFetch:typeof window<"u"&&(window==null?void 0:window.fetch)&&typeof(window==null?void 0:window.fetch)=="function",nodeJS:typeof process<"u"&&((o=process==null?void 0:process.versions)===null||o===void 0?void 0:o.node),abortController:typeof AbortController<"u"};function r(){return e.windowFetch}function u(){return e.nodeJS}function p(){return e.abortController}return featureDetection}var hasRequiredWarnings;function requireWarnings(){if(hasRequiredWarnings)return warnings;hasRequiredWarnings=1,Object.defineProperty(warnings,"__esModule",{value:!0}),warnings.warn=r;const o=requireFeatureDetection(),e=new Set;function r(u,p,h){e.has(u)||(e.add(u),(0,o.isNodeJS)()?typeof h<"u"?process.emitWarning(p,{type:h}):process.emitWarning(p):console.warn(p))}return warnings}var util$2={},commonjsBrowser={},v1$1={},rng={},hasRequiredRng;function requireRng(){if(hasRequiredRng)return rng;hasRequiredRng=1,Object.defineProperty(rng,"__esModule",{value:!0}),rng.default=r;let o;const e=new Uint8Array(16);function r(){if(!o&&(o=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(e)}return rng}var stringify={},validate={},regex={},hasRequiredRegex;function requireRegex(){if(hasRequiredRegex)return regex;hasRequiredRegex=1,Object.defineProperty(regex,"__esModule",{value:!0}),regex.default=void 0;var o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;return regex.default=o,regex}var hasRequiredValidate$1;function requireValidate$1(){if(hasRequiredValidate$1)return validate;hasRequiredValidate$1=1,Object.defineProperty(validate,"__esModule",{value:!0}),validate.default=void 0;var o=e(requireRegex());function e(p){return p&&p.__esModule?p:{default:p}}function r(p){return typeof p=="string"&&o.default.test(p)}var u=r;return validate.default=u,validate}var hasRequiredStringify;function requireStringify(){if(hasRequiredStringify)return stringify;hasRequiredStringify=1,Object.defineProperty(stringify,"__esModule",{value:!0}),stringify.default=void 0,stringify.unsafeStringify=u;var o=e(requireValidate$1());function e(y){return y&&y.__esModule?y:{default:y}}const r=[];for(let y=0;y<256;++y)r.push((y+256).toString(16).slice(1));function u(y,c=0){return r[y[c+0]]+r[y[c+1]]+r[y[c+2]]+r[y[c+3]]+"-"+r[y[c+4]]+r[y[c+5]]+"-"+r[y[c+6]]+r[y[c+7]]+"-"+r[y[c+8]]+r[y[c+9]]+"-"+r[y[c+10]]+r[y[c+11]]+r[y[c+12]]+r[y[c+13]]+r[y[c+14]]+r[y[c+15]]}function p(y,c=0){const d=u(y,c);if(!(0,o.default)(d))throw TypeError("Stringified UUID is invalid");return d}var h=p;return stringify.default=h,stringify}var hasRequiredV1;function requireV1(){if(hasRequiredV1)return v1$1;hasRequiredV1=1,Object.defineProperty(v1$1,"__esModule",{value:!0}),v1$1.default=void 0;var o=r(requireRng()),e=requireStringify();function r(m){return m&&m.__esModule?m:{default:m}}let u,p,h=0,y=0;function c(m,P,N){let L=P&&N||0;const k=P||new Array(16);m=m||{};let B=m.node||u,U=m.clockseq!==void 0?m.clockseq:p;if(B==null||U==null){const K=m.random||(m.rng||o.default)();B==null&&(B=u=[K[0]|1,K[1],K[2],K[3],K[4],K[5]]),U==null&&(U=p=(K[6]<<8|K[7])&16383)}let $=m.msecs!==void 0?m.msecs:Date.now(),j=m.nsecs!==void 0?m.nsecs:y+1;const M=$-h+(j-y)/1e4;if(M<0&&m.clockseq===void 0&&(U=U+1&16383),(M<0||$>h)&&m.nsecs===void 0&&(j=0),j>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=$,y=j,p=U,$+=122192928e5;const q=(($&268435455)*1e4+j)%4294967296;k[L++]=q>>>24&255,k[L++]=q>>>16&255,k[L++]=q>>>8&255,k[L++]=q&255;const Q=$/4294967296*1e4&268435455;k[L++]=Q>>>8&255,k[L++]=Q&255,k[L++]=Q>>>24&15|16,k[L++]=Q>>>16&255,k[L++]=U>>>8|128,k[L++]=U&255;for(let K=0;K<6;++K)k[L+K]=B[K];return P||(0,e.unsafeStringify)(k)}var d=c;return v1$1.default=d,v1$1}var v3={},v35={},parse={},hasRequiredParse;function requireParse(){if(hasRequiredParse)return parse;hasRequiredParse=1,Object.defineProperty(parse,"__esModule",{value:!0}),parse.default=void 0;var o=e(requireValidate$1());function e(p){return p&&p.__esModule?p:{default:p}}function r(p){if(!(0,o.default)(p))throw TypeError("Invalid UUID");let h;const y=new Uint8Array(16);return y[0]=(h=parseInt(p.slice(0,8),16))>>>24,y[1]=h>>>16&255,y[2]=h>>>8&255,y[3]=h&255,y[4]=(h=parseInt(p.slice(9,13),16))>>>8,y[5]=h&255,y[6]=(h=parseInt(p.slice(14,18),16))>>>8,y[7]=h&255,y[8]=(h=parseInt(p.slice(19,23),16))>>>8,y[9]=h&255,y[10]=(h=parseInt(p.slice(24,36),16))/1099511627776&255,y[11]=h/4294967296&255,y[12]=h>>>24&255,y[13]=h>>>16&255,y[14]=h>>>8&255,y[15]=h&255,y}var u=r;return parse.default=u,parse}var hasRequiredV35;function requireV35(){if(hasRequiredV35)return v35;hasRequiredV35=1,Object.defineProperty(v35,"__esModule",{value:!0}),v35.URL=v35.DNS=void 0,v35.default=y;var o=requireStringify(),e=r(requireParse());function r(c){return c&&c.__esModule?c:{default:c}}function u(c){c=unescape(encodeURIComponent(c));const d=[];for(let m=0;m<c.length;++m)d.push(c.charCodeAt(m));return d}const p="6ba7b810-9dad-11d1-80b4-00c04fd430c8";v35.DNS=p;const h="6ba7b811-9dad-11d1-80b4-00c04fd430c8";v35.URL=h;function y(c,d,m){function P(N,L,k,B){var U;if(typeof N=="string"&&(N=u(N)),typeof L=="string"&&(L=(0,e.default)(L)),((U=L)===null||U===void 0?void 0:U.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let $=new Uint8Array(16+N.length);if($.set(L),$.set(N,L.length),$=m($),$[6]=$[6]&15|d,$[8]=$[8]&63|128,k){B=B||0;for(let j=0;j<16;++j)k[B+j]=$[j];return k}return(0,o.unsafeStringify)($)}try{P.name=c}catch{}return P.DNS=p,P.URL=h,P}return v35}var md5={},hasRequiredMd5;function requireMd5(){if(hasRequiredMd5)return md5;hasRequiredMd5=1,Object.defineProperty(md5,"__esModule",{value:!0}),md5.default=void 0;function o(k){if(typeof k=="string"){const B=unescape(encodeURIComponent(k));k=new Uint8Array(B.length);for(let U=0;U<B.length;++U)k[U]=B.charCodeAt(U)}return e(u(p(k),k.length*8))}function e(k){const B=[],U=k.length*32,$="0123456789abcdef";for(let j=0;j<U;j+=8){const M=k[j>>5]>>>j%32&255,q=parseInt($.charAt(M>>>4&15)+$.charAt(M&15),16);B.push(q)}return B}function r(k){return(k+64>>>9<<4)+14+1}function u(k,B){k[B>>5]|=128<<B%32,k[r(B)-1]=B;let U=1732584193,$=-271733879,j=-1732584194,M=271733878;for(let q=0;q<k.length;q+=16){const Q=U,K=$,G=j,F=M;U=d(U,$,j,M,k[q],7,-680876936),M=d(M,U,$,j,k[q+1],12,-389564586),j=d(j,M,U,$,k[q+2],17,606105819),$=d($,j,M,U,k[q+3],22,-1044525330),U=d(U,$,j,M,k[q+4],7,-176418897),M=d(M,U,$,j,k[q+5],12,1200080426),j=d(j,M,U,$,k[q+6],17,-1473231341),$=d($,j,M,U,k[q+7],22,-45705983),U=d(U,$,j,M,k[q+8],7,1770035416),M=d(M,U,$,j,k[q+9],12,-1958414417),j=d(j,M,U,$,k[q+10],17,-42063),$=d($,j,M,U,k[q+11],22,-1990404162),U=d(U,$,j,M,k[q+12],7,1804603682),M=d(M,U,$,j,k[q+13],12,-40341101),j=d(j,M,U,$,k[q+14],17,-1502002290),$=d($,j,M,U,k[q+15],22,1236535329),U=m(U,$,j,M,k[q+1],5,-165796510),M=m(M,U,$,j,k[q+6],9,-1069501632),j=m(j,M,U,$,k[q+11],14,643717713),$=m($,j,M,U,k[q],20,-373897302),U=m(U,$,j,M,k[q+5],5,-701558691),M=m(M,U,$,j,k[q+10],9,38016083),j=m(j,M,U,$,k[q+15],14,-660478335),$=m($,j,M,U,k[q+4],20,-405537848),U=m(U,$,j,M,k[q+9],5,568446438),M=m(M,U,$,j,k[q+14],9,-1019803690),j=m(j,M,U,$,k[q+3],14,-187363961),$=m($,j,M,U,k[q+8],20,1163531501),U=m(U,$,j,M,k[q+13],5,-1444681467),M=m(M,U,$,j,k[q+2],9,-51403784),j=m(j,M,U,$,k[q+7],14,1735328473),$=m($,j,M,U,k[q+12],20,-1926607734),U=P(U,$,j,M,k[q+5],4,-378558),M=P(M,U,$,j,k[q+8],11,-2022574463),j=P(j,M,U,$,k[q+11],16,1839030562),$=P($,j,M,U,k[q+14],23,-35309556),U=P(U,$,j,M,k[q+1],4,-1530992060),M=P(M,U,$,j,k[q+4],11,1272893353),j=P(j,M,U,$,k[q+7],16,-155497632),$=P($,j,M,U,k[q+10],23,-1094730640),U=P(U,$,j,M,k[q+13],4,681279174),M=P(M,U,$,j,k[q],11,-358537222),j=P(j,M,U,$,k[q+3],16,-722521979),$=P($,j,M,U,k[q+6],23,76029189),U=P(U,$,j,M,k[q+9],4,-640364487),M=P(M,U,$,j,k[q+12],11,-421815835),j=P(j,M,U,$,k[q+15],16,530742520),$=P($,j,M,U,k[q+2],23,-995338651),U=N(U,$,j,M,k[q],6,-198630844),M=N(M,U,$,j,k[q+7],10,1126891415),j=N(j,M,U,$,k[q+14],15,-1416354905),$=N($,j,M,U,k[q+5],21,-57434055),U=N(U,$,j,M,k[q+12],6,1700485571),M=N(M,U,$,j,k[q+3],10,-1894986606),j=N(j,M,U,$,k[q+10],15,-1051523),$=N($,j,M,U,k[q+1],21,-2054922799),U=N(U,$,j,M,k[q+8],6,1873313359),M=N(M,U,$,j,k[q+15],10,-30611744),j=N(j,M,U,$,k[q+6],15,-1560198380),$=N($,j,M,U,k[q+13],21,1309151649),U=N(U,$,j,M,k[q+4],6,-145523070),M=N(M,U,$,j,k[q+11],10,-1120210379),j=N(j,M,U,$,k[q+2],15,718787259),$=N($,j,M,U,k[q+9],21,-343485551),U=h(U,Q),$=h($,K),j=h(j,G),M=h(M,F)}return[U,$,j,M]}function p(k){if(k.length===0)return[];const B=k.length*8,U=new Uint32Array(r(B));for(let $=0;$<B;$+=8)U[$>>5]|=(k[$/8]&255)<<$%32;return U}function h(k,B){const U=(k&65535)+(B&65535);return(k>>16)+(B>>16)+(U>>16)<<16|U&65535}function y(k,B){return k<<B|k>>>32-B}function c(k,B,U,$,j,M){return h(y(h(h(B,k),h($,M)),j),U)}function d(k,B,U,$,j,M,q){return c(B&U|~B&$,k,B,j,M,q)}function m(k,B,U,$,j,M,q){return c(B&$|U&~$,k,B,j,M,q)}function P(k,B,U,$,j,M,q){return c(B^U^$,k,B,j,M,q)}function N(k,B,U,$,j,M,q){return c(U^(B|~$),k,B,j,M,q)}var L=o;return md5.default=L,md5}var hasRequiredV3;function requireV3(){if(hasRequiredV3)return v3;hasRequiredV3=1,Object.defineProperty(v3,"__esModule",{value:!0}),v3.default=void 0;var o=r(requireV35()),e=r(requireMd5());function r(h){return h&&h.__esModule?h:{default:h}}var p=(0,o.default)("v3",48,e.default);return v3.default=p,v3}var v4={},native={},hasRequiredNative;function requireNative(){if(hasRequiredNative)return native;hasRequiredNative=1,Object.defineProperty(native,"__esModule",{value:!0}),native.default=void 0;var e={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};return native.default=e,native}var hasRequiredV4;function requireV4(){if(hasRequiredV4)return v4;hasRequiredV4=1,Object.defineProperty(v4,"__esModule",{value:!0}),v4.default=void 0;var o=u(requireNative()),e=u(requireRng()),r=requireStringify();function u(y){return y&&y.__esModule?y:{default:y}}function p(y,c,d){if(o.default.randomUUID&&!c&&!y)return o.default.randomUUID();y=y||{};const m=y.random||(y.rng||e.default)();if(m[6]=m[6]&15|64,m[8]=m[8]&63|128,c){d=d||0;for(let P=0;P<16;++P)c[d+P]=m[P];return c}return(0,r.unsafeStringify)(m)}var h=p;return v4.default=h,v4}var v5={},sha1={},hasRequiredSha1;function requireSha1(){if(hasRequiredSha1)return sha1;hasRequiredSha1=1,Object.defineProperty(sha1,"__esModule",{value:!0}),sha1.default=void 0;function o(p,h,y,c){switch(p){case 0:return h&y^~h&c;case 1:return h^y^c;case 2:return h&y^h&c^y&c;case 3:return h^y^c}}function e(p,h){return p<<h|p>>>32-h}function r(p){const h=[1518500249,1859775393,2400959708,3395469782],y=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof p=="string"){const P=unescape(encodeURIComponent(p));p=[];for(let N=0;N<P.length;++N)p.push(P.charCodeAt(N))}else Array.isArray(p)||(p=Array.prototype.slice.call(p));p.push(128);const c=p.length/4+2,d=Math.ceil(c/16),m=new Array(d);for(let P=0;P<d;++P){const N=new Uint32Array(16);for(let L=0;L<16;++L)N[L]=p[P*64+L*4]<<24|p[P*64+L*4+1]<<16|p[P*64+L*4+2]<<8|p[P*64+L*4+3];m[P]=N}m[d-1][14]=(p.length-1)*8/Math.pow(2,32),m[d-1][14]=Math.floor(m[d-1][14]),m[d-1][15]=(p.length-1)*8&4294967295;for(let P=0;P<d;++P){const N=new Uint32Array(80);for(let j=0;j<16;++j)N[j]=m[P][j];for(let j=16;j<80;++j)N[j]=e(N[j-3]^N[j-8]^N[j-14]^N[j-16],1);let L=y[0],k=y[1],B=y[2],U=y[3],$=y[4];for(let j=0;j<80;++j){const M=Math.floor(j/20),q=e(L,5)+o(M,k,B,U)+$+h[M]+N[j]>>>0;$=U,U=B,B=e(k,30)>>>0,k=L,L=q}y[0]=y[0]+L>>>0,y[1]=y[1]+k>>>0,y[2]=y[2]+B>>>0,y[3]=y[3]+U>>>0,y[4]=y[4]+$>>>0}return[y[0]>>24&255,y[0]>>16&255,y[0]>>8&255,y[0]&255,y[1]>>24&255,y[1]>>16&255,y[1]>>8&255,y[1]&255,y[2]>>24&255,y[2]>>16&255,y[2]>>8&255,y[2]&255,y[3]>>24&255,y[3]>>16&255,y[3]>>8&255,y[3]&255,y[4]>>24&255,y[4]>>16&255,y[4]>>8&255,y[4]&255]}var u=r;return sha1.default=u,sha1}var hasRequiredV5;function requireV5(){if(hasRequiredV5)return v5;hasRequiredV5=1,Object.defineProperty(v5,"__esModule",{value:!0}),v5.default=void 0;var o=r(requireV35()),e=r(requireSha1());function r(h){return h&&h.__esModule?h:{default:h}}var p=(0,o.default)("v5",80,e.default);return v5.default=p,v5}var nil={},hasRequiredNil;function requireNil(){if(hasRequiredNil)return nil;hasRequiredNil=1,Object.defineProperty(nil,"__esModule",{value:!0}),nil.default=void 0;var o="00000000-0000-0000-0000-000000000000";return nil.default=o,nil}var version$4={},hasRequiredVersion;function requireVersion(){if(hasRequiredVersion)return version$4;hasRequiredVersion=1,Object.defineProperty(version$4,"__esModule",{value:!0}),version$4.default=void 0;var o=e(requireValidate$1());function e(p){return p&&p.__esModule?p:{default:p}}function r(p){if(!(0,o.default)(p))throw TypeError("Invalid UUID");return parseInt(p.slice(14,15),16)}var u=r;return version$4.default=u,version$4}var hasRequiredCommonjsBrowser;function requireCommonjsBrowser(){return hasRequiredCommonjsBrowser||(hasRequiredCommonjsBrowser=1,function(o){Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"NIL",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(o,"parse",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(o,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(o,"v1",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(o,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(o,"v4",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(o,"v5",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(o,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(o,"version",{enumerable:!0,get:function(){return y.default}});var e=P(requireV1()),r=P(requireV3()),u=P(requireV4()),p=P(requireV5()),h=P(requireNil()),y=P(requireVersion()),c=P(requireValidate$1()),d=P(requireStringify()),m=P(requireParse());function P(N){return N&&N.__esModule?N:{default:N}}}(commonjsBrowser)),commonjsBrowser}var hasRequiredUtil$1;function requireUtil$1(){if(hasRequiredUtil$1)return util$2;hasRequiredUtil$1=1,Object.defineProperty(util$2,"__esModule",{value:!0}),util$2.camelToSnakeCase=u,util$2.toCamelCase=h,util$2.toLowerCamelCase=y,util$2.makeUUID=c;const o=requireCommonjsBrowser();function e(d,m=!1){return m&&(d=d.replace(/([A-Z])([A-Z]+)([A-Z])/g,P=>P[0]+P.slice(1,P.length-1).toLowerCase()+P[P.length-1])),d.split(/(?=[A-Z])|[^A-Za-z0-9.]+/).filter(P=>P.length>0).map((P,N)=>N===0?P:P.toLowerCase())}function r(d){return d.length===0?d:d[0].toLowerCase()+d.slice(1)}function u(d){const m=e(d);if(m.length===0)return d;const P=[m[0]];return P.push(...m.slice(1).map(r)),P.join("_")}function p(d){return d.length===0?d:d[0].toUpperCase()+d.slice(1)}function h(d){const m=e(d,!0);if(m.length===0)return d;const P=[m[0]];return P.push(...m.slice(1).map(N=>N.match(/^\d+$/)?"_"+N:p(N))),P.join("")}function y(d){const m=h(d);return m.length===0?m:m[0].toLowerCase()+m.slice(1)}function c(){return(0,o.v4)()}return util$2}var status={},hasRequiredStatus;function requireStatus(){return hasRequiredStatus||(hasRequiredStatus=1,function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.HttpCodeToRpcCodeMap=o.Status=void 0,o.rpcCodeFromHttpStatusCode=r;var e;(function(u){u[u.OK=0]="OK",u[u.CANCELLED=1]="CANCELLED",u[u.UNKNOWN=2]="UNKNOWN",u[u.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",u[u.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",u[u.NOT_FOUND=5]="NOT_FOUND",u[u.ALREADY_EXISTS=6]="ALREADY_EXISTS",u[u.PERMISSION_DENIED=7]="PERMISSION_DENIED",u[u.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",u[u.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",u[u.ABORTED=10]="ABORTED",u[u.OUT_OF_RANGE=11]="OUT_OF_RANGE",u[u.UNIMPLEMENTED=12]="UNIMPLEMENTED",u[u.INTERNAL=13]="INTERNAL",u[u.UNAVAILABLE=14]="UNAVAILABLE",u[u.DATA_LOSS=15]="DATA_LOSS",u[u.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(e||(o.Status=e={})),o.HttpCodeToRpcCodeMap=new Map([[400,e.INVALID_ARGUMENT],[401,e.UNAUTHENTICATED],[403,e.PERMISSION_DENIED],[404,e.NOT_FOUND],[409,e.ABORTED],[416,e.OUT_OF_RANGE],[429,e.RESOURCE_EXHAUSTED],[499,e.CANCELLED],[501,e.UNIMPLEMENTED],[503,e.UNAVAILABLE],[504,e.DEADLINE_EXCEEDED]]);function r(u){return o.HttpCodeToRpcCodeMap.has(u)?o.HttpCodeToRpcCodeMap.get(u):u>=200&&u<300?e.OK:u>=400&&u<500?e.FAILED_PRECONDITION:u>=500&&u<600?e.INTERNAL:e.UNKNOWN}}(status)),status}var hasRequiredGax;function requireGax(){if(hasRequiredGax)return gax;hasRequiredGax=1,Object.defineProperty(gax,"__esModule",{value:!0}),gax.CallSettings=gax.RetryOptions=void 0,gax.convertRetryOptions=h,gax.createRetryOptions=y,gax.createBackoffSettings=c,gax.createDefaultBackoffSettings=d,gax.createMaxRetriesBackoffSettings=m,gax.createBundleOptions=P,gax.constructSettings=k,gax.createByteLengthFunction=B;const o=requireWarnings(),e=requireUtil$1(),r=requireStatus();class u{constructor($,j,M,q){this.retryCodes=$,this.backoffSettings=j,this.shouldRetryFn=M,this.getResumptionRequestFn=q}}gax.RetryOptions=u;class p{constructor($){var j;$=$||{},this.timeout=$.timeout||30*1e3,this.retry=$.retry,this.autoPaginate="autoPaginate"in $?$.autoPaginate:!0,this.maxResults=$.maxResults,this.otherArgs=$.otherArgs||{},this.bundleOptions=$.bundleOptions,this.isBundling="isBundling"in $?$.isBundling:!0,this.longrunning="longrunning"in $?$.longrunning:void 0,this.apiName=(j=$.apiName)!==null&&j!==void 0?j:void 0,this.retryRequestOptions=$.retryRequestOptions}merge($){if(!$)return new p(this);let j=this.timeout,M=this.retry,q=this.autoPaginate,Q=this.maxResults,K=this.otherArgs,G=this.isBundling,F=this.longrunning,x=this.apiName,z=this.retryRequestOptions;if("timeout"in $&&(j=$.timeout),M!=null&&M.retryCodes&&(M.backoffSettings.initialRpcTimeoutMillis=j,M.backoffSettings.maxRpcTimeoutMillis=j,M.backoffSettings.totalTimeoutMillis=j),"retry"in $&&(M=L(M||{},$.retry)),"autoPaginate"in $&&!$.autoPaginate&&(q=!1),"maxResults"in $&&(Q=$.maxResults),"otherArgs"in $){K={};for(const J in this.otherArgs)K[J]=this.otherArgs[J];for(const J in $.otherArgs)K[J]=$.otherArgs[J]}return"isBundling"in $&&(G=$.isBundling),"maxRetries"in $&&$.maxRetries!==void 0&&(M.backoffSettings.maxRetries=$.maxRetries,delete M.backoffSettings.totalTimeoutMillis),"longrunning"in $&&(F=$.longrunning),"apiName"in $&&(x=$.apiName),"retryRequestOptions"in $&&(z=$.retryRequestOptions),new p({timeout:j,retry:M,bundleOptions:this.bundleOptions,longrunning:F,autoPaginate:q,maxResults:Q,otherArgs:K,isBundling:G,apiName:x,retryRequestOptions:z})}}gax.CallSettings=p;function h(U,$){var j,M,q,Q;if(!U||!$)return U;if(U.retry&&U.retryRequestOptions)throw new Error("Only one of retry or retryRequestOptions may be set");if(U.retryRequestOptions){U.retryRequestOptions.objectMode!==void 0&&(0,o.warn)("retry_request_options","objectMode override is not supported. It is set to true internally by default in gax.","UnsupportedParameterWarning"),U.retryRequestOptions.noResponseRetries!==void 0&&(0,o.warn)("retry_request_options","noResponseRetries override is not supported. Please specify retry codes or a function to determine retry eligibility.","UnsupportedParameterWarning"),U.retryRequestOptions.currentRetryAttempt!==void 0&&(0,o.warn)("retry_request_options","currentRetryAttempt override is not supported. Retry attempts are tracked internally.","UnsupportedParameterWarning");let K=[r.Status.UNAVAILABLE],G;U.retryRequestOptions.shouldRetryFn&&(K=[],G=U.retryRequestOptions.shouldRetryFn),U.maxRetries=(M=(j=U==null?void 0:U.retryRequestOptions)===null||j===void 0?void 0:j.retries)!==null&&M!==void 0?M:U.maxRetries;const F=d();let x,z;U.retryRequestOptions.maxRetryDelay!==void 0&&(x=U.retryRequestOptions.maxRetryDelay*1e3);const J=(Q=(q=U==null?void 0:U.retryRequestOptions)===null||q===void 0?void 0:q.retryDelayMultiplier)!==null&&Q!==void 0?Q:F.retryDelayMultiplier;U.retryRequestOptions.totalTimeout!==void 0&&(z=U.retryRequestOptions.totalTimeout*1e3),F.maxRetryDelayMillis=x??F.maxRetryDelayMillis,F.retryDelayMultiplier=J??F.retryDelayMultiplier,F.totalTimeoutMillis=z??F.totalTimeoutMillis;const Z=y(K,F,G);U.retry=Z,delete U.retryRequestOptions,(0,o.warn)("retry_request_options","retryRequestOptions will be deprecated in a future release. Please use retryOptions to pass retry options at call time","DeprecationWarning")}return U}function y(U,$,j,M){return{retryCodes:U,backoffSettings:$,shouldRetryFn:j,getResumptionRequestFn:M}}function c(U,$,j,M,q,Q,K){return{initialRetryDelayMillis:U,retryDelayMultiplier:$,maxRetryDelayMillis:j,initialRpcTimeoutMillis:M,rpcTimeoutMultiplier:q,maxRpcTimeoutMillis:Q,totalTimeoutMillis:K}}function d(){return c(100,1.3,6e4,null,null,null,null)}function m(U,$,j,M,q,Q,K){return{initialRetryDelayMillis:U,retryDelayMultiplier:$,maxRetryDelayMillis:j,initialRpcTimeoutMillis:M,rpcTimeoutMultiplier:q,maxRpcTimeoutMillis:Q,maxRetries:K}}function P(U){["element_count_threshold","element_count_limit","request_byte_threshold","request_byte_limit","delay_threshold_millis"].forEach(G=>{if(G in U&&typeof U[G]!="number")throw new Error(`${G} should be a number`)});const j=U.element_count_threshold||0,M=U.element_count_limit||0,q=U.request_byte_threshold||0,Q=U.request_byte_limit||0,K=U.delay_threshold_millis||0;if(j===0&&q===0&&K===0)throw new Error("one threshold should be > 0");return{elementCountThreshold:j,elementCountLimit:M,requestByteThreshold:q,requestByteLimit:Q,delayThreshold:K}}function N(U,$,j,M){if(!U)return null;let q=null;if($&&"retry_codes_name"in U){const K=U.retry_codes_name;q=($[K]||[]).map(G=>Number(M[G]))}let Q=null;if(j&&"retry_params_name"in U){const K=j[U.retry_params_name];Q=c(K.initial_retry_delay_millis,K.retry_delay_multiplier,K.max_retry_delay_millis,K.initial_rpc_timeout_millis,K.rpc_timeout_multiplier,K.max_rpc_timeout_millis,K.total_timeout_millis)}return y(q,Q)}function L(U,$){if(!$)return null;if(!$.retryCodes&&!$.backoffSettings&&!$.shouldRetryFn&&!$.getResumptionRequestFn)return U;const j=$.retryCodes?$.retryCodes:U.retryCodes,M=$.backoffSettings?$.backoffSettings:U.backoffSettings,q=$.shouldRetryFn?$.shouldRetryFn:U.shouldRetryFn,Q=$.getResumptionRequestFn?$.getResumptionRequestFn:U.getResumptionRequestFn;return y(j,M,q,Q)}function k(U,$,j,M,q){q=q||{};const Q={},K=($.interfaces||{})[U];if(!K)return null;const G=(j.interfaces||{})[U]||{},F=K.methods,x=G.methods||{};for(const z in F){const J=F[z],Z=(0,e.toLowerCamelCase)(z);let X=N(J,K.retry_codes,K.retry_params,M),te=J.bundling,be=J.timeout_millis;if(z in x){const Ne=x[z];Ne&&("bundling"in Ne&&(te=Ne.bundling),"timeout_millis"in Ne&&(be=Ne.timeout_millis)),X=L(X,N(Ne,G.retry_codes,G.retry_params,M))}const Ae=U;Q[Z]=new p({timeout:be,retry:X,bundleOptions:te?P(te):null,otherArgs:q,apiName:Ae})}return Q}function B(U){return function(j){try{return U.encode(j).finish().length}catch(M){const q=JSON.stringify(j);return(0,o.warn)("error_encoding_protobufjs_object",`Cannot encode protobuf.js object: ${q}: ${M}`),q.length}}}return gax}var routingHeader={},hasRequiredRoutingHeader;function requireRoutingHeader(){if(hasRequiredRoutingHeader)return routingHeader;hasRequiredRoutingHeader=1,Object.defineProperty(routingHeader,"__esModule",{value:!0}),routingHeader.fromParams=e;const o=require$$1$3;function e(r){return o.stringify(r)}return routingHeader}var operationsClient={},createApiCall={},apiCaller={},normalApiCaller={},call={},googleError={},src={},toproto3json={},any={},fromproto3json={},bytes={},hasRequiredBytes;function requireBytes(){if(hasRequiredBytes)return bytes;hasRequiredBytes=1,Object.defineProperty(bytes,"__esModule",{value:!0}),bytes.bytesFromProto3JSON=bytes.bytesToProto3JSON=void 0;function o(r){return Buffer.isBuffer(r)?r.toString("base64"):Buffer.from(r.buffer,0,r.byteLength).toString("base64")}bytes.bytesToProto3JSON=o;function e(r){return Buffer.from(r,"base64")}return bytes.bytesFromProto3JSON=e,bytes}var _enum={},hasRequired_enum;function require_enum(){if(hasRequired_enum)return _enum;hasRequired_enum=1,Object.defineProperty(_enum,"__esModule",{value:!0}),_enum.resolveEnumValueToNumber=_enum.resolveEnumValueToString=void 0;function o(r,u){if(typeof u=="number"){const p=r.valuesById[u];return typeof p>"u"?u:p}if(typeof u=="string")return u;throw new Error("resolveEnumValueToString: enum value must be a string or a number")}_enum.resolveEnumValueToString=o;function e(r,u){if(typeof u=="number")return u;if(typeof u=="string"){const p=r.values[u];return typeof p>"u"?u:p}throw new Error("resolveEnumValueToNumber: enum value must be a string or a number")}return _enum.resolveEnumValueToNumber=e,_enum}var value={},util$1={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util$1;hasRequiredUtil=1,Object.defineProperty(util$1,"__esModule",{value:!0}),util$1.assert=util$1.wrapperTypes=util$1.getFullyQualifiedTypeName=void 0;function o(r){let u="";for(;r.parent;)u=`.${r.name}${u}`,r=r.parent;return u}util$1.getFullyQualifiedTypeName=o,util$1.wrapperTypes=new Set([".google.protobuf.DoubleValue",".google.protobuf.FloatValue",".google.protobuf.Int64Value",".google.protobuf.UInt64Value",".google.protobuf.Int32Value",".google.protobuf.UInt32Value",".google.protobuf.BoolValue",".google.protobuf.StringValue",".google.protobuf.BytesValue"]);function e(r,u){if(!r)throw new Error(u)}return util$1.assert=e,util$1}var hasRequiredValue;function requireValue(){if(hasRequiredValue)return value;hasRequiredValue=1,Object.defineProperty(value,"__esModule",{value:!0}),value.googleProtobufValueFromProto3JSON=value.googleProtobufListValueFromProto3JSON=value.googleProtobufStructFromProto3JSON=value.googleProtobufValueToProto3JSON=value.googleProtobufListValueToProto3JSON=value.googleProtobufStructToProto3JSON=void 0;const o=requireUtil();function e(c){const d={},m=c.fields;for(const[P,N]of Object.entries(m))d[P]=u(N);return d}value.googleProtobufStructToProto3JSON=e;function r(c){return(0,o.assert)(Array.isArray(c.values),"ListValue internal representation must contain array of values"),c.values.map(u)}value.googleProtobufListValueToProto3JSON=r;function u(c){return Object.prototype.hasOwnProperty.call(c,"nullValue")?null:Object.prototype.hasOwnProperty.call(c,"numberValue")&&typeof c.numberValue=="number"?Number.isFinite(c.numberValue)?c.numberValue:c.numberValue.toString():Object.prototype.hasOwnProperty.call(c,"stringValue")&&typeof c.stringValue=="string"?c.stringValue:Object.prototype.hasOwnProperty.call(c,"boolValue")&&typeof c.boolValue=="boolean"?c.boolValue:Object.prototype.hasOwnProperty.call(c,"structValue")&&typeof c.structValue=="object"?e(c.structValue):Object.prototype.hasOwnProperty.call(c,"listValue")&&typeof c=="object"&&typeof c.listValue=="object"?r(c.listValue):null}value.googleProtobufValueToProto3JSON=u;function p(c){const d={};for(const[m,P]of Object.entries(c))d[m]=y(P);return{fields:d}}value.googleProtobufStructFromProto3JSON=p;function h(c){return{values:c.map(d=>y(d))}}value.googleProtobufListValueFromProto3JSON=h;function y(c){if(c===null)return{nullValue:"NULL_VALUE"};if(typeof c=="number")return{numberValue:c};if(typeof c=="string")return{stringValue:c};if(typeof c=="boolean")return{boolValue:c};if(Array.isArray(c))return{listValue:h(c)};if(typeof c=="object")return{structValue:p(c)};throw new Error(`googleProtobufValueFromProto3JSON: incorrect parameter type: ${typeof c}`)}return value.googleProtobufValueFromProto3JSON=y,value}var duration={},hasRequiredDuration;function requireDuration(){if(hasRequiredDuration)return duration;hasRequiredDuration=1,Object.defineProperty(duration,"__esModule",{value:!0}),duration.googleProtobufDurationFromProto3JSON=duration.googleProtobufDurationToProto3JSON=void 0;function o(r){let u=r.seconds.toString();if(typeof r.nanos=="number"&&r.nanos>0){const p=r.nanos.toString().padStart(9,"0").replace(/^((?:\d\d\d)+?)(?:0*)$/,"$1");u+="."+p}return u+="s",u}duration.googleProtobufDurationToProto3JSON=o;function e(r){const u=r.match(/^(\d*)(?:\.(\d*))?s$/);if(!u)throw new Error(`googleProtobufDurationFromProto3JSON: incorrect value ${r} passed as google.protobuf.Duration`);let p=0,h=0;typeof u[1]=="string"&&u[1].length>0&&(p=parseInt(u[1])),typeof u[2]=="string"&&u[2].length>0&&(h=parseInt(u[2].padEnd(9,"0")));const y={};return p!==0&&(y.seconds=p),h!==0&&(y.nanos=h),y}return duration.googleProtobufDurationFromProto3JSON=e,duration}var timestamp$1={},hasRequiredTimestamp$1;function requireTimestamp$1(){if(hasRequiredTimestamp$1)return timestamp$1;hasRequiredTimestamp$1=1,Object.defineProperty(timestamp$1,"__esModule",{value:!0}),timestamp$1.googleProtobufTimestampFromProto3JSON=timestamp$1.googleProtobufTimestampToProto3JSON=void 0;function o(r){var u;const p=r.seconds,h=new Date(p*1e3).toISOString();let y=(u=r.nanos)===null||u===void 0?void 0:u.toString().padStart(9,"0");for(;y&&y.length>3&&y.endsWith("000");)y=y.slice(0,-3);return h.replace(/(?:\.\d{0,9})/,"."+y)}timestamp$1.googleProtobufTimestampToProto3JSON=o;function e(r){if(!r.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d+)?/))throw new Error(`googleProtobufDurationFromProto3JSON: incorrect value ${r} passed as google.protobuf.Duration`);const h=new Date(r).getTime(),y=Math.floor(h/1e3);let c=0;const d=r.split(".")[1];d&&(c=parseInt(d.slice(0,-1).padEnd(9,"0")));const m={};return y!==0&&(m.seconds=y),c!==0&&(m.nanos=c),m}return timestamp$1.googleProtobufTimestampFromProto3JSON=e,timestamp$1}var wrappers={},hasRequiredWrappers;function requireWrappers(){if(hasRequiredWrappers)return wrappers;hasRequiredWrappers=1,Object.defineProperty(wrappers,"__esModule",{value:!0}),wrappers.wrapperFromProto3JSON=wrappers.wrapperToProto3JSON=void 0;const o=requireBytes(),e=requireUtil();function r(p){return Object.prototype.hasOwnProperty.call(p,"value")?Buffer.isBuffer(p.value)||p.value instanceof Uint8Array?(0,o.bytesToProto3JSON)(p.value):typeof p.value=="object"?((0,e.assert)(p.value.constructor.name==="Long",`wrapperToProto3JSON: expected to see a number, a string, a boolean, or a Long, but got ${p.value}`),p.value.toString()):typeof p.value=="number"&&!Number.isFinite(p.value)?p.value.toString():p.value:null}wrappers.wrapperToProto3JSON=r;function u(p,h){if(h===null)return{value:null};if(p===".google.protobuf.BytesValue"){if(typeof h!="string")throw new Error(`numberWrapperFromProto3JSON: expected to get a string for google.protobuf.BytesValue but got ${typeof h}`);return{value:(0,o.bytesFromProto3JSON)(h)}}return{value:h}}return wrappers.wrapperFromProto3JSON=u,wrappers}var fieldmask={},hasRequiredFieldmask;function requireFieldmask(){if(hasRequiredFieldmask)return fieldmask;hasRequiredFieldmask=1,Object.defineProperty(fieldmask,"__esModule",{value:!0}),fieldmask.googleProtobufFieldMaskFromProto3JSON=fieldmask.googleProtobufFieldMaskToProto3JSON=void 0;function o(r){return r.paths.join(",")}fieldmask.googleProtobufFieldMaskToProto3JSON=o;function e(r){return{paths:r.split(",")}}return fieldmask.googleProtobufFieldMaskFromProto3JSON=e,fieldmask}var hasRequiredFromproto3json;function requireFromproto3json(){if(hasRequiredFromproto3json)return fromproto3json;hasRequiredFromproto3json=1,Object.defineProperty(fromproto3json,"__esModule",{value:!0}),fromproto3json.fromProto3JSON=fromproto3json.fromProto3JSONToInternalRepresentation=void 0;const o=requireAny(),e=requireBytes(),r=require_enum(),u=requireValue(),p=requireUtil(),h=requireDuration(),y=requireTimestamp$1(),c=requireWrappers(),d=requireFieldmask();function m(N,L){const k=typeof N=="string"?N:(0,p.getFullyQualifiedTypeName)(N);if(typeof N!="string"&&"values"in N)return k===".google.protobuf.NullValue"?"NULL_VALUE":(0,r.resolveEnumValueToString)(N,L);if(typeof N!="string"&&N.resolveAll(),typeof N=="string")return L;if(k===".google.protobuf.Value")return(0,u.googleProtobufValueFromProto3JSON)(L);if(p.wrapperTypes.has(k)){if(L!==null&&typeof L=="object"||Array.isArray(L))throw new Error(`fromProto3JSONToInternalRepresentation: JSON representation for ${k} expects a string, a number, or a boolean, but got ${typeof L}`);return(0,c.wrapperFromProto3JSON)(k,L)}if(L===null)return null;if(k===".google.protobuf.Any")return(0,o.googleProtobufAnyFromProto3JSON)(N.root,L);if(k===".google.protobuf.Struct"){if(typeof L!="object")throw new Error(`fromProto3JSONToInternalRepresentation: google.protobuf.Struct must be an object but got ${typeof L}`);if(Array.isArray(L))throw new Error("fromProto3JSONToInternalRepresentation: google.protobuf.Struct must be an object but got an array");return(0,u.googleProtobufStructFromProto3JSON)(L)}if(k===".google.protobuf.ListValue"){if(!Array.isArray(L))throw new Error(`fromProto3JSONToInternalRepresentation: google.protobuf.ListValue must be an array but got ${typeof L}`);return(0,u.googleProtobufListValueFromProto3JSON)(L)}if(k===".google.protobuf.Duration"){if(typeof L!="string")throw new Error(`fromProto3JSONToInternalRepresentation: google.protobuf.Duration must be a string but got ${typeof L}`);return(0,h.googleProtobufDurationFromProto3JSON)(L)}if(k===".google.protobuf.Timestamp"){if(typeof L!="string")throw new Error(`fromProto3JSONToInternalRepresentation: google.protobuf.Timestamp must be a string but got ${typeof L}`);return(0,y.googleProtobufTimestampFromProto3JSON)(L)}if(k===".google.protobuf.FieldMask"){if(typeof L!="string")throw new Error(`fromProto3JSONToInternalRepresentation: google.protobuf.FieldMask must be a string but got ${typeof L}`);return(0,d.googleProtobufFieldMaskFromProto3JSON)(L)}const B={};for(const[U,$]of Object.entries(L)){const j=N.fields[U];if(!j)continue;const M=j.resolvedType,q=j.type;if(j.repeated)if($===null)B[U]=[];else{if(!Array.isArray($))throw new Error(`fromProto3JSONToInternalRepresentation: expected an array for field ${U}`);B[U]=$.map(Q=>m(M||q,Q))}else if(j.map){const Q={};for(const[K,G]of Object.entries($))Q[K]=m(M||q,G);B[U]=Q}else if(q.match(/^(?:(?:(?:u?int|fixed)(?:32|64))|float|double)$/)){if(typeof $!="number"&&typeof $!="string")throw new Error(`fromProto3JSONToInternalRepresentation: field ${U} of type ${j.type} cannot contain value ${$}`);B[U]=$}else if(q==="string"){if(typeof $!="string")throw new Error(`fromProto3JSONToInternalRepresentation: field ${U} of type ${j.type} cannot contain value ${$}`);B[U]=$}else if(q==="bool"){if(typeof $!="boolean")throw new Error(`fromProto3JSONToInternalRepresentation: field ${U} of type ${j.type} cannot contain value ${$}`);B[U]=$}else if(q==="bytes"){if(typeof $!="string")throw new Error(`fromProto3JSONToInternalRepresentation: field ${U} of type ${j.type} cannot contain value ${$}`);B[U]=(0,e.bytesFromProto3JSON)($)}else{(0,p.assert)(M!==null,`Expected to be able to resolve type for field ${j.name}`);const Q=m(M,$);B[U]=Q}}return B}fromproto3json.fromProto3JSONToInternalRepresentation=m;function P(N,L){const k=m(N,L);return k===null?null:((0,p.assert)(typeof k=="object"&&!Array.isArray(k),`fromProto3JSON: expected an object, not ${L}`),N.fromObject(k))}return fromproto3json.fromProto3JSON=P,fromproto3json}var hasRequiredAny;function requireAny(){if(hasRequiredAny)return any;hasRequiredAny=1,Object.defineProperty(any,"__esModule",{value:!0}),any.googleProtobufAnyFromProto3JSON=any.googleProtobufAnyToProto3JSON=void 0;const o=requireFromproto3json(),e=requireToproto3json(),r=new Set(["google.protobuf.Any","google.protobuf.Duration","google.protobuf.FieldMask","google.protobuf.ListValue","google.protobuf.Struct","google.protobuf.Timestamp","google.protobuf.Value"]);function u(h,y){const c=h.type_url.replace(/^.*\//,"");let d;try{d=h.$type.root.lookupType(c)}catch(N){throw new Error(`googleProtobufAnyToProto3JSON: cannot find type ${c}: ${N}`)}const m=d.decode(h.value),P=(0,e.toProto3JSON)(m,y);return r.has(c)?{"@type":h.type_url,value:P}:(P["@type"]=h.type_url,P)}any.googleProtobufAnyToProto3JSON=u;function p(h,y){if(y===null||typeof y!="object"||Array.isArray(y))throw new Error("googleProtobufAnyFromProto3JSON: must be an object to decode google.protobuf.Any");const c=y["@type"];if(!c||typeof c!="string")throw new Error("googleProtobufAnyFromProto3JSON: JSON serialization of google.protobuf.Any must contain @type field");const d=c.replace(/^.*\//,"");let m;try{m=h.lookupType(d)}catch(U){throw new Error(`googleProtobufAnyFromProto3JSON: cannot find type ${d}: ${U}`)}let P=y;if(r.has(d)){if(!("value"in y))throw new Error(`googleProtobufAnyFromProto3JSON: JSON representation of google.protobuf.Any with type ${d} must contain the value field`);P=y.value}const N=(0,o.fromProto3JSON)(m,P);if(N===null)return{type_url:c,value:null};const L=m.encode(N).finish(),B=Buffer.from(L,0,L.byteLength).toString("base64");return{type_url:c,value:B}}return any.googleProtobufAnyFromProto3JSON=p,any}var hasRequiredToproto3json;function requireToproto3json(){if(hasRequiredToproto3json)return toproto3json;hasRequiredToproto3json=1,Object.defineProperty(toproto3json,"__esModule",{value:!0}),toproto3json.toProto3JSON=void 0;const o=requireAny(),e=requireBytes(),r=requireUtil(),u=require_enum(),p=requireValue(),h=requireDuration(),y=requireTimestamp$1(),c=requireWrappers(),d=requireFieldmask();function m(N){var L;if(typeof N=="object"){if(((L=N==null?void 0:N.constructor)===null||L===void 0?void 0:L.name)==="Long")return N.toString();throw new Error(`toProto3JSON: don't know how to convert value ${N}`)}return N}function P(N,L){const k=N.$type;if(!k)throw new Error("Cannot serialize object to proto3 JSON since its .$type is unknown. Use Type.fromObject(obj) before calling toProto3JSON.");k.resolveAll();const B=(0,r.getFullyQualifiedTypeName)(k);if(B===".google.protobuf.Any")return(0,o.googleProtobufAnyToProto3JSON)(N,L);if(B===".google.protobuf.Value")return(0,p.googleProtobufValueToProto3JSON)(N);if(B===".google.protobuf.Struct")return(0,p.googleProtobufStructToProto3JSON)(N);if(B===".google.protobuf.ListValue")return(0,p.googleProtobufListValueToProto3JSON)(N);if(B===".google.protobuf.Duration")return(0,h.googleProtobufDurationToProto3JSON)(N);if(B===".google.protobuf.Timestamp")return(0,y.googleProtobufTimestampToProto3JSON)(N);if(B===".google.protobuf.FieldMask")return(0,d.googleProtobufFieldMaskToProto3JSON)(N);if(r.wrapperTypes.has(B))return(0,c.wrapperToProto3JSON)(N);const U={};for(const[$,j]of Object.entries(N)){const M=k.fields[$],q=M.resolvedType,Q=q?(0,r.getFullyQualifiedTypeName)(q):null;if(j===null){U[$]=null;continue}if(Array.isArray(j)){if(j.length===0)continue;U[$]=j.map(q?K=>P(K,L):m);continue}if(M.map){const K={};for(const[G,F]of Object.entries(j))K[G]=q?P(F,L):m(F);U[$]=K;continue}if(Q===".google.protobuf.NullValue"){U[$]=null;continue}if(q&&"values"in q&&j!==null){L!=null&&L.numericEnums?U[$]=(0,u.resolveEnumValueToNumber)(q,j):U[$]=(0,u.resolveEnumValueToString)(q,j);continue}if(q){U[$]=P(j,L);continue}if(typeof j=="string"||typeof j=="number"||typeof j=="boolean"||j===null){if(typeof j=="number"&&!Number.isFinite(j)){U[$]=j.toString();continue}U[$]=j;continue}if(Buffer.isBuffer(j)||j instanceof Uint8Array){U[$]=(0,e.bytesToProto3JSON)(j);continue}U[$]=m(j)}return U}return toproto3json.toProto3JSON=P,toproto3json}var hasRequiredSrc$1;function requireSrc$1(){return hasRequiredSrc$1||(hasRequiredSrc$1=1,function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.fromProto3JSON=o.toProto3JSON=void 0;var e=requireToproto3json();Object.defineProperty(o,"toProto3JSON",{enumerable:!0,get:function(){return e.toProto3JSON}});var r=requireFromproto3json();Object.defineProperty(o,"fromProto3JSON",{enumerable:!0,get:function(){return r.fromProto3JSON}})}(src)),src}const nested$6={google:{nested:{protobuf:{nested:{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},Duration:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/errdetails;errdetails",java_multiple_files:!0,java_outer_classname:"ErrorDetailsProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}},RetryInfo:{fields:{retryDelay:{type:"google.protobuf.Duration",id:1}}},DebugInfo:{fields:{stackEntries:{rule:"repeated",type:"string",id:1},detail:{type:"string",id:2}}},QuotaFailure:{fields:{violations:{rule:"repeated",type:"Violation",id:1}},nested:{Violation:{fields:{subject:{type:"string",id:1},description:{type:"string",id:2}}}}},ErrorInfo:{fields:{reason:{type:"string",id:1},domain:{type:"string",id:2},metadata:{keyType:"string",type:"string",id:3}}},PreconditionFailure:{fields:{violations:{rule:"repeated",type:"Violation",id:1}},nested:{Violation:{fields:{type:{type:"string",id:1},subject:{type:"string",id:2},description:{type:"string",id:3}}}}},BadRequest:{fields:{fieldViolations:{rule:"repeated",type:"FieldViolation",id:1}},nested:{FieldViolation:{fields:{field:{type:"string",id:1},description:{type:"string",id:2}}}}},RequestInfo:{fields:{requestId:{type:"string",id:1},servingData:{type:"string",id:2}}},ResourceInfo:{fields:{resourceType:{type:"string",id:1},resourceName:{type:"string",id:2},owner:{type:"string",id:3},description:{type:"string",id:4}}},Help:{fields:{links:{rule:"repeated",type:"Link",id:1}},nested:{Link:{fields:{description:{type:"string",id:1},url:{type:"string",id:2}}}}},LocalizedMessage:{fields:{locale:{type:"string",id:1},message:{type:"string",id:2}}}}}}}},require$$4$1={nested:nested$6};var hasRequiredGoogleError;function requireGoogleError(){if(hasRequiredGoogleError)return googleError;hasRequiredGoogleError=1,Object.defineProperty(googleError,"__esModule",{value:!0}),googleError.GoogleErrorDecoder=googleError.GoogleError=void 0;const o=requireStatus(),e=requireProtobufjs(),r=requireSrc$1(),u=requireFallback();class p extends Error{static parseGRPCStatusDetails(c){const d=new h;try{if(c.metadata&&c.metadata.get("grpc-status-details-bin")){const m=d.decodeGRPCStatusDetails(c.metadata.get("grpc-status-details-bin"));m&&m.details&&m.details.length>0&&(c.statusDetails=m.details),m&&m.errorInfo&&(c.reason=m.errorInfo.reason,c.domain=m.errorInfo.domain,c.errorInfoMetadata=m.errorInfo.metadata)}}catch{}return c}static parseHttpError(c){Array.isArray(c)&&(c=c.find(N=>"error"in N)),c.error||(c.error={},Object.keys(c).filter(N=>N!=="error").forEach(N=>{c.error[N]=c[N],delete c[N]}));const d=new h,m=d.decodeHTTPError(c.error),P=Object.assign(new p(c.error.message),m);if(c.error.code?P.code=(0,o.rpcCodeFromHttpStatusCode)(c.error.code):delete P.code,P.details)try{const N=d.decodeHttpStatusDetails(P.details);N&&N.details&&N.details.length>0&&(P.statusDetails=N.details),N&&N.errorInfo&&(P.reason=N.errorInfo.reason,P.domain=N.errorInfo.domain,P.errorInfoMetadata=N.errorInfo.metadata)}catch{}return P}}googleError.GoogleError=p;class h{constructor(){const c=require$$4$1;this.root=e.Root.fromJSON(c),this.anyType=this.root.lookupType("google.protobuf.Any"),this.statusType=this.root.lookupType("google.rpc.Status")}decodeProtobufAny(c){const d=c.type_url.match(/^type.googleapis.com\/(.*)/);if(!d)throw new Error(`Unknown type encoded in google.protobuf.any: ${c.type_url}`);const m=d[1],P=this.root.lookupType(m);if(!P)throw new Error(`Cannot lookup type ${m}`);return P.decode(c.value)}decodeRpcStatus(c){const d=new Uint8Array(c),m=this.statusType.decode(d),P=[];let N;for(const k of m.details)try{const B=this.decodeProtobufAny(k);P.push(B),k.type_url==="type.googleapis.com/google.rpc.ErrorInfo"&&(N=B)}catch{}return{code:m.code,message:m.message,statusDetails:P,reason:N==null?void 0:N.reason,domain:N==null?void 0:N.domain,errorInfoMetadata:N==null?void 0:N.metadata}}callErrorFromStatus(c){return c.message=`${c.code} ${o.Status[c.code]}: ${c.message}`,Object.assign(new p(c.message),c)}decodeErrorFromBuffer(c){return this.callErrorFromStatus(this.decodeRpcStatus(c))}decodeGRPCStatusDetails(c){const d=[];let m;return c.forEach(N=>{const L=new Uint8Array(N),k=this.statusType.decode(L);for(const B of k.details)try{const U=this.decodeProtobufAny(B);d.push(U),B.type_url==="type.googleapis.com/google.rpc.ErrorInfo"&&(m=U)}catch{}}),{details:d,errorInfo:m}}decodeHTTPError(c){const d=r.fromProto3JSON(this.statusType,c);if(!d)throw new Error(`Received error message ${c}, but failed to serialize as proto3 message`);return this.statusType.toObject(d,u.defaultToObjectOptions)}decodeHttpStatusDetails(c){const d=[];let m;for(const P of c)try{const N=this.decodeProtobufAny(P);d.push(N),P.type_url==="type.googleapis.com/google.rpc.ErrorInfo"&&(m=N)}catch{}return{details:d,errorInfo:m}}}return googleError.GoogleErrorDecoder=h,googleError}var hasRequiredCall;function requireCall(){if(hasRequiredCall)return call;hasRequiredCall=1,Object.defineProperty(call,"__esModule",{value:!0}),call.OngoingCallPromise=call.OngoingCall=void 0;const o=requireStatus(),e=requireGoogleError();class r{constructor(h){this.callback=h,this.completed=!1}cancel(){if(!this.completed)if(this.completed=!0,this.cancelFunc)this.cancelFunc();else{const h=new e.GoogleError("cancelled");h.code=o.Status.CANCELLED,this.callback(h)}}call(h,y){if(this.completed)return;const c=h(y,(d,m,P,N)=>{this.completed=!0,setImmediate(this.callback,d,m,P,N)});c instanceof Promise&&c.catch(d=>{setImmediate(this.callback,new e.GoogleError(d),null,null,null)}),this.cancelFunc=()=>c.cancel()}}call.OngoingCall=r;class u extends r{constructor(){let h,y;const c=(m,P,N,L)=>{if(m)m.metadata?y(e.GoogleError.parseGRPCStatusDetails(m)):y(m);else if(P!==void 0)h([P,N||null,L||null]);else throw new e.GoogleError("Neither error nor response are defined")},d=new Promise((m,P)=>{h=m,y=P});super(c),this.promise=d,this.promise.cancel=()=>{this.cancel()}}}return call.OngoingCallPromise=u,call}var hasRequiredNormalApiCaller;function requireNormalApiCaller(){if(hasRequiredNormalApiCaller)return normalApiCaller;hasRequiredNormalApiCaller=1,Object.defineProperty(normalApiCaller,"__esModule",{value:!0}),normalApiCaller.NormalApiCaller=void 0;const o=requireCall();class e{init(u){return u?new o.OngoingCall(u):new o.OngoingCallPromise}wrap(u){return u}call(u,p,h,y){y.call(u,p)}fail(u,p){u.callback(p)}result(u){return u.promise}}return normalApiCaller.NormalApiCaller=e,normalApiCaller}var hasRequiredApiCaller;function requireApiCaller(){if(hasRequiredApiCaller)return apiCaller;hasRequiredApiCaller=1,Object.defineProperty(apiCaller,"__esModule",{value:!0}),apiCaller.createAPICaller=e;const o=requireNormalApiCaller();function e(r,u){return u?u.getApiCaller(r):new o.NormalApiCaller}return apiCaller}var retries={},timeout={},hasRequiredTimeout;function requireTimeout(){if(hasRequiredTimeout)return timeout;hasRequiredTimeout=1,Object.defineProperty(timeout,"__esModule",{value:!0}),timeout.addTimeoutArg=o;function o(e,r,u,p){return(h,y)=>{const c=new Date,d=u.options||{};d.deadline=new Date(c.getTime()+r);const m=u.metadataBuilder?u.metadataBuilder(p,u.headers||{}):null;return e(h,m,d,y)}}return timeout}var hasRequiredRetries;function requireRetries(){if(hasRequiredRetries)return retries;hasRequiredRetries=1,Object.defineProperty(retries,"__esModule",{value:!0}),retries.retryable=u;const o=requireStatus(),e=requireGoogleError(),r=requireTimeout();function u(p,h,y,c){const d=h.backoffSettings.retryDelayMultiplier,m=h.backoffSettings.maxRetryDelayMillis,P=h.backoffSettings.rpcTimeoutMultiplier,N=h.backoffSettings.maxRpcTimeoutMillis;let L=h.backoffSettings.initialRetryDelayMillis,k=h.backoffSettings.initialRpcTimeoutMillis;return(B,U)=>{let $,j,M=new Date,q;h.backoffSettings.totalTimeoutMillis&&(q=M.getTime()+h.backoffSettings.totalTimeoutMillis);let Q=0;const K=h.backoffSettings.maxRetries;function G(F){if(j=null,q&&M.getTime()>=q){const J=new e.GoogleError(`Total timeout of API ${c} exceeded ${h.backoffSettings.totalTimeoutMillis} milliseconds ${F?`retrying error ${F} `:""} before any response was received.`);J.code=o.Status.DEADLINE_EXCEEDED,U(J);return}if(Q&&Q>=K){const J=new e.GoogleError("Exceeded maximum number of retries "+(F?`retrying error ${F} `:"")+"before any response was received");J.code=o.Status.DEADLINE_EXCEEDED,U(J);return}Q++;let x=F;$=(0,r.addTimeoutArg)(p,k,y)(B,(J,Z,X,te)=>{if(J&&J.code!==4&&(x=J),!J){U(null,Z,X,te);return}if($=null,h.retryCodes.length>0&&h.retryCodes.indexOf(J.code)<0)J.note="Exception occurred in retry method that was not classified as transient",U(J);else{const be=Math.random()*L;j=setTimeout(()=>{M=new Date,L=Math.min(L*d,m);const Ae=k&&P?k*P:0,Ne=N||0,ke=q?q-M.getTime():0;k=Math.min(Ae,Ne,ke),G(x)},be)}}),$ instanceof Promise&&$.catch(J=>{U(new e.GoogleError(J))})}if(K&&q){const F=new e.GoogleError("Cannot set both totalTimeoutMillis and maxRetries in backoffSettings.");F.code=o.Status.INVALID_ARGUMENT,U(F)}else G();return{cancel(){if(j&&clearTimeout(j),$)$.cancel();else{const F=new e.GoogleError("cancelled");F.code=o.Status.CANCELLED,U(F)}}}}}return retries}var streamingApiCaller={},streaming={},streamingRetryRequest={},hasRequiredStreamingRetryRequest;function requireStreamingRetryRequest(){if(hasRequiredStreamingRetryRequest)return streamingRetryRequest;hasRequiredStreamingRetryRequest=1,Object.defineProperty(streamingRetryRequest,"__esModule",{value:!0}),streamingRetryRequest.streamingRetryRequest=p;const{PassThrough:o}=require$$1$3,e={maxRetries:2},r=null,u=!0;function p(h){if(h=Object.assign({},e,h),h.request===void 0)throw new Error("A request function must be provided");let y=0,c=!1,d,m;const P=new o({objectMode:u});return N(),P;function N(){c=!1,m=new o({objectMode:u}),d=h.request(r),d.on("error",k=>{c||(c=!0,L(k))}).on("response",k=>{c||(c=!0,L(null,k))}),d.pipe(m)}function L(k,B=null){if(k){y++,y<=h.maxRetries?N():P.emit("error",k);return}P.emit("response",B),m.pipe(P),d.on("error",()=>{P.destroy()})}}return streamingRetryRequest}var readableBrowser={exports:{}},streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=require$$1$3.EventEmitter),streamBrowser}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function o(B,U){var $=Object.keys(B);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(B);U&&(j=j.filter(function(M){return Object.getOwnPropertyDescriptor(B,M).enumerable})),$.push.apply($,j)}return $}function e(B){for(var U=1;U<arguments.length;U++){var $=arguments[U]!=null?arguments[U]:{};U%2?o(Object($),!0).forEach(function(j){r(B,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors($)):o(Object($)).forEach(function(j){Object.defineProperty(B,j,Object.getOwnPropertyDescriptor($,j))})}return B}function r(B,U,$){return U=y(U),U in B?Object.defineProperty(B,U,{value:$,enumerable:!0,configurable:!0,writable:!0}):B[U]=$,B}function u(B,U){if(!(B instanceof U))throw new TypeError("Cannot call a class as a function")}function p(B,U){for(var $=0;$<U.length;$++){var j=U[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(B,y(j.key),j)}}function h(B,U,$){return U&&p(B.prototype,U),Object.defineProperty(B,"prototype",{writable:!1}),B}function y(B){var U=c(B,"string");return typeof U=="symbol"?U:String(U)}function c(B,U){if(typeof B!="object"||B===null)return B;var $=B[Symbol.toPrimitive];if($!==void 0){var j=$.call(B,U);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}var d=buffer,m=d.Buffer,P=require$$1$3,N=P.inspect,L=N&&N.custom||"inspect";function k(B,U,$){m.prototype.copy.call(B,U,$)}return buffer_list=function(){function B(){u(this,B),this.head=null,this.tail=null,this.length=0}return h(B,[{key:"push",value:function($){var j={data:$,next:null};this.length>0?this.tail.next=j:this.head=j,this.tail=j,++this.length}},{key:"unshift",value:function($){var j={data:$,next:this.head};this.length===0&&(this.tail=j),this.head=j,++this.length}},{key:"shift",value:function(){if(this.length!==0){var $=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,$}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function($){if(this.length===0)return"";for(var j=this.head,M=""+j.data;j=j.next;)M+=$+j.data;return M}},{key:"concat",value:function($){if(this.length===0)return m.alloc(0);for(var j=m.allocUnsafe($>>>0),M=this.head,q=0;M;)k(M.data,j,q),q+=M.data.length,M=M.next;return j}},{key:"consume",value:function($,j){var M;return $<this.head.data.length?(M=this.head.data.slice(0,$),this.head.data=this.head.data.slice($)):$===this.head.data.length?M=this.shift():M=j?this._getString($):this._getBuffer($),M}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function($){var j=this.head,M=1,q=j.data;for($-=q.length;j=j.next;){var Q=j.data,K=$>Q.length?Q.length:$;if(K===Q.length?q+=Q:q+=Q.slice(0,$),$-=K,$===0){K===Q.length?(++M,j.next?this.head=j.next:this.head=this.tail=null):(this.head=j,j.data=Q.slice(K));break}++M}return this.length-=M,q}},{key:"_getBuffer",value:function($){var j=m.allocUnsafe($),M=this.head,q=1;for(M.data.copy(j),$-=M.data.length;M=M.next;){var Q=M.data,K=$>Q.length?Q.length:$;if(Q.copy(j,j.length-$,0,K),$-=K,$===0){K===Q.length?(++q,M.next?this.head=M.next:this.head=this.tail=null):(this.head=M,M.data=Q.slice(K));break}++q}return this.length-=q,j}},{key:L,value:function($,j){return N(this,e(e({},j),{},{depth:0,customInspect:!1}))}}]),B}(),buffer_list}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;function o(y,c){var d=this,m=this._readableState&&this._readableState.destroyed,P=this._writableState&&this._writableState.destroyed;return m||P?(c?c(y):y&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(p,this,y)):process.nextTick(p,this,y)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(y||null,function(N){!c&&N?d._writableState?d._writableState.errorEmitted?process.nextTick(r,d):(d._writableState.errorEmitted=!0,process.nextTick(e,d,N)):process.nextTick(e,d,N):c?(process.nextTick(r,d),c(N)):process.nextTick(r,d)}),this)}function e(y,c){p(y,c),r(y)}function r(y){y._writableState&&!y._writableState.emitClose||y._readableState&&!y._readableState.emitClose||y.emit("close")}function u(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function p(y,c){y.emit("error",c)}function h(y,c){var d=y._readableState,m=y._writableState;d&&d.autoDestroy||m&&m.autoDestroy?y.destroy(c):y.emit("error",c)}return destroy_1={destroy:o,undestroy:u,errorOrDestroy:h},destroy_1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function o(c,d){c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.__proto__=d}var e={};function r(c,d,m){m||(m=Error);function P(L,k,B){return typeof d=="string"?d:d(L,k,B)}var N=function(L){o(k,L);function k(B,U,$){return L.call(this,P(B,U,$))||this}return k}(m);N.prototype.name=m.name,N.prototype.code=c,e[c]=N}function u(c,d){if(Array.isArray(c)){var m=c.length;return c=c.map(function(P){return String(P)}),m>2?"one of ".concat(d," ").concat(c.slice(0,m-1).join(", "),", or ")+c[m-1]:m===2?"one of ".concat(d," ").concat(c[0]," or ").concat(c[1]):"of ".concat(d," ").concat(c[0])}else return"of ".concat(d," ").concat(String(c))}function p(c,d,m){return c.substr(0,d.length)===d}function h(c,d,m){return(m===void 0||m>c.length)&&(m=c.length),c.substring(m-d.length,m)===d}function y(c,d,m){return typeof m!="number"&&(m=0),m+d.length>c.length?!1:c.indexOf(d,m)!==-1}return r("ERR_INVALID_OPT_VALUE",function(c,d){return'The value "'+d+'" is invalid for option "'+c+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(c,d,m){var P;typeof d=="string"&&p(d,"not ")?(P="must not be",d=d.replace(/^not /,"")):P="must be";var N;if(h(c," argument"))N="The ".concat(c," ").concat(P," ").concat(u(d,"type"));else{var L=y(c,".")?"property":"argument";N='The "'.concat(c,'" ').concat(L," ").concat(P," ").concat(u(d,"type"))}return N+=". Received type ".concat(typeof m),N},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=e,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var o=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function e(u,p,h){return u.highWaterMark!=null?u.highWaterMark:p?u[h]:null}function r(u,p,h,y){var c=e(p,y,h);if(c!=null){if(!(isFinite(c)&&Math.floor(c)===c)||c<0){var d=y?h:"highWaterMark";throw new o(d,c)}return Math.floor(c)}return u.objectMode?16:16*1024}return state={getHighWaterMark:r},state}var browser$2,hasRequiredBrowser$1;function requireBrowser$1(){if(hasRequiredBrowser$1)return browser$2;hasRequiredBrowser$1=1,browser$2=o;function o(r,u){if(e("noDeprecation"))return r;var p=!1;function h(){if(!p){if(e("throwDeprecation"))throw new Error(u);e("traceDeprecation")?console.trace(u):console.warn(u),p=!0}return r.apply(this,arguments)}return h}function e(r){try{if(!commonjsGlobal$2.localStorage)return!1}catch{return!1}var u=commonjsGlobal$2.localStorage[r];return u==null?!1:String(u).toLowerCase()==="true"}return browser$2}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1,_stream_writable=x;function o(xe){var Le=this;this.next=null,this.entry=null,this.finish=function(){$e(Le,xe)}}var e;x.WritableState=G;var r={deprecate:requireBrowser$1()},u=requireStreamBrowser(),p=buffer.Buffer,h=(typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function y(xe){return p.from(xe)}function c(xe){return p.isBuffer(xe)||xe instanceof h}var d=requireDestroy(),m=requireState(),P=m.getHighWaterMark,N=requireErrorsBrowser().codes,L=N.ERR_INVALID_ARG_TYPE,k=N.ERR_METHOD_NOT_IMPLEMENTED,B=N.ERR_MULTIPLE_CALLBACK,U=N.ERR_STREAM_CANNOT_PIPE,$=N.ERR_STREAM_DESTROYED,j=N.ERR_STREAM_NULL_VALUES,M=N.ERR_STREAM_WRITE_AFTER_END,q=N.ERR_UNKNOWN_ENCODING,Q=d.errorOrDestroy;inherits_browserExports(x,u);function K(){}function G(xe,Le,je){e=e||require_stream_duplex(),xe=xe||{},typeof je!="boolean"&&(je=Le instanceof e),this.objectMode=!!xe.objectMode,je&&(this.objectMode=this.objectMode||!!xe.writableObjectMode),this.highWaterMark=P(this,xe,"writableHighWaterMark",je),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Y=xe.decodeStrings===!1;this.decodeStrings=!Y,this.defaultEncoding=xe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(l){Ne(Le,l)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=xe.emitClose!==!1,this.autoDestroy=!!xe.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}G.prototype.getBuffer=function(){for(var Le=this.bufferedRequest,je=[];Le;)je.push(Le),Le=Le.next;return je},function(){try{Object.defineProperty(G.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var F;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(F=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(Le){return F.call(this,Le)?!0:this!==x?!1:Le&&Le._writableState instanceof G}})):F=function(Le){return Le instanceof this};function x(xe){e=e||require_stream_duplex();var Le=this instanceof e;if(!Le&&!F.call(x,this))return new x(xe);this._writableState=new G(xe,this,Le),this.writable=!0,xe&&(typeof xe.write=="function"&&(this._write=xe.write),typeof xe.writev=="function"&&(this._writev=xe.writev),typeof xe.destroy=="function"&&(this._destroy=xe.destroy),typeof xe.final=="function"&&(this._final=xe.final)),u.call(this)}x.prototype.pipe=function(){Q(this,new U)};function z(xe,Le){var je=new M;Q(xe,je),process.nextTick(Le,je)}function J(xe,Le,je,Y){var l;return je===null?l=new j:typeof je!="string"&&!Le.objectMode&&(l=new L("chunk",["string","Buffer"],je)),l?(Q(xe,l),process.nextTick(Y,l),!1):!0}x.prototype.write=function(xe,Le,je){var Y=this._writableState,l=!1,T=!Y.objectMode&&c(xe);return T&&!p.isBuffer(xe)&&(xe=y(xe)),typeof Le=="function"&&(je=Le,Le=null),T?Le="buffer":Le||(Le=Y.defaultEncoding),typeof je!="function"&&(je=K),Y.ending?z(this,je):(T||J(this,Y,xe,je))&&(Y.pendingcb++,l=X(this,Y,T,xe,Le,je)),l},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var xe=this._writableState;xe.corked&&(xe.corked--,!xe.writing&&!xe.corked&&!xe.bufferProcessing&&xe.bufferedRequest&&qe(this,xe))},x.prototype.setDefaultEncoding=function(Le){if(typeof Le=="string"&&(Le=Le.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Le+"").toLowerCase())>-1))throw new q(Le);return this._writableState.defaultEncoding=Le,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Z(xe,Le,je){return!xe.objectMode&&xe.decodeStrings!==!1&&typeof Le=="string"&&(Le=p.from(Le,je)),Le}Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function X(xe,Le,je,Y,l,T){if(!je){var O=Z(Le,Y,l);Y!==O&&(je=!0,l="buffer",Y=O)}var H=Le.objectMode?1:Y.length;Le.length+=H;var ae=Le.length<Le.highWaterMark;if(ae||(Le.needDrain=!0),Le.writing||Le.corked){var Oe=Le.lastBufferedRequest;Le.lastBufferedRequest={chunk:Y,encoding:l,isBuf:je,callback:T,next:null},Oe?Oe.next=Le.lastBufferedRequest:Le.bufferedRequest=Le.lastBufferedRequest,Le.bufferedRequestCount+=1}else te(xe,Le,!1,H,Y,l,T);return ae}function te(xe,Le,je,Y,l,T,O){Le.writelen=Y,Le.writecb=O,Le.writing=!0,Le.sync=!0,Le.destroyed?Le.onwrite(new $("write")):je?xe._writev(l,Le.onwrite):xe._write(l,T,Le.onwrite),Le.sync=!1}function be(xe,Le,je,Y,l){--Le.pendingcb,je?(process.nextTick(l,Y),process.nextTick(Be,xe,Le),xe._writableState.errorEmitted=!0,Q(xe,Y)):(l(Y),xe._writableState.errorEmitted=!0,Q(xe,Y),Be(xe,Le))}function Ae(xe){xe.writing=!1,xe.writecb=null,xe.length-=xe.writelen,xe.writelen=0}function Ne(xe,Le){var je=xe._writableState,Y=je.sync,l=je.writecb;if(typeof l!="function")throw new B;if(Ae(je),Le)be(xe,je,Y,Le,l);else{var T=Ge(je)||xe.destroyed;!T&&!je.corked&&!je.bufferProcessing&&je.bufferedRequest&&qe(xe,je),Y?process.nextTick(ke,xe,je,T,l):ke(xe,je,T,l)}}function ke(xe,Le,je,Y){je||Ue(xe,Le),Le.pendingcb--,Y(),Be(xe,Le)}function Ue(xe,Le){Le.length===0&&Le.needDrain&&(Le.needDrain=!1,xe.emit("drain"))}function qe(xe,Le){Le.bufferProcessing=!0;var je=Le.bufferedRequest;if(xe._writev&&je&&je.next){var Y=Le.bufferedRequestCount,l=new Array(Y),T=Le.corkedRequestsFree;T.entry=je;for(var O=0,H=!0;je;)l[O]=je,je.isBuf||(H=!1),je=je.next,O+=1;l.allBuffers=H,te(xe,Le,!0,Le.length,l,"",T.finish),Le.pendingcb++,Le.lastBufferedRequest=null,T.next?(Le.corkedRequestsFree=T.next,T.next=null):Le.corkedRequestsFree=new o(Le),Le.bufferedRequestCount=0}else{for(;je;){var ae=je.chunk,Oe=je.encoding,ie=je.callback,s=Le.objectMode?1:ae.length;if(te(xe,Le,!1,s,ae,Oe,ie),je=je.next,Le.bufferedRequestCount--,Le.writing)break}je===null&&(Le.lastBufferedRequest=null)}Le.bufferedRequest=je,Le.bufferProcessing=!1}x.prototype._write=function(xe,Le,je){je(new k("_write()"))},x.prototype._writev=null,x.prototype.end=function(xe,Le,je){var Y=this._writableState;return typeof xe=="function"?(je=xe,xe=null,Le=null):typeof Le=="function"&&(je=Le,Le=null),xe!=null&&this.write(xe,Le),Y.corked&&(Y.corked=1,this.uncork()),Y.ending||Re(this,Y,je),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Ge(xe){return xe.ending&&xe.length===0&&xe.bufferedRequest===null&&!xe.finished&&!xe.writing}function Qe(xe,Le){xe._final(function(je){Le.pendingcb--,je&&Q(xe,je),Le.prefinished=!0,xe.emit("prefinish"),Be(xe,Le)})}function Ke(xe,Le){!Le.prefinished&&!Le.finalCalled&&(typeof xe._final=="function"&&!Le.destroyed?(Le.pendingcb++,Le.finalCalled=!0,process.nextTick(Qe,xe,Le)):(Le.prefinished=!0,xe.emit("prefinish")))}function Be(xe,Le){var je=Ge(Le);if(je&&(Ke(xe,Le),Le.pendingcb===0&&(Le.finished=!0,xe.emit("finish"),Le.autoDestroy))){var Y=xe._readableState;(!Y||Y.autoDestroy&&Y.endEmitted)&&xe.destroy()}return je}function Re(xe,Le,je){Le.ending=!0,Be(xe,Le),je&&(Le.finished?process.nextTick(je):xe.once("finish",je)),Le.ended=!0,xe.writable=!1}function $e(xe,Le,je){var Y=xe.entry;for(xe.entry=null;Y;){var l=Y.callback;Le.pendingcb--,l(je),Y=Y.next}Le.corkedRequestsFree.next=xe}return Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Le){this._writableState&&(this._writableState.destroyed=Le)}}),x.prototype.destroy=d.destroy,x.prototype._undestroy=d.undestroy,x.prototype._destroy=function(xe,Le){Le(xe)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var o=Object.keys||function(m){var P=[];for(var N in m)P.push(N);return P};_stream_duplex=y;var e=require_stream_readable(),r=require_stream_writable();inherits_browserExports(y,e);for(var u=o(r.prototype),p=0;p<u.length;p++){var h=u[p];y.prototype[h]||(y.prototype[h]=r.prototype[h])}function y(m){if(!(this instanceof y))return new y(m);e.call(this,m),r.call(this,m),this.allowHalfOpen=!0,m&&(m.readable===!1&&(this.readable=!1),m.writable===!1&&(this.writable=!1),m.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",c)))}Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function c(){this._writableState.ended||process.nextTick(d,this)}function d(m){m.end()}return Object.defineProperty(y.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(P){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=P,this._writableState.destroyed=P)}}),_stream_duplex}var string_decoder={},safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(o,e){var r=buffer,u=r.Buffer;function p(y,c){for(var d in y)c[d]=y[d]}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?o.exports=r:(p(r,e),e.Buffer=h);function h(y,c,d){return u(y,c,d)}p(u,h),h.from=function(y,c,d){if(typeof y=="number")throw new TypeError("Argument must not be a number");return u(y,c,d)},h.alloc=function(y,c,d){if(typeof y!="number")throw new TypeError("Argument must be a number");var m=u(y);return c!==void 0?typeof d=="string"?m.fill(c,d):m.fill(c):m.fill(0),m},h.allocUnsafe=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return u(y)},h.allocUnsafeSlow=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(y)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var o=requireSafeBuffer().Buffer,e=o.isEncoding||function(j){switch(j=""+j,j&&j.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(j){if(!j)return"utf8";for(var M;;)switch(j){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return j;default:if(M)return;j=(""+j).toLowerCase(),M=!0}}function u(j){var M=r(j);if(typeof M!="string"&&(o.isEncoding===e||!e(j)))throw new Error("Unknown encoding: "+j);return M||j}string_decoder.StringDecoder=p;function p(j){this.encoding=u(j);var M;switch(this.encoding){case"utf16le":this.text=N,this.end=L,M=4;break;case"utf8":this.fillLast=d,M=4;break;case"base64":this.text=k,this.end=B,M=3;break;default:this.write=U,this.end=$;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(M)}p.prototype.write=function(j){if(j.length===0)return"";var M,q;if(this.lastNeed){if(M=this.fillLast(j),M===void 0)return"";q=this.lastNeed,this.lastNeed=0}else q=0;return q<j.length?M?M+this.text(j,q):this.text(j,q):M||""},p.prototype.end=P,p.prototype.text=m,p.prototype.fillLast=function(j){if(this.lastNeed<=j.length)return j.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);j.copy(this.lastChar,this.lastTotal-this.lastNeed,0,j.length),this.lastNeed-=j.length};function h(j){return j<=127?0:j>>5===6?2:j>>4===14?3:j>>3===30?4:j>>6===2?-1:-2}function y(j,M,q){var Q=M.length-1;if(Q<q)return 0;var K=h(M[Q]);return K>=0?(K>0&&(j.lastNeed=K-1),K):--Q<q||K===-2?0:(K=h(M[Q]),K>=0?(K>0&&(j.lastNeed=K-2),K):--Q<q||K===-2?0:(K=h(M[Q]),K>=0?(K>0&&(K===2?K=0:j.lastNeed=K-3),K):0))}function c(j,M,q){if((M[0]&192)!==128)return j.lastNeed=0,"";if(j.lastNeed>1&&M.length>1){if((M[1]&192)!==128)return j.lastNeed=1,"";if(j.lastNeed>2&&M.length>2&&(M[2]&192)!==128)return j.lastNeed=2,""}}function d(j){var M=this.lastTotal-this.lastNeed,q=c(this,j);if(q!==void 0)return q;if(this.lastNeed<=j.length)return j.copy(this.lastChar,M,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);j.copy(this.lastChar,M,0,j.length),this.lastNeed-=j.length}function m(j,M){var q=y(this,j,M);if(!this.lastNeed)return j.toString("utf8",M);this.lastTotal=q;var Q=j.length-(q-this.lastNeed);return j.copy(this.lastChar,0,Q),j.toString("utf8",M,Q)}function P(j){var M=j&&j.length?this.write(j):"";return this.lastNeed?M+"":M}function N(j,M){if((j.length-M)%2===0){var q=j.toString("utf16le",M);if(q){var Q=q.charCodeAt(q.length-1);if(Q>=55296&&Q<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=j[j.length-2],this.lastChar[1]=j[j.length-1],q.slice(0,-1)}return q}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=j[j.length-1],j.toString("utf16le",M,j.length-1)}function L(j){var M=j&&j.length?this.write(j):"";if(this.lastNeed){var q=this.lastTotal-this.lastNeed;return M+this.lastChar.toString("utf16le",0,q)}return M}function k(j,M){var q=(j.length-M)%3;return q===0?j.toString("base64",M):(this.lastNeed=3-q,this.lastTotal=3,q===1?this.lastChar[0]=j[j.length-1]:(this.lastChar[0]=j[j.length-2],this.lastChar[1]=j[j.length-1]),j.toString("base64",M,j.length-q))}function B(j){var M=j&&j.length?this.write(j):"";return this.lastNeed?M+this.lastChar.toString("base64",0,3-this.lastNeed):M}function U(j){return j.toString(this.encoding)}function $(j){return j&&j.length?this.write(j):""}return string_decoder}var endOfStream$1,hasRequiredEndOfStream$1;function requireEndOfStream$1(){if(hasRequiredEndOfStream$1)return endOfStream$1;hasRequiredEndOfStream$1=1;var o=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function e(h){var y=!1;return function(){if(!y){y=!0;for(var c=arguments.length,d=new Array(c),m=0;m<c;m++)d[m]=arguments[m];h.apply(this,d)}}}function r(){}function u(h){return h.setHeader&&typeof h.abort=="function"}function p(h,y,c){if(typeof y=="function")return p(h,null,y);y||(y={}),c=e(c||r);var d=y.readable||y.readable!==!1&&h.readable,m=y.writable||y.writable!==!1&&h.writable,P=function(){h.writable||L()},N=h._writableState&&h._writableState.finished,L=function(){m=!1,N=!0,d||c.call(h)},k=h._readableState&&h._readableState.endEmitted,B=function(){d=!1,k=!0,m||c.call(h)},U=function(q){c.call(h,q)},$=function(){var q;if(d&&!k)return(!h._readableState||!h._readableState.ended)&&(q=new o),c.call(h,q);if(m&&!N)return(!h._writableState||!h._writableState.ended)&&(q=new o),c.call(h,q)},j=function(){h.req.on("finish",L)};return u(h)?(h.on("complete",L),h.on("abort",$),h.req?j():h.on("request",j)):m&&!h._writableState&&(h.on("end",P),h.on("close",P)),h.on("end",B),h.on("finish",L),y.error!==!1&&h.on("error",U),h.on("close",$),function(){h.removeListener("complete",L),h.removeListener("abort",$),h.removeListener("request",j),h.req&&h.req.removeListener("finish",L),h.removeListener("end",P),h.removeListener("close",P),h.removeListener("finish",L),h.removeListener("end",B),h.removeListener("error",U),h.removeListener("close",$)}}return endOfStream$1=p,endOfStream$1}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var o;function e(q,Q,K){return Q=r(Q),Q in q?Object.defineProperty(q,Q,{value:K,enumerable:!0,configurable:!0,writable:!0}):q[Q]=K,q}function r(q){var Q=u(q,"string");return typeof Q=="symbol"?Q:String(Q)}function u(q,Q){if(typeof q!="object"||q===null)return q;var K=q[Symbol.toPrimitive];if(K!==void 0){var G=K.call(q,Q);if(typeof G!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Q==="string"?String:Number)(q)}var p=requireEndOfStream$1(),h=Symbol("lastResolve"),y=Symbol("lastReject"),c=Symbol("error"),d=Symbol("ended"),m=Symbol("lastPromise"),P=Symbol("handlePromise"),N=Symbol("stream");function L(q,Q){return{value:q,done:Q}}function k(q){var Q=q[h];if(Q!==null){var K=q[N].read();K!==null&&(q[m]=null,q[h]=null,q[y]=null,Q(L(K,!1)))}}function B(q){process.nextTick(k,q)}function U(q,Q){return function(K,G){q.then(function(){if(Q[d]){K(L(void 0,!0));return}Q[P](K,G)},G)}}var $=Object.getPrototypeOf(function(){}),j=Object.setPrototypeOf((o={get stream(){return this[N]},next:function(){var Q=this,K=this[c];if(K!==null)return Promise.reject(K);if(this[d])return Promise.resolve(L(void 0,!0));if(this[N].destroyed)return new Promise(function(z,J){process.nextTick(function(){Q[c]?J(Q[c]):z(L(void 0,!0))})});var G=this[m],F;if(G)F=new Promise(U(G,this));else{var x=this[N].read();if(x!==null)return Promise.resolve(L(x,!1));F=new Promise(this[P])}return this[m]=F,F}},e(o,Symbol.asyncIterator,function(){return this}),e(o,"return",function(){var Q=this;return new Promise(function(K,G){Q[N].destroy(null,function(F){if(F){G(F);return}K(L(void 0,!0))})})}),o),$),M=function(Q){var K,G=Object.create(j,(K={},e(K,N,{value:Q,writable:!0}),e(K,h,{value:null,writable:!0}),e(K,y,{value:null,writable:!0}),e(K,c,{value:null,writable:!0}),e(K,d,{value:Q._readableState.endEmitted,writable:!0}),e(K,P,{value:function(x,z){var J=G[N].read();J?(G[m]=null,G[h]=null,G[y]=null,x(L(J,!1))):(G[h]=x,G[y]=z)},writable:!0}),K));return G[m]=null,p(Q,function(F){if(F&&F.code!=="ERR_STREAM_PREMATURE_CLOSE"){var x=G[y];x!==null&&(G[m]=null,G[h]=null,G[y]=null,x(F)),G[c]=F;return}var z=G[h];z!==null&&(G[m]=null,G[h]=null,G[y]=null,z(L(void 0,!0))),G[d]=!0}),Q.on("readable",B.bind(null,G)),G};return async_iterator=M,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1,_stream_readable=z;var o;z.ReadableState=x,require$$1$3.EventEmitter;var e=function(O,H){return O.listeners(H).length},r=requireStreamBrowser(),u=buffer.Buffer,p=(typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function h(T){return u.from(T)}function y(T){return u.isBuffer(T)||T instanceof p}var c=require$$1$3,d;c&&c.debuglog?d=c.debuglog("stream"):d=function(){};var m=requireBuffer_list(),P=requireDestroy(),N=requireState(),L=N.getHighWaterMark,k=requireErrorsBrowser().codes,B=k.ERR_INVALID_ARG_TYPE,U=k.ERR_STREAM_PUSH_AFTER_EOF,$=k.ERR_METHOD_NOT_IMPLEMENTED,j=k.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,M,q,Q;inherits_browserExports(z,r);var K=P.errorOrDestroy,G=["error","close","destroy","pause","resume"];function F(T,O,H){if(typeof T.prependListener=="function")return T.prependListener(O,H);!T._events||!T._events[O]?T.on(O,H):Array.isArray(T._events[O])?T._events[O].unshift(H):T._events[O]=[H,T._events[O]]}function x(T,O,H){o=o||require_stream_duplex(),T=T||{},typeof H!="boolean"&&(H=O instanceof o),this.objectMode=!!T.objectMode,H&&(this.objectMode=this.objectMode||!!T.readableObjectMode),this.highWaterMark=L(this,T,"readableHighWaterMark",H),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=T.emitClose!==!1,this.autoDestroy=!!T.autoDestroy,this.destroyed=!1,this.defaultEncoding=T.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,T.encoding&&(M||(M=requireString_decoder().StringDecoder),this.decoder=new M(T.encoding),this.encoding=T.encoding)}function z(T){if(o=o||require_stream_duplex(),!(this instanceof z))return new z(T);var O=this instanceof o;this._readableState=new x(T,this,O),this.readable=!0,T&&(typeof T.read=="function"&&(this._read=T.read),typeof T.destroy=="function"&&(this._destroy=T.destroy)),r.call(this)}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),z.prototype.destroy=P.destroy,z.prototype._undestroy=P.undestroy,z.prototype._destroy=function(T,O){O(T)},z.prototype.push=function(T,O){var H=this._readableState,ae;return H.objectMode?ae=!0:typeof T=="string"&&(O=O||H.defaultEncoding,O!==H.encoding&&(T=u.from(T,O),O=""),ae=!0),J(this,T,O,!1,ae)},z.prototype.unshift=function(T){return J(this,T,null,!0,!1)};function J(T,O,H,ae,Oe){d("readableAddChunk",O);var ie=T._readableState;if(O===null)ie.reading=!1,Ne(T,ie);else{var s;if(Oe||(s=X(ie,O)),s)K(T,s);else if(ie.objectMode||O&&O.length>0)if(typeof O!="string"&&!ie.objectMode&&Object.getPrototypeOf(O)!==u.prototype&&(O=h(O)),ae)ie.endEmitted?K(T,new j):Z(T,ie,O,!0);else if(ie.ended)K(T,new U);else{if(ie.destroyed)return!1;ie.reading=!1,ie.decoder&&!H?(O=ie.decoder.write(O),ie.objectMode||O.length!==0?Z(T,ie,O,!1):qe(T,ie)):Z(T,ie,O,!1)}else ae||(ie.reading=!1,qe(T,ie))}return!ie.ended&&(ie.length<ie.highWaterMark||ie.length===0)}function Z(T,O,H,ae){O.flowing&&O.length===0&&!O.sync?(O.awaitDrain=0,T.emit("data",H)):(O.length+=O.objectMode?1:H.length,ae?O.buffer.unshift(H):O.buffer.push(H),O.needReadable&&ke(T)),qe(T,O)}function X(T,O){var H;return!y(O)&&typeof O!="string"&&O!==void 0&&!T.objectMode&&(H=new B("chunk",["string","Buffer","Uint8Array"],O)),H}z.prototype.isPaused=function(){return this._readableState.flowing===!1},z.prototype.setEncoding=function(T){M||(M=requireString_decoder().StringDecoder);var O=new M(T);this._readableState.decoder=O,this._readableState.encoding=this._readableState.decoder.encoding;for(var H=this._readableState.buffer.head,ae="";H!==null;)ae+=O.write(H.data),H=H.next;return this._readableState.buffer.clear(),ae!==""&&this._readableState.buffer.push(ae),this._readableState.length=ae.length,this};var te=1073741824;function be(T){return T>=te?T=te:(T--,T|=T>>>1,T|=T>>>2,T|=T>>>4,T|=T>>>8,T|=T>>>16,T++),T}function Ae(T,O){return T<=0||O.length===0&&O.ended?0:O.objectMode?1:T!==T?O.flowing&&O.length?O.buffer.head.data.length:O.length:(T>O.highWaterMark&&(O.highWaterMark=be(T)),T<=O.length?T:O.ended?O.length:(O.needReadable=!0,0))}z.prototype.read=function(T){d("read",T),T=parseInt(T,10);var O=this._readableState,H=T;if(T!==0&&(O.emittedReadable=!1),T===0&&O.needReadable&&((O.highWaterMark!==0?O.length>=O.highWaterMark:O.length>0)||O.ended))return d("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?je(this):ke(this),null;if(T=Ae(T,O),T===0&&O.ended)return O.length===0&&je(this),null;var ae=O.needReadable;d("need readable",ae),(O.length===0||O.length-T<O.highWaterMark)&&(ae=!0,d("length less than watermark",ae)),O.ended||O.reading?(ae=!1,d("reading or ended",ae)):ae&&(d("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(T=Ae(H,O)));var Oe;return T>0?Oe=Le(T,O):Oe=null,Oe===null?(O.needReadable=O.length<=O.highWaterMark,T=0):(O.length-=T,O.awaitDrain=0),O.length===0&&(O.ended||(O.needReadable=!0),H!==T&&O.ended&&je(this)),Oe!==null&&this.emit("data",Oe),Oe};function Ne(T,O){if(d("onEofChunk"),!O.ended){if(O.decoder){var H=O.decoder.end();H&&H.length&&(O.buffer.push(H),O.length+=O.objectMode?1:H.length)}O.ended=!0,O.sync?ke(T):(O.needReadable=!1,O.emittedReadable||(O.emittedReadable=!0,Ue(T)))}}function ke(T){var O=T._readableState;d("emitReadable",O.needReadable,O.emittedReadable),O.needReadable=!1,O.emittedReadable||(d("emitReadable",O.flowing),O.emittedReadable=!0,process.nextTick(Ue,T))}function Ue(T){var O=T._readableState;d("emitReadable_",O.destroyed,O.length,O.ended),!O.destroyed&&(O.length||O.ended)&&(T.emit("readable"),O.emittedReadable=!1),O.needReadable=!O.flowing&&!O.ended&&O.length<=O.highWaterMark,xe(T)}function qe(T,O){O.readingMore||(O.readingMore=!0,process.nextTick(Ge,T,O))}function Ge(T,O){for(;!O.reading&&!O.ended&&(O.length<O.highWaterMark||O.flowing&&O.length===0);){var H=O.length;if(d("maybeReadMore read 0"),T.read(0),H===O.length)break}O.readingMore=!1}z.prototype._read=function(T){K(this,new $("_read()"))},z.prototype.pipe=function(T,O){var H=this,ae=this._readableState;switch(ae.pipesCount){case 0:ae.pipes=T;break;case 1:ae.pipes=[ae.pipes,T];break;default:ae.pipes.push(T);break}ae.pipesCount+=1,d("pipe count=%d opts=%j",ae.pipesCount,O);var Oe=(!O||O.end!==!1)&&T!==process.stdout&&T!==process.stderr,ie=Oe?A:nt;ae.endEmitted?process.nextTick(ie):H.once("end",ie),T.on("unpipe",s);function s(Ze,lt){d("onunpipe"),Ze===H&&lt&&lt.hasUnpiped===!1&&(lt.hasUnpiped=!0,R())}function A(){d("onend"),T.end()}var I=Qe(H);T.on("drain",I);var n=!1;function R(){d("cleanup"),T.removeListener("close",Me),T.removeListener("finish",rt),T.removeListener("drain",I),T.removeListener("error",ee),T.removeListener("unpipe",s),H.removeListener("end",A),H.removeListener("end",nt),H.removeListener("data",V),n=!0,ae.awaitDrain&&(!T._writableState||T._writableState.needDrain)&&I()}H.on("data",V);function V(Ze){d("ondata");var lt=T.write(Ze);d("dest.write",lt),lt===!1&&((ae.pipesCount===1&&ae.pipes===T||ae.pipesCount>1&&l(ae.pipes,T)!==-1)&&!n&&(d("false write response, pause",ae.awaitDrain),ae.awaitDrain++),H.pause())}function ee(Ze){d("onerror",Ze),nt(),T.removeListener("error",ee),e(T,"error")===0&&K(T,Ze)}F(T,"error",ee);function Me(){T.removeListener("finish",rt),nt()}T.once("close",Me);function rt(){d("onfinish"),T.removeListener("close",Me),nt()}T.once("finish",rt);function nt(){d("unpipe"),H.unpipe(T)}return T.emit("pipe",H),ae.flowing||(d("pipe resume"),H.resume()),T};function Qe(T){return function(){var H=T._readableState;d("pipeOnDrain",H.awaitDrain),H.awaitDrain&&H.awaitDrain--,H.awaitDrain===0&&e(T,"data")&&(H.flowing=!0,xe(T))}}z.prototype.unpipe=function(T){var O=this._readableState,H={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return T&&T!==O.pipes?this:(T||(T=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,T&&T.emit("unpipe",this,H),this);if(!T){var ae=O.pipes,Oe=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var ie=0;ie<Oe;ie++)ae[ie].emit("unpipe",this,{hasUnpiped:!1});return this}var s=l(O.pipes,T);return s===-1?this:(O.pipes.splice(s,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),T.emit("unpipe",this,H),this)},z.prototype.on=function(T,O){var H=r.prototype.on.call(this,T,O),ae=this._readableState;return T==="data"?(ae.readableListening=this.listenerCount("readable")>0,ae.flowing!==!1&&this.resume()):T==="readable"&&!ae.endEmitted&&!ae.readableListening&&(ae.readableListening=ae.needReadable=!0,ae.flowing=!1,ae.emittedReadable=!1,d("on readable",ae.length,ae.reading),ae.length?ke(this):ae.reading||process.nextTick(Be,this)),H},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(T,O){var H=r.prototype.removeListener.call(this,T,O);return T==="readable"&&process.nextTick(Ke,this),H},z.prototype.removeAllListeners=function(T){var O=r.prototype.removeAllListeners.apply(this,arguments);return(T==="readable"||T===void 0)&&process.nextTick(Ke,this),O};function Ke(T){var O=T._readableState;O.readableListening=T.listenerCount("readable")>0,O.resumeScheduled&&!O.paused?O.flowing=!0:T.listenerCount("data")>0&&T.resume()}function Be(T){d("readable nexttick read 0"),T.read(0)}z.prototype.resume=function(){var T=this._readableState;return T.flowing||(d("resume"),T.flowing=!T.readableListening,Re(this,T)),T.paused=!1,this};function Re(T,O){O.resumeScheduled||(O.resumeScheduled=!0,process.nextTick($e,T,O))}function $e(T,O){d("resume",O.reading),O.reading||T.read(0),O.resumeScheduled=!1,T.emit("resume"),xe(T),O.flowing&&!O.reading&&T.read(0)}z.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function xe(T){var O=T._readableState;for(d("flow",O.flowing);O.flowing&&T.read()!==null;);}z.prototype.wrap=function(T){var O=this,H=this._readableState,ae=!1;T.on("end",function(){if(d("wrapped end"),H.decoder&&!H.ended){var s=H.decoder.end();s&&s.length&&O.push(s)}O.push(null)}),T.on("data",function(s){if(d("wrapped data"),H.decoder&&(s=H.decoder.write(s)),!(H.objectMode&&s==null)&&!(!H.objectMode&&(!s||!s.length))){var A=O.push(s);A||(ae=!0,T.pause())}});for(var Oe in T)this[Oe]===void 0&&typeof T[Oe]=="function"&&(this[Oe]=function(A){return function(){return T[A].apply(T,arguments)}}(Oe));for(var ie=0;ie<G.length;ie++)T.on(G[ie],this.emit.bind(this,G[ie]));return this._read=function(s){d("wrapped _read",s),ae&&(ae=!1,T.resume())},this},typeof Symbol=="function"&&(z.prototype[Symbol.asyncIterator]=function(){return q===void 0&&(q=requireAsync_iterator()),q(this)}),Object.defineProperty(z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}}),z._fromList=Le,Object.defineProperty(z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Le(T,O){if(O.length===0)return null;var H;return O.objectMode?H=O.buffer.shift():!T||T>=O.length?(O.decoder?H=O.buffer.join(""):O.buffer.length===1?H=O.buffer.first():H=O.buffer.concat(O.length),O.buffer.clear()):H=O.buffer.consume(T,O.decoder),H}function je(T){var O=T._readableState;d("endReadable",O.endEmitted),O.endEmitted||(O.ended=!0,process.nextTick(Y,O,T))}function Y(T,O){if(d("endReadableNT",T.endEmitted,T.length),!T.endEmitted&&T.length===0&&(T.endEmitted=!0,O.readable=!1,O.emit("end"),T.autoDestroy)){var H=O._writableState;(!H||H.autoDestroy&&H.finished)&&O.destroy()}}typeof Symbol=="function"&&(z.from=function(T,O){return Q===void 0&&(Q=requireFromBrowser()),Q(z,T,O)});function l(T,O){for(var H=0,ae=T.length;H<ae;H++)if(T[H]===O)return H;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=c;var o=requireErrorsBrowser().codes,e=o.ERR_METHOD_NOT_IMPLEMENTED,r=o.ERR_MULTIPLE_CALLBACK,u=o.ERR_TRANSFORM_ALREADY_TRANSFORMING,p=o.ERR_TRANSFORM_WITH_LENGTH_0,h=require_stream_duplex();inherits_browserExports(c,h);function y(P,N){var L=this._transformState;L.transforming=!1;var k=L.writecb;if(k===null)return this.emit("error",new r);L.writechunk=null,L.writecb=null,N!=null&&this.push(N),k(P);var B=this._readableState;B.reading=!1,(B.needReadable||B.length<B.highWaterMark)&&this._read(B.highWaterMark)}function c(P){if(!(this instanceof c))return new c(P);h.call(this,P),this._transformState={afterTransform:y.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,P&&(typeof P.transform=="function"&&(this._transform=P.transform),typeof P.flush=="function"&&(this._flush=P.flush)),this.on("prefinish",d)}function d(){var P=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(N,L){m(P,N,L)}):m(this,null,null)}c.prototype.push=function(P,N){return this._transformState.needTransform=!1,h.prototype.push.call(this,P,N)},c.prototype._transform=function(P,N,L){L(new e("_transform()"))},c.prototype._write=function(P,N,L){var k=this._transformState;if(k.writecb=L,k.writechunk=P,k.writeencoding=N,!k.transforming){var B=this._readableState;(k.needTransform||B.needReadable||B.length<B.highWaterMark)&&this._read(B.highWaterMark)}},c.prototype._read=function(P){var N=this._transformState;N.writechunk!==null&&!N.transforming?(N.transforming=!0,this._transform(N.writechunk,N.writeencoding,N.afterTransform)):N.needTransform=!0},c.prototype._destroy=function(P,N){h.prototype._destroy.call(this,P,function(L){N(L)})};function m(P,N,L){if(N)return P.emit("error",N);if(L!=null&&P.push(L),P._writableState.length)throw new p;if(P._transformState.transforming)throw new u;return P.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=e;var o=require_stream_transform();inherits_browserExports(e,o);function e(r){if(!(this instanceof e))return new e(r);o.call(this,r)}return e.prototype._transform=function(r,u,p){p(null,r)},_stream_passthrough}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var o;function e(L){var k=!1;return function(){k||(k=!0,L.apply(void 0,arguments))}}var r=requireErrorsBrowser().codes,u=r.ERR_MISSING_ARGS,p=r.ERR_STREAM_DESTROYED;function h(L){if(L)throw L}function y(L){return L.setHeader&&typeof L.abort=="function"}function c(L,k,B,U){U=e(U);var $=!1;L.on("close",function(){$=!0}),o===void 0&&(o=requireEndOfStream$1()),o(L,{readable:k,writable:B},function(M){if(M)return U(M);$=!0,U()});var j=!1;return function(M){if(!$&&!j){if(j=!0,y(L))return L.abort();if(typeof L.destroy=="function")return L.destroy();U(M||new p("pipe"))}}}function d(L){L()}function m(L,k){return L.pipe(k)}function P(L){return!L.length||typeof L[L.length-1]!="function"?h:L.pop()}function N(){for(var L=arguments.length,k=new Array(L),B=0;B<L;B++)k[B]=arguments[B];var U=P(k);if(Array.isArray(k[0])&&(k=k[0]),k.length<2)throw new u("streams");var $,j=k.map(function(M,q){var Q=q<k.length-1,K=q>0;return c(M,Q,K,function(G){$||($=G),G&&j.forEach(d),!Q&&(j.forEach(d),U($))})});return k.reduce(m)}return pipeline_1=N,pipeline_1}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(o,e){e=o.exports=require_stream_readable(),e.Stream=e,e.Readable=e,e.Writable=require_stream_writable(),e.Duplex=require_stream_duplex(),e.Transform=require_stream_transform(),e.PassThrough=require_stream_passthrough(),e.finished=requireEndOfStream$1(),e.pipeline=requirePipeline()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var once={exports:{}},wrappy_1,hasRequiredWrappy;function requireWrappy(){if(hasRequiredWrappy)return wrappy_1;hasRequiredWrappy=1,wrappy_1=o;function o(e,r){if(e&&r)return o(e)(r);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(p){u[p]=e[p]}),u;function u(){for(var p=new Array(arguments.length),h=0;h<p.length;h++)p[h]=arguments[h];var y=e.apply(this,p),c=p[p.length-1];return typeof y=="function"&&y!==c&&Object.keys(c).forEach(function(d){y[d]=c[d]}),y}}return wrappy_1}var hasRequiredOnce;function requireOnce(){if(hasRequiredOnce)return once.exports;hasRequiredOnce=1;var o=requireWrappy();once.exports=o(e),once.exports.strict=o(r),e.proto=e(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return e(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return r(this)},configurable:!0})});function e(u){var p=function(){return p.called?p.value:(p.called=!0,p.value=u.apply(this,arguments))};return p.called=!1,p}function r(u){var p=function(){if(p.called)throw new Error(p.onceError);return p.called=!0,p.value=u.apply(this,arguments)},h=u.name||"Function wrapped with `once`";return p.onceError=h+" shouldn't be called more than once",p.called=!1,p}return once.exports}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var o=requireOnce(),e=function(){},r=function(h){return h.setHeader&&typeof h.abort=="function"},u=function(h){return h.stdio&&Array.isArray(h.stdio)&&h.stdio.length===3},p=function(h,y,c){if(typeof y=="function")return p(h,null,y);y||(y={}),c=o(c||e);var d=h._writableState,m=h._readableState,P=y.readable||y.readable!==!1&&h.readable,N=y.writable||y.writable!==!1&&h.writable,L=!1,k=function(){h.writable||B()},B=function(){N=!1,P||c.call(h)},U=function(){P=!1,N||c.call(h)},$=function(K){c.call(h,K?new Error("exited with error code: "+K):null)},j=function(K){c.call(h,K)},M=function(){process.nextTick(q)},q=function(){if(!L){if(P&&!(m&&m.ended&&!m.destroyed))return c.call(h,new Error("premature close"));if(N&&!(d&&d.ended&&!d.destroyed))return c.call(h,new Error("premature close"))}},Q=function(){h.req.on("finish",B)};return r(h)?(h.on("complete",B),h.on("abort",M),h.req?Q():h.on("request",Q)):N&&!d&&(h.on("end",k),h.on("close",k)),u(h)&&h.on("exit",$),h.on("end",U),h.on("finish",B),y.error!==!1&&h.on("error",j),h.on("close",M),function(){L=!0,h.removeListener("complete",B),h.removeListener("abort",M),h.removeListener("request",Q),h.req&&h.req.removeListener("finish",B),h.removeListener("end",k),h.removeListener("close",k),h.removeListener("finish",B),h.removeListener("exit",$),h.removeListener("end",U),h.removeListener("error",j),h.removeListener("close",M)}};return endOfStream=p,endOfStream}var streamShift,hasRequiredStreamShift;function requireStreamShift(){if(hasRequiredStreamShift)return streamShift;hasRequiredStreamShift=1,streamShift=o;function o(r){var u=r._readableState;return u?u.objectMode||typeof r._duplexState=="number"?r.read():r.read(e(u)):null}function e(r){if(r.buffer.length){var u=r.bufferIndex||0;if(r.buffer.head)return r.buffer.head.data.length;if(r.buffer.length-u>0&&r.buffer[u])return r.buffer[u].length}return r.length}return streamShift}var duplexify,hasRequiredDuplexify;function requireDuplexify(){if(hasRequiredDuplexify)return duplexify;hasRequiredDuplexify=1;var o=requireReadableBrowser(),e=requireEndOfStream(),r=inherits_browserExports,u=requireStreamShift(),p=Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from([0]):new Buffer([0]),h=function(L,k){L._corked?L.once("uncork",k):k()},y=function(L,k){L._autoDestroy&&L.destroy(k)},c=function(L,k){return function(B){B?y(L,B.message==="premature close"?null:B):k&&!L._ended&&L.end()}},d=function(L,k){if(!L||L._writableState&&L._writableState.finished)return k();if(L._writableState)return L.end(k);L.end(),k()},m=function(){},P=function(L){return new o.Readable({objectMode:!0,highWaterMark:16}).wrap(L)},N=function(L,k,B){if(!(this instanceof N))return new N(L,k,B);o.Duplex.call(this,B),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!B||B.autoDestroy!==!1,this._forwardDestroy=!B||B.destroy!==!1,this._forwardEnd=!B||B.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,L&&this.setWritable(L),k&&this.setReadable(k)};return r(N,o.Duplex),N.obj=function(L,k,B){return B||(B={}),B.objectMode=!0,B.highWaterMark=16,new N(L,k,B)},N.prototype.cork=function(){++this._corked===1&&this.emit("cork")},N.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")},N.prototype.setWritable=function(L){if(this._unwrite&&this._unwrite(),this.destroyed){L&&L.destroy&&L.destroy();return}if(L===null||L===!1){this.end();return}var k=this,B=e(L,{writable:!0,readable:!1},c(this,this._forwardEnd)),U=function(){var j=k._ondrain;k._ondrain=null,j&&j()},$=function(){k._writable.removeListener("drain",U),B()};this._unwrite&&process.nextTick(U),this._writable=L,this._writable.on("drain",U),this._unwrite=$,this.uncork()},N.prototype.setReadable=function(L){if(this._unread&&this._unread(),this.destroyed){L&&L.destroy&&L.destroy();return}if(L===null||L===!1){this.push(null),this.resume();return}var k=this,B=e(L,{writable:!1,readable:!0},c(this)),U=function(){k._forward()},$=function(){k.push(null)},j=function(){k._readable2.removeListener("readable",U),k._readable2.removeListener("end",$),B()};this._drained=!0,this._readable=L,this._readable2=L._readableState?L:P(L),this._readable2.on("readable",U),this._readable2.on("end",$),this._unread=j,this._forward()},N.prototype._read=function(){this._drained=!0,this._forward()},N.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var L;this._drained&&(L=u(this._readable2))!==null;)this.destroyed||(this._drained=this.push(L));this._forwarding=!1}},N.prototype.destroy=function(L,k){if(k||(k=m),this.destroyed)return k(null);this.destroyed=!0;var B=this;process.nextTick(function(){B._destroy(L),k(null)})},N.prototype._destroy=function(L){if(L){var k=this._ondrain;this._ondrain=null,k?k(L):this.emit("error",L)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},N.prototype._write=function(L,k,B){if(!this.destroyed){if(this._corked)return h(this,this._write.bind(this,L,k,B));if(L===p)return this._finish(B);if(!this._writable)return B();this._writable.write(L)===!1?this._ondrain=B:this.destroyed||B()}},N.prototype._finish=function(L){var k=this;this.emit("preend"),h(this,function(){d(k._forwardEnd&&k._writable,function(){k._writableState.prefinished===!1&&(k._writableState.prefinished=!0),k.emit("prefinish"),h(k,L)})})},N.prototype.end=function(L,k,B){return typeof L=="function"?this.end(null,null,L):typeof k=="function"?this.end(L,null,k):(this._ended=!0,L&&this.write(L),!this._writableState.ending&&!this._writableState.destroyed&&this.write(p),o.Writable.prototype.end.call(this,B))},duplexify=N,duplexify}var retryRequest={exports:{}},hasRequiredRetryRequest;function requireRetryRequest(){if(hasRequiredRetryRequest)return retryRequest.exports;hasRequiredRetryRequest=1;var o={};const{PassThrough:e}=require$$1$3,r=extend;let u=()=>{};typeof process<"u"&&"env"in process&&typeof o=="object"&&o.DEBUG==="retry-request"&&(u=c=>{console.log("retry-request:",c)});const p={objectMode:!1,retries:2,maxRetryDelay:64,retryDelayMultiplier:2,totalTimeout:600,noResponseRetries:2,currentRetryAttempt:0,shouldRetryFn:function(c){const d=[[100,199],[429,429],[500,599]],m=c.statusCode;u(`Response status: ${m}`);let P;for(;P=d.shift();)if(m>=P[0]&&m<=P[1])return!0}};function h(c,d,m){typeof c=="string"&&(c={url:c});const P=typeof arguments[arguments.length-1]!="function";typeof d=="function"&&(m=d);const N=d&&typeof d.currentRetryAttempt=="number";if(d=r({},p,d),typeof d.request>"u")throw new Error("A request library must be provided to retry-request.");let L=d.currentRetryAttempt,k=0,B=!1,U,$,j,M;const q={abort:function(){M&&M.abort&&M.abort()}};P&&(U=new e({objectMode:d.objectMode}),U.abort=K);const Q=Date.now();if(L>0?F(L):G(),P)return U;return q;function K(){j=null,$&&($.abort&&$.abort(),$.cancel&&$.cancel(),$.destroy?$.destroy():$.end&&$.end())}function G(){let z=!1;L++,u(`Current retry attempt: ${L}`);function J(Z=[]){z||(z=!0,U.emit("complete",...Z))}P?(B=!1,j=new e({objectMode:d.objectMode}),$=d.request(c),setImmediate(()=>{U.emit("request")}),$.on("error",Z=>{B||(B=!0,x(Z))}).on("response",(Z,X)=>{B||(B=!0,x(null,Z,X))}).on("complete",(...Z)=>J(Z)).on("finish",(...Z)=>J(Z)),$.pipe(j)):M=d.request(c,x)}function F(z){P&&K();const J=y({maxRetryDelay:d.maxRetryDelay,retryDelayMultiplier:d.retryDelayMultiplier,retryNumber:z,timeOfFirstRequest:Q,totalTimeout:d.totalTimeout});if(u(`Next retry delay: ${J}`),J<=0){k=d.noResponseRetries+1;return}setTimeout(G,J)}function x(z,J,Z){if(z){k++,k<=d.noResponseRetries?F(k):P?(U.emit("error",z),U.end()):m(z,J,Z);return}if((N?L:L-1)<d.retries&&d.shouldRetryFn(J)){F(L);return}P?(U.emit("response",J),j.pipe(U),$.on("error",te=>{U.destroy(te)})):m(z,J,Z)}}retryRequest.exports=h;function y(c){const{maxRetryDelay:d,retryDelayMultiplier:m,retryNumber:P,timeOfFirstRequest:N,totalTimeout:L}=c,k=d*1e3,B=L*1e3,U=Math.floor(Math.random()*1e3),$=Math.pow(m,P)*1e3+U,j=B-(Date.now()-N);return Math.min($,j,k)}return retryRequest.exports.defaults=p,retryRequest.exports.getNextRetryDelay=y,retryRequest.exports}var hasRequiredStreaming;function requireStreaming(){if(hasRequiredStreaming)return streaming;hasRequiredStreaming=1,Object.defineProperty(streaming,"__esModule",{value:!0}),streaming.StreamProxy=streaming.StreamType=void 0;const o=requireGoogleError(),e=requireStreamingRetryRequest(),r=requireStatus(),u=requireDuplexify(),p=requireRetryRequest();var h;(function(c){c[c.SERVER_STREAMING=1]="SERVER_STREAMING",c[c.CLIENT_STREAMING=2]="CLIENT_STREAMING",c[c.BIDI_STREAMING=3]="BIDI_STREAMING"})(h||(streaming.StreamType=h={}));class y extends u{constructor(d,m,P,N){super(void 0,void 0,{objectMode:!0,readable:d!==h.CLIENT_STREAMING,writable:d!==h.SERVER_STREAMING}),this.retries=0,this.type=d,this._callback=m,this._isCancelCalled=!1,this._responseHasSent=!1,this.rest=P,this.gaxServerStreamingRetries=N}shouldRetryRequest(d,m){const P=o.GoogleError.parseGRPCStatusDetails(d);let N=this.defaultShouldRetry(P,m);return m.shouldRetryFn&&(N=m.shouldRetryFn(P)),N}cancel(){this.stream?this.stream.cancel():this._isCancelCalled=!0}retry(d,m){let P=this.argument;if(typeof m.getResumptionRequestFn=="function"){const L=m.getResumptionRequestFn(P);L!==void 0&&(P=L)}this.resetStreams(d);const N=this.apiCall(P,this._callback);return this.stream=N,this.streamHandoffHelper(N,m),N}throwIfMaxRetriesOrTotalTimeoutExceeded(d,m,P){const N=new Date;if(this.prevDeadline!==void 0&&d&&N.getTime()>=this.prevDeadline){const L=new o.GoogleError(`Total timeout of API exceeded ${P} milliseconds before any response was received.`);throw L.code=r.Status.DEADLINE_EXCEEDED,this.emit("error",L),this.destroy(),L}if(this.retries&&this.retries>=m){const L=new o.GoogleError("Exceeded maximum number of retries before any response was received");throw L.code=r.Status.DEADLINE_EXCEEDED,this.emit("error",L),this.destroy(),L}}streamHandoffErrorHandler(d,m,P){let N=this.stream;const L=m.backoffSettings.retryDelayMultiplier,k=m.backoffSettings.maxRetryDelayMillis;m.backoffSettings.rpcTimeoutMultiplier,m.backoffSettings.maxRpcTimeoutMillis;let B=m.backoffSettings.initialRetryDelayMillis;m.backoffSettings.initialRpcTimeoutMillis;let U=new Date,$=0;m.backoffSettings.totalTimeoutMillis&&($=U.getTime()+m.backoffSettings.totalTimeoutMillis);const j=m.backoffSettings.maxRetries;try{this.throwIfMaxRetriesOrTotalTimeoutExceeded($,j,m.backoffSettings.totalTimeoutMillis)}catch{return}if(this.retries++,this.shouldRetryRequest(P,m)){const M=Math.random()*B;setTimeout(()=>{U=new Date,B=Math.min(B*L,k),this.prevDeadline=$,$&&$-U.getTime()},M)}else{const M=o.GoogleError.parseGRPCStatusDetails(P);M.note="Exception occurred in retry method that was not classified as transient",this.emit("error",M),this.destroy();return}N=this.retry(d,m),this.stream=N}streamHandoffHelper(d,m){let P=!1;this.eventForwardHelper(d),d.on("error",N=>{P=!0,this.streamHandoffErrorHandler(d,m,N)}),d.on("data",N=>{this.retries=0,this.emit.bind(this,"data")(N)}),d.on("end",()=>{P||(P=!0,this.emit("end"),this.cancel())})}eventForwardHelper(d){["metadata","response","status"].forEach(P=>{d.on(P,this.emit.bind(this,P))})}statusMetadataHelper(d){d.on("status",()=>{this._responseHasSent||d.emit("response",{code:200,details:"",message:"OK"})}),d.on("metadata",m=>{d.emit("response",{code:200,details:"",message:"OK",metadata:m}),this._responseHasSent=!0})}forwardEvents(d){this.eventForwardHelper(d),this.statusMetadataHelper(d),d.on("error",m=>{o.GoogleError.parseGRPCStatusDetails(m)})}defaultShouldRetry(d,m){return!(m.retryCodes.length>0&&m.retryCodes.indexOf(d.code)<0||m.retryCodes.length===0)}forwardEventsWithRetries(d,m){let P=this.stream;return this.eventForwardHelper(d),this.statusMetadataHelper(d),d.on("error",N=>{const L=m.backoffSettings.totalTimeoutMillis,k=m.backoffSettings.maxRetries;if(k&&k>0||L&&L>0)if(this.shouldRetryRequest(N,m))if(k&&L){const B=new o.GoogleError("Cannot set both totalTimeoutMillis and maxRetries in backoffSettings.");B.code=r.Status.INVALID_ARGUMENT,this.emit("error",B),this.destroy();return}else return this.retries++,P=this.retry(d,m),this.stream=P,P;else{const B=o.GoogleError.parseGRPCStatusDetails(N);B.note="Exception occurred in retry method that was not classified as transient",this.destroy(B);return}else{if(k===0){const B=o.GoogleError.parseGRPCStatusDetails(N);B.note="Max retries is set to zero.",this.destroy(B);return}return o.GoogleError.parseGRPCStatusDetails(N)}}),P}resetStreams(d){d&&(d.cancel&&d.cancel(),d.destroy?d.destroy():d.end&&d.end())}setStream(d,m,P={},N){if(this.apiCall=d,this.argument=m,this.type===h.SERVER_STREAMING){if(this.rest){const k=d(m,this._callback);this.stream=k,this.setReadable(k)}else if(this.gaxServerStreamingRetries){const k=(0,e.streamingRetryRequest)({request:()=>{if(this._isCancelCalled){this.stream&&this.stream.cancel();return}const B=d(m,this._callback);return this.stream=B,this.stream=this.forwardEventsWithRetries(B,N),this.stream}});this.setReadable(k)}else{const k=p(null,{objectMode:!0,request:()=>{if(this._isCancelCalled){this.stream&&this.stream.cancel();return}const B=d(m,this._callback);return this.stream=B,this.forwardEvents(B),B},retries:P.retries,currentRetryAttempt:P.currentRetryAttempt,noResponseRetries:P.noResponseRetries,shouldRetryFn:P.shouldRetryFn});this.setReadable(k)}return}const L=d(m,this._callback);this.stream=L,this.forwardEvents(L),this.type===h.CLIENT_STREAMING&&this.setWritable(L),this.type===h.BIDI_STREAMING&&(this.setReadable(L),this.setWritable(L)),this._isCancelCalled&&this.stream&&this.stream.cancel()}}return streaming.StreamProxy=y,streaming}var hasRequiredStreamingApiCaller;function requireStreamingApiCaller(){if(hasRequiredStreamingApiCaller)return streamingApiCaller;hasRequiredStreamingApiCaller=1,Object.defineProperty(streamingApiCaller,"__esModule",{value:!0}),streamingApiCaller.StreamingApiCaller=void 0;const o=requireWarnings(),e=requireStreaming();class r{constructor(p){this.descriptor=p}init(p){return new e.StreamProxy(this.descriptor.type,p,this.descriptor.rest,this.descriptor.gaxStreamingRetries)}wrap(p){switch(this.descriptor.type){case e.StreamType.SERVER_STREAMING:return(h,y,c)=>p(h,y,c);case e.StreamType.CLIENT_STREAMING:return(h,y,c,d)=>p(y,c,d);case e.StreamType.BIDI_STREAMING:return(h,y,c)=>p(y,c);default:(0,o.warn)("streaming_wrap_unknown_stream_type",`Unknown stream type: ${this.descriptor.type}`)}return p}call(p,h,y,c){c.setStream(p,h,y.retryRequestOptions,y.retry)}fail(p,h){p.emit("error",h)}result(p){return p}}return streamingApiCaller.StreamingApiCaller=r,streamingApiCaller}var hasRequiredCreateApiCall;function requireCreateApiCall(){if(hasRequiredCreateApiCall)return createApiCall;hasRequiredCreateApiCall=1,Object.defineProperty(createApiCall,"__esModule",{value:!0}),createApiCall.createApiCall=y;const o=requireApiCaller(),e=requireGax(),r=requireRetries(),u=requireTimeout(),p=requireStreamingApiCaller(),h=requireWarnings();function y(c,d,m,P){const N=typeof c=="function"?Promise.resolve(c):c,L=(0,o.createAPICaller)(d,m);return(k,B,U)=>{var $,j;let M=L,q;if(M instanceof p.StreamingApiCaller){const K=(j=($=M.descriptor)===null||$===void 0?void 0:$.gaxStreamingRetries)!==null&&j!==void 0?j:!1,G=(0,e.convertRetryOptions)(B,K);q=d.merge(G)}else q=d.merge(B);d.isBundling&&!q.isBundling&&(M=(0,o.createAPICaller)(d,void 0));const Q=M.init(U);return N.then(K=>{var G,F,x;K=M.wrap(K);const z=(G=M.descriptor)===null||G===void 0?void 0:G.streaming,J=q.retry;if(z&&J&&(J.retryCodes.length>0&&J.shouldRetryFn&&((0,h.warn)("either_retrycodes_or_shouldretryfn","Only one of retryCodes or shouldRetryFn may be defined. Ignoring retryCodes."),J.retryCodes=[]),!M.descriptor.gaxStreamingRetries&&J.getResumptionRequestFn))throw new Error("getResumptionRequestFn can only be used when gaxStreamingRetries is set to true.");if(!z&&J){if(J.shouldRetryFn)throw new Error("Using a function to determine retry eligibility is only supported with server streaming calls");if(J.getResumptionRequestFn)throw new Error("Resumption strategy can only be used with server streaming retries");if(J.retryCodes&&J.retryCodes.length>0)return(F=(x=J.backoffSettings).initialRpcTimeoutMillis)!==null&&F!==void 0||(x.initialRpcTimeoutMillis=q.timeout),(0,r.retryable)(K,q.retry,q.otherArgs,q.apiName)}return(0,u.addTimeoutArg)(K,q.timeout,q.otherArgs)}).then(K=>{M.call(K,k,q,Q)}).catch(K=>{M.fail(Q,K)}),M.result(Q)}}return createApiCall}var descriptor={},longRunningDescriptor={},longRunningApiCaller={},longrunning={},operations={exports:{}},minimal,hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,minimal=requireIndexMinimal()),minimal}var hasRequiredOperations;function requireOperations(){return hasRequiredOperations||(hasRequiredOperations=1,function(o){(e=>{typeof commonjsRequire=="function"&&o&&o.exports&&(o.exports=e(requireMinimal()))})(function(e){var r,u,p,h,y=e.Reader,c=e.Writer,d=e.util,m=e.roots.operations_protos||(e.roots.operations_protos={});function P(s,A,I){e.rpc.Service.call(this,s,A,I)}function N(s){if(s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function L(s){if(s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function k(s){if(s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function B(s){if(this.operations=[],s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function U(s){if(s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function $(s){if(s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function j(s){if(s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function M(s){if(s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function q(s){if(this.rules=[],s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function Q(s){if(this.additionalBindings=[],s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function K(s){if(s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function G(s){if(this.file=[],s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function F(s){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function x(s){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function z(s){if(s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function J(s){if(s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function Z(s){if(this.uninterpretedOption=[],s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function X(s){if(s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function te(s){if(s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function be(s){if(this.value=[],this.reservedRange=[],this.reservedName=[],s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function Ae(s){if(s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function Ne(s){if(s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function ke(s){if(this.method=[],s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function Ue(s){if(s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function qe(s){if(this.uninterpretedOption=[],s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function Ge(s){if(this.uninterpretedOption=[],s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function Qe(s){if(this.uninterpretedOption=[],s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function Ke(s){if(this.uninterpretedOption=[],s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function Be(s){if(this.uninterpretedOption=[],s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function Re(s){if(this.uninterpretedOption=[],s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function $e(s){if(this.uninterpretedOption=[],s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function xe(s){if(this.uninterpretedOption=[],this[".google.api.methodSignature"]=[],s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function Le(s){if(this.name=[],s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function je(s){if(s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function Y(s){if(this.location=[],s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function l(s){if(this.path=[],this.span=[],this.leadingDetachedComments=[],s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function T(s){if(this.annotation=[],s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function O(s){if(this.path=[],s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function H(s){if(s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function ae(s){if(s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function Oe(s){if(s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}function ie(s){if(this.details=[],s)for(var A=Object.keys(s),I=0;I<A.length;++I)s[A[I]]!=null&&(this[A[I]]=s[A[I]])}return m.google=((h={}).longrunning=((u={}).Operations=(((P.prototype=Object.create(e.rpc.Service.prototype)).constructor=P).create=function(s,A,I){return new this(s,A,I)},Object.defineProperty(P.prototype.listOperations=function s(A,I){return this.rpcCall(s,m.google.longrunning.ListOperationsRequest,m.google.longrunning.ListOperationsResponse,A,I)},"name",{value:"ListOperations"}),Object.defineProperty(P.prototype.getOperation=function s(A,I){return this.rpcCall(s,m.google.longrunning.GetOperationRequest,m.google.longrunning.Operation,A,I)},"name",{value:"GetOperation"}),Object.defineProperty(P.prototype.deleteOperation=function s(A,I){return this.rpcCall(s,m.google.longrunning.DeleteOperationRequest,m.google.protobuf.Empty,A,I)},"name",{value:"DeleteOperation"}),Object.defineProperty(P.prototype.cancelOperation=function s(A,I){return this.rpcCall(s,m.google.longrunning.CancelOperationRequest,m.google.protobuf.Empty,A,I)},"name",{value:"CancelOperation"}),Object.defineProperty(P.prototype.waitOperation=function s(A,I){return this.rpcCall(s,m.google.longrunning.WaitOperationRequest,m.google.longrunning.Operation,A,I)},"name",{value:"WaitOperation"}),P),u.Operation=(N.prototype.name="",N.prototype.metadata=null,N.prototype.done=!1,N.prototype.error=null,N.prototype.response=null,Object.defineProperty(N.prototype,"result",{get:d.oneOfGetter(p=["error","response"]),set:d.oneOfSetter(p)}),N.create=function(s){return new N(s)},N.encode=function(s,A){return A=A||c.create(),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&A.uint32(10).string(s.name),s.metadata!=null&&Object.hasOwnProperty.call(s,"metadata")&&m.google.protobuf.Any.encode(s.metadata,A.uint32(18).fork()).ldelim(),s.done!=null&&Object.hasOwnProperty.call(s,"done")&&A.uint32(24).bool(s.done),s.error!=null&&Object.hasOwnProperty.call(s,"error")&&m.google.rpc.Status.encode(s.error,A.uint32(34).fork()).ldelim(),s.response!=null&&Object.hasOwnProperty.call(s,"response")&&m.google.protobuf.Any.encode(s.response,A.uint32(42).fork()).ldelim(),A},N.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},N.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.longrunning.Operation;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.name=s.string();break;case 2:n.metadata=m.google.protobuf.Any.decode(s,s.uint32());break;case 3:n.done=s.bool();break;case 4:n.error=m.google.rpc.Status.decode(s,s.uint32());break;case 5:n.response=m.google.protobuf.Any.decode(s,s.uint32());break;default:s.skipType(7&R)}}return n},N.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},N.verify=function(s){if(typeof s!="object"||s===null)return"object expected";var A,I={};if(s.name!=null&&s.hasOwnProperty("name")&&!d.isString(s.name))return"name: string expected";if(s.metadata!=null&&s.hasOwnProperty("metadata")&&(A=m.google.protobuf.Any.verify(s.metadata)))return"metadata."+A;if(s.done!=null&&s.hasOwnProperty("done")&&typeof s.done!="boolean")return"done: boolean expected";if(s.error!=null&&s.hasOwnProperty("error")&&(I.result=1,A=m.google.rpc.Status.verify(s.error)))return"error."+A;if(s.response!=null&&s.hasOwnProperty("response")){if(I.result===1)return"result: multiple values";if(I.result=1,A=m.google.protobuf.Any.verify(s.response))return"response."+A}return null},N.fromObject=function(s){if(s instanceof m.google.longrunning.Operation)return s;var A=new m.google.longrunning.Operation;if(s.name!=null&&(A.name=String(s.name)),s.metadata!=null){if(typeof s.metadata!="object")throw TypeError(".google.longrunning.Operation.metadata: object expected");A.metadata=m.google.protobuf.Any.fromObject(s.metadata)}if(s.done!=null&&(A.done=!!s.done),s.error!=null){if(typeof s.error!="object")throw TypeError(".google.longrunning.Operation.error: object expected");A.error=m.google.rpc.Status.fromObject(s.error)}if(s.response!=null){if(typeof s.response!="object")throw TypeError(".google.longrunning.Operation.response: object expected");A.response=m.google.protobuf.Any.fromObject(s.response)}return A},N.toObject=function(s,A){var I={};return(A=A||{}).defaults&&(I.name="",I.metadata=null,I.done=!1),s.name!=null&&s.hasOwnProperty("name")&&(I.name=s.name),s.metadata!=null&&s.hasOwnProperty("metadata")&&(I.metadata=m.google.protobuf.Any.toObject(s.metadata,A)),s.done!=null&&s.hasOwnProperty("done")&&(I.done=s.done),s.error!=null&&s.hasOwnProperty("error")&&(I.error=m.google.rpc.Status.toObject(s.error,A),A.oneofs)&&(I.result="error"),s.response!=null&&s.hasOwnProperty("response")&&(I.response=m.google.protobuf.Any.toObject(s.response,A),A.oneofs)&&(I.result="response"),I},N.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},N),u.GetOperationRequest=(L.prototype.name="",L.create=function(s){return new L(s)},L.encode=function(s,A){return A=A||c.create(),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&A.uint32(10).string(s.name),A},L.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},L.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.longrunning.GetOperationRequest;s.pos<I;){var R=s.uint32();R>>>3==1?n.name=s.string():s.skipType(7&R)}return n},L.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},L.verify=function(s){return typeof s!="object"||s===null?"object expected":s.name!=null&&s.hasOwnProperty("name")&&!d.isString(s.name)?"name: string expected":null},L.fromObject=function(s){var A;return s instanceof m.google.longrunning.GetOperationRequest?s:(A=new m.google.longrunning.GetOperationRequest,s.name!=null&&(A.name=String(s.name)),A)},L.toObject=function(s,A){var I={};return(A=A||{}).defaults&&(I.name=""),s.name!=null&&s.hasOwnProperty("name")&&(I.name=s.name),I},L.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},L),u.ListOperationsRequest=(k.prototype.name="",k.prototype.filter="",k.prototype.pageSize=0,k.prototype.pageToken="",k.create=function(s){return new k(s)},k.encode=function(s,A){return A=A||c.create(),s.filter!=null&&Object.hasOwnProperty.call(s,"filter")&&A.uint32(10).string(s.filter),s.pageSize!=null&&Object.hasOwnProperty.call(s,"pageSize")&&A.uint32(16).int32(s.pageSize),s.pageToken!=null&&Object.hasOwnProperty.call(s,"pageToken")&&A.uint32(26).string(s.pageToken),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&A.uint32(34).string(s.name),A},k.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},k.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.longrunning.ListOperationsRequest;s.pos<I;){var R=s.uint32();switch(R>>>3){case 4:n.name=s.string();break;case 1:n.filter=s.string();break;case 2:n.pageSize=s.int32();break;case 3:n.pageToken=s.string();break;default:s.skipType(7&R)}}return n},k.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},k.verify=function(s){return typeof s!="object"||s===null?"object expected":s.name!=null&&s.hasOwnProperty("name")&&!d.isString(s.name)?"name: string expected":s.filter!=null&&s.hasOwnProperty("filter")&&!d.isString(s.filter)?"filter: string expected":s.pageSize!=null&&s.hasOwnProperty("pageSize")&&!d.isInteger(s.pageSize)?"pageSize: integer expected":s.pageToken!=null&&s.hasOwnProperty("pageToken")&&!d.isString(s.pageToken)?"pageToken: string expected":null},k.fromObject=function(s){var A;return s instanceof m.google.longrunning.ListOperationsRequest?s:(A=new m.google.longrunning.ListOperationsRequest,s.name!=null&&(A.name=String(s.name)),s.filter!=null&&(A.filter=String(s.filter)),s.pageSize!=null&&(A.pageSize=0|s.pageSize),s.pageToken!=null&&(A.pageToken=String(s.pageToken)),A)},k.toObject=function(s,A){var I={};return(A=A||{}).defaults&&(I.filter="",I.pageSize=0,I.pageToken="",I.name=""),s.filter!=null&&s.hasOwnProperty("filter")&&(I.filter=s.filter),s.pageSize!=null&&s.hasOwnProperty("pageSize")&&(I.pageSize=s.pageSize),s.pageToken!=null&&s.hasOwnProperty("pageToken")&&(I.pageToken=s.pageToken),s.name!=null&&s.hasOwnProperty("name")&&(I.name=s.name),I},k.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},k),u.ListOperationsResponse=(B.prototype.operations=d.emptyArray,B.prototype.nextPageToken="",B.create=function(s){return new B(s)},B.encode=function(s,A){if(A=A||c.create(),s.operations!=null&&s.operations.length)for(var I=0;I<s.operations.length;++I)m.google.longrunning.Operation.encode(s.operations[I],A.uint32(10).fork()).ldelim();return s.nextPageToken!=null&&Object.hasOwnProperty.call(s,"nextPageToken")&&A.uint32(18).string(s.nextPageToken),A},B.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},B.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.longrunning.ListOperationsResponse;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.operations&&n.operations.length||(n.operations=[]),n.operations.push(m.google.longrunning.Operation.decode(s,s.uint32()));break;case 2:n.nextPageToken=s.string();break;default:s.skipType(7&R)}}return n},B.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},B.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.operations!=null&&s.hasOwnProperty("operations")){if(!Array.isArray(s.operations))return"operations: array expected";for(var A=0;A<s.operations.length;++A){var I=m.google.longrunning.Operation.verify(s.operations[A]);if(I)return"operations."+I}}return s.nextPageToken!=null&&s.hasOwnProperty("nextPageToken")&&!d.isString(s.nextPageToken)?"nextPageToken: string expected":null},B.fromObject=function(s){if(s instanceof m.google.longrunning.ListOperationsResponse)return s;var A=new m.google.longrunning.ListOperationsResponse;if(s.operations){if(!Array.isArray(s.operations))throw TypeError(".google.longrunning.ListOperationsResponse.operations: array expected");A.operations=[];for(var I=0;I<s.operations.length;++I){if(typeof s.operations[I]!="object")throw TypeError(".google.longrunning.ListOperationsResponse.operations: object expected");A.operations[I]=m.google.longrunning.Operation.fromObject(s.operations[I])}}return s.nextPageToken!=null&&(A.nextPageToken=String(s.nextPageToken)),A},B.toObject=function(s,A){var I={};if(((A=A||{}).arrays||A.defaults)&&(I.operations=[]),A.defaults&&(I.nextPageToken=""),s.operations&&s.operations.length){I.operations=[];for(var n=0;n<s.operations.length;++n)I.operations[n]=m.google.longrunning.Operation.toObject(s.operations[n],A)}return s.nextPageToken!=null&&s.hasOwnProperty("nextPageToken")&&(I.nextPageToken=s.nextPageToken),I},B.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},B),u.CancelOperationRequest=(U.prototype.name="",U.create=function(s){return new U(s)},U.encode=function(s,A){return A=A||c.create(),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&A.uint32(10).string(s.name),A},U.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},U.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.longrunning.CancelOperationRequest;s.pos<I;){var R=s.uint32();R>>>3==1?n.name=s.string():s.skipType(7&R)}return n},U.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},U.verify=function(s){return typeof s!="object"||s===null?"object expected":s.name!=null&&s.hasOwnProperty("name")&&!d.isString(s.name)?"name: string expected":null},U.fromObject=function(s){var A;return s instanceof m.google.longrunning.CancelOperationRequest?s:(A=new m.google.longrunning.CancelOperationRequest,s.name!=null&&(A.name=String(s.name)),A)},U.toObject=function(s,A){var I={};return(A=A||{}).defaults&&(I.name=""),s.name!=null&&s.hasOwnProperty("name")&&(I.name=s.name),I},U.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},U),u.DeleteOperationRequest=($.prototype.name="",$.create=function(s){return new $(s)},$.encode=function(s,A){return A=A||c.create(),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&A.uint32(10).string(s.name),A},$.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},$.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.longrunning.DeleteOperationRequest;s.pos<I;){var R=s.uint32();R>>>3==1?n.name=s.string():s.skipType(7&R)}return n},$.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},$.verify=function(s){return typeof s!="object"||s===null?"object expected":s.name!=null&&s.hasOwnProperty("name")&&!d.isString(s.name)?"name: string expected":null},$.fromObject=function(s){var A;return s instanceof m.google.longrunning.DeleteOperationRequest?s:(A=new m.google.longrunning.DeleteOperationRequest,s.name!=null&&(A.name=String(s.name)),A)},$.toObject=function(s,A){var I={};return(A=A||{}).defaults&&(I.name=""),s.name!=null&&s.hasOwnProperty("name")&&(I.name=s.name),I},$.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},$),u.WaitOperationRequest=(j.prototype.name="",j.prototype.timeout=null,j.create=function(s){return new j(s)},j.encode=function(s,A){return A=A||c.create(),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&A.uint32(10).string(s.name),s.timeout!=null&&Object.hasOwnProperty.call(s,"timeout")&&m.google.protobuf.Duration.encode(s.timeout,A.uint32(18).fork()).ldelim(),A},j.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},j.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.longrunning.WaitOperationRequest;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.name=s.string();break;case 2:n.timeout=m.google.protobuf.Duration.decode(s,s.uint32());break;default:s.skipType(7&R)}}return n},j.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},j.verify=function(s){return typeof s!="object"||s===null?"object expected":s.name!=null&&s.hasOwnProperty("name")&&!d.isString(s.name)?"name: string expected":s.timeout!=null&&s.hasOwnProperty("timeout")&&(s=m.google.protobuf.Duration.verify(s.timeout),s)?"timeout."+s:null},j.fromObject=function(s){if(s instanceof m.google.longrunning.WaitOperationRequest)return s;var A=new m.google.longrunning.WaitOperationRequest;if(s.name!=null&&(A.name=String(s.name)),s.timeout!=null){if(typeof s.timeout!="object")throw TypeError(".google.longrunning.WaitOperationRequest.timeout: object expected");A.timeout=m.google.protobuf.Duration.fromObject(s.timeout)}return A},j.toObject=function(s,A){var I={};return(A=A||{}).defaults&&(I.name="",I.timeout=null),s.name!=null&&s.hasOwnProperty("name")&&(I.name=s.name),s.timeout!=null&&s.hasOwnProperty("timeout")&&(I.timeout=m.google.protobuf.Duration.toObject(s.timeout,A)),I},j.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},j),u.OperationInfo=(M.prototype.responseType="",M.prototype.metadataType="",M.create=function(s){return new M(s)},M.encode=function(s,A){return A=A||c.create(),s.responseType!=null&&Object.hasOwnProperty.call(s,"responseType")&&A.uint32(10).string(s.responseType),s.metadataType!=null&&Object.hasOwnProperty.call(s,"metadataType")&&A.uint32(18).string(s.metadataType),A},M.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},M.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.longrunning.OperationInfo;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.responseType=s.string();break;case 2:n.metadataType=s.string();break;default:s.skipType(7&R)}}return n},M.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},M.verify=function(s){return typeof s!="object"||s===null?"object expected":s.responseType!=null&&s.hasOwnProperty("responseType")&&!d.isString(s.responseType)?"responseType: string expected":s.metadataType!=null&&s.hasOwnProperty("metadataType")&&!d.isString(s.metadataType)?"metadataType: string expected":null},M.fromObject=function(s){var A;return s instanceof m.google.longrunning.OperationInfo?s:(A=new m.google.longrunning.OperationInfo,s.responseType!=null&&(A.responseType=String(s.responseType)),s.metadataType!=null&&(A.metadataType=String(s.metadataType)),A)},M.toObject=function(s,A){var I={};return(A=A||{}).defaults&&(I.responseType="",I.metadataType=""),s.responseType!=null&&s.hasOwnProperty("responseType")&&(I.responseType=s.responseType),s.metadataType!=null&&s.hasOwnProperty("metadataType")&&(I.metadataType=s.metadataType),I},M.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},M),u),h.api=((p={}).Http=(q.prototype.rules=d.emptyArray,q.prototype.fullyDecodeReservedExpansion=!1,q.create=function(s){return new q(s)},q.encode=function(s,A){if(A=A||c.create(),s.rules!=null&&s.rules.length)for(var I=0;I<s.rules.length;++I)m.google.api.HttpRule.encode(s.rules[I],A.uint32(10).fork()).ldelim();return s.fullyDecodeReservedExpansion!=null&&Object.hasOwnProperty.call(s,"fullyDecodeReservedExpansion")&&A.uint32(16).bool(s.fullyDecodeReservedExpansion),A},q.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},q.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.api.Http;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.rules&&n.rules.length||(n.rules=[]),n.rules.push(m.google.api.HttpRule.decode(s,s.uint32()));break;case 2:n.fullyDecodeReservedExpansion=s.bool();break;default:s.skipType(7&R)}}return n},q.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},q.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.rules!=null&&s.hasOwnProperty("rules")){if(!Array.isArray(s.rules))return"rules: array expected";for(var A=0;A<s.rules.length;++A){var I=m.google.api.HttpRule.verify(s.rules[A]);if(I)return"rules."+I}}return s.fullyDecodeReservedExpansion!=null&&s.hasOwnProperty("fullyDecodeReservedExpansion")&&typeof s.fullyDecodeReservedExpansion!="boolean"?"fullyDecodeReservedExpansion: boolean expected":null},q.fromObject=function(s){if(s instanceof m.google.api.Http)return s;var A=new m.google.api.Http;if(s.rules){if(!Array.isArray(s.rules))throw TypeError(".google.api.Http.rules: array expected");A.rules=[];for(var I=0;I<s.rules.length;++I){if(typeof s.rules[I]!="object")throw TypeError(".google.api.Http.rules: object expected");A.rules[I]=m.google.api.HttpRule.fromObject(s.rules[I])}}return s.fullyDecodeReservedExpansion!=null&&(A.fullyDecodeReservedExpansion=!!s.fullyDecodeReservedExpansion),A},q.toObject=function(s,A){var I={};if(((A=A||{}).arrays||A.defaults)&&(I.rules=[]),A.defaults&&(I.fullyDecodeReservedExpansion=!1),s.rules&&s.rules.length){I.rules=[];for(var n=0;n<s.rules.length;++n)I.rules[n]=m.google.api.HttpRule.toObject(s.rules[n],A)}return s.fullyDecodeReservedExpansion!=null&&s.hasOwnProperty("fullyDecodeReservedExpansion")&&(I.fullyDecodeReservedExpansion=s.fullyDecodeReservedExpansion),I},q.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},q),p.HttpRule=(Q.prototype.selector="",Q.prototype.get="",Q.prototype.put="",Q.prototype.post="",Q.prototype.delete="",Q.prototype.patch="",Q.prototype.custom=null,Q.prototype.body="",Q.prototype.responseBody="",Q.prototype.additionalBindings=d.emptyArray,Object.defineProperty(Q.prototype,"pattern",{get:d.oneOfGetter(u=["get","put","post","delete","patch","custom"]),set:d.oneOfSetter(u)}),Q.create=function(s){return new Q(s)},Q.encode=function(s,A){if(A=A||c.create(),s.selector!=null&&Object.hasOwnProperty.call(s,"selector")&&A.uint32(10).string(s.selector),s.get!=null&&Object.hasOwnProperty.call(s,"get")&&A.uint32(18).string(s.get),s.put!=null&&Object.hasOwnProperty.call(s,"put")&&A.uint32(26).string(s.put),s.post!=null&&Object.hasOwnProperty.call(s,"post")&&A.uint32(34).string(s.post),s.delete!=null&&Object.hasOwnProperty.call(s,"delete")&&A.uint32(42).string(s.delete),s.patch!=null&&Object.hasOwnProperty.call(s,"patch")&&A.uint32(50).string(s.patch),s.body!=null&&Object.hasOwnProperty.call(s,"body")&&A.uint32(58).string(s.body),s.custom!=null&&Object.hasOwnProperty.call(s,"custom")&&m.google.api.CustomHttpPattern.encode(s.custom,A.uint32(66).fork()).ldelim(),s.additionalBindings!=null&&s.additionalBindings.length)for(var I=0;I<s.additionalBindings.length;++I)m.google.api.HttpRule.encode(s.additionalBindings[I],A.uint32(90).fork()).ldelim();return s.responseBody!=null&&Object.hasOwnProperty.call(s,"responseBody")&&A.uint32(98).string(s.responseBody),A},Q.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},Q.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.api.HttpRule;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.selector=s.string();break;case 2:n.get=s.string();break;case 3:n.put=s.string();break;case 4:n.post=s.string();break;case 5:n.delete=s.string();break;case 6:n.patch=s.string();break;case 8:n.custom=m.google.api.CustomHttpPattern.decode(s,s.uint32());break;case 7:n.body=s.string();break;case 12:n.responseBody=s.string();break;case 11:n.additionalBindings&&n.additionalBindings.length||(n.additionalBindings=[]),n.additionalBindings.push(m.google.api.HttpRule.decode(s,s.uint32()));break;default:s.skipType(7&R)}}return n},Q.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},Q.verify=function(s){if(typeof s!="object"||s===null)return"object expected";var A={};if(s.selector!=null&&s.hasOwnProperty("selector")&&!d.isString(s.selector))return"selector: string expected";if(s.get!=null&&s.hasOwnProperty("get")&&(A.pattern=1,!d.isString(s.get)))return"get: string expected";if(s.put!=null&&s.hasOwnProperty("put")){if(A.pattern===1)return"pattern: multiple values";if(A.pattern=1,!d.isString(s.put))return"put: string expected"}if(s.post!=null&&s.hasOwnProperty("post")){if(A.pattern===1)return"pattern: multiple values";if(A.pattern=1,!d.isString(s.post))return"post: string expected"}if(s.delete!=null&&s.hasOwnProperty("delete")){if(A.pattern===1)return"pattern: multiple values";if(A.pattern=1,!d.isString(s.delete))return"delete: string expected"}if(s.patch!=null&&s.hasOwnProperty("patch")){if(A.pattern===1)return"pattern: multiple values";if(A.pattern=1,!d.isString(s.patch))return"patch: string expected"}if(s.custom!=null&&s.hasOwnProperty("custom")){if(A.pattern===1)return"pattern: multiple values";if(A.pattern=1,I=m.google.api.CustomHttpPattern.verify(s.custom))return"custom."+I}if(s.body!=null&&s.hasOwnProperty("body")&&!d.isString(s.body))return"body: string expected";if(s.responseBody!=null&&s.hasOwnProperty("responseBody")&&!d.isString(s.responseBody))return"responseBody: string expected";if(s.additionalBindings!=null&&s.hasOwnProperty("additionalBindings")){if(!Array.isArray(s.additionalBindings))return"additionalBindings: array expected";for(var I,n=0;n<s.additionalBindings.length;++n)if(I=m.google.api.HttpRule.verify(s.additionalBindings[n]))return"additionalBindings."+I}return null},Q.fromObject=function(s){if(s instanceof m.google.api.HttpRule)return s;var A=new m.google.api.HttpRule;if(s.selector!=null&&(A.selector=String(s.selector)),s.get!=null&&(A.get=String(s.get)),s.put!=null&&(A.put=String(s.put)),s.post!=null&&(A.post=String(s.post)),s.delete!=null&&(A.delete=String(s.delete)),s.patch!=null&&(A.patch=String(s.patch)),s.custom!=null){if(typeof s.custom!="object")throw TypeError(".google.api.HttpRule.custom: object expected");A.custom=m.google.api.CustomHttpPattern.fromObject(s.custom)}if(s.body!=null&&(A.body=String(s.body)),s.responseBody!=null&&(A.responseBody=String(s.responseBody)),s.additionalBindings){if(!Array.isArray(s.additionalBindings))throw TypeError(".google.api.HttpRule.additionalBindings: array expected");A.additionalBindings=[];for(var I=0;I<s.additionalBindings.length;++I){if(typeof s.additionalBindings[I]!="object")throw TypeError(".google.api.HttpRule.additionalBindings: object expected");A.additionalBindings[I]=m.google.api.HttpRule.fromObject(s.additionalBindings[I])}}return A},Q.toObject=function(s,A){var I={};if(((A=A||{}).arrays||A.defaults)&&(I.additionalBindings=[]),A.defaults&&(I.selector="",I.body="",I.responseBody=""),s.selector!=null&&s.hasOwnProperty("selector")&&(I.selector=s.selector),s.get!=null&&s.hasOwnProperty("get")&&(I.get=s.get,A.oneofs)&&(I.pattern="get"),s.put!=null&&s.hasOwnProperty("put")&&(I.put=s.put,A.oneofs)&&(I.pattern="put"),s.post!=null&&s.hasOwnProperty("post")&&(I.post=s.post,A.oneofs)&&(I.pattern="post"),s.delete!=null&&s.hasOwnProperty("delete")&&(I.delete=s.delete,A.oneofs)&&(I.pattern="delete"),s.patch!=null&&s.hasOwnProperty("patch")&&(I.patch=s.patch,A.oneofs)&&(I.pattern="patch"),s.body!=null&&s.hasOwnProperty("body")&&(I.body=s.body),s.custom!=null&&s.hasOwnProperty("custom")&&(I.custom=m.google.api.CustomHttpPattern.toObject(s.custom,A),A.oneofs)&&(I.pattern="custom"),s.additionalBindings&&s.additionalBindings.length){I.additionalBindings=[];for(var n=0;n<s.additionalBindings.length;++n)I.additionalBindings[n]=m.google.api.HttpRule.toObject(s.additionalBindings[n],A)}return s.responseBody!=null&&s.hasOwnProperty("responseBody")&&(I.responseBody=s.responseBody),I},Q.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Q),p.CustomHttpPattern=(K.prototype.kind="",K.prototype.path="",K.create=function(s){return new K(s)},K.encode=function(s,A){return A=A||c.create(),s.kind!=null&&Object.hasOwnProperty.call(s,"kind")&&A.uint32(10).string(s.kind),s.path!=null&&Object.hasOwnProperty.call(s,"path")&&A.uint32(18).string(s.path),A},K.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},K.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.api.CustomHttpPattern;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.kind=s.string();break;case 2:n.path=s.string();break;default:s.skipType(7&R)}}return n},K.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},K.verify=function(s){return typeof s!="object"||s===null?"object expected":s.kind!=null&&s.hasOwnProperty("kind")&&!d.isString(s.kind)?"kind: string expected":s.path!=null&&s.hasOwnProperty("path")&&!d.isString(s.path)?"path: string expected":null},K.fromObject=function(s){var A;return s instanceof m.google.api.CustomHttpPattern?s:(A=new m.google.api.CustomHttpPattern,s.kind!=null&&(A.kind=String(s.kind)),s.path!=null&&(A.path=String(s.path)),A)},K.toObject=function(s,A){var I={};return(A=A||{}).defaults&&(I.kind="",I.path=""),s.kind!=null&&s.hasOwnProperty("kind")&&(I.kind=s.kind),s.path!=null&&s.hasOwnProperty("path")&&(I.path=s.path),I},K.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},K),p),h.protobuf=((u={}).FileDescriptorSet=(G.prototype.file=d.emptyArray,G.create=function(s){return new G(s)},G.encode=function(s,A){if(A=A||c.create(),s.file!=null&&s.file.length)for(var I=0;I<s.file.length;++I)m.google.protobuf.FileDescriptorProto.encode(s.file[I],A.uint32(10).fork()).ldelim();return A},G.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},G.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.FileDescriptorSet;s.pos<I;){var R=s.uint32();R>>>3==1?(n.file&&n.file.length||(n.file=[]),n.file.push(m.google.protobuf.FileDescriptorProto.decode(s,s.uint32()))):s.skipType(7&R)}return n},G.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},G.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.file!=null&&s.hasOwnProperty("file")){if(!Array.isArray(s.file))return"file: array expected";for(var A=0;A<s.file.length;++A){var I=m.google.protobuf.FileDescriptorProto.verify(s.file[A]);if(I)return"file."+I}}return null},G.fromObject=function(s){if(s instanceof m.google.protobuf.FileDescriptorSet)return s;var A=new m.google.protobuf.FileDescriptorSet;if(s.file){if(!Array.isArray(s.file))throw TypeError(".google.protobuf.FileDescriptorSet.file: array expected");A.file=[];for(var I=0;I<s.file.length;++I){if(typeof s.file[I]!="object")throw TypeError(".google.protobuf.FileDescriptorSet.file: object expected");A.file[I]=m.google.protobuf.FileDescriptorProto.fromObject(s.file[I])}}return A},G.toObject=function(s,A){var I={};if(((A=A||{}).arrays||A.defaults)&&(I.file=[]),s.file&&s.file.length){I.file=[];for(var n=0;n<s.file.length;++n)I.file[n]=m.google.protobuf.FileDescriptorProto.toObject(s.file[n],A)}return I},G.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},G),u.FileDescriptorProto=(F.prototype.name="",F.prototype.package="",F.prototype.dependency=d.emptyArray,F.prototype.publicDependency=d.emptyArray,F.prototype.weakDependency=d.emptyArray,F.prototype.messageType=d.emptyArray,F.prototype.enumType=d.emptyArray,F.prototype.service=d.emptyArray,F.prototype.extension=d.emptyArray,F.prototype.options=null,F.prototype.sourceCodeInfo=null,F.prototype.syntax="",F.create=function(s){return new F(s)},F.encode=function(s,A){if(A=A||c.create(),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&A.uint32(10).string(s.name),s.package!=null&&Object.hasOwnProperty.call(s,"package")&&A.uint32(18).string(s.package),s.dependency!=null&&s.dependency.length)for(var I=0;I<s.dependency.length;++I)A.uint32(26).string(s.dependency[I]);if(s.messageType!=null&&s.messageType.length)for(I=0;I<s.messageType.length;++I)m.google.protobuf.DescriptorProto.encode(s.messageType[I],A.uint32(34).fork()).ldelim();if(s.enumType!=null&&s.enumType.length)for(I=0;I<s.enumType.length;++I)m.google.protobuf.EnumDescriptorProto.encode(s.enumType[I],A.uint32(42).fork()).ldelim();if(s.service!=null&&s.service.length)for(I=0;I<s.service.length;++I)m.google.protobuf.ServiceDescriptorProto.encode(s.service[I],A.uint32(50).fork()).ldelim();if(s.extension!=null&&s.extension.length)for(I=0;I<s.extension.length;++I)m.google.protobuf.FieldDescriptorProto.encode(s.extension[I],A.uint32(58).fork()).ldelim();if(s.options!=null&&Object.hasOwnProperty.call(s,"options")&&m.google.protobuf.FileOptions.encode(s.options,A.uint32(66).fork()).ldelim(),s.sourceCodeInfo!=null&&Object.hasOwnProperty.call(s,"sourceCodeInfo")&&m.google.protobuf.SourceCodeInfo.encode(s.sourceCodeInfo,A.uint32(74).fork()).ldelim(),s.publicDependency!=null&&s.publicDependency.length)for(I=0;I<s.publicDependency.length;++I)A.uint32(80).int32(s.publicDependency[I]);if(s.weakDependency!=null&&s.weakDependency.length)for(I=0;I<s.weakDependency.length;++I)A.uint32(88).int32(s.weakDependency[I]);return s.syntax!=null&&Object.hasOwnProperty.call(s,"syntax")&&A.uint32(98).string(s.syntax),A},F.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},F.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.FileDescriptorProto;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.name=s.string();break;case 2:n.package=s.string();break;case 3:n.dependency&&n.dependency.length||(n.dependency=[]),n.dependency.push(s.string());break;case 10:if(n.publicDependency&&n.publicDependency.length||(n.publicDependency=[]),(7&R)==2)for(var V=s.uint32()+s.pos;s.pos<V;)n.publicDependency.push(s.int32());else n.publicDependency.push(s.int32());break;case 11:if(n.weakDependency&&n.weakDependency.length||(n.weakDependency=[]),(7&R)==2)for(V=s.uint32()+s.pos;s.pos<V;)n.weakDependency.push(s.int32());else n.weakDependency.push(s.int32());break;case 4:n.messageType&&n.messageType.length||(n.messageType=[]),n.messageType.push(m.google.protobuf.DescriptorProto.decode(s,s.uint32()));break;case 5:n.enumType&&n.enumType.length||(n.enumType=[]),n.enumType.push(m.google.protobuf.EnumDescriptorProto.decode(s,s.uint32()));break;case 6:n.service&&n.service.length||(n.service=[]),n.service.push(m.google.protobuf.ServiceDescriptorProto.decode(s,s.uint32()));break;case 7:n.extension&&n.extension.length||(n.extension=[]),n.extension.push(m.google.protobuf.FieldDescriptorProto.decode(s,s.uint32()));break;case 8:n.options=m.google.protobuf.FileOptions.decode(s,s.uint32());break;case 9:n.sourceCodeInfo=m.google.protobuf.SourceCodeInfo.decode(s,s.uint32());break;case 12:n.syntax=s.string();break;default:s.skipType(7&R)}}return n},F.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},F.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.name!=null&&s.hasOwnProperty("name")&&!d.isString(s.name))return"name: string expected";if(s.package!=null&&s.hasOwnProperty("package")&&!d.isString(s.package))return"package: string expected";if(s.dependency!=null&&s.hasOwnProperty("dependency")){if(!Array.isArray(s.dependency))return"dependency: array expected";for(var A=0;A<s.dependency.length;++A)if(!d.isString(s.dependency[A]))return"dependency: string[] expected"}if(s.publicDependency!=null&&s.hasOwnProperty("publicDependency")){if(!Array.isArray(s.publicDependency))return"publicDependency: array expected";for(A=0;A<s.publicDependency.length;++A)if(!d.isInteger(s.publicDependency[A]))return"publicDependency: integer[] expected"}if(s.weakDependency!=null&&s.hasOwnProperty("weakDependency")){if(!Array.isArray(s.weakDependency))return"weakDependency: array expected";for(A=0;A<s.weakDependency.length;++A)if(!d.isInteger(s.weakDependency[A]))return"weakDependency: integer[] expected"}if(s.messageType!=null&&s.hasOwnProperty("messageType")){if(!Array.isArray(s.messageType))return"messageType: array expected";for(A=0;A<s.messageType.length;++A)if(I=m.google.protobuf.DescriptorProto.verify(s.messageType[A]))return"messageType."+I}if(s.enumType!=null&&s.hasOwnProperty("enumType")){if(!Array.isArray(s.enumType))return"enumType: array expected";for(A=0;A<s.enumType.length;++A)if(I=m.google.protobuf.EnumDescriptorProto.verify(s.enumType[A]))return"enumType."+I}if(s.service!=null&&s.hasOwnProperty("service")){if(!Array.isArray(s.service))return"service: array expected";for(A=0;A<s.service.length;++A)if(I=m.google.protobuf.ServiceDescriptorProto.verify(s.service[A]))return"service."+I}if(s.extension!=null&&s.hasOwnProperty("extension")){if(!Array.isArray(s.extension))return"extension: array expected";for(A=0;A<s.extension.length;++A)if(I=m.google.protobuf.FieldDescriptorProto.verify(s.extension[A]))return"extension."+I}var I;return s.options!=null&&s.hasOwnProperty("options")&&(I=m.google.protobuf.FileOptions.verify(s.options))?"options."+I:s.sourceCodeInfo!=null&&s.hasOwnProperty("sourceCodeInfo")&&(I=m.google.protobuf.SourceCodeInfo.verify(s.sourceCodeInfo))?"sourceCodeInfo."+I:s.syntax!=null&&s.hasOwnProperty("syntax")&&!d.isString(s.syntax)?"syntax: string expected":null},F.fromObject=function(s){if(s instanceof m.google.protobuf.FileDescriptorProto)return s;var A=new m.google.protobuf.FileDescriptorProto;if(s.name!=null&&(A.name=String(s.name)),s.package!=null&&(A.package=String(s.package)),s.dependency){if(!Array.isArray(s.dependency))throw TypeError(".google.protobuf.FileDescriptorProto.dependency: array expected");A.dependency=[];for(var I=0;I<s.dependency.length;++I)A.dependency[I]=String(s.dependency[I])}if(s.publicDependency){if(!Array.isArray(s.publicDependency))throw TypeError(".google.protobuf.FileDescriptorProto.publicDependency: array expected");for(A.publicDependency=[],I=0;I<s.publicDependency.length;++I)A.publicDependency[I]=0|s.publicDependency[I]}if(s.weakDependency){if(!Array.isArray(s.weakDependency))throw TypeError(".google.protobuf.FileDescriptorProto.weakDependency: array expected");for(A.weakDependency=[],I=0;I<s.weakDependency.length;++I)A.weakDependency[I]=0|s.weakDependency[I]}if(s.messageType){if(!Array.isArray(s.messageType))throw TypeError(".google.protobuf.FileDescriptorProto.messageType: array expected");for(A.messageType=[],I=0;I<s.messageType.length;++I){if(typeof s.messageType[I]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.messageType: object expected");A.messageType[I]=m.google.protobuf.DescriptorProto.fromObject(s.messageType[I])}}if(s.enumType){if(!Array.isArray(s.enumType))throw TypeError(".google.protobuf.FileDescriptorProto.enumType: array expected");for(A.enumType=[],I=0;I<s.enumType.length;++I){if(typeof s.enumType[I]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.enumType: object expected");A.enumType[I]=m.google.protobuf.EnumDescriptorProto.fromObject(s.enumType[I])}}if(s.service){if(!Array.isArray(s.service))throw TypeError(".google.protobuf.FileDescriptorProto.service: array expected");for(A.service=[],I=0;I<s.service.length;++I){if(typeof s.service[I]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.service: object expected");A.service[I]=m.google.protobuf.ServiceDescriptorProto.fromObject(s.service[I])}}if(s.extension){if(!Array.isArray(s.extension))throw TypeError(".google.protobuf.FileDescriptorProto.extension: array expected");for(A.extension=[],I=0;I<s.extension.length;++I){if(typeof s.extension[I]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.extension: object expected");A.extension[I]=m.google.protobuf.FieldDescriptorProto.fromObject(s.extension[I])}}if(s.options!=null){if(typeof s.options!="object")throw TypeError(".google.protobuf.FileDescriptorProto.options: object expected");A.options=m.google.protobuf.FileOptions.fromObject(s.options)}if(s.sourceCodeInfo!=null){if(typeof s.sourceCodeInfo!="object")throw TypeError(".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected");A.sourceCodeInfo=m.google.protobuf.SourceCodeInfo.fromObject(s.sourceCodeInfo)}return s.syntax!=null&&(A.syntax=String(s.syntax)),A},F.toObject=function(s,A){var I={};if(((A=A||{}).arrays||A.defaults)&&(I.dependency=[],I.messageType=[],I.enumType=[],I.service=[],I.extension=[],I.publicDependency=[],I.weakDependency=[]),A.defaults&&(I.name="",I.package="",I.options=null,I.sourceCodeInfo=null,I.syntax=""),s.name!=null&&s.hasOwnProperty("name")&&(I.name=s.name),s.package!=null&&s.hasOwnProperty("package")&&(I.package=s.package),s.dependency&&s.dependency.length){I.dependency=[];for(var n=0;n<s.dependency.length;++n)I.dependency[n]=s.dependency[n]}if(s.messageType&&s.messageType.length)for(I.messageType=[],n=0;n<s.messageType.length;++n)I.messageType[n]=m.google.protobuf.DescriptorProto.toObject(s.messageType[n],A);if(s.enumType&&s.enumType.length)for(I.enumType=[],n=0;n<s.enumType.length;++n)I.enumType[n]=m.google.protobuf.EnumDescriptorProto.toObject(s.enumType[n],A);if(s.service&&s.service.length)for(I.service=[],n=0;n<s.service.length;++n)I.service[n]=m.google.protobuf.ServiceDescriptorProto.toObject(s.service[n],A);if(s.extension&&s.extension.length)for(I.extension=[],n=0;n<s.extension.length;++n)I.extension[n]=m.google.protobuf.FieldDescriptorProto.toObject(s.extension[n],A);if(s.options!=null&&s.hasOwnProperty("options")&&(I.options=m.google.protobuf.FileOptions.toObject(s.options,A)),s.sourceCodeInfo!=null&&s.hasOwnProperty("sourceCodeInfo")&&(I.sourceCodeInfo=m.google.protobuf.SourceCodeInfo.toObject(s.sourceCodeInfo,A)),s.publicDependency&&s.publicDependency.length)for(I.publicDependency=[],n=0;n<s.publicDependency.length;++n)I.publicDependency[n]=s.publicDependency[n];if(s.weakDependency&&s.weakDependency.length)for(I.weakDependency=[],n=0;n<s.weakDependency.length;++n)I.weakDependency[n]=s.weakDependency[n];return s.syntax!=null&&s.hasOwnProperty("syntax")&&(I.syntax=s.syntax),I},F.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},F),u.DescriptorProto=(x.prototype.name="",x.prototype.field=d.emptyArray,x.prototype.extension=d.emptyArray,x.prototype.nestedType=d.emptyArray,x.prototype.enumType=d.emptyArray,x.prototype.extensionRange=d.emptyArray,x.prototype.oneofDecl=d.emptyArray,x.prototype.options=null,x.prototype.reservedRange=d.emptyArray,x.prototype.reservedName=d.emptyArray,x.create=function(s){return new x(s)},x.encode=function(s,A){if(A=A||c.create(),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&A.uint32(10).string(s.name),s.field!=null&&s.field.length)for(var I=0;I<s.field.length;++I)m.google.protobuf.FieldDescriptorProto.encode(s.field[I],A.uint32(18).fork()).ldelim();if(s.nestedType!=null&&s.nestedType.length)for(I=0;I<s.nestedType.length;++I)m.google.protobuf.DescriptorProto.encode(s.nestedType[I],A.uint32(26).fork()).ldelim();if(s.enumType!=null&&s.enumType.length)for(I=0;I<s.enumType.length;++I)m.google.protobuf.EnumDescriptorProto.encode(s.enumType[I],A.uint32(34).fork()).ldelim();if(s.extensionRange!=null&&s.extensionRange.length)for(I=0;I<s.extensionRange.length;++I)m.google.protobuf.DescriptorProto.ExtensionRange.encode(s.extensionRange[I],A.uint32(42).fork()).ldelim();if(s.extension!=null&&s.extension.length)for(I=0;I<s.extension.length;++I)m.google.protobuf.FieldDescriptorProto.encode(s.extension[I],A.uint32(50).fork()).ldelim();if(s.options!=null&&Object.hasOwnProperty.call(s,"options")&&m.google.protobuf.MessageOptions.encode(s.options,A.uint32(58).fork()).ldelim(),s.oneofDecl!=null&&s.oneofDecl.length)for(I=0;I<s.oneofDecl.length;++I)m.google.protobuf.OneofDescriptorProto.encode(s.oneofDecl[I],A.uint32(66).fork()).ldelim();if(s.reservedRange!=null&&s.reservedRange.length)for(I=0;I<s.reservedRange.length;++I)m.google.protobuf.DescriptorProto.ReservedRange.encode(s.reservedRange[I],A.uint32(74).fork()).ldelim();if(s.reservedName!=null&&s.reservedName.length)for(I=0;I<s.reservedName.length;++I)A.uint32(82).string(s.reservedName[I]);return A},x.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},x.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.DescriptorProto;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.name=s.string();break;case 2:n.field&&n.field.length||(n.field=[]),n.field.push(m.google.protobuf.FieldDescriptorProto.decode(s,s.uint32()));break;case 6:n.extension&&n.extension.length||(n.extension=[]),n.extension.push(m.google.protobuf.FieldDescriptorProto.decode(s,s.uint32()));break;case 3:n.nestedType&&n.nestedType.length||(n.nestedType=[]),n.nestedType.push(m.google.protobuf.DescriptorProto.decode(s,s.uint32()));break;case 4:n.enumType&&n.enumType.length||(n.enumType=[]),n.enumType.push(m.google.protobuf.EnumDescriptorProto.decode(s,s.uint32()));break;case 5:n.extensionRange&&n.extensionRange.length||(n.extensionRange=[]),n.extensionRange.push(m.google.protobuf.DescriptorProto.ExtensionRange.decode(s,s.uint32()));break;case 8:n.oneofDecl&&n.oneofDecl.length||(n.oneofDecl=[]),n.oneofDecl.push(m.google.protobuf.OneofDescriptorProto.decode(s,s.uint32()));break;case 7:n.options=m.google.protobuf.MessageOptions.decode(s,s.uint32());break;case 9:n.reservedRange&&n.reservedRange.length||(n.reservedRange=[]),n.reservedRange.push(m.google.protobuf.DescriptorProto.ReservedRange.decode(s,s.uint32()));break;case 10:n.reservedName&&n.reservedName.length||(n.reservedName=[]),n.reservedName.push(s.string());break;default:s.skipType(7&R)}}return n},x.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},x.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.name!=null&&s.hasOwnProperty("name")&&!d.isString(s.name))return"name: string expected";if(s.field!=null&&s.hasOwnProperty("field")){if(!Array.isArray(s.field))return"field: array expected";for(var A=0;A<s.field.length;++A)if(I=m.google.protobuf.FieldDescriptorProto.verify(s.field[A]))return"field."+I}if(s.extension!=null&&s.hasOwnProperty("extension")){if(!Array.isArray(s.extension))return"extension: array expected";for(A=0;A<s.extension.length;++A)if(I=m.google.protobuf.FieldDescriptorProto.verify(s.extension[A]))return"extension."+I}if(s.nestedType!=null&&s.hasOwnProperty("nestedType")){if(!Array.isArray(s.nestedType))return"nestedType: array expected";for(A=0;A<s.nestedType.length;++A)if(I=m.google.protobuf.DescriptorProto.verify(s.nestedType[A]))return"nestedType."+I}if(s.enumType!=null&&s.hasOwnProperty("enumType")){if(!Array.isArray(s.enumType))return"enumType: array expected";for(A=0;A<s.enumType.length;++A)if(I=m.google.protobuf.EnumDescriptorProto.verify(s.enumType[A]))return"enumType."+I}if(s.extensionRange!=null&&s.hasOwnProperty("extensionRange")){if(!Array.isArray(s.extensionRange))return"extensionRange: array expected";for(A=0;A<s.extensionRange.length;++A)if(I=m.google.protobuf.DescriptorProto.ExtensionRange.verify(s.extensionRange[A]))return"extensionRange."+I}if(s.oneofDecl!=null&&s.hasOwnProperty("oneofDecl")){if(!Array.isArray(s.oneofDecl))return"oneofDecl: array expected";for(A=0;A<s.oneofDecl.length;++A)if(I=m.google.protobuf.OneofDescriptorProto.verify(s.oneofDecl[A]))return"oneofDecl."+I}if(s.options!=null&&s.hasOwnProperty("options")&&(I=m.google.protobuf.MessageOptions.verify(s.options)))return"options."+I;if(s.reservedRange!=null&&s.hasOwnProperty("reservedRange")){if(!Array.isArray(s.reservedRange))return"reservedRange: array expected";for(var I,A=0;A<s.reservedRange.length;++A)if(I=m.google.protobuf.DescriptorProto.ReservedRange.verify(s.reservedRange[A]))return"reservedRange."+I}if(s.reservedName!=null&&s.hasOwnProperty("reservedName")){if(!Array.isArray(s.reservedName))return"reservedName: array expected";for(A=0;A<s.reservedName.length;++A)if(!d.isString(s.reservedName[A]))return"reservedName: string[] expected"}return null},x.fromObject=function(s){if(s instanceof m.google.protobuf.DescriptorProto)return s;var A=new m.google.protobuf.DescriptorProto;if(s.name!=null&&(A.name=String(s.name)),s.field){if(!Array.isArray(s.field))throw TypeError(".google.protobuf.DescriptorProto.field: array expected");A.field=[];for(var I=0;I<s.field.length;++I){if(typeof s.field[I]!="object")throw TypeError(".google.protobuf.DescriptorProto.field: object expected");A.field[I]=m.google.protobuf.FieldDescriptorProto.fromObject(s.field[I])}}if(s.extension){if(!Array.isArray(s.extension))throw TypeError(".google.protobuf.DescriptorProto.extension: array expected");for(A.extension=[],I=0;I<s.extension.length;++I){if(typeof s.extension[I]!="object")throw TypeError(".google.protobuf.DescriptorProto.extension: object expected");A.extension[I]=m.google.protobuf.FieldDescriptorProto.fromObject(s.extension[I])}}if(s.nestedType){if(!Array.isArray(s.nestedType))throw TypeError(".google.protobuf.DescriptorProto.nestedType: array expected");for(A.nestedType=[],I=0;I<s.nestedType.length;++I){if(typeof s.nestedType[I]!="object")throw TypeError(".google.protobuf.DescriptorProto.nestedType: object expected");A.nestedType[I]=m.google.protobuf.DescriptorProto.fromObject(s.nestedType[I])}}if(s.enumType){if(!Array.isArray(s.enumType))throw TypeError(".google.protobuf.DescriptorProto.enumType: array expected");for(A.enumType=[],I=0;I<s.enumType.length;++I){if(typeof s.enumType[I]!="object")throw TypeError(".google.protobuf.DescriptorProto.enumType: object expected");A.enumType[I]=m.google.protobuf.EnumDescriptorProto.fromObject(s.enumType[I])}}if(s.extensionRange){if(!Array.isArray(s.extensionRange))throw TypeError(".google.protobuf.DescriptorProto.extensionRange: array expected");for(A.extensionRange=[],I=0;I<s.extensionRange.length;++I){if(typeof s.extensionRange[I]!="object")throw TypeError(".google.protobuf.DescriptorProto.extensionRange: object expected");A.extensionRange[I]=m.google.protobuf.DescriptorProto.ExtensionRange.fromObject(s.extensionRange[I])}}if(s.oneofDecl){if(!Array.isArray(s.oneofDecl))throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: array expected");for(A.oneofDecl=[],I=0;I<s.oneofDecl.length;++I){if(typeof s.oneofDecl[I]!="object")throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: object expected");A.oneofDecl[I]=m.google.protobuf.OneofDescriptorProto.fromObject(s.oneofDecl[I])}}if(s.options!=null){if(typeof s.options!="object")throw TypeError(".google.protobuf.DescriptorProto.options: object expected");A.options=m.google.protobuf.MessageOptions.fromObject(s.options)}if(s.reservedRange){if(!Array.isArray(s.reservedRange))throw TypeError(".google.protobuf.DescriptorProto.reservedRange: array expected");for(A.reservedRange=[],I=0;I<s.reservedRange.length;++I){if(typeof s.reservedRange[I]!="object")throw TypeError(".google.protobuf.DescriptorProto.reservedRange: object expected");A.reservedRange[I]=m.google.protobuf.DescriptorProto.ReservedRange.fromObject(s.reservedRange[I])}}if(s.reservedName){if(!Array.isArray(s.reservedName))throw TypeError(".google.protobuf.DescriptorProto.reservedName: array expected");for(A.reservedName=[],I=0;I<s.reservedName.length;++I)A.reservedName[I]=String(s.reservedName[I])}return A},x.toObject=function(s,A){var I={};if(((A=A||{}).arrays||A.defaults)&&(I.field=[],I.nestedType=[],I.enumType=[],I.extensionRange=[],I.extension=[],I.oneofDecl=[],I.reservedRange=[],I.reservedName=[]),A.defaults&&(I.name="",I.options=null),s.name!=null&&s.hasOwnProperty("name")&&(I.name=s.name),s.field&&s.field.length){I.field=[];for(var n=0;n<s.field.length;++n)I.field[n]=m.google.protobuf.FieldDescriptorProto.toObject(s.field[n],A)}if(s.nestedType&&s.nestedType.length)for(I.nestedType=[],n=0;n<s.nestedType.length;++n)I.nestedType[n]=m.google.protobuf.DescriptorProto.toObject(s.nestedType[n],A);if(s.enumType&&s.enumType.length)for(I.enumType=[],n=0;n<s.enumType.length;++n)I.enumType[n]=m.google.protobuf.EnumDescriptorProto.toObject(s.enumType[n],A);if(s.extensionRange&&s.extensionRange.length)for(I.extensionRange=[],n=0;n<s.extensionRange.length;++n)I.extensionRange[n]=m.google.protobuf.DescriptorProto.ExtensionRange.toObject(s.extensionRange[n],A);if(s.extension&&s.extension.length)for(I.extension=[],n=0;n<s.extension.length;++n)I.extension[n]=m.google.protobuf.FieldDescriptorProto.toObject(s.extension[n],A);if(s.options!=null&&s.hasOwnProperty("options")&&(I.options=m.google.protobuf.MessageOptions.toObject(s.options,A)),s.oneofDecl&&s.oneofDecl.length)for(I.oneofDecl=[],n=0;n<s.oneofDecl.length;++n)I.oneofDecl[n]=m.google.protobuf.OneofDescriptorProto.toObject(s.oneofDecl[n],A);if(s.reservedRange&&s.reservedRange.length)for(I.reservedRange=[],n=0;n<s.reservedRange.length;++n)I.reservedRange[n]=m.google.protobuf.DescriptorProto.ReservedRange.toObject(s.reservedRange[n],A);if(s.reservedName&&s.reservedName.length)for(I.reservedName=[],n=0;n<s.reservedName.length;++n)I.reservedName[n]=s.reservedName[n];return I},x.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},x.ExtensionRange=(z.prototype.start=0,z.prototype.end=0,z.prototype.options=null,z.create=function(s){return new z(s)},z.encode=function(s,A){return A=A||c.create(),s.start!=null&&Object.hasOwnProperty.call(s,"start")&&A.uint32(8).int32(s.start),s.end!=null&&Object.hasOwnProperty.call(s,"end")&&A.uint32(16).int32(s.end),s.options!=null&&Object.hasOwnProperty.call(s,"options")&&m.google.protobuf.ExtensionRangeOptions.encode(s.options,A.uint32(26).fork()).ldelim(),A},z.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},z.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.DescriptorProto.ExtensionRange;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.start=s.int32();break;case 2:n.end=s.int32();break;case 3:n.options=m.google.protobuf.ExtensionRangeOptions.decode(s,s.uint32());break;default:s.skipType(7&R)}}return n},z.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},z.verify=function(s){return typeof s!="object"||s===null?"object expected":s.start!=null&&s.hasOwnProperty("start")&&!d.isInteger(s.start)?"start: integer expected":s.end!=null&&s.hasOwnProperty("end")&&!d.isInteger(s.end)?"end: integer expected":s.options!=null&&s.hasOwnProperty("options")&&(s=m.google.protobuf.ExtensionRangeOptions.verify(s.options),s)?"options."+s:null},z.fromObject=function(s){if(s instanceof m.google.protobuf.DescriptorProto.ExtensionRange)return s;var A=new m.google.protobuf.DescriptorProto.ExtensionRange;if(s.start!=null&&(A.start=0|s.start),s.end!=null&&(A.end=0|s.end),s.options!=null){if(typeof s.options!="object")throw TypeError(".google.protobuf.DescriptorProto.ExtensionRange.options: object expected");A.options=m.google.protobuf.ExtensionRangeOptions.fromObject(s.options)}return A},z.toObject=function(s,A){var I={};return(A=A||{}).defaults&&(I.start=0,I.end=0,I.options=null),s.start!=null&&s.hasOwnProperty("start")&&(I.start=s.start),s.end!=null&&s.hasOwnProperty("end")&&(I.end=s.end),s.options!=null&&s.hasOwnProperty("options")&&(I.options=m.google.protobuf.ExtensionRangeOptions.toObject(s.options,A)),I},z.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},z),x.ReservedRange=(J.prototype.start=0,J.prototype.end=0,J.create=function(s){return new J(s)},J.encode=function(s,A){return A=A||c.create(),s.start!=null&&Object.hasOwnProperty.call(s,"start")&&A.uint32(8).int32(s.start),s.end!=null&&Object.hasOwnProperty.call(s,"end")&&A.uint32(16).int32(s.end),A},J.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},J.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.DescriptorProto.ReservedRange;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.start=s.int32();break;case 2:n.end=s.int32();break;default:s.skipType(7&R)}}return n},J.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},J.verify=function(s){return typeof s!="object"||s===null?"object expected":s.start!=null&&s.hasOwnProperty("start")&&!d.isInteger(s.start)?"start: integer expected":s.end!=null&&s.hasOwnProperty("end")&&!d.isInteger(s.end)?"end: integer expected":null},J.fromObject=function(s){var A;return s instanceof m.google.protobuf.DescriptorProto.ReservedRange?s:(A=new m.google.protobuf.DescriptorProto.ReservedRange,s.start!=null&&(A.start=0|s.start),s.end!=null&&(A.end=0|s.end),A)},J.toObject=function(s,A){var I={};return(A=A||{}).defaults&&(I.start=0,I.end=0),s.start!=null&&s.hasOwnProperty("start")&&(I.start=s.start),s.end!=null&&s.hasOwnProperty("end")&&(I.end=s.end),I},J.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},J),x),u.ExtensionRangeOptions=(Z.prototype.uninterpretedOption=d.emptyArray,Z.create=function(s){return new Z(s)},Z.encode=function(s,A){if(A=A||c.create(),s.uninterpretedOption!=null&&s.uninterpretedOption.length)for(var I=0;I<s.uninterpretedOption.length;++I)m.google.protobuf.UninterpretedOption.encode(s.uninterpretedOption[I],A.uint32(7994).fork()).ldelim();return A},Z.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},Z.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.ExtensionRangeOptions;s.pos<I;){var R=s.uint32();R>>>3==999?(n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(m.google.protobuf.UninterpretedOption.decode(s,s.uint32()))):s.skipType(7&R)}return n},Z.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},Z.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.uninterpretedOption!=null&&s.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(s.uninterpretedOption))return"uninterpretedOption: array expected";for(var A=0;A<s.uninterpretedOption.length;++A){var I=m.google.protobuf.UninterpretedOption.verify(s.uninterpretedOption[A]);if(I)return"uninterpretedOption."+I}}return null},Z.fromObject=function(s){if(s instanceof m.google.protobuf.ExtensionRangeOptions)return s;var A=new m.google.protobuf.ExtensionRangeOptions;if(s.uninterpretedOption){if(!Array.isArray(s.uninterpretedOption))throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected");A.uninterpretedOption=[];for(var I=0;I<s.uninterpretedOption.length;++I){if(typeof s.uninterpretedOption[I]!="object")throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected");A.uninterpretedOption[I]=m.google.protobuf.UninterpretedOption.fromObject(s.uninterpretedOption[I])}}return A},Z.toObject=function(s,A){var I={};if(((A=A||{}).arrays||A.defaults)&&(I.uninterpretedOption=[]),s.uninterpretedOption&&s.uninterpretedOption.length){I.uninterpretedOption=[];for(var n=0;n<s.uninterpretedOption.length;++n)I.uninterpretedOption[n]=m.google.protobuf.UninterpretedOption.toObject(s.uninterpretedOption[n],A)}return I},Z.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Z),u.FieldDescriptorProto=(X.prototype.name="",X.prototype.number=0,X.prototype.label=1,X.prototype.type=1,X.prototype.typeName="",X.prototype.extendee="",X.prototype.defaultValue="",X.prototype.oneofIndex=0,X.prototype.jsonName="",X.prototype.options=null,X.prototype.proto3Optional=!1,X.create=function(s){return new X(s)},X.encode=function(s,A){return A=A||c.create(),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&A.uint32(10).string(s.name),s.extendee!=null&&Object.hasOwnProperty.call(s,"extendee")&&A.uint32(18).string(s.extendee),s.number!=null&&Object.hasOwnProperty.call(s,"number")&&A.uint32(24).int32(s.number),s.label!=null&&Object.hasOwnProperty.call(s,"label")&&A.uint32(32).int32(s.label),s.type!=null&&Object.hasOwnProperty.call(s,"type")&&A.uint32(40).int32(s.type),s.typeName!=null&&Object.hasOwnProperty.call(s,"typeName")&&A.uint32(50).string(s.typeName),s.defaultValue!=null&&Object.hasOwnProperty.call(s,"defaultValue")&&A.uint32(58).string(s.defaultValue),s.options!=null&&Object.hasOwnProperty.call(s,"options")&&m.google.protobuf.FieldOptions.encode(s.options,A.uint32(66).fork()).ldelim(),s.oneofIndex!=null&&Object.hasOwnProperty.call(s,"oneofIndex")&&A.uint32(72).int32(s.oneofIndex),s.jsonName!=null&&Object.hasOwnProperty.call(s,"jsonName")&&A.uint32(82).string(s.jsonName),s.proto3Optional!=null&&Object.hasOwnProperty.call(s,"proto3Optional")&&A.uint32(136).bool(s.proto3Optional),A},X.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},X.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.FieldDescriptorProto;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.name=s.string();break;case 3:n.number=s.int32();break;case 4:n.label=s.int32();break;case 5:n.type=s.int32();break;case 6:n.typeName=s.string();break;case 2:n.extendee=s.string();break;case 7:n.defaultValue=s.string();break;case 9:n.oneofIndex=s.int32();break;case 10:n.jsonName=s.string();break;case 8:n.options=m.google.protobuf.FieldOptions.decode(s,s.uint32());break;case 17:n.proto3Optional=s.bool();break;default:s.skipType(7&R)}}return n},X.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},X.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.name!=null&&s.hasOwnProperty("name")&&!d.isString(s.name))return"name: string expected";if(s.number!=null&&s.hasOwnProperty("number")&&!d.isInteger(s.number))return"number: integer expected";if(s.label!=null&&s.hasOwnProperty("label"))switch(s.label){default:return"label: enum value expected";case 1:case 2:case 3:}if(s.type!=null&&s.hasOwnProperty("type"))switch(s.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:}if(s.typeName!=null&&s.hasOwnProperty("typeName")&&!d.isString(s.typeName))return"typeName: string expected";if(s.extendee!=null&&s.hasOwnProperty("extendee")&&!d.isString(s.extendee))return"extendee: string expected";if(s.defaultValue!=null&&s.hasOwnProperty("defaultValue")&&!d.isString(s.defaultValue))return"defaultValue: string expected";if(s.oneofIndex!=null&&s.hasOwnProperty("oneofIndex")&&!d.isInteger(s.oneofIndex))return"oneofIndex: integer expected";if(s.jsonName!=null&&s.hasOwnProperty("jsonName")&&!d.isString(s.jsonName))return"jsonName: string expected";if(s.options!=null&&s.hasOwnProperty("options")){var A=m.google.protobuf.FieldOptions.verify(s.options);if(A)return"options."+A}return s.proto3Optional!=null&&s.hasOwnProperty("proto3Optional")&&typeof s.proto3Optional!="boolean"?"proto3Optional: boolean expected":null},X.fromObject=function(s){if(s instanceof m.google.protobuf.FieldDescriptorProto)return s;var A=new m.google.protobuf.FieldDescriptorProto;switch(s.name!=null&&(A.name=String(s.name)),s.number!=null&&(A.number=0|s.number),s.label){case"LABEL_OPTIONAL":case 1:A.label=1;break;case"LABEL_REQUIRED":case 2:A.label=2;break;case"LABEL_REPEATED":case 3:A.label=3}switch(s.type){case"TYPE_DOUBLE":case 1:A.type=1;break;case"TYPE_FLOAT":case 2:A.type=2;break;case"TYPE_INT64":case 3:A.type=3;break;case"TYPE_UINT64":case 4:A.type=4;break;case"TYPE_INT32":case 5:A.type=5;break;case"TYPE_FIXED64":case 6:A.type=6;break;case"TYPE_FIXED32":case 7:A.type=7;break;case"TYPE_BOOL":case 8:A.type=8;break;case"TYPE_STRING":case 9:A.type=9;break;case"TYPE_GROUP":case 10:A.type=10;break;case"TYPE_MESSAGE":case 11:A.type=11;break;case"TYPE_BYTES":case 12:A.type=12;break;case"TYPE_UINT32":case 13:A.type=13;break;case"TYPE_ENUM":case 14:A.type=14;break;case"TYPE_SFIXED32":case 15:A.type=15;break;case"TYPE_SFIXED64":case 16:A.type=16;break;case"TYPE_SINT32":case 17:A.type=17;break;case"TYPE_SINT64":case 18:A.type=18}if(s.typeName!=null&&(A.typeName=String(s.typeName)),s.extendee!=null&&(A.extendee=String(s.extendee)),s.defaultValue!=null&&(A.defaultValue=String(s.defaultValue)),s.oneofIndex!=null&&(A.oneofIndex=0|s.oneofIndex),s.jsonName!=null&&(A.jsonName=String(s.jsonName)),s.options!=null){if(typeof s.options!="object")throw TypeError(".google.protobuf.FieldDescriptorProto.options: object expected");A.options=m.google.protobuf.FieldOptions.fromObject(s.options)}return s.proto3Optional!=null&&(A.proto3Optional=!!s.proto3Optional),A},X.toObject=function(s,A){var I={};return(A=A||{}).defaults&&(I.name="",I.extendee="",I.number=0,I.label=A.enums===String?"LABEL_OPTIONAL":1,I.type=A.enums===String?"TYPE_DOUBLE":1,I.typeName="",I.defaultValue="",I.options=null,I.oneofIndex=0,I.jsonName="",I.proto3Optional=!1),s.name!=null&&s.hasOwnProperty("name")&&(I.name=s.name),s.extendee!=null&&s.hasOwnProperty("extendee")&&(I.extendee=s.extendee),s.number!=null&&s.hasOwnProperty("number")&&(I.number=s.number),s.label!=null&&s.hasOwnProperty("label")&&(I.label=A.enums===String?m.google.protobuf.FieldDescriptorProto.Label[s.label]:s.label),s.type!=null&&s.hasOwnProperty("type")&&(I.type=A.enums===String?m.google.protobuf.FieldDescriptorProto.Type[s.type]:s.type),s.typeName!=null&&s.hasOwnProperty("typeName")&&(I.typeName=s.typeName),s.defaultValue!=null&&s.hasOwnProperty("defaultValue")&&(I.defaultValue=s.defaultValue),s.options!=null&&s.hasOwnProperty("options")&&(I.options=m.google.protobuf.FieldOptions.toObject(s.options,A)),s.oneofIndex!=null&&s.hasOwnProperty("oneofIndex")&&(I.oneofIndex=s.oneofIndex),s.jsonName!=null&&s.hasOwnProperty("jsonName")&&(I.jsonName=s.jsonName),s.proto3Optional!=null&&s.hasOwnProperty("proto3Optional")&&(I.proto3Optional=s.proto3Optional),I},X.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},X.Type=(p={},(r=Object.create(p))[p[1]="TYPE_DOUBLE"]=1,r[p[2]="TYPE_FLOAT"]=2,r[p[3]="TYPE_INT64"]=3,r[p[4]="TYPE_UINT64"]=4,r[p[5]="TYPE_INT32"]=5,r[p[6]="TYPE_FIXED64"]=6,r[p[7]="TYPE_FIXED32"]=7,r[p[8]="TYPE_BOOL"]=8,r[p[9]="TYPE_STRING"]=9,r[p[10]="TYPE_GROUP"]=10,r[p[11]="TYPE_MESSAGE"]=11,r[p[12]="TYPE_BYTES"]=12,r[p[13]="TYPE_UINT32"]=13,r[p[14]="TYPE_ENUM"]=14,r[p[15]="TYPE_SFIXED32"]=15,r[p[16]="TYPE_SFIXED64"]=16,r[p[17]="TYPE_SINT32"]=17,r[p[18]="TYPE_SINT64"]=18,r),X.Label=(p={},(r=Object.create(p))[p[1]="LABEL_OPTIONAL"]=1,r[p[2]="LABEL_REQUIRED"]=2,r[p[3]="LABEL_REPEATED"]=3,r),X),u.OneofDescriptorProto=(te.prototype.name="",te.prototype.options=null,te.create=function(s){return new te(s)},te.encode=function(s,A){return A=A||c.create(),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&A.uint32(10).string(s.name),s.options!=null&&Object.hasOwnProperty.call(s,"options")&&m.google.protobuf.OneofOptions.encode(s.options,A.uint32(18).fork()).ldelim(),A},te.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},te.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.OneofDescriptorProto;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.name=s.string();break;case 2:n.options=m.google.protobuf.OneofOptions.decode(s,s.uint32());break;default:s.skipType(7&R)}}return n},te.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},te.verify=function(s){return typeof s!="object"||s===null?"object expected":s.name!=null&&s.hasOwnProperty("name")&&!d.isString(s.name)?"name: string expected":s.options!=null&&s.hasOwnProperty("options")&&(s=m.google.protobuf.OneofOptions.verify(s.options),s)?"options."+s:null},te.fromObject=function(s){if(s instanceof m.google.protobuf.OneofDescriptorProto)return s;var A=new m.google.protobuf.OneofDescriptorProto;if(s.name!=null&&(A.name=String(s.name)),s.options!=null){if(typeof s.options!="object")throw TypeError(".google.protobuf.OneofDescriptorProto.options: object expected");A.options=m.google.protobuf.OneofOptions.fromObject(s.options)}return A},te.toObject=function(s,A){var I={};return(A=A||{}).defaults&&(I.name="",I.options=null),s.name!=null&&s.hasOwnProperty("name")&&(I.name=s.name),s.options!=null&&s.hasOwnProperty("options")&&(I.options=m.google.protobuf.OneofOptions.toObject(s.options,A)),I},te.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},te),u.EnumDescriptorProto=(be.prototype.name="",be.prototype.value=d.emptyArray,be.prototype.options=null,be.prototype.reservedRange=d.emptyArray,be.prototype.reservedName=d.emptyArray,be.create=function(s){return new be(s)},be.encode=function(s,A){if(A=A||c.create(),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&A.uint32(10).string(s.name),s.value!=null&&s.value.length)for(var I=0;I<s.value.length;++I)m.google.protobuf.EnumValueDescriptorProto.encode(s.value[I],A.uint32(18).fork()).ldelim();if(s.options!=null&&Object.hasOwnProperty.call(s,"options")&&m.google.protobuf.EnumOptions.encode(s.options,A.uint32(26).fork()).ldelim(),s.reservedRange!=null&&s.reservedRange.length)for(I=0;I<s.reservedRange.length;++I)m.google.protobuf.EnumDescriptorProto.EnumReservedRange.encode(s.reservedRange[I],A.uint32(34).fork()).ldelim();if(s.reservedName!=null&&s.reservedName.length)for(I=0;I<s.reservedName.length;++I)A.uint32(42).string(s.reservedName[I]);return A},be.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},be.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.EnumDescriptorProto;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.name=s.string();break;case 2:n.value&&n.value.length||(n.value=[]),n.value.push(m.google.protobuf.EnumValueDescriptorProto.decode(s,s.uint32()));break;case 3:n.options=m.google.protobuf.EnumOptions.decode(s,s.uint32());break;case 4:n.reservedRange&&n.reservedRange.length||(n.reservedRange=[]),n.reservedRange.push(m.google.protobuf.EnumDescriptorProto.EnumReservedRange.decode(s,s.uint32()));break;case 5:n.reservedName&&n.reservedName.length||(n.reservedName=[]),n.reservedName.push(s.string());break;default:s.skipType(7&R)}}return n},be.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},be.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.name!=null&&s.hasOwnProperty("name")&&!d.isString(s.name))return"name: string expected";if(s.value!=null&&s.hasOwnProperty("value")){if(!Array.isArray(s.value))return"value: array expected";for(var A=0;A<s.value.length;++A)if(I=m.google.protobuf.EnumValueDescriptorProto.verify(s.value[A]))return"value."+I}if(s.options!=null&&s.hasOwnProperty("options")&&(I=m.google.protobuf.EnumOptions.verify(s.options)))return"options."+I;if(s.reservedRange!=null&&s.hasOwnProperty("reservedRange")){if(!Array.isArray(s.reservedRange))return"reservedRange: array expected";for(var I,A=0;A<s.reservedRange.length;++A)if(I=m.google.protobuf.EnumDescriptorProto.EnumReservedRange.verify(s.reservedRange[A]))return"reservedRange."+I}if(s.reservedName!=null&&s.hasOwnProperty("reservedName")){if(!Array.isArray(s.reservedName))return"reservedName: array expected";for(A=0;A<s.reservedName.length;++A)if(!d.isString(s.reservedName[A]))return"reservedName: string[] expected"}return null},be.fromObject=function(s){if(s instanceof m.google.protobuf.EnumDescriptorProto)return s;var A=new m.google.protobuf.EnumDescriptorProto;if(s.name!=null&&(A.name=String(s.name)),s.value){if(!Array.isArray(s.value))throw TypeError(".google.protobuf.EnumDescriptorProto.value: array expected");A.value=[];for(var I=0;I<s.value.length;++I){if(typeof s.value[I]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.value: object expected");A.value[I]=m.google.protobuf.EnumValueDescriptorProto.fromObject(s.value[I])}}if(s.options!=null){if(typeof s.options!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.options: object expected");A.options=m.google.protobuf.EnumOptions.fromObject(s.options)}if(s.reservedRange){if(!Array.isArray(s.reservedRange))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: array expected");for(A.reservedRange=[],I=0;I<s.reservedRange.length;++I){if(typeof s.reservedRange[I]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: object expected");A.reservedRange[I]=m.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(s.reservedRange[I])}}if(s.reservedName){if(!Array.isArray(s.reservedName))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedName: array expected");for(A.reservedName=[],I=0;I<s.reservedName.length;++I)A.reservedName[I]=String(s.reservedName[I])}return A},be.toObject=function(s,A){var I={};if(((A=A||{}).arrays||A.defaults)&&(I.value=[],I.reservedRange=[],I.reservedName=[]),A.defaults&&(I.name="",I.options=null),s.name!=null&&s.hasOwnProperty("name")&&(I.name=s.name),s.value&&s.value.length){I.value=[];for(var n=0;n<s.value.length;++n)I.value[n]=m.google.protobuf.EnumValueDescriptorProto.toObject(s.value[n],A)}if(s.options!=null&&s.hasOwnProperty("options")&&(I.options=m.google.protobuf.EnumOptions.toObject(s.options,A)),s.reservedRange&&s.reservedRange.length)for(I.reservedRange=[],n=0;n<s.reservedRange.length;++n)I.reservedRange[n]=m.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(s.reservedRange[n],A);if(s.reservedName&&s.reservedName.length)for(I.reservedName=[],n=0;n<s.reservedName.length;++n)I.reservedName[n]=s.reservedName[n];return I},be.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},be.EnumReservedRange=(Ae.prototype.start=0,Ae.prototype.end=0,Ae.create=function(s){return new Ae(s)},Ae.encode=function(s,A){return A=A||c.create(),s.start!=null&&Object.hasOwnProperty.call(s,"start")&&A.uint32(8).int32(s.start),s.end!=null&&Object.hasOwnProperty.call(s,"end")&&A.uint32(16).int32(s.end),A},Ae.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},Ae.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.EnumDescriptorProto.EnumReservedRange;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.start=s.int32();break;case 2:n.end=s.int32();break;default:s.skipType(7&R)}}return n},Ae.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},Ae.verify=function(s){return typeof s!="object"||s===null?"object expected":s.start!=null&&s.hasOwnProperty("start")&&!d.isInteger(s.start)?"start: integer expected":s.end!=null&&s.hasOwnProperty("end")&&!d.isInteger(s.end)?"end: integer expected":null},Ae.fromObject=function(s){var A;return s instanceof m.google.protobuf.EnumDescriptorProto.EnumReservedRange?s:(A=new m.google.protobuf.EnumDescriptorProto.EnumReservedRange,s.start!=null&&(A.start=0|s.start),s.end!=null&&(A.end=0|s.end),A)},Ae.toObject=function(s,A){var I={};return(A=A||{}).defaults&&(I.start=0,I.end=0),s.start!=null&&s.hasOwnProperty("start")&&(I.start=s.start),s.end!=null&&s.hasOwnProperty("end")&&(I.end=s.end),I},Ae.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ae),be),u.EnumValueDescriptorProto=(Ne.prototype.name="",Ne.prototype.number=0,Ne.prototype.options=null,Ne.create=function(s){return new Ne(s)},Ne.encode=function(s,A){return A=A||c.create(),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&A.uint32(10).string(s.name),s.number!=null&&Object.hasOwnProperty.call(s,"number")&&A.uint32(16).int32(s.number),s.options!=null&&Object.hasOwnProperty.call(s,"options")&&m.google.protobuf.EnumValueOptions.encode(s.options,A.uint32(26).fork()).ldelim(),A},Ne.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},Ne.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.EnumValueDescriptorProto;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.name=s.string();break;case 2:n.number=s.int32();break;case 3:n.options=m.google.protobuf.EnumValueOptions.decode(s,s.uint32());break;default:s.skipType(7&R)}}return n},Ne.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},Ne.verify=function(s){return typeof s!="object"||s===null?"object expected":s.name!=null&&s.hasOwnProperty("name")&&!d.isString(s.name)?"name: string expected":s.number!=null&&s.hasOwnProperty("number")&&!d.isInteger(s.number)?"number: integer expected":s.options!=null&&s.hasOwnProperty("options")&&(s=m.google.protobuf.EnumValueOptions.verify(s.options),s)?"options."+s:null},Ne.fromObject=function(s){if(s instanceof m.google.protobuf.EnumValueDescriptorProto)return s;var A=new m.google.protobuf.EnumValueDescriptorProto;if(s.name!=null&&(A.name=String(s.name)),s.number!=null&&(A.number=0|s.number),s.options!=null){if(typeof s.options!="object")throw TypeError(".google.protobuf.EnumValueDescriptorProto.options: object expected");A.options=m.google.protobuf.EnumValueOptions.fromObject(s.options)}return A},Ne.toObject=function(s,A){var I={};return(A=A||{}).defaults&&(I.name="",I.number=0,I.options=null),s.name!=null&&s.hasOwnProperty("name")&&(I.name=s.name),s.number!=null&&s.hasOwnProperty("number")&&(I.number=s.number),s.options!=null&&s.hasOwnProperty("options")&&(I.options=m.google.protobuf.EnumValueOptions.toObject(s.options,A)),I},Ne.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ne),u.ServiceDescriptorProto=(ke.prototype.name="",ke.prototype.method=d.emptyArray,ke.prototype.options=null,ke.create=function(s){return new ke(s)},ke.encode=function(s,A){if(A=A||c.create(),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&A.uint32(10).string(s.name),s.method!=null&&s.method.length)for(var I=0;I<s.method.length;++I)m.google.protobuf.MethodDescriptorProto.encode(s.method[I],A.uint32(18).fork()).ldelim();return s.options!=null&&Object.hasOwnProperty.call(s,"options")&&m.google.protobuf.ServiceOptions.encode(s.options,A.uint32(26).fork()).ldelim(),A},ke.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},ke.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.ServiceDescriptorProto;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.name=s.string();break;case 2:n.method&&n.method.length||(n.method=[]),n.method.push(m.google.protobuf.MethodDescriptorProto.decode(s,s.uint32()));break;case 3:n.options=m.google.protobuf.ServiceOptions.decode(s,s.uint32());break;default:s.skipType(7&R)}}return n},ke.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},ke.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.name!=null&&s.hasOwnProperty("name")&&!d.isString(s.name))return"name: string expected";if(s.method!=null&&s.hasOwnProperty("method")){if(!Array.isArray(s.method))return"method: array expected";for(var A=0;A<s.method.length;++A)if(I=m.google.protobuf.MethodDescriptorProto.verify(s.method[A]))return"method."+I}var I;return s.options!=null&&s.hasOwnProperty("options")&&(I=m.google.protobuf.ServiceOptions.verify(s.options))?"options."+I:null},ke.fromObject=function(s){if(s instanceof m.google.protobuf.ServiceDescriptorProto)return s;var A=new m.google.protobuf.ServiceDescriptorProto;if(s.name!=null&&(A.name=String(s.name)),s.method){if(!Array.isArray(s.method))throw TypeError(".google.protobuf.ServiceDescriptorProto.method: array expected");A.method=[];for(var I=0;I<s.method.length;++I){if(typeof s.method[I]!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.method: object expected");A.method[I]=m.google.protobuf.MethodDescriptorProto.fromObject(s.method[I])}}if(s.options!=null){if(typeof s.options!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.options: object expected");A.options=m.google.protobuf.ServiceOptions.fromObject(s.options)}return A},ke.toObject=function(s,A){var I={};if(((A=A||{}).arrays||A.defaults)&&(I.method=[]),A.defaults&&(I.name="",I.options=null),s.name!=null&&s.hasOwnProperty("name")&&(I.name=s.name),s.method&&s.method.length){I.method=[];for(var n=0;n<s.method.length;++n)I.method[n]=m.google.protobuf.MethodDescriptorProto.toObject(s.method[n],A)}return s.options!=null&&s.hasOwnProperty("options")&&(I.options=m.google.protobuf.ServiceOptions.toObject(s.options,A)),I},ke.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ke),u.MethodDescriptorProto=(Ue.prototype.name="",Ue.prototype.inputType="",Ue.prototype.outputType="",Ue.prototype.options=null,Ue.prototype.clientStreaming=!1,Ue.prototype.serverStreaming=!1,Ue.create=function(s){return new Ue(s)},Ue.encode=function(s,A){return A=A||c.create(),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&A.uint32(10).string(s.name),s.inputType!=null&&Object.hasOwnProperty.call(s,"inputType")&&A.uint32(18).string(s.inputType),s.outputType!=null&&Object.hasOwnProperty.call(s,"outputType")&&A.uint32(26).string(s.outputType),s.options!=null&&Object.hasOwnProperty.call(s,"options")&&m.google.protobuf.MethodOptions.encode(s.options,A.uint32(34).fork()).ldelim(),s.clientStreaming!=null&&Object.hasOwnProperty.call(s,"clientStreaming")&&A.uint32(40).bool(s.clientStreaming),s.serverStreaming!=null&&Object.hasOwnProperty.call(s,"serverStreaming")&&A.uint32(48).bool(s.serverStreaming),A},Ue.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},Ue.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.MethodDescriptorProto;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.name=s.string();break;case 2:n.inputType=s.string();break;case 3:n.outputType=s.string();break;case 4:n.options=m.google.protobuf.MethodOptions.decode(s,s.uint32());break;case 5:n.clientStreaming=s.bool();break;case 6:n.serverStreaming=s.bool();break;default:s.skipType(7&R)}}return n},Ue.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},Ue.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.name!=null&&s.hasOwnProperty("name")&&!d.isString(s.name))return"name: string expected";if(s.inputType!=null&&s.hasOwnProperty("inputType")&&!d.isString(s.inputType))return"inputType: string expected";if(s.outputType!=null&&s.hasOwnProperty("outputType")&&!d.isString(s.outputType))return"outputType: string expected";if(s.options!=null&&s.hasOwnProperty("options")){var A=m.google.protobuf.MethodOptions.verify(s.options);if(A)return"options."+A}return s.clientStreaming!=null&&s.hasOwnProperty("clientStreaming")&&typeof s.clientStreaming!="boolean"?"clientStreaming: boolean expected":s.serverStreaming!=null&&s.hasOwnProperty("serverStreaming")&&typeof s.serverStreaming!="boolean"?"serverStreaming: boolean expected":null},Ue.fromObject=function(s){if(s instanceof m.google.protobuf.MethodDescriptorProto)return s;var A=new m.google.protobuf.MethodDescriptorProto;if(s.name!=null&&(A.name=String(s.name)),s.inputType!=null&&(A.inputType=String(s.inputType)),s.outputType!=null&&(A.outputType=String(s.outputType)),s.options!=null){if(typeof s.options!="object")throw TypeError(".google.protobuf.MethodDescriptorProto.options: object expected");A.options=m.google.protobuf.MethodOptions.fromObject(s.options)}return s.clientStreaming!=null&&(A.clientStreaming=!!s.clientStreaming),s.serverStreaming!=null&&(A.serverStreaming=!!s.serverStreaming),A},Ue.toObject=function(s,A){var I={};return(A=A||{}).defaults&&(I.name="",I.inputType="",I.outputType="",I.options=null,I.clientStreaming=!1,I.serverStreaming=!1),s.name!=null&&s.hasOwnProperty("name")&&(I.name=s.name),s.inputType!=null&&s.hasOwnProperty("inputType")&&(I.inputType=s.inputType),s.outputType!=null&&s.hasOwnProperty("outputType")&&(I.outputType=s.outputType),s.options!=null&&s.hasOwnProperty("options")&&(I.options=m.google.protobuf.MethodOptions.toObject(s.options,A)),s.clientStreaming!=null&&s.hasOwnProperty("clientStreaming")&&(I.clientStreaming=s.clientStreaming),s.serverStreaming!=null&&s.hasOwnProperty("serverStreaming")&&(I.serverStreaming=s.serverStreaming),I},Ue.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ue),u.FileOptions=(qe.prototype.javaPackage="",qe.prototype.javaOuterClassname="",qe.prototype.javaMultipleFiles=!1,qe.prototype.javaGenerateEqualsAndHash=!1,qe.prototype.javaStringCheckUtf8=!1,qe.prototype.optimizeFor=1,qe.prototype.goPackage="",qe.prototype.ccGenericServices=!1,qe.prototype.javaGenericServices=!1,qe.prototype.pyGenericServices=!1,qe.prototype.phpGenericServices=!1,qe.prototype.deprecated=!1,qe.prototype.ccEnableArenas=!0,qe.prototype.objcClassPrefix="",qe.prototype.csharpNamespace="",qe.prototype.swiftPrefix="",qe.prototype.phpClassPrefix="",qe.prototype.phpNamespace="",qe.prototype.phpMetadataNamespace="",qe.prototype.rubyPackage="",qe.prototype.uninterpretedOption=d.emptyArray,qe.create=function(s){return new qe(s)},qe.encode=function(s,A){if(A=A||c.create(),s.javaPackage!=null&&Object.hasOwnProperty.call(s,"javaPackage")&&A.uint32(10).string(s.javaPackage),s.javaOuterClassname!=null&&Object.hasOwnProperty.call(s,"javaOuterClassname")&&A.uint32(66).string(s.javaOuterClassname),s.optimizeFor!=null&&Object.hasOwnProperty.call(s,"optimizeFor")&&A.uint32(72).int32(s.optimizeFor),s.javaMultipleFiles!=null&&Object.hasOwnProperty.call(s,"javaMultipleFiles")&&A.uint32(80).bool(s.javaMultipleFiles),s.goPackage!=null&&Object.hasOwnProperty.call(s,"goPackage")&&A.uint32(90).string(s.goPackage),s.ccGenericServices!=null&&Object.hasOwnProperty.call(s,"ccGenericServices")&&A.uint32(128).bool(s.ccGenericServices),s.javaGenericServices!=null&&Object.hasOwnProperty.call(s,"javaGenericServices")&&A.uint32(136).bool(s.javaGenericServices),s.pyGenericServices!=null&&Object.hasOwnProperty.call(s,"pyGenericServices")&&A.uint32(144).bool(s.pyGenericServices),s.javaGenerateEqualsAndHash!=null&&Object.hasOwnProperty.call(s,"javaGenerateEqualsAndHash")&&A.uint32(160).bool(s.javaGenerateEqualsAndHash),s.deprecated!=null&&Object.hasOwnProperty.call(s,"deprecated")&&A.uint32(184).bool(s.deprecated),s.javaStringCheckUtf8!=null&&Object.hasOwnProperty.call(s,"javaStringCheckUtf8")&&A.uint32(216).bool(s.javaStringCheckUtf8),s.ccEnableArenas!=null&&Object.hasOwnProperty.call(s,"ccEnableArenas")&&A.uint32(248).bool(s.ccEnableArenas),s.objcClassPrefix!=null&&Object.hasOwnProperty.call(s,"objcClassPrefix")&&A.uint32(290).string(s.objcClassPrefix),s.csharpNamespace!=null&&Object.hasOwnProperty.call(s,"csharpNamespace")&&A.uint32(298).string(s.csharpNamespace),s.swiftPrefix!=null&&Object.hasOwnProperty.call(s,"swiftPrefix")&&A.uint32(314).string(s.swiftPrefix),s.phpClassPrefix!=null&&Object.hasOwnProperty.call(s,"phpClassPrefix")&&A.uint32(322).string(s.phpClassPrefix),s.phpNamespace!=null&&Object.hasOwnProperty.call(s,"phpNamespace")&&A.uint32(330).string(s.phpNamespace),s.phpGenericServices!=null&&Object.hasOwnProperty.call(s,"phpGenericServices")&&A.uint32(336).bool(s.phpGenericServices),s.phpMetadataNamespace!=null&&Object.hasOwnProperty.call(s,"phpMetadataNamespace")&&A.uint32(354).string(s.phpMetadataNamespace),s.rubyPackage!=null&&Object.hasOwnProperty.call(s,"rubyPackage")&&A.uint32(362).string(s.rubyPackage),s.uninterpretedOption!=null&&s.uninterpretedOption.length)for(var I=0;I<s.uninterpretedOption.length;++I)m.google.protobuf.UninterpretedOption.encode(s.uninterpretedOption[I],A.uint32(7994).fork()).ldelim();return A},qe.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},qe.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.FileOptions;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.javaPackage=s.string();break;case 8:n.javaOuterClassname=s.string();break;case 10:n.javaMultipleFiles=s.bool();break;case 20:n.javaGenerateEqualsAndHash=s.bool();break;case 27:n.javaStringCheckUtf8=s.bool();break;case 9:n.optimizeFor=s.int32();break;case 11:n.goPackage=s.string();break;case 16:n.ccGenericServices=s.bool();break;case 17:n.javaGenericServices=s.bool();break;case 18:n.pyGenericServices=s.bool();break;case 42:n.phpGenericServices=s.bool();break;case 23:n.deprecated=s.bool();break;case 31:n.ccEnableArenas=s.bool();break;case 36:n.objcClassPrefix=s.string();break;case 37:n.csharpNamespace=s.string();break;case 39:n.swiftPrefix=s.string();break;case 40:n.phpClassPrefix=s.string();break;case 41:n.phpNamespace=s.string();break;case 44:n.phpMetadataNamespace=s.string();break;case 45:n.rubyPackage=s.string();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(m.google.protobuf.UninterpretedOption.decode(s,s.uint32()));break;default:s.skipType(7&R)}}return n},qe.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},qe.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.javaPackage!=null&&s.hasOwnProperty("javaPackage")&&!d.isString(s.javaPackage))return"javaPackage: string expected";if(s.javaOuterClassname!=null&&s.hasOwnProperty("javaOuterClassname")&&!d.isString(s.javaOuterClassname))return"javaOuterClassname: string expected";if(s.javaMultipleFiles!=null&&s.hasOwnProperty("javaMultipleFiles")&&typeof s.javaMultipleFiles!="boolean")return"javaMultipleFiles: boolean expected";if(s.javaGenerateEqualsAndHash!=null&&s.hasOwnProperty("javaGenerateEqualsAndHash")&&typeof s.javaGenerateEqualsAndHash!="boolean")return"javaGenerateEqualsAndHash: boolean expected";if(s.javaStringCheckUtf8!=null&&s.hasOwnProperty("javaStringCheckUtf8")&&typeof s.javaStringCheckUtf8!="boolean")return"javaStringCheckUtf8: boolean expected";if(s.optimizeFor!=null&&s.hasOwnProperty("optimizeFor"))switch(s.optimizeFor){default:return"optimizeFor: enum value expected";case 1:case 2:case 3:}if(s.goPackage!=null&&s.hasOwnProperty("goPackage")&&!d.isString(s.goPackage))return"goPackage: string expected";if(s.ccGenericServices!=null&&s.hasOwnProperty("ccGenericServices")&&typeof s.ccGenericServices!="boolean")return"ccGenericServices: boolean expected";if(s.javaGenericServices!=null&&s.hasOwnProperty("javaGenericServices")&&typeof s.javaGenericServices!="boolean")return"javaGenericServices: boolean expected";if(s.pyGenericServices!=null&&s.hasOwnProperty("pyGenericServices")&&typeof s.pyGenericServices!="boolean")return"pyGenericServices: boolean expected";if(s.phpGenericServices!=null&&s.hasOwnProperty("phpGenericServices")&&typeof s.phpGenericServices!="boolean")return"phpGenericServices: boolean expected";if(s.deprecated!=null&&s.hasOwnProperty("deprecated")&&typeof s.deprecated!="boolean")return"deprecated: boolean expected";if(s.ccEnableArenas!=null&&s.hasOwnProperty("ccEnableArenas")&&typeof s.ccEnableArenas!="boolean")return"ccEnableArenas: boolean expected";if(s.objcClassPrefix!=null&&s.hasOwnProperty("objcClassPrefix")&&!d.isString(s.objcClassPrefix))return"objcClassPrefix: string expected";if(s.csharpNamespace!=null&&s.hasOwnProperty("csharpNamespace")&&!d.isString(s.csharpNamespace))return"csharpNamespace: string expected";if(s.swiftPrefix!=null&&s.hasOwnProperty("swiftPrefix")&&!d.isString(s.swiftPrefix))return"swiftPrefix: string expected";if(s.phpClassPrefix!=null&&s.hasOwnProperty("phpClassPrefix")&&!d.isString(s.phpClassPrefix))return"phpClassPrefix: string expected";if(s.phpNamespace!=null&&s.hasOwnProperty("phpNamespace")&&!d.isString(s.phpNamespace))return"phpNamespace: string expected";if(s.phpMetadataNamespace!=null&&s.hasOwnProperty("phpMetadataNamespace")&&!d.isString(s.phpMetadataNamespace))return"phpMetadataNamespace: string expected";if(s.rubyPackage!=null&&s.hasOwnProperty("rubyPackage")&&!d.isString(s.rubyPackage))return"rubyPackage: string expected";if(s.uninterpretedOption!=null&&s.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(s.uninterpretedOption))return"uninterpretedOption: array expected";for(var A=0;A<s.uninterpretedOption.length;++A){var I=m.google.protobuf.UninterpretedOption.verify(s.uninterpretedOption[A]);if(I)return"uninterpretedOption."+I}}return null},qe.fromObject=function(s){if(s instanceof m.google.protobuf.FileOptions)return s;var A=new m.google.protobuf.FileOptions;switch(s.javaPackage!=null&&(A.javaPackage=String(s.javaPackage)),s.javaOuterClassname!=null&&(A.javaOuterClassname=String(s.javaOuterClassname)),s.javaMultipleFiles!=null&&(A.javaMultipleFiles=!!s.javaMultipleFiles),s.javaGenerateEqualsAndHash!=null&&(A.javaGenerateEqualsAndHash=!!s.javaGenerateEqualsAndHash),s.javaStringCheckUtf8!=null&&(A.javaStringCheckUtf8=!!s.javaStringCheckUtf8),s.optimizeFor){case"SPEED":case 1:A.optimizeFor=1;break;case"CODE_SIZE":case 2:A.optimizeFor=2;break;case"LITE_RUNTIME":case 3:A.optimizeFor=3}if(s.goPackage!=null&&(A.goPackage=String(s.goPackage)),s.ccGenericServices!=null&&(A.ccGenericServices=!!s.ccGenericServices),s.javaGenericServices!=null&&(A.javaGenericServices=!!s.javaGenericServices),s.pyGenericServices!=null&&(A.pyGenericServices=!!s.pyGenericServices),s.phpGenericServices!=null&&(A.phpGenericServices=!!s.phpGenericServices),s.deprecated!=null&&(A.deprecated=!!s.deprecated),s.ccEnableArenas!=null&&(A.ccEnableArenas=!!s.ccEnableArenas),s.objcClassPrefix!=null&&(A.objcClassPrefix=String(s.objcClassPrefix)),s.csharpNamespace!=null&&(A.csharpNamespace=String(s.csharpNamespace)),s.swiftPrefix!=null&&(A.swiftPrefix=String(s.swiftPrefix)),s.phpClassPrefix!=null&&(A.phpClassPrefix=String(s.phpClassPrefix)),s.phpNamespace!=null&&(A.phpNamespace=String(s.phpNamespace)),s.phpMetadataNamespace!=null&&(A.phpMetadataNamespace=String(s.phpMetadataNamespace)),s.rubyPackage!=null&&(A.rubyPackage=String(s.rubyPackage)),s.uninterpretedOption){if(!Array.isArray(s.uninterpretedOption))throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: array expected");A.uninterpretedOption=[];for(var I=0;I<s.uninterpretedOption.length;++I){if(typeof s.uninterpretedOption[I]!="object")throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: object expected");A.uninterpretedOption[I]=m.google.protobuf.UninterpretedOption.fromObject(s.uninterpretedOption[I])}}return A},qe.toObject=function(s,A){var I={};if(((A=A||{}).arrays||A.defaults)&&(I.uninterpretedOption=[]),A.defaults&&(I.javaPackage="",I.javaOuterClassname="",I.optimizeFor=A.enums===String?"SPEED":1,I.javaMultipleFiles=!1,I.goPackage="",I.ccGenericServices=!1,I.javaGenericServices=!1,I.pyGenericServices=!1,I.javaGenerateEqualsAndHash=!1,I.deprecated=!1,I.javaStringCheckUtf8=!1,I.ccEnableArenas=!0,I.objcClassPrefix="",I.csharpNamespace="",I.swiftPrefix="",I.phpClassPrefix="",I.phpNamespace="",I.phpGenericServices=!1,I.phpMetadataNamespace="",I.rubyPackage=""),s.javaPackage!=null&&s.hasOwnProperty("javaPackage")&&(I.javaPackage=s.javaPackage),s.javaOuterClassname!=null&&s.hasOwnProperty("javaOuterClassname")&&(I.javaOuterClassname=s.javaOuterClassname),s.optimizeFor!=null&&s.hasOwnProperty("optimizeFor")&&(I.optimizeFor=A.enums===String?m.google.protobuf.FileOptions.OptimizeMode[s.optimizeFor]:s.optimizeFor),s.javaMultipleFiles!=null&&s.hasOwnProperty("javaMultipleFiles")&&(I.javaMultipleFiles=s.javaMultipleFiles),s.goPackage!=null&&s.hasOwnProperty("goPackage")&&(I.goPackage=s.goPackage),s.ccGenericServices!=null&&s.hasOwnProperty("ccGenericServices")&&(I.ccGenericServices=s.ccGenericServices),s.javaGenericServices!=null&&s.hasOwnProperty("javaGenericServices")&&(I.javaGenericServices=s.javaGenericServices),s.pyGenericServices!=null&&s.hasOwnProperty("pyGenericServices")&&(I.pyGenericServices=s.pyGenericServices),s.javaGenerateEqualsAndHash!=null&&s.hasOwnProperty("javaGenerateEqualsAndHash")&&(I.javaGenerateEqualsAndHash=s.javaGenerateEqualsAndHash),s.deprecated!=null&&s.hasOwnProperty("deprecated")&&(I.deprecated=s.deprecated),s.javaStringCheckUtf8!=null&&s.hasOwnProperty("javaStringCheckUtf8")&&(I.javaStringCheckUtf8=s.javaStringCheckUtf8),s.ccEnableArenas!=null&&s.hasOwnProperty("ccEnableArenas")&&(I.ccEnableArenas=s.ccEnableArenas),s.objcClassPrefix!=null&&s.hasOwnProperty("objcClassPrefix")&&(I.objcClassPrefix=s.objcClassPrefix),s.csharpNamespace!=null&&s.hasOwnProperty("csharpNamespace")&&(I.csharpNamespace=s.csharpNamespace),s.swiftPrefix!=null&&s.hasOwnProperty("swiftPrefix")&&(I.swiftPrefix=s.swiftPrefix),s.phpClassPrefix!=null&&s.hasOwnProperty("phpClassPrefix")&&(I.phpClassPrefix=s.phpClassPrefix),s.phpNamespace!=null&&s.hasOwnProperty("phpNamespace")&&(I.phpNamespace=s.phpNamespace),s.phpGenericServices!=null&&s.hasOwnProperty("phpGenericServices")&&(I.phpGenericServices=s.phpGenericServices),s.phpMetadataNamespace!=null&&s.hasOwnProperty("phpMetadataNamespace")&&(I.phpMetadataNamespace=s.phpMetadataNamespace),s.rubyPackage!=null&&s.hasOwnProperty("rubyPackage")&&(I.rubyPackage=s.rubyPackage),s.uninterpretedOption&&s.uninterpretedOption.length){I.uninterpretedOption=[];for(var n=0;n<s.uninterpretedOption.length;++n)I.uninterpretedOption[n]=m.google.protobuf.UninterpretedOption.toObject(s.uninterpretedOption[n],A)}return I},qe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},qe.OptimizeMode=(p={},(r=Object.create(p))[p[1]="SPEED"]=1,r[p[2]="CODE_SIZE"]=2,r[p[3]="LITE_RUNTIME"]=3,r),qe),u.MessageOptions=(Ge.prototype.messageSetWireFormat=!1,Ge.prototype.noStandardDescriptorAccessor=!1,Ge.prototype.deprecated=!1,Ge.prototype.mapEntry=!1,Ge.prototype.uninterpretedOption=d.emptyArray,Ge.create=function(s){return new Ge(s)},Ge.encode=function(s,A){if(A=A||c.create(),s.messageSetWireFormat!=null&&Object.hasOwnProperty.call(s,"messageSetWireFormat")&&A.uint32(8).bool(s.messageSetWireFormat),s.noStandardDescriptorAccessor!=null&&Object.hasOwnProperty.call(s,"noStandardDescriptorAccessor")&&A.uint32(16).bool(s.noStandardDescriptorAccessor),s.deprecated!=null&&Object.hasOwnProperty.call(s,"deprecated")&&A.uint32(24).bool(s.deprecated),s.mapEntry!=null&&Object.hasOwnProperty.call(s,"mapEntry")&&A.uint32(56).bool(s.mapEntry),s.uninterpretedOption!=null&&s.uninterpretedOption.length)for(var I=0;I<s.uninterpretedOption.length;++I)m.google.protobuf.UninterpretedOption.encode(s.uninterpretedOption[I],A.uint32(7994).fork()).ldelim();return A},Ge.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},Ge.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.MessageOptions;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.messageSetWireFormat=s.bool();break;case 2:n.noStandardDescriptorAccessor=s.bool();break;case 3:n.deprecated=s.bool();break;case 7:n.mapEntry=s.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(m.google.protobuf.UninterpretedOption.decode(s,s.uint32()));break;default:s.skipType(7&R)}}return n},Ge.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},Ge.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.messageSetWireFormat!=null&&s.hasOwnProperty("messageSetWireFormat")&&typeof s.messageSetWireFormat!="boolean")return"messageSetWireFormat: boolean expected";if(s.noStandardDescriptorAccessor!=null&&s.hasOwnProperty("noStandardDescriptorAccessor")&&typeof s.noStandardDescriptorAccessor!="boolean")return"noStandardDescriptorAccessor: boolean expected";if(s.deprecated!=null&&s.hasOwnProperty("deprecated")&&typeof s.deprecated!="boolean")return"deprecated: boolean expected";if(s.mapEntry!=null&&s.hasOwnProperty("mapEntry")&&typeof s.mapEntry!="boolean")return"mapEntry: boolean expected";if(s.uninterpretedOption!=null&&s.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(s.uninterpretedOption))return"uninterpretedOption: array expected";for(var A=0;A<s.uninterpretedOption.length;++A){var I=m.google.protobuf.UninterpretedOption.verify(s.uninterpretedOption[A]);if(I)return"uninterpretedOption."+I}}return null},Ge.fromObject=function(s){if(s instanceof m.google.protobuf.MessageOptions)return s;var A=new m.google.protobuf.MessageOptions;if(s.messageSetWireFormat!=null&&(A.messageSetWireFormat=!!s.messageSetWireFormat),s.noStandardDescriptorAccessor!=null&&(A.noStandardDescriptorAccessor=!!s.noStandardDescriptorAccessor),s.deprecated!=null&&(A.deprecated=!!s.deprecated),s.mapEntry!=null&&(A.mapEntry=!!s.mapEntry),s.uninterpretedOption){if(!Array.isArray(s.uninterpretedOption))throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: array expected");A.uninterpretedOption=[];for(var I=0;I<s.uninterpretedOption.length;++I){if(typeof s.uninterpretedOption[I]!="object")throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: object expected");A.uninterpretedOption[I]=m.google.protobuf.UninterpretedOption.fromObject(s.uninterpretedOption[I])}}return A},Ge.toObject=function(s,A){var I={};if(((A=A||{}).arrays||A.defaults)&&(I.uninterpretedOption=[]),A.defaults&&(I.messageSetWireFormat=!1,I.noStandardDescriptorAccessor=!1,I.deprecated=!1,I.mapEntry=!1),s.messageSetWireFormat!=null&&s.hasOwnProperty("messageSetWireFormat")&&(I.messageSetWireFormat=s.messageSetWireFormat),s.noStandardDescriptorAccessor!=null&&s.hasOwnProperty("noStandardDescriptorAccessor")&&(I.noStandardDescriptorAccessor=s.noStandardDescriptorAccessor),s.deprecated!=null&&s.hasOwnProperty("deprecated")&&(I.deprecated=s.deprecated),s.mapEntry!=null&&s.hasOwnProperty("mapEntry")&&(I.mapEntry=s.mapEntry),s.uninterpretedOption&&s.uninterpretedOption.length){I.uninterpretedOption=[];for(var n=0;n<s.uninterpretedOption.length;++n)I.uninterpretedOption[n]=m.google.protobuf.UninterpretedOption.toObject(s.uninterpretedOption[n],A)}return I},Ge.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ge),u.FieldOptions=(Qe.prototype.ctype=0,Qe.prototype.packed=!1,Qe.prototype.jstype=0,Qe.prototype.lazy=!1,Qe.prototype.deprecated=!1,Qe.prototype.weak=!1,Qe.prototype.uninterpretedOption=d.emptyArray,Qe.create=function(s){return new Qe(s)},Qe.encode=function(s,A){if(A=A||c.create(),s.ctype!=null&&Object.hasOwnProperty.call(s,"ctype")&&A.uint32(8).int32(s.ctype),s.packed!=null&&Object.hasOwnProperty.call(s,"packed")&&A.uint32(16).bool(s.packed),s.deprecated!=null&&Object.hasOwnProperty.call(s,"deprecated")&&A.uint32(24).bool(s.deprecated),s.lazy!=null&&Object.hasOwnProperty.call(s,"lazy")&&A.uint32(40).bool(s.lazy),s.jstype!=null&&Object.hasOwnProperty.call(s,"jstype")&&A.uint32(48).int32(s.jstype),s.weak!=null&&Object.hasOwnProperty.call(s,"weak")&&A.uint32(80).bool(s.weak),s.uninterpretedOption!=null&&s.uninterpretedOption.length)for(var I=0;I<s.uninterpretedOption.length;++I)m.google.protobuf.UninterpretedOption.encode(s.uninterpretedOption[I],A.uint32(7994).fork()).ldelim();return A},Qe.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},Qe.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.FieldOptions;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.ctype=s.int32();break;case 2:n.packed=s.bool();break;case 6:n.jstype=s.int32();break;case 5:n.lazy=s.bool();break;case 3:n.deprecated=s.bool();break;case 10:n.weak=s.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(m.google.protobuf.UninterpretedOption.decode(s,s.uint32()));break;default:s.skipType(7&R)}}return n},Qe.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},Qe.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.ctype!=null&&s.hasOwnProperty("ctype"))switch(s.ctype){default:return"ctype: enum value expected";case 0:case 1:case 2:}if(s.packed!=null&&s.hasOwnProperty("packed")&&typeof s.packed!="boolean")return"packed: boolean expected";if(s.jstype!=null&&s.hasOwnProperty("jstype"))switch(s.jstype){default:return"jstype: enum value expected";case 0:case 1:case 2:}if(s.lazy!=null&&s.hasOwnProperty("lazy")&&typeof s.lazy!="boolean")return"lazy: boolean expected";if(s.deprecated!=null&&s.hasOwnProperty("deprecated")&&typeof s.deprecated!="boolean")return"deprecated: boolean expected";if(s.weak!=null&&s.hasOwnProperty("weak")&&typeof s.weak!="boolean")return"weak: boolean expected";if(s.uninterpretedOption!=null&&s.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(s.uninterpretedOption))return"uninterpretedOption: array expected";for(var A=0;A<s.uninterpretedOption.length;++A){var I=m.google.protobuf.UninterpretedOption.verify(s.uninterpretedOption[A]);if(I)return"uninterpretedOption."+I}}return null},Qe.fromObject=function(s){if(s instanceof m.google.protobuf.FieldOptions)return s;var A=new m.google.protobuf.FieldOptions;switch(s.ctype){case"STRING":case 0:A.ctype=0;break;case"CORD":case 1:A.ctype=1;break;case"STRING_PIECE":case 2:A.ctype=2}switch(s.packed!=null&&(A.packed=!!s.packed),s.jstype){case"JS_NORMAL":case 0:A.jstype=0;break;case"JS_STRING":case 1:A.jstype=1;break;case"JS_NUMBER":case 2:A.jstype=2}if(s.lazy!=null&&(A.lazy=!!s.lazy),s.deprecated!=null&&(A.deprecated=!!s.deprecated),s.weak!=null&&(A.weak=!!s.weak),s.uninterpretedOption){if(!Array.isArray(s.uninterpretedOption))throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: array expected");A.uninterpretedOption=[];for(var I=0;I<s.uninterpretedOption.length;++I){if(typeof s.uninterpretedOption[I]!="object")throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: object expected");A.uninterpretedOption[I]=m.google.protobuf.UninterpretedOption.fromObject(s.uninterpretedOption[I])}}return A},Qe.toObject=function(s,A){var I={};if(((A=A||{}).arrays||A.defaults)&&(I.uninterpretedOption=[]),A.defaults&&(I.ctype=A.enums===String?"STRING":0,I.packed=!1,I.deprecated=!1,I.lazy=!1,I.jstype=A.enums===String?"JS_NORMAL":0,I.weak=!1),s.ctype!=null&&s.hasOwnProperty("ctype")&&(I.ctype=A.enums===String?m.google.protobuf.FieldOptions.CType[s.ctype]:s.ctype),s.packed!=null&&s.hasOwnProperty("packed")&&(I.packed=s.packed),s.deprecated!=null&&s.hasOwnProperty("deprecated")&&(I.deprecated=s.deprecated),s.lazy!=null&&s.hasOwnProperty("lazy")&&(I.lazy=s.lazy),s.jstype!=null&&s.hasOwnProperty("jstype")&&(I.jstype=A.enums===String?m.google.protobuf.FieldOptions.JSType[s.jstype]:s.jstype),s.weak!=null&&s.hasOwnProperty("weak")&&(I.weak=s.weak),s.uninterpretedOption&&s.uninterpretedOption.length){I.uninterpretedOption=[];for(var n=0;n<s.uninterpretedOption.length;++n)I.uninterpretedOption[n]=m.google.protobuf.UninterpretedOption.toObject(s.uninterpretedOption[n],A)}return I},Qe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Qe.CType=(p={},(r=Object.create(p))[p[0]="STRING"]=0,r[p[1]="CORD"]=1,r[p[2]="STRING_PIECE"]=2,r),Qe.JSType=(p={},(r=Object.create(p))[p[0]="JS_NORMAL"]=0,r[p[1]="JS_STRING"]=1,r[p[2]="JS_NUMBER"]=2,r),Qe),u.OneofOptions=(Ke.prototype.uninterpretedOption=d.emptyArray,Ke.create=function(s){return new Ke(s)},Ke.encode=function(s,A){if(A=A||c.create(),s.uninterpretedOption!=null&&s.uninterpretedOption.length)for(var I=0;I<s.uninterpretedOption.length;++I)m.google.protobuf.UninterpretedOption.encode(s.uninterpretedOption[I],A.uint32(7994).fork()).ldelim();return A},Ke.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},Ke.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.OneofOptions;s.pos<I;){var R=s.uint32();R>>>3==999?(n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(m.google.protobuf.UninterpretedOption.decode(s,s.uint32()))):s.skipType(7&R)}return n},Ke.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},Ke.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.uninterpretedOption!=null&&s.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(s.uninterpretedOption))return"uninterpretedOption: array expected";for(var A=0;A<s.uninterpretedOption.length;++A){var I=m.google.protobuf.UninterpretedOption.verify(s.uninterpretedOption[A]);if(I)return"uninterpretedOption."+I}}return null},Ke.fromObject=function(s){if(s instanceof m.google.protobuf.OneofOptions)return s;var A=new m.google.protobuf.OneofOptions;if(s.uninterpretedOption){if(!Array.isArray(s.uninterpretedOption))throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: array expected");A.uninterpretedOption=[];for(var I=0;I<s.uninterpretedOption.length;++I){if(typeof s.uninterpretedOption[I]!="object")throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: object expected");A.uninterpretedOption[I]=m.google.protobuf.UninterpretedOption.fromObject(s.uninterpretedOption[I])}}return A},Ke.toObject=function(s,A){var I={};if(((A=A||{}).arrays||A.defaults)&&(I.uninterpretedOption=[]),s.uninterpretedOption&&s.uninterpretedOption.length){I.uninterpretedOption=[];for(var n=0;n<s.uninterpretedOption.length;++n)I.uninterpretedOption[n]=m.google.protobuf.UninterpretedOption.toObject(s.uninterpretedOption[n],A)}return I},Ke.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ke),u.EnumOptions=(Be.prototype.allowAlias=!1,Be.prototype.deprecated=!1,Be.prototype.uninterpretedOption=d.emptyArray,Be.create=function(s){return new Be(s)},Be.encode=function(s,A){if(A=A||c.create(),s.allowAlias!=null&&Object.hasOwnProperty.call(s,"allowAlias")&&A.uint32(16).bool(s.allowAlias),s.deprecated!=null&&Object.hasOwnProperty.call(s,"deprecated")&&A.uint32(24).bool(s.deprecated),s.uninterpretedOption!=null&&s.uninterpretedOption.length)for(var I=0;I<s.uninterpretedOption.length;++I)m.google.protobuf.UninterpretedOption.encode(s.uninterpretedOption[I],A.uint32(7994).fork()).ldelim();return A},Be.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},Be.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.EnumOptions;s.pos<I;){var R=s.uint32();switch(R>>>3){case 2:n.allowAlias=s.bool();break;case 3:n.deprecated=s.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(m.google.protobuf.UninterpretedOption.decode(s,s.uint32()));break;default:s.skipType(7&R)}}return n},Be.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},Be.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.allowAlias!=null&&s.hasOwnProperty("allowAlias")&&typeof s.allowAlias!="boolean")return"allowAlias: boolean expected";if(s.deprecated!=null&&s.hasOwnProperty("deprecated")&&typeof s.deprecated!="boolean")return"deprecated: boolean expected";if(s.uninterpretedOption!=null&&s.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(s.uninterpretedOption))return"uninterpretedOption: array expected";for(var A=0;A<s.uninterpretedOption.length;++A){var I=m.google.protobuf.UninterpretedOption.verify(s.uninterpretedOption[A]);if(I)return"uninterpretedOption."+I}}return null},Be.fromObject=function(s){if(s instanceof m.google.protobuf.EnumOptions)return s;var A=new m.google.protobuf.EnumOptions;if(s.allowAlias!=null&&(A.allowAlias=!!s.allowAlias),s.deprecated!=null&&(A.deprecated=!!s.deprecated),s.uninterpretedOption){if(!Array.isArray(s.uninterpretedOption))throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: array expected");A.uninterpretedOption=[];for(var I=0;I<s.uninterpretedOption.length;++I){if(typeof s.uninterpretedOption[I]!="object")throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: object expected");A.uninterpretedOption[I]=m.google.protobuf.UninterpretedOption.fromObject(s.uninterpretedOption[I])}}return A},Be.toObject=function(s,A){var I={};if(((A=A||{}).arrays||A.defaults)&&(I.uninterpretedOption=[]),A.defaults&&(I.allowAlias=!1,I.deprecated=!1),s.allowAlias!=null&&s.hasOwnProperty("allowAlias")&&(I.allowAlias=s.allowAlias),s.deprecated!=null&&s.hasOwnProperty("deprecated")&&(I.deprecated=s.deprecated),s.uninterpretedOption&&s.uninterpretedOption.length){I.uninterpretedOption=[];for(var n=0;n<s.uninterpretedOption.length;++n)I.uninterpretedOption[n]=m.google.protobuf.UninterpretedOption.toObject(s.uninterpretedOption[n],A)}return I},Be.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Be),u.EnumValueOptions=(Re.prototype.deprecated=!1,Re.prototype.uninterpretedOption=d.emptyArray,Re.create=function(s){return new Re(s)},Re.encode=function(s,A){if(A=A||c.create(),s.deprecated!=null&&Object.hasOwnProperty.call(s,"deprecated")&&A.uint32(8).bool(s.deprecated),s.uninterpretedOption!=null&&s.uninterpretedOption.length)for(var I=0;I<s.uninterpretedOption.length;++I)m.google.protobuf.UninterpretedOption.encode(s.uninterpretedOption[I],A.uint32(7994).fork()).ldelim();return A},Re.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},Re.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.EnumValueOptions;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.deprecated=s.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(m.google.protobuf.UninterpretedOption.decode(s,s.uint32()));break;default:s.skipType(7&R)}}return n},Re.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},Re.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.deprecated!=null&&s.hasOwnProperty("deprecated")&&typeof s.deprecated!="boolean")return"deprecated: boolean expected";if(s.uninterpretedOption!=null&&s.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(s.uninterpretedOption))return"uninterpretedOption: array expected";for(var A=0;A<s.uninterpretedOption.length;++A){var I=m.google.protobuf.UninterpretedOption.verify(s.uninterpretedOption[A]);if(I)return"uninterpretedOption."+I}}return null},Re.fromObject=function(s){if(s instanceof m.google.protobuf.EnumValueOptions)return s;var A=new m.google.protobuf.EnumValueOptions;if(s.deprecated!=null&&(A.deprecated=!!s.deprecated),s.uninterpretedOption){if(!Array.isArray(s.uninterpretedOption))throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: array expected");A.uninterpretedOption=[];for(var I=0;I<s.uninterpretedOption.length;++I){if(typeof s.uninterpretedOption[I]!="object")throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: object expected");A.uninterpretedOption[I]=m.google.protobuf.UninterpretedOption.fromObject(s.uninterpretedOption[I])}}return A},Re.toObject=function(s,A){var I={};if(((A=A||{}).arrays||A.defaults)&&(I.uninterpretedOption=[]),A.defaults&&(I.deprecated=!1),s.deprecated!=null&&s.hasOwnProperty("deprecated")&&(I.deprecated=s.deprecated),s.uninterpretedOption&&s.uninterpretedOption.length){I.uninterpretedOption=[];for(var n=0;n<s.uninterpretedOption.length;++n)I.uninterpretedOption[n]=m.google.protobuf.UninterpretedOption.toObject(s.uninterpretedOption[n],A)}return I},Re.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Re),u.ServiceOptions=($e.prototype.deprecated=!1,$e.prototype.uninterpretedOption=d.emptyArray,$e.prototype[".google.api.defaultHost"]="",$e.prototype[".google.api.oauthScopes"]="",$e.create=function(s){return new $e(s)},$e.encode=function(s,A){if(A=A||c.create(),s.deprecated!=null&&Object.hasOwnProperty.call(s,"deprecated")&&A.uint32(264).bool(s.deprecated),s.uninterpretedOption!=null&&s.uninterpretedOption.length)for(var I=0;I<s.uninterpretedOption.length;++I)m.google.protobuf.UninterpretedOption.encode(s.uninterpretedOption[I],A.uint32(7994).fork()).ldelim();return s[".google.api.defaultHost"]!=null&&Object.hasOwnProperty.call(s,".google.api.defaultHost")&&A.uint32(8394).string(s[".google.api.defaultHost"]),s[".google.api.oauthScopes"]!=null&&Object.hasOwnProperty.call(s,".google.api.oauthScopes")&&A.uint32(8402).string(s[".google.api.oauthScopes"]),A},$e.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},$e.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.ServiceOptions;s.pos<I;){var R=s.uint32();switch(R>>>3){case 33:n.deprecated=s.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(m.google.protobuf.UninterpretedOption.decode(s,s.uint32()));break;case 1049:n[".google.api.defaultHost"]=s.string();break;case 1050:n[".google.api.oauthScopes"]=s.string();break;default:s.skipType(7&R)}}return n},$e.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},$e.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.deprecated!=null&&s.hasOwnProperty("deprecated")&&typeof s.deprecated!="boolean")return"deprecated: boolean expected";if(s.uninterpretedOption!=null&&s.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(s.uninterpretedOption))return"uninterpretedOption: array expected";for(var A=0;A<s.uninterpretedOption.length;++A){var I=m.google.protobuf.UninterpretedOption.verify(s.uninterpretedOption[A]);if(I)return"uninterpretedOption."+I}}return s[".google.api.defaultHost"]!=null&&s.hasOwnProperty(".google.api.defaultHost")&&!d.isString(s[".google.api.defaultHost"])?".google.api.defaultHost: string expected":s[".google.api.oauthScopes"]!=null&&s.hasOwnProperty(".google.api.oauthScopes")&&!d.isString(s[".google.api.oauthScopes"])?".google.api.oauthScopes: string expected":null},$e.fromObject=function(s){if(s instanceof m.google.protobuf.ServiceOptions)return s;var A=new m.google.protobuf.ServiceOptions;if(s.deprecated!=null&&(A.deprecated=!!s.deprecated),s.uninterpretedOption){if(!Array.isArray(s.uninterpretedOption))throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: array expected");A.uninterpretedOption=[];for(var I=0;I<s.uninterpretedOption.length;++I){if(typeof s.uninterpretedOption[I]!="object")throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: object expected");A.uninterpretedOption[I]=m.google.protobuf.UninterpretedOption.fromObject(s.uninterpretedOption[I])}}return s[".google.api.defaultHost"]!=null&&(A[".google.api.defaultHost"]=String(s[".google.api.defaultHost"])),s[".google.api.oauthScopes"]!=null&&(A[".google.api.oauthScopes"]=String(s[".google.api.oauthScopes"])),A},$e.toObject=function(s,A){var I={};if(((A=A||{}).arrays||A.defaults)&&(I.uninterpretedOption=[]),A.defaults&&(I.deprecated=!1,I[".google.api.defaultHost"]="",I[".google.api.oauthScopes"]=""),s.deprecated!=null&&s.hasOwnProperty("deprecated")&&(I.deprecated=s.deprecated),s.uninterpretedOption&&s.uninterpretedOption.length){I.uninterpretedOption=[];for(var n=0;n<s.uninterpretedOption.length;++n)I.uninterpretedOption[n]=m.google.protobuf.UninterpretedOption.toObject(s.uninterpretedOption[n],A)}return s[".google.api.defaultHost"]!=null&&s.hasOwnProperty(".google.api.defaultHost")&&(I[".google.api.defaultHost"]=s[".google.api.defaultHost"]),s[".google.api.oauthScopes"]!=null&&s.hasOwnProperty(".google.api.oauthScopes")&&(I[".google.api.oauthScopes"]=s[".google.api.oauthScopes"]),I},$e.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},$e),u.MethodOptions=(xe.prototype.deprecated=!1,xe.prototype.idempotencyLevel=0,xe.prototype.uninterpretedOption=d.emptyArray,xe.prototype[".google.longrunning.operationInfo"]=null,xe.prototype[".google.api.http"]=null,xe.prototype[".google.api.methodSignature"]=d.emptyArray,xe.create=function(s){return new xe(s)},xe.encode=function(s,A){if(A=A||c.create(),s.deprecated!=null&&Object.hasOwnProperty.call(s,"deprecated")&&A.uint32(264).bool(s.deprecated),s.idempotencyLevel!=null&&Object.hasOwnProperty.call(s,"idempotencyLevel")&&A.uint32(272).int32(s.idempotencyLevel),s.uninterpretedOption!=null&&s.uninterpretedOption.length)for(var I=0;I<s.uninterpretedOption.length;++I)m.google.protobuf.UninterpretedOption.encode(s.uninterpretedOption[I],A.uint32(7994).fork()).ldelim();if(s[".google.longrunning.operationInfo"]!=null&&Object.hasOwnProperty.call(s,".google.longrunning.operationInfo")&&m.google.longrunning.OperationInfo.encode(s[".google.longrunning.operationInfo"],A.uint32(8394).fork()).ldelim(),s[".google.api.methodSignature"]!=null&&s[".google.api.methodSignature"].length)for(I=0;I<s[".google.api.methodSignature"].length;++I)A.uint32(8410).string(s[".google.api.methodSignature"][I]);return s[".google.api.http"]!=null&&Object.hasOwnProperty.call(s,".google.api.http")&&m.google.api.HttpRule.encode(s[".google.api.http"],A.uint32(578365826).fork()).ldelim(),A},xe.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},xe.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.MethodOptions;s.pos<I;){var R=s.uint32();switch(R>>>3){case 33:n.deprecated=s.bool();break;case 34:n.idempotencyLevel=s.int32();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(m.google.protobuf.UninterpretedOption.decode(s,s.uint32()));break;case 1049:n[".google.longrunning.operationInfo"]=m.google.longrunning.OperationInfo.decode(s,s.uint32());break;case 72295728:n[".google.api.http"]=m.google.api.HttpRule.decode(s,s.uint32());break;case 1051:n[".google.api.methodSignature"]&&n[".google.api.methodSignature"].length||(n[".google.api.methodSignature"]=[]),n[".google.api.methodSignature"].push(s.string());break;default:s.skipType(7&R)}}return n},xe.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},xe.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.deprecated!=null&&s.hasOwnProperty("deprecated")&&typeof s.deprecated!="boolean")return"deprecated: boolean expected";if(s.idempotencyLevel!=null&&s.hasOwnProperty("idempotencyLevel"))switch(s.idempotencyLevel){default:return"idempotencyLevel: enum value expected";case 0:case 1:case 2:}if(s.uninterpretedOption!=null&&s.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(s.uninterpretedOption))return"uninterpretedOption: array expected";for(var A=0;A<s.uninterpretedOption.length;++A)if(I=m.google.protobuf.UninterpretedOption.verify(s.uninterpretedOption[A]))return"uninterpretedOption."+I}var I;if(s[".google.longrunning.operationInfo"]!=null&&s.hasOwnProperty(".google.longrunning.operationInfo")&&(I=m.google.longrunning.OperationInfo.verify(s[".google.longrunning.operationInfo"])))return".google.longrunning.operationInfo."+I;if(s[".google.api.http"]!=null&&s.hasOwnProperty(".google.api.http")&&(I=m.google.api.HttpRule.verify(s[".google.api.http"])))return".google.api.http."+I;if(s[".google.api.methodSignature"]!=null&&s.hasOwnProperty(".google.api.methodSignature")){if(!Array.isArray(s[".google.api.methodSignature"]))return".google.api.methodSignature: array expected";for(A=0;A<s[".google.api.methodSignature"].length;++A)if(!d.isString(s[".google.api.methodSignature"][A]))return".google.api.methodSignature: string[] expected"}return null},xe.fromObject=function(s){if(s instanceof m.google.protobuf.MethodOptions)return s;var A=new m.google.protobuf.MethodOptions;switch(s.deprecated!=null&&(A.deprecated=!!s.deprecated),s.idempotencyLevel){case"IDEMPOTENCY_UNKNOWN":case 0:A.idempotencyLevel=0;break;case"NO_SIDE_EFFECTS":case 1:A.idempotencyLevel=1;break;case"IDEMPOTENT":case 2:A.idempotencyLevel=2}if(s.uninterpretedOption){if(!Array.isArray(s.uninterpretedOption))throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: array expected");A.uninterpretedOption=[];for(var I=0;I<s.uninterpretedOption.length;++I){if(typeof s.uninterpretedOption[I]!="object")throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: object expected");A.uninterpretedOption[I]=m.google.protobuf.UninterpretedOption.fromObject(s.uninterpretedOption[I])}}if(s[".google.longrunning.operationInfo"]!=null){if(typeof s[".google.longrunning.operationInfo"]!="object")throw TypeError(".google.protobuf.MethodOptions..google.longrunning.operationInfo: object expected");A[".google.longrunning.operationInfo"]=m.google.longrunning.OperationInfo.fromObject(s[".google.longrunning.operationInfo"])}if(s[".google.api.http"]!=null){if(typeof s[".google.api.http"]!="object")throw TypeError(".google.protobuf.MethodOptions..google.api.http: object expected");A[".google.api.http"]=m.google.api.HttpRule.fromObject(s[".google.api.http"])}if(s[".google.api.methodSignature"]){if(!Array.isArray(s[".google.api.methodSignature"]))throw TypeError(".google.protobuf.MethodOptions..google.api.methodSignature: array expected");for(A[".google.api.methodSignature"]=[],I=0;I<s[".google.api.methodSignature"].length;++I)A[".google.api.methodSignature"][I]=String(s[".google.api.methodSignature"][I])}return A},xe.toObject=function(s,A){var I={};if(((A=A||{}).arrays||A.defaults)&&(I.uninterpretedOption=[],I[".google.api.methodSignature"]=[]),A.defaults&&(I.deprecated=!1,I.idempotencyLevel=A.enums===String?"IDEMPOTENCY_UNKNOWN":0,I[".google.longrunning.operationInfo"]=null,I[".google.api.http"]=null),s.deprecated!=null&&s.hasOwnProperty("deprecated")&&(I.deprecated=s.deprecated),s.idempotencyLevel!=null&&s.hasOwnProperty("idempotencyLevel")&&(I.idempotencyLevel=A.enums===String?m.google.protobuf.MethodOptions.IdempotencyLevel[s.idempotencyLevel]:s.idempotencyLevel),s.uninterpretedOption&&s.uninterpretedOption.length){I.uninterpretedOption=[];for(var n=0;n<s.uninterpretedOption.length;++n)I.uninterpretedOption[n]=m.google.protobuf.UninterpretedOption.toObject(s.uninterpretedOption[n],A)}if(s[".google.longrunning.operationInfo"]!=null&&s.hasOwnProperty(".google.longrunning.operationInfo")&&(I[".google.longrunning.operationInfo"]=m.google.longrunning.OperationInfo.toObject(s[".google.longrunning.operationInfo"],A)),s[".google.api.methodSignature"]&&s[".google.api.methodSignature"].length)for(I[".google.api.methodSignature"]=[],n=0;n<s[".google.api.methodSignature"].length;++n)I[".google.api.methodSignature"][n]=s[".google.api.methodSignature"][n];return s[".google.api.http"]!=null&&s.hasOwnProperty(".google.api.http")&&(I[".google.api.http"]=m.google.api.HttpRule.toObject(s[".google.api.http"],A)),I},xe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},xe.IdempotencyLevel=(p={},(r=Object.create(p))[p[0]="IDEMPOTENCY_UNKNOWN"]=0,r[p[1]="NO_SIDE_EFFECTS"]=1,r[p[2]="IDEMPOTENT"]=2,r),xe),u.UninterpretedOption=(Le.prototype.name=d.emptyArray,Le.prototype.identifierValue="",Le.prototype.positiveIntValue=d.Long?d.Long.fromBits(0,0,!0):0,Le.prototype.negativeIntValue=d.Long?d.Long.fromBits(0,0,!1):0,Le.prototype.doubleValue=0,Le.prototype.stringValue=d.newBuffer([]),Le.prototype.aggregateValue="",Le.create=function(s){return new Le(s)},Le.encode=function(s,A){if(A=A||c.create(),s.name!=null&&s.name.length)for(var I=0;I<s.name.length;++I)m.google.protobuf.UninterpretedOption.NamePart.encode(s.name[I],A.uint32(18).fork()).ldelim();return s.identifierValue!=null&&Object.hasOwnProperty.call(s,"identifierValue")&&A.uint32(26).string(s.identifierValue),s.positiveIntValue!=null&&Object.hasOwnProperty.call(s,"positiveIntValue")&&A.uint32(32).uint64(s.positiveIntValue),s.negativeIntValue!=null&&Object.hasOwnProperty.call(s,"negativeIntValue")&&A.uint32(40).int64(s.negativeIntValue),s.doubleValue!=null&&Object.hasOwnProperty.call(s,"doubleValue")&&A.uint32(49).double(s.doubleValue),s.stringValue!=null&&Object.hasOwnProperty.call(s,"stringValue")&&A.uint32(58).bytes(s.stringValue),s.aggregateValue!=null&&Object.hasOwnProperty.call(s,"aggregateValue")&&A.uint32(66).string(s.aggregateValue),A},Le.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},Le.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.UninterpretedOption;s.pos<I;){var R=s.uint32();switch(R>>>3){case 2:n.name&&n.name.length||(n.name=[]),n.name.push(m.google.protobuf.UninterpretedOption.NamePart.decode(s,s.uint32()));break;case 3:n.identifierValue=s.string();break;case 4:n.positiveIntValue=s.uint64();break;case 5:n.negativeIntValue=s.int64();break;case 6:n.doubleValue=s.double();break;case 7:n.stringValue=s.bytes();break;case 8:n.aggregateValue=s.string();break;default:s.skipType(7&R)}}return n},Le.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},Le.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.name!=null&&s.hasOwnProperty("name")){if(!Array.isArray(s.name))return"name: array expected";for(var A=0;A<s.name.length;++A){var I=m.google.protobuf.UninterpretedOption.NamePart.verify(s.name[A]);if(I)return"name."+I}}return s.identifierValue!=null&&s.hasOwnProperty("identifierValue")&&!d.isString(s.identifierValue)?"identifierValue: string expected":s.positiveIntValue!=null&&s.hasOwnProperty("positiveIntValue")&&!(d.isInteger(s.positiveIntValue)||s.positiveIntValue&&d.isInteger(s.positiveIntValue.low)&&d.isInteger(s.positiveIntValue.high))?"positiveIntValue: integer|Long expected":s.negativeIntValue!=null&&s.hasOwnProperty("negativeIntValue")&&!(d.isInteger(s.negativeIntValue)||s.negativeIntValue&&d.isInteger(s.negativeIntValue.low)&&d.isInteger(s.negativeIntValue.high))?"negativeIntValue: integer|Long expected":s.doubleValue!=null&&s.hasOwnProperty("doubleValue")&&typeof s.doubleValue!="number"?"doubleValue: number expected":s.stringValue!=null&&s.hasOwnProperty("stringValue")&&!(s.stringValue&&typeof s.stringValue.length=="number"||d.isString(s.stringValue))?"stringValue: buffer expected":s.aggregateValue!=null&&s.hasOwnProperty("aggregateValue")&&!d.isString(s.aggregateValue)?"aggregateValue: string expected":null},Le.fromObject=function(s){if(s instanceof m.google.protobuf.UninterpretedOption)return s;var A=new m.google.protobuf.UninterpretedOption;if(s.name){if(!Array.isArray(s.name))throw TypeError(".google.protobuf.UninterpretedOption.name: array expected");A.name=[];for(var I=0;I<s.name.length;++I){if(typeof s.name[I]!="object")throw TypeError(".google.protobuf.UninterpretedOption.name: object expected");A.name[I]=m.google.protobuf.UninterpretedOption.NamePart.fromObject(s.name[I])}}return s.identifierValue!=null&&(A.identifierValue=String(s.identifierValue)),s.positiveIntValue!=null&&(d.Long?(A.positiveIntValue=d.Long.fromValue(s.positiveIntValue)).unsigned=!0:typeof s.positiveIntValue=="string"?A.positiveIntValue=parseInt(s.positiveIntValue,10):typeof s.positiveIntValue=="number"?A.positiveIntValue=s.positiveIntValue:typeof s.positiveIntValue=="object"&&(A.positiveIntValue=new d.LongBits(s.positiveIntValue.low>>>0,s.positiveIntValue.high>>>0).toNumber(!0))),s.negativeIntValue!=null&&(d.Long?(A.negativeIntValue=d.Long.fromValue(s.negativeIntValue)).unsigned=!1:typeof s.negativeIntValue=="string"?A.negativeIntValue=parseInt(s.negativeIntValue,10):typeof s.negativeIntValue=="number"?A.negativeIntValue=s.negativeIntValue:typeof s.negativeIntValue=="object"&&(A.negativeIntValue=new d.LongBits(s.negativeIntValue.low>>>0,s.negativeIntValue.high>>>0).toNumber())),s.doubleValue!=null&&(A.doubleValue=Number(s.doubleValue)),s.stringValue!=null&&(typeof s.stringValue=="string"?d.base64.decode(s.stringValue,A.stringValue=d.newBuffer(d.base64.length(s.stringValue)),0):s.stringValue.length&&(A.stringValue=s.stringValue)),s.aggregateValue!=null&&(A.aggregateValue=String(s.aggregateValue)),A},Le.toObject=function(s,A){var I,n={};if(((A=A||{}).arrays||A.defaults)&&(n.name=[]),A.defaults&&(n.identifierValue="",d.Long?(I=new d.Long(0,0,!0),n.positiveIntValue=A.longs===String?I.toString():A.longs===Number?I.toNumber():I):n.positiveIntValue=A.longs===String?"0":0,d.Long?(I=new d.Long(0,0,!1),n.negativeIntValue=A.longs===String?I.toString():A.longs===Number?I.toNumber():I):n.negativeIntValue=A.longs===String?"0":0,n.doubleValue=0,A.bytes===String?n.stringValue="":(n.stringValue=[],A.bytes!==Array&&(n.stringValue=d.newBuffer(n.stringValue))),n.aggregateValue=""),s.name&&s.name.length){n.name=[];for(var R=0;R<s.name.length;++R)n.name[R]=m.google.protobuf.UninterpretedOption.NamePart.toObject(s.name[R],A)}return s.identifierValue!=null&&s.hasOwnProperty("identifierValue")&&(n.identifierValue=s.identifierValue),s.positiveIntValue!=null&&s.hasOwnProperty("positiveIntValue")&&(typeof s.positiveIntValue=="number"?n.positiveIntValue=A.longs===String?String(s.positiveIntValue):s.positiveIntValue:n.positiveIntValue=A.longs===String?d.Long.prototype.toString.call(s.positiveIntValue):A.longs===Number?new d.LongBits(s.positiveIntValue.low>>>0,s.positiveIntValue.high>>>0).toNumber(!0):s.positiveIntValue),s.negativeIntValue!=null&&s.hasOwnProperty("negativeIntValue")&&(typeof s.negativeIntValue=="number"?n.negativeIntValue=A.longs===String?String(s.negativeIntValue):s.negativeIntValue:n.negativeIntValue=A.longs===String?d.Long.prototype.toString.call(s.negativeIntValue):A.longs===Number?new d.LongBits(s.negativeIntValue.low>>>0,s.negativeIntValue.high>>>0).toNumber():s.negativeIntValue),s.doubleValue!=null&&s.hasOwnProperty("doubleValue")&&(n.doubleValue=A.json&&!isFinite(s.doubleValue)?String(s.doubleValue):s.doubleValue),s.stringValue!=null&&s.hasOwnProperty("stringValue")&&(n.stringValue=A.bytes===String?d.base64.encode(s.stringValue,0,s.stringValue.length):A.bytes===Array?Array.prototype.slice.call(s.stringValue):s.stringValue),s.aggregateValue!=null&&s.hasOwnProperty("aggregateValue")&&(n.aggregateValue=s.aggregateValue),n},Le.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Le.NamePart=(je.prototype.namePart="",je.prototype.isExtension=!1,je.create=function(s){return new je(s)},je.encode=function(s,A){return(A=A||c.create()).uint32(10).string(s.namePart),A.uint32(16).bool(s.isExtension),A},je.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},je.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.UninterpretedOption.NamePart;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.namePart=s.string();break;case 2:n.isExtension=s.bool();break;default:s.skipType(7&R)}}if(!n.hasOwnProperty("namePart"))throw d.ProtocolError("missing required 'namePart'",{instance:n});if(n.hasOwnProperty("isExtension"))return n;throw d.ProtocolError("missing required 'isExtension'",{instance:n})},je.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},je.verify=function(s){return typeof s!="object"||s===null?"object expected":d.isString(s.namePart)?typeof s.isExtension!="boolean"?"isExtension: boolean expected":null:"namePart: string expected"},je.fromObject=function(s){var A;return s instanceof m.google.protobuf.UninterpretedOption.NamePart?s:(A=new m.google.protobuf.UninterpretedOption.NamePart,s.namePart!=null&&(A.namePart=String(s.namePart)),s.isExtension!=null&&(A.isExtension=!!s.isExtension),A)},je.toObject=function(s,A){var I={};return(A=A||{}).defaults&&(I.namePart="",I.isExtension=!1),s.namePart!=null&&s.hasOwnProperty("namePart")&&(I.namePart=s.namePart),s.isExtension!=null&&s.hasOwnProperty("isExtension")&&(I.isExtension=s.isExtension),I},je.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},je),Le),u.SourceCodeInfo=(Y.prototype.location=d.emptyArray,Y.create=function(s){return new Y(s)},Y.encode=function(s,A){if(A=A||c.create(),s.location!=null&&s.location.length)for(var I=0;I<s.location.length;++I)m.google.protobuf.SourceCodeInfo.Location.encode(s.location[I],A.uint32(10).fork()).ldelim();return A},Y.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},Y.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.SourceCodeInfo;s.pos<I;){var R=s.uint32();R>>>3==1?(n.location&&n.location.length||(n.location=[]),n.location.push(m.google.protobuf.SourceCodeInfo.Location.decode(s,s.uint32()))):s.skipType(7&R)}return n},Y.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},Y.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.location!=null&&s.hasOwnProperty("location")){if(!Array.isArray(s.location))return"location: array expected";for(var A=0;A<s.location.length;++A){var I=m.google.protobuf.SourceCodeInfo.Location.verify(s.location[A]);if(I)return"location."+I}}return null},Y.fromObject=function(s){if(s instanceof m.google.protobuf.SourceCodeInfo)return s;var A=new m.google.protobuf.SourceCodeInfo;if(s.location){if(!Array.isArray(s.location))throw TypeError(".google.protobuf.SourceCodeInfo.location: array expected");A.location=[];for(var I=0;I<s.location.length;++I){if(typeof s.location[I]!="object")throw TypeError(".google.protobuf.SourceCodeInfo.location: object expected");A.location[I]=m.google.protobuf.SourceCodeInfo.Location.fromObject(s.location[I])}}return A},Y.toObject=function(s,A){var I={};if(((A=A||{}).arrays||A.defaults)&&(I.location=[]),s.location&&s.location.length){I.location=[];for(var n=0;n<s.location.length;++n)I.location[n]=m.google.protobuf.SourceCodeInfo.Location.toObject(s.location[n],A)}return I},Y.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Y.Location=(l.prototype.path=d.emptyArray,l.prototype.span=d.emptyArray,l.prototype.leadingComments="",l.prototype.trailingComments="",l.prototype.leadingDetachedComments=d.emptyArray,l.create=function(s){return new l(s)},l.encode=function(s,A){if(A=A||c.create(),s.path!=null&&s.path.length){A.uint32(10).fork();for(var I=0;I<s.path.length;++I)A.int32(s.path[I]);A.ldelim()}if(s.span!=null&&s.span.length){for(A.uint32(18).fork(),I=0;I<s.span.length;++I)A.int32(s.span[I]);A.ldelim()}if(s.leadingComments!=null&&Object.hasOwnProperty.call(s,"leadingComments")&&A.uint32(26).string(s.leadingComments),s.trailingComments!=null&&Object.hasOwnProperty.call(s,"trailingComments")&&A.uint32(34).string(s.trailingComments),s.leadingDetachedComments!=null&&s.leadingDetachedComments.length)for(I=0;I<s.leadingDetachedComments.length;++I)A.uint32(50).string(s.leadingDetachedComments[I]);return A},l.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},l.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.SourceCodeInfo.Location;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:if(n.path&&n.path.length||(n.path=[]),(7&R)==2)for(var V=s.uint32()+s.pos;s.pos<V;)n.path.push(s.int32());else n.path.push(s.int32());break;case 2:if(n.span&&n.span.length||(n.span=[]),(7&R)==2)for(V=s.uint32()+s.pos;s.pos<V;)n.span.push(s.int32());else n.span.push(s.int32());break;case 3:n.leadingComments=s.string();break;case 4:n.trailingComments=s.string();break;case 6:n.leadingDetachedComments&&n.leadingDetachedComments.length||(n.leadingDetachedComments=[]),n.leadingDetachedComments.push(s.string());break;default:s.skipType(7&R)}}return n},l.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},l.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.path!=null&&s.hasOwnProperty("path")){if(!Array.isArray(s.path))return"path: array expected";for(var A=0;A<s.path.length;++A)if(!d.isInteger(s.path[A]))return"path: integer[] expected"}if(s.span!=null&&s.hasOwnProperty("span")){if(!Array.isArray(s.span))return"span: array expected";for(A=0;A<s.span.length;++A)if(!d.isInteger(s.span[A]))return"span: integer[] expected"}if(s.leadingComments!=null&&s.hasOwnProperty("leadingComments")&&!d.isString(s.leadingComments))return"leadingComments: string expected";if(s.trailingComments!=null&&s.hasOwnProperty("trailingComments")&&!d.isString(s.trailingComments))return"trailingComments: string expected";if(s.leadingDetachedComments!=null&&s.hasOwnProperty("leadingDetachedComments")){if(!Array.isArray(s.leadingDetachedComments))return"leadingDetachedComments: array expected";for(A=0;A<s.leadingDetachedComments.length;++A)if(!d.isString(s.leadingDetachedComments[A]))return"leadingDetachedComments: string[] expected"}return null},l.fromObject=function(s){if(s instanceof m.google.protobuf.SourceCodeInfo.Location)return s;var A=new m.google.protobuf.SourceCodeInfo.Location;if(s.path){if(!Array.isArray(s.path))throw TypeError(".google.protobuf.SourceCodeInfo.Location.path: array expected");A.path=[];for(var I=0;I<s.path.length;++I)A.path[I]=0|s.path[I]}if(s.span){if(!Array.isArray(s.span))throw TypeError(".google.protobuf.SourceCodeInfo.Location.span: array expected");for(A.span=[],I=0;I<s.span.length;++I)A.span[I]=0|s.span[I]}if(s.leadingComments!=null&&(A.leadingComments=String(s.leadingComments)),s.trailingComments!=null&&(A.trailingComments=String(s.trailingComments)),s.leadingDetachedComments){if(!Array.isArray(s.leadingDetachedComments))throw TypeError(".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected");for(A.leadingDetachedComments=[],I=0;I<s.leadingDetachedComments.length;++I)A.leadingDetachedComments[I]=String(s.leadingDetachedComments[I])}return A},l.toObject=function(s,A){var I={};if(((A=A||{}).arrays||A.defaults)&&(I.path=[],I.span=[],I.leadingDetachedComments=[]),A.defaults&&(I.leadingComments="",I.trailingComments=""),s.path&&s.path.length){I.path=[];for(var n=0;n<s.path.length;++n)I.path[n]=s.path[n]}if(s.span&&s.span.length)for(I.span=[],n=0;n<s.span.length;++n)I.span[n]=s.span[n];if(s.leadingComments!=null&&s.hasOwnProperty("leadingComments")&&(I.leadingComments=s.leadingComments),s.trailingComments!=null&&s.hasOwnProperty("trailingComments")&&(I.trailingComments=s.trailingComments),s.leadingDetachedComments&&s.leadingDetachedComments.length)for(I.leadingDetachedComments=[],n=0;n<s.leadingDetachedComments.length;++n)I.leadingDetachedComments[n]=s.leadingDetachedComments[n];return I},l.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},l),Y),u.GeneratedCodeInfo=(T.prototype.annotation=d.emptyArray,T.create=function(s){return new T(s)},T.encode=function(s,A){if(A=A||c.create(),s.annotation!=null&&s.annotation.length)for(var I=0;I<s.annotation.length;++I)m.google.protobuf.GeneratedCodeInfo.Annotation.encode(s.annotation[I],A.uint32(10).fork()).ldelim();return A},T.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},T.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.GeneratedCodeInfo;s.pos<I;){var R=s.uint32();R>>>3==1?(n.annotation&&n.annotation.length||(n.annotation=[]),n.annotation.push(m.google.protobuf.GeneratedCodeInfo.Annotation.decode(s,s.uint32()))):s.skipType(7&R)}return n},T.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},T.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.annotation!=null&&s.hasOwnProperty("annotation")){if(!Array.isArray(s.annotation))return"annotation: array expected";for(var A=0;A<s.annotation.length;++A){var I=m.google.protobuf.GeneratedCodeInfo.Annotation.verify(s.annotation[A]);if(I)return"annotation."+I}}return null},T.fromObject=function(s){if(s instanceof m.google.protobuf.GeneratedCodeInfo)return s;var A=new m.google.protobuf.GeneratedCodeInfo;if(s.annotation){if(!Array.isArray(s.annotation))throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: array expected");A.annotation=[];for(var I=0;I<s.annotation.length;++I){if(typeof s.annotation[I]!="object")throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: object expected");A.annotation[I]=m.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(s.annotation[I])}}return A},T.toObject=function(s,A){var I={};if(((A=A||{}).arrays||A.defaults)&&(I.annotation=[]),s.annotation&&s.annotation.length){I.annotation=[];for(var n=0;n<s.annotation.length;++n)I.annotation[n]=m.google.protobuf.GeneratedCodeInfo.Annotation.toObject(s.annotation[n],A)}return I},T.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},T.Annotation=(O.prototype.path=d.emptyArray,O.prototype.sourceFile="",O.prototype.begin=0,O.prototype.end=0,O.create=function(s){return new O(s)},O.encode=function(s,A){if(A=A||c.create(),s.path!=null&&s.path.length){A.uint32(10).fork();for(var I=0;I<s.path.length;++I)A.int32(s.path[I]);A.ldelim()}return s.sourceFile!=null&&Object.hasOwnProperty.call(s,"sourceFile")&&A.uint32(18).string(s.sourceFile),s.begin!=null&&Object.hasOwnProperty.call(s,"begin")&&A.uint32(24).int32(s.begin),s.end!=null&&Object.hasOwnProperty.call(s,"end")&&A.uint32(32).int32(s.end),A},O.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},O.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.GeneratedCodeInfo.Annotation;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:if(n.path&&n.path.length||(n.path=[]),(7&R)==2)for(var V=s.uint32()+s.pos;s.pos<V;)n.path.push(s.int32());else n.path.push(s.int32());break;case 2:n.sourceFile=s.string();break;case 3:n.begin=s.int32();break;case 4:n.end=s.int32();break;default:s.skipType(7&R)}}return n},O.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},O.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.path!=null&&s.hasOwnProperty("path")){if(!Array.isArray(s.path))return"path: array expected";for(var A=0;A<s.path.length;++A)if(!d.isInteger(s.path[A]))return"path: integer[] expected"}return s.sourceFile!=null&&s.hasOwnProperty("sourceFile")&&!d.isString(s.sourceFile)?"sourceFile: string expected":s.begin!=null&&s.hasOwnProperty("begin")&&!d.isInteger(s.begin)?"begin: integer expected":s.end!=null&&s.hasOwnProperty("end")&&!d.isInteger(s.end)?"end: integer expected":null},O.fromObject=function(s){if(s instanceof m.google.protobuf.GeneratedCodeInfo.Annotation)return s;var A=new m.google.protobuf.GeneratedCodeInfo.Annotation;if(s.path){if(!Array.isArray(s.path))throw TypeError(".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected");A.path=[];for(var I=0;I<s.path.length;++I)A.path[I]=0|s.path[I]}return s.sourceFile!=null&&(A.sourceFile=String(s.sourceFile)),s.begin!=null&&(A.begin=0|s.begin),s.end!=null&&(A.end=0|s.end),A},O.toObject=function(s,A){var I={};if(((A=A||{}).arrays||A.defaults)&&(I.path=[]),A.defaults&&(I.sourceFile="",I.begin=0,I.end=0),s.path&&s.path.length){I.path=[];for(var n=0;n<s.path.length;++n)I.path[n]=s.path[n]}return s.sourceFile!=null&&s.hasOwnProperty("sourceFile")&&(I.sourceFile=s.sourceFile),s.begin!=null&&s.hasOwnProperty("begin")&&(I.begin=s.begin),s.end!=null&&s.hasOwnProperty("end")&&(I.end=s.end),I},O.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},O),T),u.Any=(H.prototype.type_url="",H.prototype.value=d.newBuffer([]),H.create=function(s){return new H(s)},H.encode=function(s,A){return A=A||c.create(),s.type_url!=null&&Object.hasOwnProperty.call(s,"type_url")&&A.uint32(10).string(s.type_url),s.value!=null&&Object.hasOwnProperty.call(s,"value")&&A.uint32(18).bytes(s.value),A},H.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},H.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.Any;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.type_url=s.string();break;case 2:n.value=s.bytes();break;default:s.skipType(7&R)}}return n},H.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},H.verify=function(s){return typeof s!="object"||s===null?"object expected":s.type_url!=null&&s.hasOwnProperty("type_url")&&!d.isString(s.type_url)?"type_url: string expected":s.value!=null&&s.hasOwnProperty("value")&&!(s.value&&typeof s.value.length=="number"||d.isString(s.value))?"value: buffer expected":null},H.fromObject=function(s){var A;return s instanceof m.google.protobuf.Any?s:(A=new m.google.protobuf.Any,s.type_url!=null&&(A.type_url=String(s.type_url)),s.value!=null&&(typeof s.value=="string"?d.base64.decode(s.value,A.value=d.newBuffer(d.base64.length(s.value)),0):s.value.length&&(A.value=s.value)),A)},H.toObject=function(s,A){var I={};return(A=A||{}).defaults&&(I.type_url="",A.bytes===String?I.value="":(I.value=[],A.bytes!==Array&&(I.value=d.newBuffer(I.value)))),s.type_url!=null&&s.hasOwnProperty("type_url")&&(I.type_url=s.type_url),s.value!=null&&s.hasOwnProperty("value")&&(I.value=A.bytes===String?d.base64.encode(s.value,0,s.value.length):A.bytes===Array?Array.prototype.slice.call(s.value):s.value),I},H.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},H),u.Duration=(ae.prototype.seconds=d.Long?d.Long.fromBits(0,0,!1):0,ae.prototype.nanos=0,ae.create=function(s){return new ae(s)},ae.encode=function(s,A){return A=A||c.create(),s.seconds!=null&&Object.hasOwnProperty.call(s,"seconds")&&A.uint32(8).int64(s.seconds),s.nanos!=null&&Object.hasOwnProperty.call(s,"nanos")&&A.uint32(16).int32(s.nanos),A},ae.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},ae.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.protobuf.Duration;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.seconds=s.int64();break;case 2:n.nanos=s.int32();break;default:s.skipType(7&R)}}return n},ae.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},ae.verify=function(s){return typeof s!="object"||s===null?"object expected":s.seconds!=null&&s.hasOwnProperty("seconds")&&!(d.isInteger(s.seconds)||s.seconds&&d.isInteger(s.seconds.low)&&d.isInteger(s.seconds.high))?"seconds: integer|Long expected":s.nanos!=null&&s.hasOwnProperty("nanos")&&!d.isInteger(s.nanos)?"nanos: integer expected":null},ae.fromObject=function(s){var A;return s instanceof m.google.protobuf.Duration?s:(A=new m.google.protobuf.Duration,s.seconds!=null&&(d.Long?(A.seconds=d.Long.fromValue(s.seconds)).unsigned=!1:typeof s.seconds=="string"?A.seconds=parseInt(s.seconds,10):typeof s.seconds=="number"?A.seconds=s.seconds:typeof s.seconds=="object"&&(A.seconds=new d.LongBits(s.seconds.low>>>0,s.seconds.high>>>0).toNumber())),s.nanos!=null&&(A.nanos=0|s.nanos),A)},ae.toObject=function(s,A){var I,n={};return(A=A||{}).defaults&&(d.Long?(I=new d.Long(0,0,!1),n.seconds=A.longs===String?I.toString():A.longs===Number?I.toNumber():I):n.seconds=A.longs===String?"0":0,n.nanos=0),s.seconds!=null&&s.hasOwnProperty("seconds")&&(typeof s.seconds=="number"?n.seconds=A.longs===String?String(s.seconds):s.seconds:n.seconds=A.longs===String?d.Long.prototype.toString.call(s.seconds):A.longs===Number?new d.LongBits(s.seconds.low>>>0,s.seconds.high>>>0).toNumber():s.seconds),s.nanos!=null&&s.hasOwnProperty("nanos")&&(n.nanos=s.nanos),n},ae.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ae),u.Empty=(Oe.create=function(s){return new Oe(s)},Oe.encode=function(s,A){return A=A||c.create()},Oe.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},Oe.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,A=new m.google.protobuf.Empty;s.pos<I;){var n=s.uint32();s.skipType(7&n)}return A},Oe.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},Oe.verify=function(s){return typeof s!="object"||s===null?"object expected":null},Oe.fromObject=function(s){return s instanceof m.google.protobuf.Empty?s:new m.google.protobuf.Empty},Oe.toObject=function(){return{}},Oe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Oe),u),h.rpc=((p={}).Status=(ie.prototype.code=0,ie.prototype.message="",ie.prototype.details=d.emptyArray,ie.create=function(s){return new ie(s)},ie.encode=function(s,A){if(A=A||c.create(),s.code!=null&&Object.hasOwnProperty.call(s,"code")&&A.uint32(8).int32(s.code),s.message!=null&&Object.hasOwnProperty.call(s,"message")&&A.uint32(18).string(s.message),s.details!=null&&s.details.length)for(var I=0;I<s.details.length;++I)m.google.protobuf.Any.encode(s.details[I],A.uint32(26).fork()).ldelim();return A},ie.encodeDelimited=function(s,A){return this.encode(s,A).ldelim()},ie.decode=function(s,A){s instanceof y||(s=y.create(s));for(var I=A===void 0?s.len:s.pos+A,n=new m.google.rpc.Status;s.pos<I;){var R=s.uint32();switch(R>>>3){case 1:n.code=s.int32();break;case 2:n.message=s.string();break;case 3:n.details&&n.details.length||(n.details=[]),n.details.push(m.google.protobuf.Any.decode(s,s.uint32()));break;default:s.skipType(7&R)}}return n},ie.decodeDelimited=function(s){return s instanceof y||(s=new y(s)),this.decode(s,s.uint32())},ie.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.code!=null&&s.hasOwnProperty("code")&&!d.isInteger(s.code))return"code: integer expected";if(s.message!=null&&s.hasOwnProperty("message")&&!d.isString(s.message))return"message: string expected";if(s.details!=null&&s.hasOwnProperty("details")){if(!Array.isArray(s.details))return"details: array expected";for(var A=0;A<s.details.length;++A){var I=m.google.protobuf.Any.verify(s.details[A]);if(I)return"details."+I}}return null},ie.fromObject=function(s){if(s instanceof m.google.rpc.Status)return s;var A=new m.google.rpc.Status;if(s.code!=null&&(A.code=0|s.code),s.message!=null&&(A.message=String(s.message)),s.details){if(!Array.isArray(s.details))throw TypeError(".google.rpc.Status.details: array expected");A.details=[];for(var I=0;I<s.details.length;++I){if(typeof s.details[I]!="object")throw TypeError(".google.rpc.Status.details: object expected");A.details[I]=m.google.protobuf.Any.fromObject(s.details[I])}}return A},ie.toObject=function(s,A){var I={};if(((A=A||{}).arrays||A.defaults)&&(I.details=[]),A.defaults&&(I.code=0,I.message=""),s.code!=null&&s.hasOwnProperty("code")&&(I.code=s.code),s.message!=null&&s.hasOwnProperty("message")&&(I.message=s.message),s.details&&s.details.length){I.details=[];for(var n=0;n<s.details.length;++n)I.details[n]=m.google.protobuf.Any.toObject(s.details[n],A)}return I},ie.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ie),p),h),m})}(operations)),operations.exports}var hasRequiredLongrunning;function requireLongrunning(){if(hasRequiredLongrunning)return longrunning;hasRequiredLongrunning=1,Object.defineProperty(longrunning,"__esModule",{value:!0}),longrunning.Operation=void 0,longrunning.operation=h;const o=require$$1$3,e=requireStatus(),r=requireGoogleError(),u=requireOperations();class p extends o.EventEmitter{constructor(c,d,m,P){super(),this.completeListeners=0,this.hasActiveListeners=!1,this.latestResponse=c,this.name=this.latestResponse.name,this.done=this.latestResponse.done,this.error=this.latestResponse.error,this.longrunningDescriptor=d,this.result=null,this.metadata=null,this.backoffSettings=m,this._unpackResponse(c),this._listenForEvents(),this._callOptions=P}_listenForEvents(){this.on("newListener",c=>{c==="complete"&&(this.completeListeners++,this.hasActiveListeners||(this.hasActiveListeners=!0,this.startPolling_()))}),this.on("removeListener",c=>{c==="complete"&&--this.completeListeners===0&&(this.hasActiveListeners=!1)})}cancel(){this.currentCallPromise_&&this.currentCallPromise_.cancel();const c=this.longrunningDescriptor.operationsClient,d=new u.google.longrunning.CancelOperationRequest;return d.name=this.latestResponse.name,c.cancelOperation(d)}getOperation(c){const d=this,m=this.longrunningDescriptor.operationsClient;function P(){if(!c)return new Promise((k,B)=>{if(d.latestResponse.error){const U=new r.GoogleError(d.latestResponse.error.message);U.code=d.latestResponse.error.code,B(U)}else k([d.result,d.metadata,d.latestResponse])})}if(this.latestResponse.done)return this._unpackResponse(this.latestResponse,c),P();const N=new u.google.longrunning.GetOperationRequest;N.name=this.latestResponse.name,this.currentCallPromise_=m.getOperationInternal(N,this._callOptions);const L=this.currentCallPromise_.then(k=>(d.latestResponse=k[0],d._unpackResponse(k[0],c),P()),k=>{if(c){c(k);return}return Promise.reject(k)});if(!c)return L}_unpackResponse(c,d){const m=this.longrunningDescriptor.responseDecoder,P=this.longrunningDescriptor.metadataDecoder;let N,L;if(c.done){if(c.result==="error"){const k=new r.GoogleError(c.error.message);k.code=c.error.code,this.error=k,d&&d(k);return}m&&c.response&&(this.response=c.response,N=m(c.response.value),this.result=N,this.done=!0)}P&&c.metadata&&(L=P(c.metadata.value),this.metadata=L),d&&d(null,N,L,c)}startPolling_(){const c=this;let d=new Date;const m=this.backoffSettings.retryDelayMultiplier,P=this.backoffSettings.maxRetryDelayMillis;let N=this.backoffSettings.initialRetryDelayMillis,L=1/0;this.backoffSettings.totalTimeoutMillis&&(L=d.getTime()+this.backoffSettings.totalTimeoutMillis);let k;this.latestResponse.metadata&&(k=this.latestResponse.metadata.value);function B(j,...M){c.emit(j,...M)}function U(j,M){if(j.byteLength!==M.byteLength)return!1;for(let q=0;q<j.byteLength;++q)if(j[q]!==M[q])return!1;return!0}function $(){if(c.hasActiveListeners){if(d.getTime()>=L){const j=new r.GoogleError("Total timeout exceeded before any response was received");j.code=e.Status.DEADLINE_EXCEEDED,setImmediate(B,"error",j);return}c.getOperation((j,M,q,Q)=>{if(j){setImmediate(B,"error",j);return}if(!M){if(Q.metadata&&(!k||Q&&!U(Q.metadata.value,k))&&(setImmediate(B,"progress",q,Q),k=Q.metadata.value),Q.done){setImmediate(B,"complete",{},q,Q);return}setTimeout(()=>{d=new Date,N=Math.min(N*m,P),$()},N);return}setImmediate(B,"complete",M,q,Q)})}}$()}promise(){return new Promise((c,d)=>{this.on("error",d).on("complete",(m,P,N)=>{c([m,P,N])})})}}longrunning.Operation=p;function h(y,c,d,m){return new p(y,c,d,m)}return longrunning}var hasRequiredLongRunningApiCaller;function requireLongRunningApiCaller(){if(hasRequiredLongRunningApiCaller)return longRunningApiCaller;hasRequiredLongRunningApiCaller=1,Object.defineProperty(longRunningApiCaller,"__esModule",{value:!0}),longRunningApiCaller.LongrunningApiCaller=void 0;const o=requireCall(),e=requireGax(),r=requireLongrunning();class u{constructor(h){this.longrunningDescriptor=h}init(h){return h?new o.OngoingCall(h):new o.OngoingCallPromise}wrap(h){return h}call(h,y,c,d){d.call((m,P)=>this._wrapOperation(h,c,m,P),y)}_wrapOperation(h,y,c,d){let m=y.longrunning;m||(m=(0,e.createDefaultBackoffSettings)());const P=this.longrunningDescriptor;return h(c,(N,L)=>{if(N){d(N,null,null,L);return}const k=new r.Operation(L,P,m,y);d(null,k,L)})}fail(h,y){h.callback(y)}result(h){return h.promise}}return longRunningApiCaller.LongrunningApiCaller=u,longRunningApiCaller}var hasRequiredLongRunningDescriptor;function requireLongRunningDescriptor(){if(hasRequiredLongRunningDescriptor)return longRunningDescriptor;hasRequiredLongRunningDescriptor=1,Object.defineProperty(longRunningDescriptor,"__esModule",{value:!0}),longRunningDescriptor.LongRunningDescriptor=void 0;const o=requireLongRunningApiCaller();class e{constructor(u,p,h){this.operationsClient=u,this.responseDecoder=p,this.metadataDecoder=h}getApiCaller(){return new o.LongrunningApiCaller(this)}}return longRunningDescriptor.LongRunningDescriptor=e,longRunningDescriptor}var pageDescriptor={},pagedApiCaller={},resourceCollector={},hasRequiredResourceCollector;function requireResourceCollector(){if(hasRequiredResourceCollector)return resourceCollector;hasRequiredResourceCollector=1,Object.defineProperty(resourceCollector,"__esModule",{value:!0}),resourceCollector.ResourceCollector=void 0;class o{constructor(r,u=-1){this.apiCall=r,this.resources=[],this.maxResults=u}callback(r,u,p){if(r){this.rejectCallback(r);return}for(const y of u)if(this.resources.push(y),this.resources.length===this.maxResults){p=null;break}if(!p){this.resolveCallback(this.resources);return}const h=(...y)=>this.callback(...y);setImmediate(this.apiCall,p,h)}processAllPages(r){return new Promise((u,p)=>{this.resolveCallback=u,this.rejectCallback=p;const h=(...y)=>this.callback(...y);setImmediate(this.apiCall,r,h)})}}return resourceCollector.ResourceCollector=o,resourceCollector}var hasRequiredPagedApiCaller;function requirePagedApiCaller(){if(hasRequiredPagedApiCaller)return pagedApiCaller;hasRequiredPagedApiCaller=1,Object.defineProperty(pagedApiCaller,"__esModule",{value:!0}),pagedApiCaller.PagedApiCaller=void 0;const o=requireCall(),e=requireGoogleError(),r=requireResourceCollector();class u{constructor(h){this.pageDescriptor=h}generateParseResponseCallback(h,y){const c=this.pageDescriptor.resourceField,d=this.pageDescriptor.responsePageTokenField,m=this.pageDescriptor.requestPageTokenField;return(P,N)=>{if(P){y(P);return}if(!h){y(new e.GoogleError("Undefined request in pagination method callback."));return}if(!N){y(new e.GoogleError("Undefined response in pagination method callback."));return}const L=N[c]||[],k=N[d];let B=null;k&&(B=Object.assign({},h),B[m]=k),y(P,L,B,N)}}wrap(h){const y=this;return function(d,m,P,N){return h(d,m,P,y.generateParseResponseCallback(d,N))}}init(h){return h?new o.OngoingCall(h):new o.OngoingCallPromise}call(h,y,c,d){if(y=Object.assign({},y),!c.autoPaginate){d.call(h,y);return}const m=c.maxResults||-1;new r.ResourceCollector(h,m).processAllPages(y).then(N=>d.callback(null,N),N=>d.callback(N))}fail(h,y){h.callback(y)}result(h){return h.promise}}return pagedApiCaller.PagedApiCaller=u,pagedApiCaller}var hasRequiredPageDescriptor;function requirePageDescriptor(){if(hasRequiredPageDescriptor)return pageDescriptor;hasRequiredPageDescriptor=1,Object.defineProperty(pageDescriptor,"__esModule",{value:!0}),pageDescriptor.PageDescriptor=void 0;const o=require$$1$3,e=requireNormalApiCaller(),r=requirePagedApiCaller(),u=10;class p{constructor(y,c,d){this.requestPageTokenField=y,this.responsePageTokenField=c,this.resourceField=d}createStream(y,c,d){const m=new o.PassThrough({objectMode:!0});d=Object.assign({},d,{autoPaginate:!1});const P="maxResults"in d?d.maxResults:-1;let N=0,L=!1;function k(B,U,$,j){if(B){m.emit("error",B);return}m.emit("response",j);for(let M=0;M<U.length;++M){if(m._readableState.ended)return;U[M]!==null&&(m.push(U[M]),N++,N===P&&m.end())}if(!m._readableState.ended){if(!$){m.end();return}"pageToken"in d&&delete d.pageToken,m.isPaused()?(c=$,L=!1):setImmediate(y,$,d,k)}}return m.on("resume",()=>{L||(L=!0,y(c,d,k))}),m}asyncIterate(y,c,d){return d=Object.assign({},d,{autoPaginate:!1}),this.createIterator(y,c,d)}createIterator(y,c,d){return{[Symbol.asyncIterator](){let P=c;const N=[];return{async next(){if(N.length>0)return Promise.resolve({done:!1,value:N.shift()});let L=0;for(;N.length===0&&P;){let k;if([k,P]=await y(P,d),k&&!Array.isArray(k))for(const[B,U]of Object.entries(k))N.push([B,U]);else N.push(...k);if(N.length===0&&(++L,L>u))break}return N.length===0?Promise.resolve({done:!0,value:void 0}):Promise.resolve({done:!1,value:N.shift()})}}}}}getApiCaller(y){return y.autoPaginate?new r.PagedApiCaller(this):new e.NormalApiCaller}}return pageDescriptor.PageDescriptor=p,pageDescriptor}var streamDescriptor={},hasRequiredStreamDescriptor;function requireStreamDescriptor(){if(hasRequiredStreamDescriptor)return streamDescriptor;hasRequiredStreamDescriptor=1,Object.defineProperty(streamDescriptor,"__esModule",{value:!0}),streamDescriptor.StreamDescriptor=void 0;const o=requireStreamingApiCaller();class e{constructor(u,p,h){this.type=u,this.streaming=!0,this.rest=p,this.gaxStreamingRetries=h}getApiCaller(){return new o.StreamingApiCaller(this)}}return streamDescriptor.StreamDescriptor=e,streamDescriptor}var bundleDescriptor={},bundleApiCaller={},hasRequiredBundleApiCaller;function requireBundleApiCaller(){if(hasRequiredBundleApiCaller)return bundleApiCaller;hasRequiredBundleApiCaller=1,Object.defineProperty(bundleApiCaller,"__esModule",{value:!0}),bundleApiCaller.BundleApiCaller=void 0;const o=requireCall(),e=requireGoogleError();class r{constructor(p){this.bundler=p}init(p){return p?new o.OngoingCall(p):new o.OngoingCallPromise}wrap(p){return p}call(p,h,y,c){if(!y.isBundling)throw new e.GoogleError("Bundling enabled with no isBundling!");c.call((d,m)=>(this.bundler.schedule(p,d,m),c),h)}fail(p,h){p.callback(h)}result(p){return p.promise}}return bundleApiCaller.BundleApiCaller=r,bundleApiCaller}var bundleExecutor={},bundlingUtils={},hasRequiredBundlingUtils;function requireBundlingUtils(){if(hasRequiredBundlingUtils)return bundlingUtils;hasRequiredBundlingUtils=1,Object.defineProperty(bundlingUtils,"__esModule",{value:!0}),bundlingUtils.computeBundleId=o;function o(r,u){const p=[];let h=!1;for(const y of u){const c=e(r,y);c===void 0?p.push(null):(h=!0,p.push(c))}if(h)return JSON.stringify(p)}function e(r,u){const p=u.split(".");let h=r;for(const y of p)h=h==null?void 0:h[y];return h}return bundlingUtils}var task={},hasRequiredTask;function requireTask(){if(hasRequiredTask)return task;hasRequiredTask=1,Object.defineProperty(task,"__esModule",{value:!0}),task.Task=void 0,task.deepCopyForResponse=r;const o=requireStatus(),e=requireGoogleError();function r(p,h){let y;if(p===null)return null;if(p!==void 0)return Array.isArray(p)?(y=[],p.forEach(c=>{y.push(r(c,null))}),y):p.copy!==void 0?p.copy():p instanceof ArrayBuffer?p.slice(0):typeof p=="object"?(y={},Object.keys(p).forEach(c=>{h&&c===h.field&&Array.isArray(p[c])?y[c]=p[c].slice(h.start,h.end):y[c]=r(p[c],null)}),y):p}class u{constructor(h,y,c,d){this._apiCall=h,this._request=y,this._bundledField=c,this._subresponseField=d,this._data=[]}getElementCount(){let h=0;for(let y=0;y<this._data.length;++y)h+=this._data[y].elements.length;return h}getRequestByteSize(){let h=0;for(let y=0;y<this._data.length;++y)h+=this._data[y].bytes;return h}run(){if(this._data.length===0)return[];const h=this._request,y=[],c=[];for(let m=0;m<this._data.length;++m)y.push(...this._data[m].elements),c.push(this._data[m].callback.id);h[this._bundledField]=y;const d=this;return this.callCanceller=this._apiCall(h,(m,P)=>{const N=[];if(m)d._data.forEach(()=>{N.push(void 0)});else{let L=null;d._subresponseField&&(L={field:d._subresponseField,start:0}),d._data.forEach(k=>{L&&(L.end=L.start+k.elements.length),N.push(r(P,L)),L&&(L.start=L.end)})}for(let L=0;L<d._data.length;++L)if(d._data[L].cancelled){const k=new e.GoogleError("cancelled");k.code=o.Status.CANCELLED,d._data[L].callback(k)}else d._data[L].callback(m,N[L])}),c}extend(h,y,c){this._data.push({elements:h,bytes:y,callback:c})}cancel(h){if(this.callCanceller){let y=!0;return this._data.forEach(c=>{c.callback.id===h&&(c.cancelled=!0),c.cancelled||(y=!1)}),y&&this.callCanceller.cancel(),y}for(let y=0;y<this._data.length;++y)if(this._data[y].callback.id===h){const c=new e.GoogleError("cancelled");c.code=o.Status.CANCELLED,this._data[y].callback(c),this._data.splice(y,1);break}return this._data.length===0}}return task.Task=u,task}var hasRequiredBundleExecutor;function requireBundleExecutor(){if(hasRequiredBundleExecutor)return bundleExecutor;hasRequiredBundleExecutor=1,Object.defineProperty(bundleExecutor,"__esModule",{value:!0}),bundleExecutor.BundleExecutor=void 0;const o=requireStatus(),e=requireGoogleError(),r=requireWarnings(),u=requireBundlingUtils(),p=requireTask();function h(){}class y{constructor(d,m){this._options=d,this._descriptor=m,this._tasks={},this._timers={},this._invocations={},this._invocationId=0}schedule(d,m,P){const N=(0,u.computeBundleId)(m,this._descriptor.requestDiscriminatorFields);if(P=P||h,N===void 0)return(0,r.warn)("bundling_schedule_bundleid_undefined",`The request does not have enough information for request bundling. Invoking immediately. Request: ${JSON.stringify(m)} discriminator fields: ${this._descriptor.requestDiscriminatorFields}`),d(m,P);if(m[this._descriptor.bundledField]===void 0)return(0,r.warn)("bundling_no_bundled_field",`Request does not contain field ${this._descriptor.bundledField} that must present for bundling. Invoking immediately. Request: ${JSON.stringify(m)}`),d(m,P);N in this._tasks||(this._tasks[N]=new p.Task(d,m,this._descriptor.bundledField,this._descriptor.subresponseField));let L=this._tasks[N];P.id=String(this._invocationId++),this._invocations[P.id]=N;const k=m[this._descriptor.bundledField],B=k.length;let U=0;const $=this;k.forEach(x=>{U+=this._descriptor.byteLengthFunction(x)});const j=this._options.elementCountLimit||0,M=this._options.requestByteLimit||0;if(j>0&&B>j||M>0&&U>=M){let x;j>0&&B>j?x="The number of elements "+B+" exceeds the limit "+this._options.elementCountLimit:x="The required bytes "+U+" exceeds the limit "+this._options.requestByteLimit;const z=new e.GoogleError(x);return z.code=o.Status.INVALID_ARGUMENT,P(z),{cancel:h}}const q=L.getElementCount(),Q=L.getRequestByteSize();(j>0&&B+q>=j||M>0&&U+Q>=M)&&(this._runNow(N),this._tasks[N]=new p.Task(d,m,this._descriptor.bundledField,this._descriptor.subresponseField),L=this._tasks[N]),L.extend(k,U,P);const K={cancel(){$._cancel(P.id)}},G=this._options.elementCountThreshold||0,F=this._options.requestByteThreshold||0;return G>0&&L.getElementCount()>=G||F>0&&L.getRequestByteSize()>=F?(this._runNow(N),K):(!(N in this._timers)&&this._options.delayThreshold>0&&(this._timers[N]=setTimeout(()=>{delete this._timers[N],this._runNow(N)},this._options.delayThreshold)),K)}_maybeClearTimeout(d){if(d in this._timers){const m=this._timers[d];delete this._timers[d],clearTimeout(m)}}_cancel(d){if(!(d in this._invocations))return;const m=this._invocations[d];if(!(m in this._tasks))return;const P=this._tasks[m];delete this._invocations[d],P.cancel(d)&&(this._maybeClearTimeout(m),delete this._tasks[m])}_runNow(d){if(!(d in this._tasks)){(0,r.warn)("bundle_runnow_bundleid_unknown",`No such bundleid: ${d}`);return}this._maybeClearTimeout(d);const m=this._tasks[d];delete this._tasks[d],m.run().forEach(P=>{delete this._invocations[P]})}}return bundleExecutor.BundleExecutor=y,bundleExecutor}var hasRequiredBundleDescriptor;function requireBundleDescriptor(){if(hasRequiredBundleDescriptor)return bundleDescriptor;hasRequiredBundleDescriptor=1,Object.defineProperty(bundleDescriptor,"__esModule",{value:!0}),bundleDescriptor.BundleDescriptor=void 0;const o=requireNormalApiCaller(),e=requireBundleApiCaller(),r=requireBundleExecutor(),u=requireUtil$1();class p{constructor(y,c,d,m){!m&&typeof d=="function"&&(m=d,d=null),this.bundledField=y,this.requestDiscriminatorFields=c.map(u.toCamelCase),this.subresponseField=d,this.byteLengthFunction=m}getApiCaller(y){return y.isBundling===!1?new o.NormalApiCaller:new e.BundleApiCaller(new r.BundleExecutor(y.bundleOptions,this))}}return bundleDescriptor.BundleDescriptor=p,bundleDescriptor}var hasRequiredDescriptor;function requireDescriptor(){return hasRequiredDescriptor||(hasRequiredDescriptor=1,function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.BundleDescriptor=o.StreamDescriptor=o.PageDescriptor=o.LongrunningDescriptor=void 0;var e=requireLongRunningDescriptor();Object.defineProperty(o,"LongrunningDescriptor",{enumerable:!0,get:function(){return e.LongRunningDescriptor}});var r=requirePageDescriptor();Object.defineProperty(o,"PageDescriptor",{enumerable:!0,get:function(){return r.PageDescriptor}});var u=requireStreamDescriptor();Object.defineProperty(o,"StreamDescriptor",{enumerable:!0,get:function(){return u.StreamDescriptor}});var p=requireBundleDescriptor();Object.defineProperty(o,"BundleDescriptor",{enumerable:!0,get:function(){return p.BundleDescriptor}})}(descriptor)),descriptor}const interfaces$4={"google.longrunning.Operations":{retry_codes:{idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"],non_idempotent:[]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:9e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:9e4,total_timeout_millis:6e5}},methods:{GetOperation:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},ListOperations:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},CancelOperation:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},DeleteOperation:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"}}}},require$$3={interfaces:interfaces$4},nested$5={google:{nested:{longrunning:{options:{cc_enable_arenas:!0,csharp_namespace:"Google.LongRunning",go_package:"google.golang.org/genproto/googleapis/longrunning;longrunning",java_multiple_files:!0,java_outer_classname:"OperationsProto",java_package:"com.google.longrunning",php_namespace:"Google\\LongRunning"},nested:{operationInfo:{type:"google.longrunning.OperationInfo",id:1049,extend:"google.protobuf.MethodOptions"},Operations:{options:{"(google.api.default_host)":"longrunning.googleapis.com"},methods:{ListOperations:{requestType:"ListOperationsRequest",responseType:"ListOperationsResponse",options:{"(google.api.http).get":"/v1/{name=operations}","(google.api.method_signature)":"name,filter"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=operations}"}},{"(google.api.method_signature)":"name,filter"}]},GetOperation:{requestType:"GetOperationRequest",responseType:"Operation",options:{"(google.api.http).get":"/v1/operations/{name}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{get:"/v1/operations/{name}"}},{"(google.api.method_signature)":"name"}]},DeleteOperation:{requestType:"DeleteOperationRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=operations/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=operations/**}"}},{"(google.api.method_signature)":"name"}]},CancelOperation:{requestType:"CancelOperationRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).post":"/v1/{name=operations/**}:cancel","(google.api.http).body":"*","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{post:"/v1/{name=operations/**}:cancel",body:"*"}},{"(google.api.method_signature)":"name"}]},WaitOperation:{requestType:"WaitOperationRequest",responseType:"Operation"}}},Operation:{oneofs:{result:{oneof:["error","response"]}},fields:{name:{type:"string",id:1},metadata:{type:"google.protobuf.Any",id:2},done:{type:"bool",id:3},error:{type:"google.rpc.Status",id:4},response:{type:"google.protobuf.Any",id:5}}},GetOperationRequest:{fields:{name:{type:"string",id:1}}},ListOperationsRequest:{fields:{name:{type:"string",id:4},filter:{type:"string",id:1},pageSize:{type:"int32",id:2},pageToken:{type:"string",id:3}}},ListOperationsResponse:{fields:{operations:{rule:"repeated",type:"Operation",id:1},nextPageToken:{type:"string",id:2}}},CancelOperationRequest:{fields:{name:{type:"string",id:1}}},DeleteOperationRequest:{fields:{name:{type:"string",id:1}}},WaitOperationRequest:{fields:{name:{type:"string",id:1},timeout:{type:"google.protobuf.Duration",id:2}}},OperationInfo:{fields:{responseType:{type:"string",id:1},metadataType:{type:"string",id:2}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:!0,java_outer_classname:"ClientProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{http:{type:"HttpRule",id:72295728,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1},fullyDecodeReservedExpansion:{type:"bool",id:2}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{selector:{type:"string",id:1},get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},body:{type:"string",id:7},responseBody:{type:"string",id:12},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"}}},protobuf:{options:{go_package:"github.com/golang/protobuf/protoc-gen-go/descriptor;descriptor",java_package:"com.google.protobuf",java_outer_classname:"DescriptorProtos",csharp_namespace:"Google.Protobuf.Reflection",objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2},options:{type:"ExtensionRangeOptions",id:3}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},ExtensionRangeOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8},proto3Optional:{type:"bool",id:17}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3},reservedRange:{rule:"repeated",type:"EnumReservedRange",id:4},reservedName:{rule:"repeated",type:"string",id:5}},nested:{EnumReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5,options:{default:!1}},serverStreaming:{type:"bool",id:6,options:{default:!1}}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10,options:{default:!1}},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27,options:{default:!1}},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16,options:{default:!1}},javaGenericServices:{type:"bool",id:17,options:{default:!1}},pyGenericServices:{type:"bool",id:18,options:{default:!1}},phpGenericServices:{type:"bool",id:42,options:{default:!1}},deprecated:{type:"bool",id:23,options:{default:!1}},ccEnableArenas:{type:"bool",id:31,options:{default:!0}},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},swiftPrefix:{type:"string",id:39},phpClassPrefix:{type:"string",id:40},phpNamespace:{type:"string",id:41},phpMetadataNamespace:{type:"string",id:44},rubyPackage:{type:"string",id:45},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1,options:{default:!1}},noStandardDescriptorAccessor:{type:"bool",id:2,options:{default:!1}},deprecated:{type:"bool",id:3,options:{default:!1}},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8],[9,9]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5,options:{default:!1}},deprecated:{type:"bool",id:3,options:{default:!1}},weak:{type:"bool",id:10,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[5,5]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33,options:{default:!1}},idempotencyLevel:{type:"IdempotencyLevel",id:34,options:{default:"IDEMPOTENCY_UNKNOWN"}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],nested:{IdempotencyLevel:{values:{IDEMPOTENCY_UNKNOWN:0,NO_SIDE_EFFECTS:1,IDEMPOTENT:2}}}},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},Duration:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},Empty:{fields:{}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/status;status",java_multiple_files:!0,java_outer_classname:"StatusProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}}}}}}},require$$4={nested:nested$5};var transcoding={},hasRequiredTranscoding;function requireTranscoding(){if(hasRequiredTranscoding)return transcoding;hasRequiredTranscoding=1,Object.defineProperty(transcoding,"__esModule",{value:!0}),transcoding.getField=p,transcoding.deepCopyWithoutMatchedFields=h,transcoding.deleteField=y,transcoding.buildQueryStringComponents=c,transcoding.encodeWithSlashes=d,transcoding.encodeWithoutSlashes=m,transcoding.applyPattern=N,transcoding.match=k,transcoding.flattenObject=B,transcoding.isProto3OptionalField=U,transcoding.transcode=$,transcoding.overrideHttpRules=j;const o=requireUtil$1(),e="(google.api.http)",r="proto3_optional",u=["get","post","put","patch","delete"];function p(M,q,Q=!1){const K=q.split(".");let G=M;for(const F of K){if(typeof G!="object")return;G=G[F]}if(!(!Q&&typeof G=="object"&&!Array.isArray(G)&&G!==null))return G}function h(M,q,Q=""){if(typeof M!="object"||M===null)return M;const K=Object.assign({},M);for(const G in K){if(q.has(`${Q}${G}`)){delete K[G];continue}const F=`${Q}${G}.`;Array.isArray(K[G])?K[G]=K[G].map(x=>h(x,new Set)):typeof K[G]=="object"&&K[G]!==null&&(K[G]=h(K[G],q,F))}return K}function y(M,q){const Q=q.split(".");for(;Q.length>1;){if(typeof M!="object")return;const G=Q.shift();M=M[G]}const K=Q.shift();typeof M=="object"&&delete M[K]}function c(M,q=""){const Q=[];for(const K in M)if(Array.isArray(M[K]))for(const G of M[K])Q.push(`${q}${m(K)}=${m(G.toString())}`);else typeof M[K]=="object"&&M[K]!==null?Q.push(...c(M[K],`${K}.`)):Q.push(`${q}${m(K)}=${m(M[K]===null?"null":M[K].toString())}`);return Q}function d(M){return M.split("").map(q=>q.match(/[-_.~0-9a-zA-Z]/)?q:encodeURIComponent(q)).join("")}function m(M){return M.split("").map(q=>q.match(/[-_.~0-9a-zA-Z/]/)?q:encodeURIComponent(q)).join("")}function P(M){return M.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function N(M,q){if(!M||M==="*")return d(q);if(!M.includes("*")&&M!==q)return;const Q=new RegExp("^"+P(M).replace(/\\\*\\\*/g,"(.+)").replace(/\\\*/g,"([^/]+)")+"$");if(q.match(Q))return m(q)}function L(M){return M.split(".").map(Q=>(0,o.toCamelCase)(Q)).join(".")}function k(M,q){let Q=q;const K=[];for(;;){const G=Q.match(/^(.*)\{([^}=]+)(?:=([^}]*))?\}(.*)/);if(!G)break;const[,F,x,z,J]=G,Z=L(x);K.push(L(Z));const X=p(M,Z);if(X===void 0)return;const te=N(z,X===null?"null":X.toString());if(te===void 0)return;Q=F+te+J}return{matchedFields:K,url:Q}}function B(M){const q={};for(const Q in M)if(M[Q]!==void 0){if(Array.isArray(M[Q])){q[Q]=M[Q];continue}if(typeof M[Q]=="object"&&M[Q]!==null){const K=B(M[Q]);for(const G in K)q[`${Q}.${G}`]=K[G];continue}q[Q]=M[Q]}return q}function U(M){return M&&M.options&&M.options[r]}function $(M,q){const Q=[];for(const K of q){if(!(e in K))continue;const G=K[e];if(Q.push(G),G!=null&&G.additional_bindings){const F=Array.isArray(G.additional_bindings)?G.additional_bindings:[G.additional_bindings];Q.push(...F)}}for(const K of Q)for(const G of u){if(!(G in K))continue;const F=K[G],x=k(M,F);if(x===void 0)continue;const{url:z,matchedFields:J}=x;let Z=h(M,new Set(J));if(K.body==="*")return{httpMethod:G,url:z,queryString:"",data:Z};const X=Z;K.body?(Z=p(X,L(K.body),!0),y(X,L(K.body))):Z="";const be=c(X).join("&");return(!Z||typeof Z=="object"&&Object.keys(Z).length===0)&&(Z=""),{httpMethod:G,url:z,queryString:be,data:Z}}}function j(M,q){for(const Q of M){if(!Q.selector)continue;const K=q.lookup(Q.selector);if(!(!K||!K.parsedOptions))for(const G of K.parsedOptions){if(!(e in G))continue;const F=G[e];for(const x in F){if(x in Q){if(x==="additional_bindings")continue;F[x]=Q[x]}Q.additional_bindings&&(F.additional_bindings=F.additional_bindings?Array.isArray(F.additional_bindings)?F.additional_bindings:[F.additional_bindings]:[],F.additional_bindings.push(...Q.additional_bindings))}}}}return transcoding}const version$3="4.4.1",require$$17={version:version$3};var hasRequiredOperationsClient;function requireOperationsClient(){return hasRequiredOperationsClient||(hasRequiredOperationsClient=1,function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.OperationsClientBuilder=o.OperationsClient=o.ALL_SCOPES=o.SERVICE_ADDRESS=void 0;const e=requireCreateApiCall(),r=requireDescriptor(),u=requireGax(),p=require$$3,h=require$$4,y=requireTranscoding();o.SERVICE_ADDRESS="longrunning.googleapis.com";const c=require$$17.version,d=443,m="gapic/0.7.1";o.ALL_SCOPES=[];class P{constructor(k,B,U){const $=Object.assign({servicePath:o.SERVICE_ADDRESS,port:d,clientConfig:{}},U),j=["gl-node/"+process.versions.node];$.libName&&$.libVersion&&j.push($.libName+"/"+$.libVersion),j.push(m,"gax/"+c),$.fallback?j.push("gl-web/"+c):j.push("grpc/"+k.grpcVersion);const M=k.constructSettings("google.longrunning.Operations",p,$.clientConfig||{},{"x-goog-api-client":j.join(" ")});this.auth=k.auth,this.innerApiCalls={},this.descriptor={listOperations:new r.PageDescriptor("pageToken","nextPageToken","operations")},this.operationsStub=k.createStub($.fallback?B.lookupService("google.longrunning.Operations"):B.google.longrunning.Operations,$);const q=["getOperation","listOperations","cancelOperation","deleteOperation"];for(const Q of q){const K=this.operationsStub.then(G=>(...F)=>G[Q].apply(G,F),G=>()=>{throw G});this.innerApiCalls[Q]=(0,e.createApiCall)(K,M[Q],this.descriptor[Q])}}close(){this.operationsStub.then(k=>k.close())}getProjectId(k){if(this.auth&&"getProjectId"in this.auth)return this.auth.getProjectId(k);if(k)k(new Error("Cannot determine project ID."));else return Promise.reject("Cannot determine project ID.")}getOperationInternal(k,B,U){return k=k||{},B=B||{},this.innerApiCalls.getOperation(k,B,U)}getOperation(k,B,U){let $;return B instanceof Function&&U===void 0?(U=B,$={}):$=B,k=k||{},$=$||{},this.innerApiCalls.getOperation(k,$,U)}listOperations(k,B,U){let $;return B instanceof Function&&U===void 0?(U=B,$={}):$=B,k=k||{},$=$||{},this.innerApiCalls.listOperations(k,$,U)}listOperationsStream(k,B){const U=new u.CallSettings(B);return this.descriptor.listOperations.createStream(this.innerApiCalls.listOperations,k,U)}listOperationsAsync(k,B){k=k||{},B=B||{};const U=new u.CallSettings(B);return this.descriptor.listOperations.asyncIterate(this.innerApiCalls.listOperations,k,U)}cancelOperation(k,B,U){let $;return B instanceof Function&&U===void 0?(U=B,$={}):$=B,k=k||{},$=$||{},this.innerApiCalls.cancelOperation(k,$,U)}deleteOperation(k,B,U){let $;return B instanceof Function&&U===void 0?(U=B,$={}):$=B,k=k||{},$=$||{},this.innerApiCalls.deleteOperation(k,$,U)}}o.OperationsClient=P;class N{constructor(k,B){B&&k.httpRules&&(0,y.overrideHttpRules)(k.httpRules,B);const U=B??k.loadProtoJSON(h);this.operationsClient=$=>(k.fallback&&($.fallback=k.fallback),new P(k,U,$)),Object.assign(this.operationsClient,P)}}o.OperationsClientBuilder=N}(operationsClient)),operationsClient}var fallbackRest={},hasRequiredFallbackRest;function requireFallbackRest(){if(hasRequiredFallbackRest)return fallbackRest;hasRequiredFallbackRest=1,Object.defineProperty(fallbackRest,"__esModule",{value:!0}),fallbackRest.encodeRequest=p,fallbackRest.decodeResponse=h;const o=requireSrc$1(),e=requireFallback(),r=requireGoogleError(),u=requireTranscoding();function p(y,c,d,m,P,N){const L={"Content-Type":"application/json"},k=y.resolvedRequestType.fromObject(P),B=o.toProto3JSON(k,{numericEnums:N});if(!B)throw new Error(`Cannot send null request to RPC ${y.name}.`);if(typeof B!="object"||Array.isArray(B))throw new Error(`Request to RPC ${y.name} must be an object.`);const U=(0,u.transcode)(B,y.parsedOptions);if(!U)throw new Error(`Cannot build HTTP request for ${JSON.stringify(B)}, method: ${y.name}`);N&&(U.queryString=(U.queryString?`${U.queryString}&`:"")+"$alt=json%3Benum-encoding=int");const $=U.httpMethod.toUpperCase(),j=JSON.stringify(U.data),M=`${c}://${d}:${m}/${U.url.replace(/^\//,"")}?${U.queryString}`;return{method:$,url:M,headers:L,body:j}}function h(y,c,d){const m=new TextDecoder().decode(d),P=JSON.parse(m);if(!c)throw r.GoogleError.parseHttpError(P);const N=o.fromProto3JSON(y.resolvedResponseType,P);if(!N)throw new Error(`Received null response from RPC ${y.name}`);return y.resolvedResponseType.toObject(N,e.defaultToObjectOptions)}return fallbackRest}var fallbackServiceStub={},browser$1={exports:{}},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$1.exports;hasRequiredBrowser=1;const{AbortController:o,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return browser$1.exports=o,browser$1.exports.AbortSignal=e,browser$1.exports.default=o,browser$1.exports}var streamArrayParser={},hasRequiredStreamArrayParser;function requireStreamArrayParser(){if(hasRequiredStreamArrayParser)return streamArrayParser;hasRequiredStreamArrayParser=1,Object.defineProperty(streamArrayParser,"__esModule",{value:!0}),streamArrayParser.StreamArrayParser=void 0;const o=requireBrowser(),e=require$$1$3,r=requireFallbackRest(),u=requireFeatureDetection();class p extends e.Transform{constructor(y,c){super(Object.assign({},c,{readableObjectMode:!0})),this._done=!1,this._prevBlock=Buffer.from(""),this._isInString=!1,this._isSkipped=!1,this._level=0,this.rpc=y,this.cancelController=(0,u.hasAbortController)()?new AbortController:new o.AbortController,this.cancelSignal=this.cancelController.signal,this.cancelRequested=!1}_transform(y,c,d){let m=0,P=0;for(this._level===0&&P===0&&(String.fromCharCode(y[0])!=="["&&this.emit("error",new Error(`Internal Error: API service stream data must start with a '[' and close with the corresponding ']', but it start with ${String.fromCharCode(y[0])}`)),P++,this._level++);P<y.length;){const N=String.fromCharCode(y[P]);if(this._isSkipped)this._isSkipped=!1;else switch(N){case"{":this._isInString||this._level++,!this._isInString&&this._level===2&&(m=P);break;case'"':this._isInString=!this._isInString;break;case"}":if(this._isInString||this._level--,!this._isInString&&this._level===1){const L=Buffer.concat([this._prevBlock,y.slice(m,P+1)]);try{const k=(0,r.decodeResponse)(this.rpc,!0,L);this.push(k)}catch(k){this.emit("error",k)}m=P+1,this._prevBlock=Buffer.from("")}break;case"]":!this._isInString&&this._level===1&&(this._done=!0,this.push(null));break;case"\\":this._isSkipped=!0;break}P++}this._level>1&&(this._prevBlock=Buffer.concat([this._prevBlock,y.slice(m,P)])),d()}_flush(y){y()}cancel(){this._done=!0,this.cancelRequested=!0,this.cancelController.abort(),this.end()}}return streamArrayParser.StreamArrayParser=p,streamArrayParser}var hasRequiredFallbackServiceStub;function requireFallbackServiceStub(){if(hasRequiredFallbackServiceStub)return fallbackServiceStub;hasRequiredFallbackServiceStub=1,Object.defineProperty(fallbackServiceStub,"__esModule",{value:!0}),fallbackServiceStub.generateServiceStub=h;const o=requireBrowser$3(),e=requireBrowser(),r=requireFeatureDetection(),u=requireStreamArrayParser(),p=require$$1$3;function h(y,c,d,m,P,N,L,k){const B=(0,r.hasWindowFetch)()?window.fetch:o.default,U={close:()=>({cancel:()=>{}})};for(const[$,j]of Object.entries(y))U[$]=(M,q,Q,K)=>{q??(q={});let G;try{G=N(j,c,d,m,M,k)}catch(te){return K&&K(te),{cancel(){}}}const F=(0,r.hasAbortController)()?new AbortController:new e.AbortController,x=F.signal;let z=!1;const J=G.url,Z=G.headers;for(const te of Object.keys(q))Z[te]=q[te][0];const X=new u.StreamArrayParser(j);return P.getRequestHeaders().then(te=>{const be={headers:{...te,...Z},body:G.body,method:G.method,signal:x};return(G.method==="GET"||G.method==="DELETE")&&delete be.body,B(J,be)}).then(te=>{if(te.ok&&j.responseStream){(0,p.pipeline)(te.body,X,be=>{be&&(!z||be instanceof Error&&be.name!=="AbortError")&&(K&&K(be),X.emit("error",be))});return}else return Promise.all([Promise.resolve(te.ok),te.arrayBuffer()]).then(([be,Ae])=>{const Ne=L(j,be,Ae);K(null,Ne)}).catch(be=>{if(!z||be.name!=="AbortError")if(j.responseStream)K&&K(be),X.emit("error",be);else if(K)K(be);else throw be})}).catch(te=>{if(j.responseStream)K&&K(te),X.emit("error",te);else if(K)K(te);else throw te}),j.responseStream?X:{cancel:()=>{z=!0,F.abort()}}};return U}return fallbackServiceStub}var iam_service={exports:{}},hasRequiredIam_service;function requireIam_service(){return hasRequiredIam_service||(hasRequiredIam_service=1,function(o){(e=>{typeof commonjsRequire=="function"&&o&&o.exports&&(o.exports=e(requireMinimal()))})(function(e){var r,u,p,h,y,c=e.Reader,d=e.Writer,m=e.util,P=e.roots.iam_protos||(e.roots.iam_protos={});function N(n,R,V){e.rpc.Service.call(this,n,R,V)}function L(n){if(n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function k(n){if(n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function B(n){if(this.permissions=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function U(n){if(this.permissions=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function $(n){if(n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function j(n){if(this.bindings=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function M(n){if(this.members=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function q(n){if(this.bindingDeltas=[],this.auditConfigDeltas=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function Q(n){if(n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function K(n){if(n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function G(n){if(n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function F(n){if(this.rules=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function x(n){if(this.additionalBindings=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function z(n){if(n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function J(n){if(this.pattern=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function Z(n){if(n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function X(n){if(this.file=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function te(n){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function be(n){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function Ae(n){if(n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function Ne(n){if(n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function ke(n){if(this.uninterpretedOption=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function Ue(n){if(n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function qe(n){if(n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function Ge(n){if(this.value=[],this.reservedRange=[],this.reservedName=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function Qe(n){if(n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function Ke(n){if(n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function Be(n){if(this.method=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function Re(n){if(n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function $e(n){if(this.uninterpretedOption=[],this[".google.api.resourceDefinition"]=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function xe(n){if(this.uninterpretedOption=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function Le(n){if(this.uninterpretedOption=[],this[".google.api.fieldBehavior"]=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function je(n){if(this.uninterpretedOption=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function Y(n){if(this.uninterpretedOption=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function l(n){if(this.uninterpretedOption=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function T(n){if(this.uninterpretedOption=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function O(n){if(this.uninterpretedOption=[],this[".google.api.methodSignature"]=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function H(n){if(this.name=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function ae(n){if(n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function Oe(n){if(this.location=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function ie(n){if(this.path=[],this.span=[],this.leadingDetachedComments=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function s(n){if(this.annotation=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function A(n){if(this.path=[],n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}function I(n){if(n)for(var R=Object.keys(n),V=0;V<R.length;++V)n[R[V]]!=null&&(this[R[V]]=n[R[V]])}return P.google=((y={}).iam=((p={}).v1=((u={}).IAMPolicy=(((N.prototype=Object.create(e.rpc.Service.prototype)).constructor=N).create=function(n,R,V){return new this(n,R,V)},Object.defineProperty(N.prototype.setIamPolicy=function n(R,V){return this.rpcCall(n,P.google.iam.v1.SetIamPolicyRequest,P.google.iam.v1.Policy,R,V)},"name",{value:"SetIamPolicy"}),Object.defineProperty(N.prototype.getIamPolicy=function n(R,V){return this.rpcCall(n,P.google.iam.v1.GetIamPolicyRequest,P.google.iam.v1.Policy,R,V)},"name",{value:"GetIamPolicy"}),Object.defineProperty(N.prototype.testIamPermissions=function n(R,V){return this.rpcCall(n,P.google.iam.v1.TestIamPermissionsRequest,P.google.iam.v1.TestIamPermissionsResponse,R,V)},"name",{value:"TestIamPermissions"}),N),u.SetIamPolicyRequest=(L.prototype.resource="",L.prototype.policy=null,L.create=function(n){return new L(n)},L.encode=function(n,R){return R=R||d.create(),n.resource!=null&&Object.hasOwnProperty.call(n,"resource")&&R.uint32(10).string(n.resource),n.policy!=null&&Object.hasOwnProperty.call(n,"policy")&&P.google.iam.v1.Policy.encode(n.policy,R.uint32(18).fork()).ldelim(),R},L.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},L.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.iam.v1.SetIamPolicyRequest;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.resource=n.string();break;case 2:ee.policy=P.google.iam.v1.Policy.decode(n,n.uint32());break;default:n.skipType(7&Me)}}return ee},L.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},L.verify=function(n){return typeof n!="object"||n===null?"object expected":n.resource!=null&&n.hasOwnProperty("resource")&&!m.isString(n.resource)?"resource: string expected":n.policy!=null&&n.hasOwnProperty("policy")&&(n=P.google.iam.v1.Policy.verify(n.policy),n)?"policy."+n:null},L.fromObject=function(n){if(n instanceof P.google.iam.v1.SetIamPolicyRequest)return n;var R=new P.google.iam.v1.SetIamPolicyRequest;if(n.resource!=null&&(R.resource=String(n.resource)),n.policy!=null){if(typeof n.policy!="object")throw TypeError(".google.iam.v1.SetIamPolicyRequest.policy: object expected");R.policy=P.google.iam.v1.Policy.fromObject(n.policy)}return R},L.toObject=function(n,R){var V={};return(R=R||{}).defaults&&(V.resource="",V.policy=null),n.resource!=null&&n.hasOwnProperty("resource")&&(V.resource=n.resource),n.policy!=null&&n.hasOwnProperty("policy")&&(V.policy=P.google.iam.v1.Policy.toObject(n.policy,R)),V},L.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},L),u.GetIamPolicyRequest=(k.prototype.resource="",k.prototype.options=null,k.create=function(n){return new k(n)},k.encode=function(n,R){return R=R||d.create(),n.resource!=null&&Object.hasOwnProperty.call(n,"resource")&&R.uint32(10).string(n.resource),n.options!=null&&Object.hasOwnProperty.call(n,"options")&&P.google.iam.v1.GetPolicyOptions.encode(n.options,R.uint32(18).fork()).ldelim(),R},k.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},k.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.iam.v1.GetIamPolicyRequest;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.resource=n.string();break;case 2:ee.options=P.google.iam.v1.GetPolicyOptions.decode(n,n.uint32());break;default:n.skipType(7&Me)}}return ee},k.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},k.verify=function(n){return typeof n!="object"||n===null?"object expected":n.resource!=null&&n.hasOwnProperty("resource")&&!m.isString(n.resource)?"resource: string expected":n.options!=null&&n.hasOwnProperty("options")&&(n=P.google.iam.v1.GetPolicyOptions.verify(n.options),n)?"options."+n:null},k.fromObject=function(n){if(n instanceof P.google.iam.v1.GetIamPolicyRequest)return n;var R=new P.google.iam.v1.GetIamPolicyRequest;if(n.resource!=null&&(R.resource=String(n.resource)),n.options!=null){if(typeof n.options!="object")throw TypeError(".google.iam.v1.GetIamPolicyRequest.options: object expected");R.options=P.google.iam.v1.GetPolicyOptions.fromObject(n.options)}return R},k.toObject=function(n,R){var V={};return(R=R||{}).defaults&&(V.resource="",V.options=null),n.resource!=null&&n.hasOwnProperty("resource")&&(V.resource=n.resource),n.options!=null&&n.hasOwnProperty("options")&&(V.options=P.google.iam.v1.GetPolicyOptions.toObject(n.options,R)),V},k.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},k),u.TestIamPermissionsRequest=(B.prototype.resource="",B.prototype.permissions=m.emptyArray,B.create=function(n){return new B(n)},B.encode=function(n,R){if(R=R||d.create(),n.resource!=null&&Object.hasOwnProperty.call(n,"resource")&&R.uint32(10).string(n.resource),n.permissions!=null&&n.permissions.length)for(var V=0;V<n.permissions.length;++V)R.uint32(18).string(n.permissions[V]);return R},B.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},B.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.iam.v1.TestIamPermissionsRequest;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.resource=n.string();break;case 2:ee.permissions&&ee.permissions.length||(ee.permissions=[]),ee.permissions.push(n.string());break;default:n.skipType(7&Me)}}return ee},B.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},B.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resource!=null&&n.hasOwnProperty("resource")&&!m.isString(n.resource))return"resource: string expected";if(n.permissions!=null&&n.hasOwnProperty("permissions")){if(!Array.isArray(n.permissions))return"permissions: array expected";for(var R=0;R<n.permissions.length;++R)if(!m.isString(n.permissions[R]))return"permissions: string[] expected"}return null},B.fromObject=function(n){if(n instanceof P.google.iam.v1.TestIamPermissionsRequest)return n;var R=new P.google.iam.v1.TestIamPermissionsRequest;if(n.resource!=null&&(R.resource=String(n.resource)),n.permissions){if(!Array.isArray(n.permissions))throw TypeError(".google.iam.v1.TestIamPermissionsRequest.permissions: array expected");R.permissions=[];for(var V=0;V<n.permissions.length;++V)R.permissions[V]=String(n.permissions[V])}return R},B.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.permissions=[]),R.defaults&&(V.resource=""),n.resource!=null&&n.hasOwnProperty("resource")&&(V.resource=n.resource),n.permissions&&n.permissions.length){V.permissions=[];for(var ee=0;ee<n.permissions.length;++ee)V.permissions[ee]=n.permissions[ee]}return V},B.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},B),u.TestIamPermissionsResponse=(U.prototype.permissions=m.emptyArray,U.create=function(n){return new U(n)},U.encode=function(n,R){if(R=R||d.create(),n.permissions!=null&&n.permissions.length)for(var V=0;V<n.permissions.length;++V)R.uint32(10).string(n.permissions[V]);return R},U.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},U.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.iam.v1.TestIamPermissionsResponse;n.pos<V;){var Me=n.uint32();Me>>>3==1?(ee.permissions&&ee.permissions.length||(ee.permissions=[]),ee.permissions.push(n.string())):n.skipType(7&Me)}return ee},U.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},U.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.permissions!=null&&n.hasOwnProperty("permissions")){if(!Array.isArray(n.permissions))return"permissions: array expected";for(var R=0;R<n.permissions.length;++R)if(!m.isString(n.permissions[R]))return"permissions: string[] expected"}return null},U.fromObject=function(n){if(n instanceof P.google.iam.v1.TestIamPermissionsResponse)return n;var R=new P.google.iam.v1.TestIamPermissionsResponse;if(n.permissions){if(!Array.isArray(n.permissions))throw TypeError(".google.iam.v1.TestIamPermissionsResponse.permissions: array expected");R.permissions=[];for(var V=0;V<n.permissions.length;++V)R.permissions[V]=String(n.permissions[V])}return R},U.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.permissions=[]),n.permissions&&n.permissions.length){V.permissions=[];for(var ee=0;ee<n.permissions.length;++ee)V.permissions[ee]=n.permissions[ee]}return V},U.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},U),u.GetPolicyOptions=($.prototype.requestedPolicyVersion=0,$.create=function(n){return new $(n)},$.encode=function(n,R){return R=R||d.create(),n.requestedPolicyVersion!=null&&Object.hasOwnProperty.call(n,"requestedPolicyVersion")&&R.uint32(8).int32(n.requestedPolicyVersion),R},$.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},$.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.iam.v1.GetPolicyOptions;n.pos<V;){var Me=n.uint32();Me>>>3==1?ee.requestedPolicyVersion=n.int32():n.skipType(7&Me)}return ee},$.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},$.verify=function(n){return typeof n!="object"||n===null?"object expected":n.requestedPolicyVersion!=null&&n.hasOwnProperty("requestedPolicyVersion")&&!m.isInteger(n.requestedPolicyVersion)?"requestedPolicyVersion: integer expected":null},$.fromObject=function(n){var R;return n instanceof P.google.iam.v1.GetPolicyOptions?n:(R=new P.google.iam.v1.GetPolicyOptions,n.requestedPolicyVersion!=null&&(R.requestedPolicyVersion=0|n.requestedPolicyVersion),R)},$.toObject=function(n,R){var V={};return(R=R||{}).defaults&&(V.requestedPolicyVersion=0),n.requestedPolicyVersion!=null&&n.hasOwnProperty("requestedPolicyVersion")&&(V.requestedPolicyVersion=n.requestedPolicyVersion),V},$.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},$),u.Policy=(j.prototype.version=0,j.prototype.bindings=m.emptyArray,j.prototype.etag=m.newBuffer([]),j.create=function(n){return new j(n)},j.encode=function(n,R){if(R=R||d.create(),n.version!=null&&Object.hasOwnProperty.call(n,"version")&&R.uint32(8).int32(n.version),n.etag!=null&&Object.hasOwnProperty.call(n,"etag")&&R.uint32(26).bytes(n.etag),n.bindings!=null&&n.bindings.length)for(var V=0;V<n.bindings.length;++V)P.google.iam.v1.Binding.encode(n.bindings[V],R.uint32(34).fork()).ldelim();return R},j.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},j.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.iam.v1.Policy;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.version=n.int32();break;case 4:ee.bindings&&ee.bindings.length||(ee.bindings=[]),ee.bindings.push(P.google.iam.v1.Binding.decode(n,n.uint32()));break;case 3:ee.etag=n.bytes();break;default:n.skipType(7&Me)}}return ee},j.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},j.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.version!=null&&n.hasOwnProperty("version")&&!m.isInteger(n.version))return"version: integer expected";if(n.bindings!=null&&n.hasOwnProperty("bindings")){if(!Array.isArray(n.bindings))return"bindings: array expected";for(var R=0;R<n.bindings.length;++R){var V=P.google.iam.v1.Binding.verify(n.bindings[R]);if(V)return"bindings."+V}}return n.etag!=null&&n.hasOwnProperty("etag")&&!(n.etag&&typeof n.etag.length=="number"||m.isString(n.etag))?"etag: buffer expected":null},j.fromObject=function(n){if(n instanceof P.google.iam.v1.Policy)return n;var R=new P.google.iam.v1.Policy;if(n.version!=null&&(R.version=0|n.version),n.bindings){if(!Array.isArray(n.bindings))throw TypeError(".google.iam.v1.Policy.bindings: array expected");R.bindings=[];for(var V=0;V<n.bindings.length;++V){if(typeof n.bindings[V]!="object")throw TypeError(".google.iam.v1.Policy.bindings: object expected");R.bindings[V]=P.google.iam.v1.Binding.fromObject(n.bindings[V])}}return n.etag!=null&&(typeof n.etag=="string"?m.base64.decode(n.etag,R.etag=m.newBuffer(m.base64.length(n.etag)),0):n.etag.length&&(R.etag=n.etag)),R},j.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.bindings=[]),R.defaults&&(V.version=0,R.bytes===String?V.etag="":(V.etag=[],R.bytes!==Array&&(V.etag=m.newBuffer(V.etag)))),n.version!=null&&n.hasOwnProperty("version")&&(V.version=n.version),n.etag!=null&&n.hasOwnProperty("etag")&&(V.etag=R.bytes===String?m.base64.encode(n.etag,0,n.etag.length):R.bytes===Array?Array.prototype.slice.call(n.etag):n.etag),n.bindings&&n.bindings.length){V.bindings=[];for(var ee=0;ee<n.bindings.length;++ee)V.bindings[ee]=P.google.iam.v1.Binding.toObject(n.bindings[ee],R)}return V},j.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},j),u.Binding=(M.prototype.role="",M.prototype.members=m.emptyArray,M.prototype.condition=null,M.create=function(n){return new M(n)},M.encode=function(n,R){if(R=R||d.create(),n.role!=null&&Object.hasOwnProperty.call(n,"role")&&R.uint32(10).string(n.role),n.members!=null&&n.members.length)for(var V=0;V<n.members.length;++V)R.uint32(18).string(n.members[V]);return n.condition!=null&&Object.hasOwnProperty.call(n,"condition")&&P.google.type.Expr.encode(n.condition,R.uint32(26).fork()).ldelim(),R},M.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},M.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.iam.v1.Binding;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.role=n.string();break;case 2:ee.members&&ee.members.length||(ee.members=[]),ee.members.push(n.string());break;case 3:ee.condition=P.google.type.Expr.decode(n,n.uint32());break;default:n.skipType(7&Me)}}return ee},M.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},M.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.role!=null&&n.hasOwnProperty("role")&&!m.isString(n.role))return"role: string expected";if(n.members!=null&&n.hasOwnProperty("members")){if(!Array.isArray(n.members))return"members: array expected";for(var R=0;R<n.members.length;++R)if(!m.isString(n.members[R]))return"members: string[] expected"}if(n.condition!=null&&n.hasOwnProperty("condition")){var V=P.google.type.Expr.verify(n.condition);if(V)return"condition."+V}return null},M.fromObject=function(n){if(n instanceof P.google.iam.v1.Binding)return n;var R=new P.google.iam.v1.Binding;if(n.role!=null&&(R.role=String(n.role)),n.members){if(!Array.isArray(n.members))throw TypeError(".google.iam.v1.Binding.members: array expected");R.members=[];for(var V=0;V<n.members.length;++V)R.members[V]=String(n.members[V])}if(n.condition!=null){if(typeof n.condition!="object")throw TypeError(".google.iam.v1.Binding.condition: object expected");R.condition=P.google.type.Expr.fromObject(n.condition)}return R},M.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.members=[]),R.defaults&&(V.role="",V.condition=null),n.role!=null&&n.hasOwnProperty("role")&&(V.role=n.role),n.members&&n.members.length){V.members=[];for(var ee=0;ee<n.members.length;++ee)V.members[ee]=n.members[ee]}return n.condition!=null&&n.hasOwnProperty("condition")&&(V.condition=P.google.type.Expr.toObject(n.condition,R)),V},M.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},M),u.PolicyDelta=(q.prototype.bindingDeltas=m.emptyArray,q.prototype.auditConfigDeltas=m.emptyArray,q.create=function(n){return new q(n)},q.encode=function(n,R){if(R=R||d.create(),n.bindingDeltas!=null&&n.bindingDeltas.length)for(var V=0;V<n.bindingDeltas.length;++V)P.google.iam.v1.BindingDelta.encode(n.bindingDeltas[V],R.uint32(10).fork()).ldelim();if(n.auditConfigDeltas!=null&&n.auditConfigDeltas.length)for(V=0;V<n.auditConfigDeltas.length;++V)P.google.iam.v1.AuditConfigDelta.encode(n.auditConfigDeltas[V],R.uint32(18).fork()).ldelim();return R},q.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},q.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.iam.v1.PolicyDelta;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.bindingDeltas&&ee.bindingDeltas.length||(ee.bindingDeltas=[]),ee.bindingDeltas.push(P.google.iam.v1.BindingDelta.decode(n,n.uint32()));break;case 2:ee.auditConfigDeltas&&ee.auditConfigDeltas.length||(ee.auditConfigDeltas=[]),ee.auditConfigDeltas.push(P.google.iam.v1.AuditConfigDelta.decode(n,n.uint32()));break;default:n.skipType(7&Me)}}return ee},q.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},q.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.bindingDeltas!=null&&n.hasOwnProperty("bindingDeltas")){if(!Array.isArray(n.bindingDeltas))return"bindingDeltas: array expected";for(var R=0;R<n.bindingDeltas.length;++R)if(V=P.google.iam.v1.BindingDelta.verify(n.bindingDeltas[R]))return"bindingDeltas."+V}if(n.auditConfigDeltas!=null&&n.hasOwnProperty("auditConfigDeltas")){if(!Array.isArray(n.auditConfigDeltas))return"auditConfigDeltas: array expected";for(var V,R=0;R<n.auditConfigDeltas.length;++R)if(V=P.google.iam.v1.AuditConfigDelta.verify(n.auditConfigDeltas[R]))return"auditConfigDeltas."+V}return null},q.fromObject=function(n){if(n instanceof P.google.iam.v1.PolicyDelta)return n;var R=new P.google.iam.v1.PolicyDelta;if(n.bindingDeltas){if(!Array.isArray(n.bindingDeltas))throw TypeError(".google.iam.v1.PolicyDelta.bindingDeltas: array expected");R.bindingDeltas=[];for(var V=0;V<n.bindingDeltas.length;++V){if(typeof n.bindingDeltas[V]!="object")throw TypeError(".google.iam.v1.PolicyDelta.bindingDeltas: object expected");R.bindingDeltas[V]=P.google.iam.v1.BindingDelta.fromObject(n.bindingDeltas[V])}}if(n.auditConfigDeltas){if(!Array.isArray(n.auditConfigDeltas))throw TypeError(".google.iam.v1.PolicyDelta.auditConfigDeltas: array expected");for(R.auditConfigDeltas=[],V=0;V<n.auditConfigDeltas.length;++V){if(typeof n.auditConfigDeltas[V]!="object")throw TypeError(".google.iam.v1.PolicyDelta.auditConfigDeltas: object expected");R.auditConfigDeltas[V]=P.google.iam.v1.AuditConfigDelta.fromObject(n.auditConfigDeltas[V])}}return R},q.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.bindingDeltas=[],V.auditConfigDeltas=[]),n.bindingDeltas&&n.bindingDeltas.length){V.bindingDeltas=[];for(var ee=0;ee<n.bindingDeltas.length;++ee)V.bindingDeltas[ee]=P.google.iam.v1.BindingDelta.toObject(n.bindingDeltas[ee],R)}if(n.auditConfigDeltas&&n.auditConfigDeltas.length)for(V.auditConfigDeltas=[],ee=0;ee<n.auditConfigDeltas.length;++ee)V.auditConfigDeltas[ee]=P.google.iam.v1.AuditConfigDelta.toObject(n.auditConfigDeltas[ee],R);return V},q.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},q),u.BindingDelta=(Q.prototype.action=0,Q.prototype.role="",Q.prototype.member="",Q.prototype.condition=null,Q.create=function(n){return new Q(n)},Q.encode=function(n,R){return R=R||d.create(),n.action!=null&&Object.hasOwnProperty.call(n,"action")&&R.uint32(8).int32(n.action),n.role!=null&&Object.hasOwnProperty.call(n,"role")&&R.uint32(18).string(n.role),n.member!=null&&Object.hasOwnProperty.call(n,"member")&&R.uint32(26).string(n.member),n.condition!=null&&Object.hasOwnProperty.call(n,"condition")&&P.google.type.Expr.encode(n.condition,R.uint32(34).fork()).ldelim(),R},Q.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},Q.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.iam.v1.BindingDelta;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.action=n.int32();break;case 2:ee.role=n.string();break;case 3:ee.member=n.string();break;case 4:ee.condition=P.google.type.Expr.decode(n,n.uint32());break;default:n.skipType(7&Me)}}return ee},Q.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},Q.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.action!=null&&n.hasOwnProperty("action"))switch(n.action){default:return"action: enum value expected";case 0:case 1:case 2:}return n.role!=null&&n.hasOwnProperty("role")&&!m.isString(n.role)?"role: string expected":n.member!=null&&n.hasOwnProperty("member")&&!m.isString(n.member)?"member: string expected":n.condition!=null&&n.hasOwnProperty("condition")&&(n=P.google.type.Expr.verify(n.condition),n)?"condition."+n:null},Q.fromObject=function(n){if(n instanceof P.google.iam.v1.BindingDelta)return n;var R=new P.google.iam.v1.BindingDelta;switch(n.action){case"ACTION_UNSPECIFIED":case 0:R.action=0;break;case"ADD":case 1:R.action=1;break;case"REMOVE":case 2:R.action=2}if(n.role!=null&&(R.role=String(n.role)),n.member!=null&&(R.member=String(n.member)),n.condition!=null){if(typeof n.condition!="object")throw TypeError(".google.iam.v1.BindingDelta.condition: object expected");R.condition=P.google.type.Expr.fromObject(n.condition)}return R},Q.toObject=function(n,R){var V={};return(R=R||{}).defaults&&(V.action=R.enums===String?"ACTION_UNSPECIFIED":0,V.role="",V.member="",V.condition=null),n.action!=null&&n.hasOwnProperty("action")&&(V.action=R.enums===String?P.google.iam.v1.BindingDelta.Action[n.action]:n.action),n.role!=null&&n.hasOwnProperty("role")&&(V.role=n.role),n.member!=null&&n.hasOwnProperty("member")&&(V.member=n.member),n.condition!=null&&n.hasOwnProperty("condition")&&(V.condition=P.google.type.Expr.toObject(n.condition,R)),V},Q.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Q.Action=(r={},(h=Object.create(r))[r[0]="ACTION_UNSPECIFIED"]=0,h[r[1]="ADD"]=1,h[r[2]="REMOVE"]=2,h),Q),u.AuditConfigDelta=(K.prototype.action=0,K.prototype.service="",K.prototype.exemptedMember="",K.prototype.logType="",K.create=function(n){return new K(n)},K.encode=function(n,R){return R=R||d.create(),n.action!=null&&Object.hasOwnProperty.call(n,"action")&&R.uint32(8).int32(n.action),n.service!=null&&Object.hasOwnProperty.call(n,"service")&&R.uint32(18).string(n.service),n.exemptedMember!=null&&Object.hasOwnProperty.call(n,"exemptedMember")&&R.uint32(26).string(n.exemptedMember),n.logType!=null&&Object.hasOwnProperty.call(n,"logType")&&R.uint32(34).string(n.logType),R},K.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},K.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.iam.v1.AuditConfigDelta;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.action=n.int32();break;case 2:ee.service=n.string();break;case 3:ee.exemptedMember=n.string();break;case 4:ee.logType=n.string();break;default:n.skipType(7&Me)}}return ee},K.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},K.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.action!=null&&n.hasOwnProperty("action"))switch(n.action){default:return"action: enum value expected";case 0:case 1:case 2:}return n.service!=null&&n.hasOwnProperty("service")&&!m.isString(n.service)?"service: string expected":n.exemptedMember!=null&&n.hasOwnProperty("exemptedMember")&&!m.isString(n.exemptedMember)?"exemptedMember: string expected":n.logType!=null&&n.hasOwnProperty("logType")&&!m.isString(n.logType)?"logType: string expected":null},K.fromObject=function(n){if(n instanceof P.google.iam.v1.AuditConfigDelta)return n;var R=new P.google.iam.v1.AuditConfigDelta;switch(n.action){case"ACTION_UNSPECIFIED":case 0:R.action=0;break;case"ADD":case 1:R.action=1;break;case"REMOVE":case 2:R.action=2}return n.service!=null&&(R.service=String(n.service)),n.exemptedMember!=null&&(R.exemptedMember=String(n.exemptedMember)),n.logType!=null&&(R.logType=String(n.logType)),R},K.toObject=function(n,R){var V={};return(R=R||{}).defaults&&(V.action=R.enums===String?"ACTION_UNSPECIFIED":0,V.service="",V.exemptedMember="",V.logType=""),n.action!=null&&n.hasOwnProperty("action")&&(V.action=R.enums===String?P.google.iam.v1.AuditConfigDelta.Action[n.action]:n.action),n.service!=null&&n.hasOwnProperty("service")&&(V.service=n.service),n.exemptedMember!=null&&n.hasOwnProperty("exemptedMember")&&(V.exemptedMember=n.exemptedMember),n.logType!=null&&n.hasOwnProperty("logType")&&(V.logType=n.logType),V},K.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},K.Action=(r={},(h=Object.create(r))[r[0]="ACTION_UNSPECIFIED"]=0,h[r[1]="ADD"]=1,h[r[2]="REMOVE"]=2,h),K),u.logging=((r={}).AuditData=(G.prototype.policyDelta=null,G.create=function(n){return new G(n)},G.encode=function(n,R){return R=R||d.create(),n.policyDelta!=null&&Object.hasOwnProperty.call(n,"policyDelta")&&P.google.iam.v1.PolicyDelta.encode(n.policyDelta,R.uint32(18).fork()).ldelim(),R},G.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},G.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.iam.v1.logging.AuditData;n.pos<V;){var Me=n.uint32();Me>>>3==2?ee.policyDelta=P.google.iam.v1.PolicyDelta.decode(n,n.uint32()):n.skipType(7&Me)}return ee},G.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},G.verify=function(n){return typeof n!="object"||n===null?"object expected":n.policyDelta!=null&&n.hasOwnProperty("policyDelta")&&(n=P.google.iam.v1.PolicyDelta.verify(n.policyDelta),n)?"policyDelta."+n:null},G.fromObject=function(n){if(n instanceof P.google.iam.v1.logging.AuditData)return n;var R=new P.google.iam.v1.logging.AuditData;if(n.policyDelta!=null){if(typeof n.policyDelta!="object")throw TypeError(".google.iam.v1.logging.AuditData.policyDelta: object expected");R.policyDelta=P.google.iam.v1.PolicyDelta.fromObject(n.policyDelta)}return R},G.toObject=function(n,R){var V={};return(R=R||{}).defaults&&(V.policyDelta=null),n.policyDelta!=null&&n.hasOwnProperty("policyDelta")&&(V.policyDelta=P.google.iam.v1.PolicyDelta.toObject(n.policyDelta,R)),V},G.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},G),r),u),p),y.api=((h={}).Http=(F.prototype.rules=m.emptyArray,F.prototype.fullyDecodeReservedExpansion=!1,F.create=function(n){return new F(n)},F.encode=function(n,R){if(R=R||d.create(),n.rules!=null&&n.rules.length)for(var V=0;V<n.rules.length;++V)P.google.api.HttpRule.encode(n.rules[V],R.uint32(10).fork()).ldelim();return n.fullyDecodeReservedExpansion!=null&&Object.hasOwnProperty.call(n,"fullyDecodeReservedExpansion")&&R.uint32(16).bool(n.fullyDecodeReservedExpansion),R},F.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},F.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.api.Http;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.rules&&ee.rules.length||(ee.rules=[]),ee.rules.push(P.google.api.HttpRule.decode(n,n.uint32()));break;case 2:ee.fullyDecodeReservedExpansion=n.bool();break;default:n.skipType(7&Me)}}return ee},F.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},F.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.rules!=null&&n.hasOwnProperty("rules")){if(!Array.isArray(n.rules))return"rules: array expected";for(var R=0;R<n.rules.length;++R){var V=P.google.api.HttpRule.verify(n.rules[R]);if(V)return"rules."+V}}return n.fullyDecodeReservedExpansion!=null&&n.hasOwnProperty("fullyDecodeReservedExpansion")&&typeof n.fullyDecodeReservedExpansion!="boolean"?"fullyDecodeReservedExpansion: boolean expected":null},F.fromObject=function(n){if(n instanceof P.google.api.Http)return n;var R=new P.google.api.Http;if(n.rules){if(!Array.isArray(n.rules))throw TypeError(".google.api.Http.rules: array expected");R.rules=[];for(var V=0;V<n.rules.length;++V){if(typeof n.rules[V]!="object")throw TypeError(".google.api.Http.rules: object expected");R.rules[V]=P.google.api.HttpRule.fromObject(n.rules[V])}}return n.fullyDecodeReservedExpansion!=null&&(R.fullyDecodeReservedExpansion=!!n.fullyDecodeReservedExpansion),R},F.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.rules=[]),R.defaults&&(V.fullyDecodeReservedExpansion=!1),n.rules&&n.rules.length){V.rules=[];for(var ee=0;ee<n.rules.length;++ee)V.rules[ee]=P.google.api.HttpRule.toObject(n.rules[ee],R)}return n.fullyDecodeReservedExpansion!=null&&n.hasOwnProperty("fullyDecodeReservedExpansion")&&(V.fullyDecodeReservedExpansion=n.fullyDecodeReservedExpansion),V},F.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},F),h.HttpRule=(x.prototype.selector="",x.prototype.get="",x.prototype.put="",x.prototype.post="",x.prototype.delete="",x.prototype.patch="",x.prototype.custom=null,x.prototype.body="",x.prototype.responseBody="",x.prototype.additionalBindings=m.emptyArray,Object.defineProperty(x.prototype,"pattern",{get:m.oneOfGetter(r=["get","put","post","delete","patch","custom"]),set:m.oneOfSetter(r)}),x.create=function(n){return new x(n)},x.encode=function(n,R){if(R=R||d.create(),n.selector!=null&&Object.hasOwnProperty.call(n,"selector")&&R.uint32(10).string(n.selector),n.get!=null&&Object.hasOwnProperty.call(n,"get")&&R.uint32(18).string(n.get),n.put!=null&&Object.hasOwnProperty.call(n,"put")&&R.uint32(26).string(n.put),n.post!=null&&Object.hasOwnProperty.call(n,"post")&&R.uint32(34).string(n.post),n.delete!=null&&Object.hasOwnProperty.call(n,"delete")&&R.uint32(42).string(n.delete),n.patch!=null&&Object.hasOwnProperty.call(n,"patch")&&R.uint32(50).string(n.patch),n.body!=null&&Object.hasOwnProperty.call(n,"body")&&R.uint32(58).string(n.body),n.custom!=null&&Object.hasOwnProperty.call(n,"custom")&&P.google.api.CustomHttpPattern.encode(n.custom,R.uint32(66).fork()).ldelim(),n.additionalBindings!=null&&n.additionalBindings.length)for(var V=0;V<n.additionalBindings.length;++V)P.google.api.HttpRule.encode(n.additionalBindings[V],R.uint32(90).fork()).ldelim();return n.responseBody!=null&&Object.hasOwnProperty.call(n,"responseBody")&&R.uint32(98).string(n.responseBody),R},x.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},x.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.api.HttpRule;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.selector=n.string();break;case 2:ee.get=n.string();break;case 3:ee.put=n.string();break;case 4:ee.post=n.string();break;case 5:ee.delete=n.string();break;case 6:ee.patch=n.string();break;case 8:ee.custom=P.google.api.CustomHttpPattern.decode(n,n.uint32());break;case 7:ee.body=n.string();break;case 12:ee.responseBody=n.string();break;case 11:ee.additionalBindings&&ee.additionalBindings.length||(ee.additionalBindings=[]),ee.additionalBindings.push(P.google.api.HttpRule.decode(n,n.uint32()));break;default:n.skipType(7&Me)}}return ee},x.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},x.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var R={};if(n.selector!=null&&n.hasOwnProperty("selector")&&!m.isString(n.selector))return"selector: string expected";if(n.get!=null&&n.hasOwnProperty("get")&&(R.pattern=1,!m.isString(n.get)))return"get: string expected";if(n.put!=null&&n.hasOwnProperty("put")){if(R.pattern===1)return"pattern: multiple values";if(R.pattern=1,!m.isString(n.put))return"put: string expected"}if(n.post!=null&&n.hasOwnProperty("post")){if(R.pattern===1)return"pattern: multiple values";if(R.pattern=1,!m.isString(n.post))return"post: string expected"}if(n.delete!=null&&n.hasOwnProperty("delete")){if(R.pattern===1)return"pattern: multiple values";if(R.pattern=1,!m.isString(n.delete))return"delete: string expected"}if(n.patch!=null&&n.hasOwnProperty("patch")){if(R.pattern===1)return"pattern: multiple values";if(R.pattern=1,!m.isString(n.patch))return"patch: string expected"}if(n.custom!=null&&n.hasOwnProperty("custom")){if(R.pattern===1)return"pattern: multiple values";if(R.pattern=1,V=P.google.api.CustomHttpPattern.verify(n.custom))return"custom."+V}if(n.body!=null&&n.hasOwnProperty("body")&&!m.isString(n.body))return"body: string expected";if(n.responseBody!=null&&n.hasOwnProperty("responseBody")&&!m.isString(n.responseBody))return"responseBody: string expected";if(n.additionalBindings!=null&&n.hasOwnProperty("additionalBindings")){if(!Array.isArray(n.additionalBindings))return"additionalBindings: array expected";for(var V,ee=0;ee<n.additionalBindings.length;++ee)if(V=P.google.api.HttpRule.verify(n.additionalBindings[ee]))return"additionalBindings."+V}return null},x.fromObject=function(n){if(n instanceof P.google.api.HttpRule)return n;var R=new P.google.api.HttpRule;if(n.selector!=null&&(R.selector=String(n.selector)),n.get!=null&&(R.get=String(n.get)),n.put!=null&&(R.put=String(n.put)),n.post!=null&&(R.post=String(n.post)),n.delete!=null&&(R.delete=String(n.delete)),n.patch!=null&&(R.patch=String(n.patch)),n.custom!=null){if(typeof n.custom!="object")throw TypeError(".google.api.HttpRule.custom: object expected");R.custom=P.google.api.CustomHttpPattern.fromObject(n.custom)}if(n.body!=null&&(R.body=String(n.body)),n.responseBody!=null&&(R.responseBody=String(n.responseBody)),n.additionalBindings){if(!Array.isArray(n.additionalBindings))throw TypeError(".google.api.HttpRule.additionalBindings: array expected");R.additionalBindings=[];for(var V=0;V<n.additionalBindings.length;++V){if(typeof n.additionalBindings[V]!="object")throw TypeError(".google.api.HttpRule.additionalBindings: object expected");R.additionalBindings[V]=P.google.api.HttpRule.fromObject(n.additionalBindings[V])}}return R},x.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.additionalBindings=[]),R.defaults&&(V.selector="",V.body="",V.responseBody=""),n.selector!=null&&n.hasOwnProperty("selector")&&(V.selector=n.selector),n.get!=null&&n.hasOwnProperty("get")&&(V.get=n.get,R.oneofs)&&(V.pattern="get"),n.put!=null&&n.hasOwnProperty("put")&&(V.put=n.put,R.oneofs)&&(V.pattern="put"),n.post!=null&&n.hasOwnProperty("post")&&(V.post=n.post,R.oneofs)&&(V.pattern="post"),n.delete!=null&&n.hasOwnProperty("delete")&&(V.delete=n.delete,R.oneofs)&&(V.pattern="delete"),n.patch!=null&&n.hasOwnProperty("patch")&&(V.patch=n.patch,R.oneofs)&&(V.pattern="patch"),n.body!=null&&n.hasOwnProperty("body")&&(V.body=n.body),n.custom!=null&&n.hasOwnProperty("custom")&&(V.custom=P.google.api.CustomHttpPattern.toObject(n.custom,R),R.oneofs)&&(V.pattern="custom"),n.additionalBindings&&n.additionalBindings.length){V.additionalBindings=[];for(var ee=0;ee<n.additionalBindings.length;++ee)V.additionalBindings[ee]=P.google.api.HttpRule.toObject(n.additionalBindings[ee],R)}return n.responseBody!=null&&n.hasOwnProperty("responseBody")&&(V.responseBody=n.responseBody),V},x.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},x),h.CustomHttpPattern=(z.prototype.kind="",z.prototype.path="",z.create=function(n){return new z(n)},z.encode=function(n,R){return R=R||d.create(),n.kind!=null&&Object.hasOwnProperty.call(n,"kind")&&R.uint32(10).string(n.kind),n.path!=null&&Object.hasOwnProperty.call(n,"path")&&R.uint32(18).string(n.path),R},z.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},z.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.api.CustomHttpPattern;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.kind=n.string();break;case 2:ee.path=n.string();break;default:n.skipType(7&Me)}}return ee},z.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},z.verify=function(n){return typeof n!="object"||n===null?"object expected":n.kind!=null&&n.hasOwnProperty("kind")&&!m.isString(n.kind)?"kind: string expected":n.path!=null&&n.hasOwnProperty("path")&&!m.isString(n.path)?"path: string expected":null},z.fromObject=function(n){var R;return n instanceof P.google.api.CustomHttpPattern?n:(R=new P.google.api.CustomHttpPattern,n.kind!=null&&(R.kind=String(n.kind)),n.path!=null&&(R.path=String(n.path)),R)},z.toObject=function(n,R){var V={};return(R=R||{}).defaults&&(V.kind="",V.path=""),n.kind!=null&&n.hasOwnProperty("kind")&&(V.kind=n.kind),n.path!=null&&n.hasOwnProperty("path")&&(V.path=n.path),V},z.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},z),h.FieldBehavior=(r={},(u=Object.create(r))[r[0]="FIELD_BEHAVIOR_UNSPECIFIED"]=0,u[r[1]="OPTIONAL"]=1,u[r[2]="REQUIRED"]=2,u[r[3]="OUTPUT_ONLY"]=3,u[r[4]="INPUT_ONLY"]=4,u[r[5]="IMMUTABLE"]=5,u),h.ResourceDescriptor=(J.prototype.type="",J.prototype.pattern=m.emptyArray,J.prototype.nameField="",J.prototype.history=0,J.prototype.plural="",J.prototype.singular="",J.create=function(n){return new J(n)},J.encode=function(n,R){if(R=R||d.create(),n.type!=null&&Object.hasOwnProperty.call(n,"type")&&R.uint32(10).string(n.type),n.pattern!=null&&n.pattern.length)for(var V=0;V<n.pattern.length;++V)R.uint32(18).string(n.pattern[V]);return n.nameField!=null&&Object.hasOwnProperty.call(n,"nameField")&&R.uint32(26).string(n.nameField),n.history!=null&&Object.hasOwnProperty.call(n,"history")&&R.uint32(32).int32(n.history),n.plural!=null&&Object.hasOwnProperty.call(n,"plural")&&R.uint32(42).string(n.plural),n.singular!=null&&Object.hasOwnProperty.call(n,"singular")&&R.uint32(50).string(n.singular),R},J.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},J.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.api.ResourceDescriptor;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.type=n.string();break;case 2:ee.pattern&&ee.pattern.length||(ee.pattern=[]),ee.pattern.push(n.string());break;case 3:ee.nameField=n.string();break;case 4:ee.history=n.int32();break;case 5:ee.plural=n.string();break;case 6:ee.singular=n.string();break;default:n.skipType(7&Me)}}return ee},J.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},J.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.type!=null&&n.hasOwnProperty("type")&&!m.isString(n.type))return"type: string expected";if(n.pattern!=null&&n.hasOwnProperty("pattern")){if(!Array.isArray(n.pattern))return"pattern: array expected";for(var R=0;R<n.pattern.length;++R)if(!m.isString(n.pattern[R]))return"pattern: string[] expected"}if(n.nameField!=null&&n.hasOwnProperty("nameField")&&!m.isString(n.nameField))return"nameField: string expected";if(n.history!=null&&n.hasOwnProperty("history"))switch(n.history){default:return"history: enum value expected";case 0:case 1:case 2:}return n.plural!=null&&n.hasOwnProperty("plural")&&!m.isString(n.plural)?"plural: string expected":n.singular!=null&&n.hasOwnProperty("singular")&&!m.isString(n.singular)?"singular: string expected":null},J.fromObject=function(n){if(n instanceof P.google.api.ResourceDescriptor)return n;var R=new P.google.api.ResourceDescriptor;if(n.type!=null&&(R.type=String(n.type)),n.pattern){if(!Array.isArray(n.pattern))throw TypeError(".google.api.ResourceDescriptor.pattern: array expected");R.pattern=[];for(var V=0;V<n.pattern.length;++V)R.pattern[V]=String(n.pattern[V])}switch(n.nameField!=null&&(R.nameField=String(n.nameField)),n.history){case"HISTORY_UNSPECIFIED":case 0:R.history=0;break;case"ORIGINALLY_SINGLE_PATTERN":case 1:R.history=1;break;case"FUTURE_MULTI_PATTERN":case 2:R.history=2}return n.plural!=null&&(R.plural=String(n.plural)),n.singular!=null&&(R.singular=String(n.singular)),R},J.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.pattern=[]),R.defaults&&(V.type="",V.nameField="",V.history=R.enums===String?"HISTORY_UNSPECIFIED":0,V.plural="",V.singular=""),n.type!=null&&n.hasOwnProperty("type")&&(V.type=n.type),n.pattern&&n.pattern.length){V.pattern=[];for(var ee=0;ee<n.pattern.length;++ee)V.pattern[ee]=n.pattern[ee]}return n.nameField!=null&&n.hasOwnProperty("nameField")&&(V.nameField=n.nameField),n.history!=null&&n.hasOwnProperty("history")&&(V.history=R.enums===String?P.google.api.ResourceDescriptor.History[n.history]:n.history),n.plural!=null&&n.hasOwnProperty("plural")&&(V.plural=n.plural),n.singular!=null&&n.hasOwnProperty("singular")&&(V.singular=n.singular),V},J.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},J.History=(r={},(u=Object.create(r))[r[0]="HISTORY_UNSPECIFIED"]=0,u[r[1]="ORIGINALLY_SINGLE_PATTERN"]=1,u[r[2]="FUTURE_MULTI_PATTERN"]=2,u),J),h.ResourceReference=(Z.prototype.type="",Z.prototype.childType="",Z.create=function(n){return new Z(n)},Z.encode=function(n,R){return R=R||d.create(),n.type!=null&&Object.hasOwnProperty.call(n,"type")&&R.uint32(10).string(n.type),n.childType!=null&&Object.hasOwnProperty.call(n,"childType")&&R.uint32(18).string(n.childType),R},Z.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},Z.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.api.ResourceReference;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.type=n.string();break;case 2:ee.childType=n.string();break;default:n.skipType(7&Me)}}return ee},Z.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},Z.verify=function(n){return typeof n!="object"||n===null?"object expected":n.type!=null&&n.hasOwnProperty("type")&&!m.isString(n.type)?"type: string expected":n.childType!=null&&n.hasOwnProperty("childType")&&!m.isString(n.childType)?"childType: string expected":null},Z.fromObject=function(n){var R;return n instanceof P.google.api.ResourceReference?n:(R=new P.google.api.ResourceReference,n.type!=null&&(R.type=String(n.type)),n.childType!=null&&(R.childType=String(n.childType)),R)},Z.toObject=function(n,R){var V={};return(R=R||{}).defaults&&(V.type="",V.childType=""),n.type!=null&&n.hasOwnProperty("type")&&(V.type=n.type),n.childType!=null&&n.hasOwnProperty("childType")&&(V.childType=n.childType),V},Z.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Z),h),y.protobuf=((p={}).FileDescriptorSet=(X.prototype.file=m.emptyArray,X.create=function(n){return new X(n)},X.encode=function(n,R){if(R=R||d.create(),n.file!=null&&n.file.length)for(var V=0;V<n.file.length;++V)P.google.protobuf.FileDescriptorProto.encode(n.file[V],R.uint32(10).fork()).ldelim();return R},X.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},X.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.FileDescriptorSet;n.pos<V;){var Me=n.uint32();Me>>>3==1?(ee.file&&ee.file.length||(ee.file=[]),ee.file.push(P.google.protobuf.FileDescriptorProto.decode(n,n.uint32()))):n.skipType(7&Me)}return ee},X.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},X.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.file!=null&&n.hasOwnProperty("file")){if(!Array.isArray(n.file))return"file: array expected";for(var R=0;R<n.file.length;++R){var V=P.google.protobuf.FileDescriptorProto.verify(n.file[R]);if(V)return"file."+V}}return null},X.fromObject=function(n){if(n instanceof P.google.protobuf.FileDescriptorSet)return n;var R=new P.google.protobuf.FileDescriptorSet;if(n.file){if(!Array.isArray(n.file))throw TypeError(".google.protobuf.FileDescriptorSet.file: array expected");R.file=[];for(var V=0;V<n.file.length;++V){if(typeof n.file[V]!="object")throw TypeError(".google.protobuf.FileDescriptorSet.file: object expected");R.file[V]=P.google.protobuf.FileDescriptorProto.fromObject(n.file[V])}}return R},X.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.file=[]),n.file&&n.file.length){V.file=[];for(var ee=0;ee<n.file.length;++ee)V.file[ee]=P.google.protobuf.FileDescriptorProto.toObject(n.file[ee],R)}return V},X.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},X),p.FileDescriptorProto=(te.prototype.name="",te.prototype.package="",te.prototype.dependency=m.emptyArray,te.prototype.publicDependency=m.emptyArray,te.prototype.weakDependency=m.emptyArray,te.prototype.messageType=m.emptyArray,te.prototype.enumType=m.emptyArray,te.prototype.service=m.emptyArray,te.prototype.extension=m.emptyArray,te.prototype.options=null,te.prototype.sourceCodeInfo=null,te.prototype.syntax="",te.create=function(n){return new te(n)},te.encode=function(n,R){if(R=R||d.create(),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&R.uint32(10).string(n.name),n.package!=null&&Object.hasOwnProperty.call(n,"package")&&R.uint32(18).string(n.package),n.dependency!=null&&n.dependency.length)for(var V=0;V<n.dependency.length;++V)R.uint32(26).string(n.dependency[V]);if(n.messageType!=null&&n.messageType.length)for(V=0;V<n.messageType.length;++V)P.google.protobuf.DescriptorProto.encode(n.messageType[V],R.uint32(34).fork()).ldelim();if(n.enumType!=null&&n.enumType.length)for(V=0;V<n.enumType.length;++V)P.google.protobuf.EnumDescriptorProto.encode(n.enumType[V],R.uint32(42).fork()).ldelim();if(n.service!=null&&n.service.length)for(V=0;V<n.service.length;++V)P.google.protobuf.ServiceDescriptorProto.encode(n.service[V],R.uint32(50).fork()).ldelim();if(n.extension!=null&&n.extension.length)for(V=0;V<n.extension.length;++V)P.google.protobuf.FieldDescriptorProto.encode(n.extension[V],R.uint32(58).fork()).ldelim();if(n.options!=null&&Object.hasOwnProperty.call(n,"options")&&P.google.protobuf.FileOptions.encode(n.options,R.uint32(66).fork()).ldelim(),n.sourceCodeInfo!=null&&Object.hasOwnProperty.call(n,"sourceCodeInfo")&&P.google.protobuf.SourceCodeInfo.encode(n.sourceCodeInfo,R.uint32(74).fork()).ldelim(),n.publicDependency!=null&&n.publicDependency.length)for(V=0;V<n.publicDependency.length;++V)R.uint32(80).int32(n.publicDependency[V]);if(n.weakDependency!=null&&n.weakDependency.length)for(V=0;V<n.weakDependency.length;++V)R.uint32(88).int32(n.weakDependency[V]);return n.syntax!=null&&Object.hasOwnProperty.call(n,"syntax")&&R.uint32(98).string(n.syntax),R},te.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},te.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.FileDescriptorProto;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.name=n.string();break;case 2:ee.package=n.string();break;case 3:ee.dependency&&ee.dependency.length||(ee.dependency=[]),ee.dependency.push(n.string());break;case 10:if(ee.publicDependency&&ee.publicDependency.length||(ee.publicDependency=[]),(7&Me)==2)for(var rt=n.uint32()+n.pos;n.pos<rt;)ee.publicDependency.push(n.int32());else ee.publicDependency.push(n.int32());break;case 11:if(ee.weakDependency&&ee.weakDependency.length||(ee.weakDependency=[]),(7&Me)==2)for(rt=n.uint32()+n.pos;n.pos<rt;)ee.weakDependency.push(n.int32());else ee.weakDependency.push(n.int32());break;case 4:ee.messageType&&ee.messageType.length||(ee.messageType=[]),ee.messageType.push(P.google.protobuf.DescriptorProto.decode(n,n.uint32()));break;case 5:ee.enumType&&ee.enumType.length||(ee.enumType=[]),ee.enumType.push(P.google.protobuf.EnumDescriptorProto.decode(n,n.uint32()));break;case 6:ee.service&&ee.service.length||(ee.service=[]),ee.service.push(P.google.protobuf.ServiceDescriptorProto.decode(n,n.uint32()));break;case 7:ee.extension&&ee.extension.length||(ee.extension=[]),ee.extension.push(P.google.protobuf.FieldDescriptorProto.decode(n,n.uint32()));break;case 8:ee.options=P.google.protobuf.FileOptions.decode(n,n.uint32());break;case 9:ee.sourceCodeInfo=P.google.protobuf.SourceCodeInfo.decode(n,n.uint32());break;case 12:ee.syntax=n.string();break;default:n.skipType(7&Me)}}return ee},te.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},te.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.name!=null&&n.hasOwnProperty("name")&&!m.isString(n.name))return"name: string expected";if(n.package!=null&&n.hasOwnProperty("package")&&!m.isString(n.package))return"package: string expected";if(n.dependency!=null&&n.hasOwnProperty("dependency")){if(!Array.isArray(n.dependency))return"dependency: array expected";for(var R=0;R<n.dependency.length;++R)if(!m.isString(n.dependency[R]))return"dependency: string[] expected"}if(n.publicDependency!=null&&n.hasOwnProperty("publicDependency")){if(!Array.isArray(n.publicDependency))return"publicDependency: array expected";for(R=0;R<n.publicDependency.length;++R)if(!m.isInteger(n.publicDependency[R]))return"publicDependency: integer[] expected"}if(n.weakDependency!=null&&n.hasOwnProperty("weakDependency")){if(!Array.isArray(n.weakDependency))return"weakDependency: array expected";for(R=0;R<n.weakDependency.length;++R)if(!m.isInteger(n.weakDependency[R]))return"weakDependency: integer[] expected"}if(n.messageType!=null&&n.hasOwnProperty("messageType")){if(!Array.isArray(n.messageType))return"messageType: array expected";for(R=0;R<n.messageType.length;++R)if(V=P.google.protobuf.DescriptorProto.verify(n.messageType[R]))return"messageType."+V}if(n.enumType!=null&&n.hasOwnProperty("enumType")){if(!Array.isArray(n.enumType))return"enumType: array expected";for(R=0;R<n.enumType.length;++R)if(V=P.google.protobuf.EnumDescriptorProto.verify(n.enumType[R]))return"enumType."+V}if(n.service!=null&&n.hasOwnProperty("service")){if(!Array.isArray(n.service))return"service: array expected";for(R=0;R<n.service.length;++R)if(V=P.google.protobuf.ServiceDescriptorProto.verify(n.service[R]))return"service."+V}if(n.extension!=null&&n.hasOwnProperty("extension")){if(!Array.isArray(n.extension))return"extension: array expected";for(R=0;R<n.extension.length;++R)if(V=P.google.protobuf.FieldDescriptorProto.verify(n.extension[R]))return"extension."+V}var V;return n.options!=null&&n.hasOwnProperty("options")&&(V=P.google.protobuf.FileOptions.verify(n.options))?"options."+V:n.sourceCodeInfo!=null&&n.hasOwnProperty("sourceCodeInfo")&&(V=P.google.protobuf.SourceCodeInfo.verify(n.sourceCodeInfo))?"sourceCodeInfo."+V:n.syntax!=null&&n.hasOwnProperty("syntax")&&!m.isString(n.syntax)?"syntax: string expected":null},te.fromObject=function(n){if(n instanceof P.google.protobuf.FileDescriptorProto)return n;var R=new P.google.protobuf.FileDescriptorProto;if(n.name!=null&&(R.name=String(n.name)),n.package!=null&&(R.package=String(n.package)),n.dependency){if(!Array.isArray(n.dependency))throw TypeError(".google.protobuf.FileDescriptorProto.dependency: array expected");R.dependency=[];for(var V=0;V<n.dependency.length;++V)R.dependency[V]=String(n.dependency[V])}if(n.publicDependency){if(!Array.isArray(n.publicDependency))throw TypeError(".google.protobuf.FileDescriptorProto.publicDependency: array expected");for(R.publicDependency=[],V=0;V<n.publicDependency.length;++V)R.publicDependency[V]=0|n.publicDependency[V]}if(n.weakDependency){if(!Array.isArray(n.weakDependency))throw TypeError(".google.protobuf.FileDescriptorProto.weakDependency: array expected");for(R.weakDependency=[],V=0;V<n.weakDependency.length;++V)R.weakDependency[V]=0|n.weakDependency[V]}if(n.messageType){if(!Array.isArray(n.messageType))throw TypeError(".google.protobuf.FileDescriptorProto.messageType: array expected");for(R.messageType=[],V=0;V<n.messageType.length;++V){if(typeof n.messageType[V]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.messageType: object expected");R.messageType[V]=P.google.protobuf.DescriptorProto.fromObject(n.messageType[V])}}if(n.enumType){if(!Array.isArray(n.enumType))throw TypeError(".google.protobuf.FileDescriptorProto.enumType: array expected");for(R.enumType=[],V=0;V<n.enumType.length;++V){if(typeof n.enumType[V]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.enumType: object expected");R.enumType[V]=P.google.protobuf.EnumDescriptorProto.fromObject(n.enumType[V])}}if(n.service){if(!Array.isArray(n.service))throw TypeError(".google.protobuf.FileDescriptorProto.service: array expected");for(R.service=[],V=0;V<n.service.length;++V){if(typeof n.service[V]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.service: object expected");R.service[V]=P.google.protobuf.ServiceDescriptorProto.fromObject(n.service[V])}}if(n.extension){if(!Array.isArray(n.extension))throw TypeError(".google.protobuf.FileDescriptorProto.extension: array expected");for(R.extension=[],V=0;V<n.extension.length;++V){if(typeof n.extension[V]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.extension: object expected");R.extension[V]=P.google.protobuf.FieldDescriptorProto.fromObject(n.extension[V])}}if(n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.FileDescriptorProto.options: object expected");R.options=P.google.protobuf.FileOptions.fromObject(n.options)}if(n.sourceCodeInfo!=null){if(typeof n.sourceCodeInfo!="object")throw TypeError(".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected");R.sourceCodeInfo=P.google.protobuf.SourceCodeInfo.fromObject(n.sourceCodeInfo)}return n.syntax!=null&&(R.syntax=String(n.syntax)),R},te.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.dependency=[],V.messageType=[],V.enumType=[],V.service=[],V.extension=[],V.publicDependency=[],V.weakDependency=[]),R.defaults&&(V.name="",V.package="",V.options=null,V.sourceCodeInfo=null,V.syntax=""),n.name!=null&&n.hasOwnProperty("name")&&(V.name=n.name),n.package!=null&&n.hasOwnProperty("package")&&(V.package=n.package),n.dependency&&n.dependency.length){V.dependency=[];for(var ee=0;ee<n.dependency.length;++ee)V.dependency[ee]=n.dependency[ee]}if(n.messageType&&n.messageType.length)for(V.messageType=[],ee=0;ee<n.messageType.length;++ee)V.messageType[ee]=P.google.protobuf.DescriptorProto.toObject(n.messageType[ee],R);if(n.enumType&&n.enumType.length)for(V.enumType=[],ee=0;ee<n.enumType.length;++ee)V.enumType[ee]=P.google.protobuf.EnumDescriptorProto.toObject(n.enumType[ee],R);if(n.service&&n.service.length)for(V.service=[],ee=0;ee<n.service.length;++ee)V.service[ee]=P.google.protobuf.ServiceDescriptorProto.toObject(n.service[ee],R);if(n.extension&&n.extension.length)for(V.extension=[],ee=0;ee<n.extension.length;++ee)V.extension[ee]=P.google.protobuf.FieldDescriptorProto.toObject(n.extension[ee],R);if(n.options!=null&&n.hasOwnProperty("options")&&(V.options=P.google.protobuf.FileOptions.toObject(n.options,R)),n.sourceCodeInfo!=null&&n.hasOwnProperty("sourceCodeInfo")&&(V.sourceCodeInfo=P.google.protobuf.SourceCodeInfo.toObject(n.sourceCodeInfo,R)),n.publicDependency&&n.publicDependency.length)for(V.publicDependency=[],ee=0;ee<n.publicDependency.length;++ee)V.publicDependency[ee]=n.publicDependency[ee];if(n.weakDependency&&n.weakDependency.length)for(V.weakDependency=[],ee=0;ee<n.weakDependency.length;++ee)V.weakDependency[ee]=n.weakDependency[ee];return n.syntax!=null&&n.hasOwnProperty("syntax")&&(V.syntax=n.syntax),V},te.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},te),p.DescriptorProto=(be.prototype.name="",be.prototype.field=m.emptyArray,be.prototype.extension=m.emptyArray,be.prototype.nestedType=m.emptyArray,be.prototype.enumType=m.emptyArray,be.prototype.extensionRange=m.emptyArray,be.prototype.oneofDecl=m.emptyArray,be.prototype.options=null,be.prototype.reservedRange=m.emptyArray,be.prototype.reservedName=m.emptyArray,be.create=function(n){return new be(n)},be.encode=function(n,R){if(R=R||d.create(),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&R.uint32(10).string(n.name),n.field!=null&&n.field.length)for(var V=0;V<n.field.length;++V)P.google.protobuf.FieldDescriptorProto.encode(n.field[V],R.uint32(18).fork()).ldelim();if(n.nestedType!=null&&n.nestedType.length)for(V=0;V<n.nestedType.length;++V)P.google.protobuf.DescriptorProto.encode(n.nestedType[V],R.uint32(26).fork()).ldelim();if(n.enumType!=null&&n.enumType.length)for(V=0;V<n.enumType.length;++V)P.google.protobuf.EnumDescriptorProto.encode(n.enumType[V],R.uint32(34).fork()).ldelim();if(n.extensionRange!=null&&n.extensionRange.length)for(V=0;V<n.extensionRange.length;++V)P.google.protobuf.DescriptorProto.ExtensionRange.encode(n.extensionRange[V],R.uint32(42).fork()).ldelim();if(n.extension!=null&&n.extension.length)for(V=0;V<n.extension.length;++V)P.google.protobuf.FieldDescriptorProto.encode(n.extension[V],R.uint32(50).fork()).ldelim();if(n.options!=null&&Object.hasOwnProperty.call(n,"options")&&P.google.protobuf.MessageOptions.encode(n.options,R.uint32(58).fork()).ldelim(),n.oneofDecl!=null&&n.oneofDecl.length)for(V=0;V<n.oneofDecl.length;++V)P.google.protobuf.OneofDescriptorProto.encode(n.oneofDecl[V],R.uint32(66).fork()).ldelim();if(n.reservedRange!=null&&n.reservedRange.length)for(V=0;V<n.reservedRange.length;++V)P.google.protobuf.DescriptorProto.ReservedRange.encode(n.reservedRange[V],R.uint32(74).fork()).ldelim();if(n.reservedName!=null&&n.reservedName.length)for(V=0;V<n.reservedName.length;++V)R.uint32(82).string(n.reservedName[V]);return R},be.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},be.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.DescriptorProto;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.name=n.string();break;case 2:ee.field&&ee.field.length||(ee.field=[]),ee.field.push(P.google.protobuf.FieldDescriptorProto.decode(n,n.uint32()));break;case 6:ee.extension&&ee.extension.length||(ee.extension=[]),ee.extension.push(P.google.protobuf.FieldDescriptorProto.decode(n,n.uint32()));break;case 3:ee.nestedType&&ee.nestedType.length||(ee.nestedType=[]),ee.nestedType.push(P.google.protobuf.DescriptorProto.decode(n,n.uint32()));break;case 4:ee.enumType&&ee.enumType.length||(ee.enumType=[]),ee.enumType.push(P.google.protobuf.EnumDescriptorProto.decode(n,n.uint32()));break;case 5:ee.extensionRange&&ee.extensionRange.length||(ee.extensionRange=[]),ee.extensionRange.push(P.google.protobuf.DescriptorProto.ExtensionRange.decode(n,n.uint32()));break;case 8:ee.oneofDecl&&ee.oneofDecl.length||(ee.oneofDecl=[]),ee.oneofDecl.push(P.google.protobuf.OneofDescriptorProto.decode(n,n.uint32()));break;case 7:ee.options=P.google.protobuf.MessageOptions.decode(n,n.uint32());break;case 9:ee.reservedRange&&ee.reservedRange.length||(ee.reservedRange=[]),ee.reservedRange.push(P.google.protobuf.DescriptorProto.ReservedRange.decode(n,n.uint32()));break;case 10:ee.reservedName&&ee.reservedName.length||(ee.reservedName=[]),ee.reservedName.push(n.string());break;default:n.skipType(7&Me)}}return ee},be.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},be.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.name!=null&&n.hasOwnProperty("name")&&!m.isString(n.name))return"name: string expected";if(n.field!=null&&n.hasOwnProperty("field")){if(!Array.isArray(n.field))return"field: array expected";for(var R=0;R<n.field.length;++R)if(V=P.google.protobuf.FieldDescriptorProto.verify(n.field[R]))return"field."+V}if(n.extension!=null&&n.hasOwnProperty("extension")){if(!Array.isArray(n.extension))return"extension: array expected";for(R=0;R<n.extension.length;++R)if(V=P.google.protobuf.FieldDescriptorProto.verify(n.extension[R]))return"extension."+V}if(n.nestedType!=null&&n.hasOwnProperty("nestedType")){if(!Array.isArray(n.nestedType))return"nestedType: array expected";for(R=0;R<n.nestedType.length;++R)if(V=P.google.protobuf.DescriptorProto.verify(n.nestedType[R]))return"nestedType."+V}if(n.enumType!=null&&n.hasOwnProperty("enumType")){if(!Array.isArray(n.enumType))return"enumType: array expected";for(R=0;R<n.enumType.length;++R)if(V=P.google.protobuf.EnumDescriptorProto.verify(n.enumType[R]))return"enumType."+V}if(n.extensionRange!=null&&n.hasOwnProperty("extensionRange")){if(!Array.isArray(n.extensionRange))return"extensionRange: array expected";for(R=0;R<n.extensionRange.length;++R)if(V=P.google.protobuf.DescriptorProto.ExtensionRange.verify(n.extensionRange[R]))return"extensionRange."+V}if(n.oneofDecl!=null&&n.hasOwnProperty("oneofDecl")){if(!Array.isArray(n.oneofDecl))return"oneofDecl: array expected";for(R=0;R<n.oneofDecl.length;++R)if(V=P.google.protobuf.OneofDescriptorProto.verify(n.oneofDecl[R]))return"oneofDecl."+V}if(n.options!=null&&n.hasOwnProperty("options")&&(V=P.google.protobuf.MessageOptions.verify(n.options)))return"options."+V;if(n.reservedRange!=null&&n.hasOwnProperty("reservedRange")){if(!Array.isArray(n.reservedRange))return"reservedRange: array expected";for(var V,R=0;R<n.reservedRange.length;++R)if(V=P.google.protobuf.DescriptorProto.ReservedRange.verify(n.reservedRange[R]))return"reservedRange."+V}if(n.reservedName!=null&&n.hasOwnProperty("reservedName")){if(!Array.isArray(n.reservedName))return"reservedName: array expected";for(R=0;R<n.reservedName.length;++R)if(!m.isString(n.reservedName[R]))return"reservedName: string[] expected"}return null},be.fromObject=function(n){if(n instanceof P.google.protobuf.DescriptorProto)return n;var R=new P.google.protobuf.DescriptorProto;if(n.name!=null&&(R.name=String(n.name)),n.field){if(!Array.isArray(n.field))throw TypeError(".google.protobuf.DescriptorProto.field: array expected");R.field=[];for(var V=0;V<n.field.length;++V){if(typeof n.field[V]!="object")throw TypeError(".google.protobuf.DescriptorProto.field: object expected");R.field[V]=P.google.protobuf.FieldDescriptorProto.fromObject(n.field[V])}}if(n.extension){if(!Array.isArray(n.extension))throw TypeError(".google.protobuf.DescriptorProto.extension: array expected");for(R.extension=[],V=0;V<n.extension.length;++V){if(typeof n.extension[V]!="object")throw TypeError(".google.protobuf.DescriptorProto.extension: object expected");R.extension[V]=P.google.protobuf.FieldDescriptorProto.fromObject(n.extension[V])}}if(n.nestedType){if(!Array.isArray(n.nestedType))throw TypeError(".google.protobuf.DescriptorProto.nestedType: array expected");for(R.nestedType=[],V=0;V<n.nestedType.length;++V){if(typeof n.nestedType[V]!="object")throw TypeError(".google.protobuf.DescriptorProto.nestedType: object expected");R.nestedType[V]=P.google.protobuf.DescriptorProto.fromObject(n.nestedType[V])}}if(n.enumType){if(!Array.isArray(n.enumType))throw TypeError(".google.protobuf.DescriptorProto.enumType: array expected");for(R.enumType=[],V=0;V<n.enumType.length;++V){if(typeof n.enumType[V]!="object")throw TypeError(".google.protobuf.DescriptorProto.enumType: object expected");R.enumType[V]=P.google.protobuf.EnumDescriptorProto.fromObject(n.enumType[V])}}if(n.extensionRange){if(!Array.isArray(n.extensionRange))throw TypeError(".google.protobuf.DescriptorProto.extensionRange: array expected");for(R.extensionRange=[],V=0;V<n.extensionRange.length;++V){if(typeof n.extensionRange[V]!="object")throw TypeError(".google.protobuf.DescriptorProto.extensionRange: object expected");R.extensionRange[V]=P.google.protobuf.DescriptorProto.ExtensionRange.fromObject(n.extensionRange[V])}}if(n.oneofDecl){if(!Array.isArray(n.oneofDecl))throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: array expected");for(R.oneofDecl=[],V=0;V<n.oneofDecl.length;++V){if(typeof n.oneofDecl[V]!="object")throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: object expected");R.oneofDecl[V]=P.google.protobuf.OneofDescriptorProto.fromObject(n.oneofDecl[V])}}if(n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.DescriptorProto.options: object expected");R.options=P.google.protobuf.MessageOptions.fromObject(n.options)}if(n.reservedRange){if(!Array.isArray(n.reservedRange))throw TypeError(".google.protobuf.DescriptorProto.reservedRange: array expected");for(R.reservedRange=[],V=0;V<n.reservedRange.length;++V){if(typeof n.reservedRange[V]!="object")throw TypeError(".google.protobuf.DescriptorProto.reservedRange: object expected");R.reservedRange[V]=P.google.protobuf.DescriptorProto.ReservedRange.fromObject(n.reservedRange[V])}}if(n.reservedName){if(!Array.isArray(n.reservedName))throw TypeError(".google.protobuf.DescriptorProto.reservedName: array expected");for(R.reservedName=[],V=0;V<n.reservedName.length;++V)R.reservedName[V]=String(n.reservedName[V])}return R},be.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.field=[],V.nestedType=[],V.enumType=[],V.extensionRange=[],V.extension=[],V.oneofDecl=[],V.reservedRange=[],V.reservedName=[]),R.defaults&&(V.name="",V.options=null),n.name!=null&&n.hasOwnProperty("name")&&(V.name=n.name),n.field&&n.field.length){V.field=[];for(var ee=0;ee<n.field.length;++ee)V.field[ee]=P.google.protobuf.FieldDescriptorProto.toObject(n.field[ee],R)}if(n.nestedType&&n.nestedType.length)for(V.nestedType=[],ee=0;ee<n.nestedType.length;++ee)V.nestedType[ee]=P.google.protobuf.DescriptorProto.toObject(n.nestedType[ee],R);if(n.enumType&&n.enumType.length)for(V.enumType=[],ee=0;ee<n.enumType.length;++ee)V.enumType[ee]=P.google.protobuf.EnumDescriptorProto.toObject(n.enumType[ee],R);if(n.extensionRange&&n.extensionRange.length)for(V.extensionRange=[],ee=0;ee<n.extensionRange.length;++ee)V.extensionRange[ee]=P.google.protobuf.DescriptorProto.ExtensionRange.toObject(n.extensionRange[ee],R);if(n.extension&&n.extension.length)for(V.extension=[],ee=0;ee<n.extension.length;++ee)V.extension[ee]=P.google.protobuf.FieldDescriptorProto.toObject(n.extension[ee],R);if(n.options!=null&&n.hasOwnProperty("options")&&(V.options=P.google.protobuf.MessageOptions.toObject(n.options,R)),n.oneofDecl&&n.oneofDecl.length)for(V.oneofDecl=[],ee=0;ee<n.oneofDecl.length;++ee)V.oneofDecl[ee]=P.google.protobuf.OneofDescriptorProto.toObject(n.oneofDecl[ee],R);if(n.reservedRange&&n.reservedRange.length)for(V.reservedRange=[],ee=0;ee<n.reservedRange.length;++ee)V.reservedRange[ee]=P.google.protobuf.DescriptorProto.ReservedRange.toObject(n.reservedRange[ee],R);if(n.reservedName&&n.reservedName.length)for(V.reservedName=[],ee=0;ee<n.reservedName.length;++ee)V.reservedName[ee]=n.reservedName[ee];return V},be.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},be.ExtensionRange=(Ae.prototype.start=0,Ae.prototype.end=0,Ae.prototype.options=null,Ae.create=function(n){return new Ae(n)},Ae.encode=function(n,R){return R=R||d.create(),n.start!=null&&Object.hasOwnProperty.call(n,"start")&&R.uint32(8).int32(n.start),n.end!=null&&Object.hasOwnProperty.call(n,"end")&&R.uint32(16).int32(n.end),n.options!=null&&Object.hasOwnProperty.call(n,"options")&&P.google.protobuf.ExtensionRangeOptions.encode(n.options,R.uint32(26).fork()).ldelim(),R},Ae.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},Ae.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.DescriptorProto.ExtensionRange;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.start=n.int32();break;case 2:ee.end=n.int32();break;case 3:ee.options=P.google.protobuf.ExtensionRangeOptions.decode(n,n.uint32());break;default:n.skipType(7&Me)}}return ee},Ae.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},Ae.verify=function(n){return typeof n!="object"||n===null?"object expected":n.start!=null&&n.hasOwnProperty("start")&&!m.isInteger(n.start)?"start: integer expected":n.end!=null&&n.hasOwnProperty("end")&&!m.isInteger(n.end)?"end: integer expected":n.options!=null&&n.hasOwnProperty("options")&&(n=P.google.protobuf.ExtensionRangeOptions.verify(n.options),n)?"options."+n:null},Ae.fromObject=function(n){if(n instanceof P.google.protobuf.DescriptorProto.ExtensionRange)return n;var R=new P.google.protobuf.DescriptorProto.ExtensionRange;if(n.start!=null&&(R.start=0|n.start),n.end!=null&&(R.end=0|n.end),n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.DescriptorProto.ExtensionRange.options: object expected");R.options=P.google.protobuf.ExtensionRangeOptions.fromObject(n.options)}return R},Ae.toObject=function(n,R){var V={};return(R=R||{}).defaults&&(V.start=0,V.end=0,V.options=null),n.start!=null&&n.hasOwnProperty("start")&&(V.start=n.start),n.end!=null&&n.hasOwnProperty("end")&&(V.end=n.end),n.options!=null&&n.hasOwnProperty("options")&&(V.options=P.google.protobuf.ExtensionRangeOptions.toObject(n.options,R)),V},Ae.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ae),be.ReservedRange=(Ne.prototype.start=0,Ne.prototype.end=0,Ne.create=function(n){return new Ne(n)},Ne.encode=function(n,R){return R=R||d.create(),n.start!=null&&Object.hasOwnProperty.call(n,"start")&&R.uint32(8).int32(n.start),n.end!=null&&Object.hasOwnProperty.call(n,"end")&&R.uint32(16).int32(n.end),R},Ne.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},Ne.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.DescriptorProto.ReservedRange;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.start=n.int32();break;case 2:ee.end=n.int32();break;default:n.skipType(7&Me)}}return ee},Ne.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},Ne.verify=function(n){return typeof n!="object"||n===null?"object expected":n.start!=null&&n.hasOwnProperty("start")&&!m.isInteger(n.start)?"start: integer expected":n.end!=null&&n.hasOwnProperty("end")&&!m.isInteger(n.end)?"end: integer expected":null},Ne.fromObject=function(n){var R;return n instanceof P.google.protobuf.DescriptorProto.ReservedRange?n:(R=new P.google.protobuf.DescriptorProto.ReservedRange,n.start!=null&&(R.start=0|n.start),n.end!=null&&(R.end=0|n.end),R)},Ne.toObject=function(n,R){var V={};return(R=R||{}).defaults&&(V.start=0,V.end=0),n.start!=null&&n.hasOwnProperty("start")&&(V.start=n.start),n.end!=null&&n.hasOwnProperty("end")&&(V.end=n.end),V},Ne.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ne),be),p.ExtensionRangeOptions=(ke.prototype.uninterpretedOption=m.emptyArray,ke.create=function(n){return new ke(n)},ke.encode=function(n,R){if(R=R||d.create(),n.uninterpretedOption!=null&&n.uninterpretedOption.length)for(var V=0;V<n.uninterpretedOption.length;++V)P.google.protobuf.UninterpretedOption.encode(n.uninterpretedOption[V],R.uint32(7994).fork()).ldelim();return R},ke.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},ke.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.ExtensionRangeOptions;n.pos<V;){var Me=n.uint32();Me>>>3==999?(ee.uninterpretedOption&&ee.uninterpretedOption.length||(ee.uninterpretedOption=[]),ee.uninterpretedOption.push(P.google.protobuf.UninterpretedOption.decode(n,n.uint32()))):n.skipType(7&Me)}return ee},ke.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},ke.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.uninterpretedOption!=null&&n.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(n.uninterpretedOption))return"uninterpretedOption: array expected";for(var R=0;R<n.uninterpretedOption.length;++R){var V=P.google.protobuf.UninterpretedOption.verify(n.uninterpretedOption[R]);if(V)return"uninterpretedOption."+V}}return null},ke.fromObject=function(n){if(n instanceof P.google.protobuf.ExtensionRangeOptions)return n;var R=new P.google.protobuf.ExtensionRangeOptions;if(n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected");R.uninterpretedOption=[];for(var V=0;V<n.uninterpretedOption.length;++V){if(typeof n.uninterpretedOption[V]!="object")throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected");R.uninterpretedOption[V]=P.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[V])}}return R},ke.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.uninterpretedOption=[]),n.uninterpretedOption&&n.uninterpretedOption.length){V.uninterpretedOption=[];for(var ee=0;ee<n.uninterpretedOption.length;++ee)V.uninterpretedOption[ee]=P.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[ee],R)}return V},ke.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ke),p.FieldDescriptorProto=(Ue.prototype.name="",Ue.prototype.number=0,Ue.prototype.label=1,Ue.prototype.type=1,Ue.prototype.typeName="",Ue.prototype.extendee="",Ue.prototype.defaultValue="",Ue.prototype.oneofIndex=0,Ue.prototype.jsonName="",Ue.prototype.options=null,Ue.prototype.proto3Optional=!1,Ue.create=function(n){return new Ue(n)},Ue.encode=function(n,R){return R=R||d.create(),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&R.uint32(10).string(n.name),n.extendee!=null&&Object.hasOwnProperty.call(n,"extendee")&&R.uint32(18).string(n.extendee),n.number!=null&&Object.hasOwnProperty.call(n,"number")&&R.uint32(24).int32(n.number),n.label!=null&&Object.hasOwnProperty.call(n,"label")&&R.uint32(32).int32(n.label),n.type!=null&&Object.hasOwnProperty.call(n,"type")&&R.uint32(40).int32(n.type),n.typeName!=null&&Object.hasOwnProperty.call(n,"typeName")&&R.uint32(50).string(n.typeName),n.defaultValue!=null&&Object.hasOwnProperty.call(n,"defaultValue")&&R.uint32(58).string(n.defaultValue),n.options!=null&&Object.hasOwnProperty.call(n,"options")&&P.google.protobuf.FieldOptions.encode(n.options,R.uint32(66).fork()).ldelim(),n.oneofIndex!=null&&Object.hasOwnProperty.call(n,"oneofIndex")&&R.uint32(72).int32(n.oneofIndex),n.jsonName!=null&&Object.hasOwnProperty.call(n,"jsonName")&&R.uint32(82).string(n.jsonName),n.proto3Optional!=null&&Object.hasOwnProperty.call(n,"proto3Optional")&&R.uint32(136).bool(n.proto3Optional),R},Ue.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},Ue.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.FieldDescriptorProto;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.name=n.string();break;case 3:ee.number=n.int32();break;case 4:ee.label=n.int32();break;case 5:ee.type=n.int32();break;case 6:ee.typeName=n.string();break;case 2:ee.extendee=n.string();break;case 7:ee.defaultValue=n.string();break;case 9:ee.oneofIndex=n.int32();break;case 10:ee.jsonName=n.string();break;case 8:ee.options=P.google.protobuf.FieldOptions.decode(n,n.uint32());break;case 17:ee.proto3Optional=n.bool();break;default:n.skipType(7&Me)}}return ee},Ue.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},Ue.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.name!=null&&n.hasOwnProperty("name")&&!m.isString(n.name))return"name: string expected";if(n.number!=null&&n.hasOwnProperty("number")&&!m.isInteger(n.number))return"number: integer expected";if(n.label!=null&&n.hasOwnProperty("label"))switch(n.label){default:return"label: enum value expected";case 1:case 2:case 3:}if(n.type!=null&&n.hasOwnProperty("type"))switch(n.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:}if(n.typeName!=null&&n.hasOwnProperty("typeName")&&!m.isString(n.typeName))return"typeName: string expected";if(n.extendee!=null&&n.hasOwnProperty("extendee")&&!m.isString(n.extendee))return"extendee: string expected";if(n.defaultValue!=null&&n.hasOwnProperty("defaultValue")&&!m.isString(n.defaultValue))return"defaultValue: string expected";if(n.oneofIndex!=null&&n.hasOwnProperty("oneofIndex")&&!m.isInteger(n.oneofIndex))return"oneofIndex: integer expected";if(n.jsonName!=null&&n.hasOwnProperty("jsonName")&&!m.isString(n.jsonName))return"jsonName: string expected";if(n.options!=null&&n.hasOwnProperty("options")){var R=P.google.protobuf.FieldOptions.verify(n.options);if(R)return"options."+R}return n.proto3Optional!=null&&n.hasOwnProperty("proto3Optional")&&typeof n.proto3Optional!="boolean"?"proto3Optional: boolean expected":null},Ue.fromObject=function(n){if(n instanceof P.google.protobuf.FieldDescriptorProto)return n;var R=new P.google.protobuf.FieldDescriptorProto;switch(n.name!=null&&(R.name=String(n.name)),n.number!=null&&(R.number=0|n.number),n.label){case"LABEL_OPTIONAL":case 1:R.label=1;break;case"LABEL_REQUIRED":case 2:R.label=2;break;case"LABEL_REPEATED":case 3:R.label=3}switch(n.type){case"TYPE_DOUBLE":case 1:R.type=1;break;case"TYPE_FLOAT":case 2:R.type=2;break;case"TYPE_INT64":case 3:R.type=3;break;case"TYPE_UINT64":case 4:R.type=4;break;case"TYPE_INT32":case 5:R.type=5;break;case"TYPE_FIXED64":case 6:R.type=6;break;case"TYPE_FIXED32":case 7:R.type=7;break;case"TYPE_BOOL":case 8:R.type=8;break;case"TYPE_STRING":case 9:R.type=9;break;case"TYPE_GROUP":case 10:R.type=10;break;case"TYPE_MESSAGE":case 11:R.type=11;break;case"TYPE_BYTES":case 12:R.type=12;break;case"TYPE_UINT32":case 13:R.type=13;break;case"TYPE_ENUM":case 14:R.type=14;break;case"TYPE_SFIXED32":case 15:R.type=15;break;case"TYPE_SFIXED64":case 16:R.type=16;break;case"TYPE_SINT32":case 17:R.type=17;break;case"TYPE_SINT64":case 18:R.type=18}if(n.typeName!=null&&(R.typeName=String(n.typeName)),n.extendee!=null&&(R.extendee=String(n.extendee)),n.defaultValue!=null&&(R.defaultValue=String(n.defaultValue)),n.oneofIndex!=null&&(R.oneofIndex=0|n.oneofIndex),n.jsonName!=null&&(R.jsonName=String(n.jsonName)),n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.FieldDescriptorProto.options: object expected");R.options=P.google.protobuf.FieldOptions.fromObject(n.options)}return n.proto3Optional!=null&&(R.proto3Optional=!!n.proto3Optional),R},Ue.toObject=function(n,R){var V={};return(R=R||{}).defaults&&(V.name="",V.extendee="",V.number=0,V.label=R.enums===String?"LABEL_OPTIONAL":1,V.type=R.enums===String?"TYPE_DOUBLE":1,V.typeName="",V.defaultValue="",V.options=null,V.oneofIndex=0,V.jsonName="",V.proto3Optional=!1),n.name!=null&&n.hasOwnProperty("name")&&(V.name=n.name),n.extendee!=null&&n.hasOwnProperty("extendee")&&(V.extendee=n.extendee),n.number!=null&&n.hasOwnProperty("number")&&(V.number=n.number),n.label!=null&&n.hasOwnProperty("label")&&(V.label=R.enums===String?P.google.protobuf.FieldDescriptorProto.Label[n.label]:n.label),n.type!=null&&n.hasOwnProperty("type")&&(V.type=R.enums===String?P.google.protobuf.FieldDescriptorProto.Type[n.type]:n.type),n.typeName!=null&&n.hasOwnProperty("typeName")&&(V.typeName=n.typeName),n.defaultValue!=null&&n.hasOwnProperty("defaultValue")&&(V.defaultValue=n.defaultValue),n.options!=null&&n.hasOwnProperty("options")&&(V.options=P.google.protobuf.FieldOptions.toObject(n.options,R)),n.oneofIndex!=null&&n.hasOwnProperty("oneofIndex")&&(V.oneofIndex=n.oneofIndex),n.jsonName!=null&&n.hasOwnProperty("jsonName")&&(V.jsonName=n.jsonName),n.proto3Optional!=null&&n.hasOwnProperty("proto3Optional")&&(V.proto3Optional=n.proto3Optional),V},Ue.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ue.Type=(r={},(u=Object.create(r))[r[1]="TYPE_DOUBLE"]=1,u[r[2]="TYPE_FLOAT"]=2,u[r[3]="TYPE_INT64"]=3,u[r[4]="TYPE_UINT64"]=4,u[r[5]="TYPE_INT32"]=5,u[r[6]="TYPE_FIXED64"]=6,u[r[7]="TYPE_FIXED32"]=7,u[r[8]="TYPE_BOOL"]=8,u[r[9]="TYPE_STRING"]=9,u[r[10]="TYPE_GROUP"]=10,u[r[11]="TYPE_MESSAGE"]=11,u[r[12]="TYPE_BYTES"]=12,u[r[13]="TYPE_UINT32"]=13,u[r[14]="TYPE_ENUM"]=14,u[r[15]="TYPE_SFIXED32"]=15,u[r[16]="TYPE_SFIXED64"]=16,u[r[17]="TYPE_SINT32"]=17,u[r[18]="TYPE_SINT64"]=18,u),Ue.Label=(r={},(u=Object.create(r))[r[1]="LABEL_OPTIONAL"]=1,u[r[2]="LABEL_REQUIRED"]=2,u[r[3]="LABEL_REPEATED"]=3,u),Ue),p.OneofDescriptorProto=(qe.prototype.name="",qe.prototype.options=null,qe.create=function(n){return new qe(n)},qe.encode=function(n,R){return R=R||d.create(),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&R.uint32(10).string(n.name),n.options!=null&&Object.hasOwnProperty.call(n,"options")&&P.google.protobuf.OneofOptions.encode(n.options,R.uint32(18).fork()).ldelim(),R},qe.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},qe.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.OneofDescriptorProto;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.name=n.string();break;case 2:ee.options=P.google.protobuf.OneofOptions.decode(n,n.uint32());break;default:n.skipType(7&Me)}}return ee},qe.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},qe.verify=function(n){return typeof n!="object"||n===null?"object expected":n.name!=null&&n.hasOwnProperty("name")&&!m.isString(n.name)?"name: string expected":n.options!=null&&n.hasOwnProperty("options")&&(n=P.google.protobuf.OneofOptions.verify(n.options),n)?"options."+n:null},qe.fromObject=function(n){if(n instanceof P.google.protobuf.OneofDescriptorProto)return n;var R=new P.google.protobuf.OneofDescriptorProto;if(n.name!=null&&(R.name=String(n.name)),n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.OneofDescriptorProto.options: object expected");R.options=P.google.protobuf.OneofOptions.fromObject(n.options)}return R},qe.toObject=function(n,R){var V={};return(R=R||{}).defaults&&(V.name="",V.options=null),n.name!=null&&n.hasOwnProperty("name")&&(V.name=n.name),n.options!=null&&n.hasOwnProperty("options")&&(V.options=P.google.protobuf.OneofOptions.toObject(n.options,R)),V},qe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},qe),p.EnumDescriptorProto=(Ge.prototype.name="",Ge.prototype.value=m.emptyArray,Ge.prototype.options=null,Ge.prototype.reservedRange=m.emptyArray,Ge.prototype.reservedName=m.emptyArray,Ge.create=function(n){return new Ge(n)},Ge.encode=function(n,R){if(R=R||d.create(),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&R.uint32(10).string(n.name),n.value!=null&&n.value.length)for(var V=0;V<n.value.length;++V)P.google.protobuf.EnumValueDescriptorProto.encode(n.value[V],R.uint32(18).fork()).ldelim();if(n.options!=null&&Object.hasOwnProperty.call(n,"options")&&P.google.protobuf.EnumOptions.encode(n.options,R.uint32(26).fork()).ldelim(),n.reservedRange!=null&&n.reservedRange.length)for(V=0;V<n.reservedRange.length;++V)P.google.protobuf.EnumDescriptorProto.EnumReservedRange.encode(n.reservedRange[V],R.uint32(34).fork()).ldelim();if(n.reservedName!=null&&n.reservedName.length)for(V=0;V<n.reservedName.length;++V)R.uint32(42).string(n.reservedName[V]);return R},Ge.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},Ge.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.EnumDescriptorProto;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.name=n.string();break;case 2:ee.value&&ee.value.length||(ee.value=[]),ee.value.push(P.google.protobuf.EnumValueDescriptorProto.decode(n,n.uint32()));break;case 3:ee.options=P.google.protobuf.EnumOptions.decode(n,n.uint32());break;case 4:ee.reservedRange&&ee.reservedRange.length||(ee.reservedRange=[]),ee.reservedRange.push(P.google.protobuf.EnumDescriptorProto.EnumReservedRange.decode(n,n.uint32()));break;case 5:ee.reservedName&&ee.reservedName.length||(ee.reservedName=[]),ee.reservedName.push(n.string());break;default:n.skipType(7&Me)}}return ee},Ge.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},Ge.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.name!=null&&n.hasOwnProperty("name")&&!m.isString(n.name))return"name: string expected";if(n.value!=null&&n.hasOwnProperty("value")){if(!Array.isArray(n.value))return"value: array expected";for(var R=0;R<n.value.length;++R)if(V=P.google.protobuf.EnumValueDescriptorProto.verify(n.value[R]))return"value."+V}if(n.options!=null&&n.hasOwnProperty("options")&&(V=P.google.protobuf.EnumOptions.verify(n.options)))return"options."+V;if(n.reservedRange!=null&&n.hasOwnProperty("reservedRange")){if(!Array.isArray(n.reservedRange))return"reservedRange: array expected";for(var V,R=0;R<n.reservedRange.length;++R)if(V=P.google.protobuf.EnumDescriptorProto.EnumReservedRange.verify(n.reservedRange[R]))return"reservedRange."+V}if(n.reservedName!=null&&n.hasOwnProperty("reservedName")){if(!Array.isArray(n.reservedName))return"reservedName: array expected";for(R=0;R<n.reservedName.length;++R)if(!m.isString(n.reservedName[R]))return"reservedName: string[] expected"}return null},Ge.fromObject=function(n){if(n instanceof P.google.protobuf.EnumDescriptorProto)return n;var R=new P.google.protobuf.EnumDescriptorProto;if(n.name!=null&&(R.name=String(n.name)),n.value){if(!Array.isArray(n.value))throw TypeError(".google.protobuf.EnumDescriptorProto.value: array expected");R.value=[];for(var V=0;V<n.value.length;++V){if(typeof n.value[V]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.value: object expected");R.value[V]=P.google.protobuf.EnumValueDescriptorProto.fromObject(n.value[V])}}if(n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.options: object expected");R.options=P.google.protobuf.EnumOptions.fromObject(n.options)}if(n.reservedRange){if(!Array.isArray(n.reservedRange))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: array expected");for(R.reservedRange=[],V=0;V<n.reservedRange.length;++V){if(typeof n.reservedRange[V]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: object expected");R.reservedRange[V]=P.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(n.reservedRange[V])}}if(n.reservedName){if(!Array.isArray(n.reservedName))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedName: array expected");for(R.reservedName=[],V=0;V<n.reservedName.length;++V)R.reservedName[V]=String(n.reservedName[V])}return R},Ge.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.value=[],V.reservedRange=[],V.reservedName=[]),R.defaults&&(V.name="",V.options=null),n.name!=null&&n.hasOwnProperty("name")&&(V.name=n.name),n.value&&n.value.length){V.value=[];for(var ee=0;ee<n.value.length;++ee)V.value[ee]=P.google.protobuf.EnumValueDescriptorProto.toObject(n.value[ee],R)}if(n.options!=null&&n.hasOwnProperty("options")&&(V.options=P.google.protobuf.EnumOptions.toObject(n.options,R)),n.reservedRange&&n.reservedRange.length)for(V.reservedRange=[],ee=0;ee<n.reservedRange.length;++ee)V.reservedRange[ee]=P.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(n.reservedRange[ee],R);if(n.reservedName&&n.reservedName.length)for(V.reservedName=[],ee=0;ee<n.reservedName.length;++ee)V.reservedName[ee]=n.reservedName[ee];return V},Ge.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ge.EnumReservedRange=(Qe.prototype.start=0,Qe.prototype.end=0,Qe.create=function(n){return new Qe(n)},Qe.encode=function(n,R){return R=R||d.create(),n.start!=null&&Object.hasOwnProperty.call(n,"start")&&R.uint32(8).int32(n.start),n.end!=null&&Object.hasOwnProperty.call(n,"end")&&R.uint32(16).int32(n.end),R},Qe.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},Qe.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.EnumDescriptorProto.EnumReservedRange;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.start=n.int32();break;case 2:ee.end=n.int32();break;default:n.skipType(7&Me)}}return ee},Qe.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},Qe.verify=function(n){return typeof n!="object"||n===null?"object expected":n.start!=null&&n.hasOwnProperty("start")&&!m.isInteger(n.start)?"start: integer expected":n.end!=null&&n.hasOwnProperty("end")&&!m.isInteger(n.end)?"end: integer expected":null},Qe.fromObject=function(n){var R;return n instanceof P.google.protobuf.EnumDescriptorProto.EnumReservedRange?n:(R=new P.google.protobuf.EnumDescriptorProto.EnumReservedRange,n.start!=null&&(R.start=0|n.start),n.end!=null&&(R.end=0|n.end),R)},Qe.toObject=function(n,R){var V={};return(R=R||{}).defaults&&(V.start=0,V.end=0),n.start!=null&&n.hasOwnProperty("start")&&(V.start=n.start),n.end!=null&&n.hasOwnProperty("end")&&(V.end=n.end),V},Qe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Qe),Ge),p.EnumValueDescriptorProto=(Ke.prototype.name="",Ke.prototype.number=0,Ke.prototype.options=null,Ke.create=function(n){return new Ke(n)},Ke.encode=function(n,R){return R=R||d.create(),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&R.uint32(10).string(n.name),n.number!=null&&Object.hasOwnProperty.call(n,"number")&&R.uint32(16).int32(n.number),n.options!=null&&Object.hasOwnProperty.call(n,"options")&&P.google.protobuf.EnumValueOptions.encode(n.options,R.uint32(26).fork()).ldelim(),R},Ke.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},Ke.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.EnumValueDescriptorProto;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.name=n.string();break;case 2:ee.number=n.int32();break;case 3:ee.options=P.google.protobuf.EnumValueOptions.decode(n,n.uint32());break;default:n.skipType(7&Me)}}return ee},Ke.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},Ke.verify=function(n){return typeof n!="object"||n===null?"object expected":n.name!=null&&n.hasOwnProperty("name")&&!m.isString(n.name)?"name: string expected":n.number!=null&&n.hasOwnProperty("number")&&!m.isInteger(n.number)?"number: integer expected":n.options!=null&&n.hasOwnProperty("options")&&(n=P.google.protobuf.EnumValueOptions.verify(n.options),n)?"options."+n:null},Ke.fromObject=function(n){if(n instanceof P.google.protobuf.EnumValueDescriptorProto)return n;var R=new P.google.protobuf.EnumValueDescriptorProto;if(n.name!=null&&(R.name=String(n.name)),n.number!=null&&(R.number=0|n.number),n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.EnumValueDescriptorProto.options: object expected");R.options=P.google.protobuf.EnumValueOptions.fromObject(n.options)}return R},Ke.toObject=function(n,R){var V={};return(R=R||{}).defaults&&(V.name="",V.number=0,V.options=null),n.name!=null&&n.hasOwnProperty("name")&&(V.name=n.name),n.number!=null&&n.hasOwnProperty("number")&&(V.number=n.number),n.options!=null&&n.hasOwnProperty("options")&&(V.options=P.google.protobuf.EnumValueOptions.toObject(n.options,R)),V},Ke.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ke),p.ServiceDescriptorProto=(Be.prototype.name="",Be.prototype.method=m.emptyArray,Be.prototype.options=null,Be.create=function(n){return new Be(n)},Be.encode=function(n,R){if(R=R||d.create(),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&R.uint32(10).string(n.name),n.method!=null&&n.method.length)for(var V=0;V<n.method.length;++V)P.google.protobuf.MethodDescriptorProto.encode(n.method[V],R.uint32(18).fork()).ldelim();return n.options!=null&&Object.hasOwnProperty.call(n,"options")&&P.google.protobuf.ServiceOptions.encode(n.options,R.uint32(26).fork()).ldelim(),R},Be.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},Be.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.ServiceDescriptorProto;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.name=n.string();break;case 2:ee.method&&ee.method.length||(ee.method=[]),ee.method.push(P.google.protobuf.MethodDescriptorProto.decode(n,n.uint32()));break;case 3:ee.options=P.google.protobuf.ServiceOptions.decode(n,n.uint32());break;default:n.skipType(7&Me)}}return ee},Be.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},Be.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.name!=null&&n.hasOwnProperty("name")&&!m.isString(n.name))return"name: string expected";if(n.method!=null&&n.hasOwnProperty("method")){if(!Array.isArray(n.method))return"method: array expected";for(var R=0;R<n.method.length;++R)if(V=P.google.protobuf.MethodDescriptorProto.verify(n.method[R]))return"method."+V}var V;return n.options!=null&&n.hasOwnProperty("options")&&(V=P.google.protobuf.ServiceOptions.verify(n.options))?"options."+V:null},Be.fromObject=function(n){if(n instanceof P.google.protobuf.ServiceDescriptorProto)return n;var R=new P.google.protobuf.ServiceDescriptorProto;if(n.name!=null&&(R.name=String(n.name)),n.method){if(!Array.isArray(n.method))throw TypeError(".google.protobuf.ServiceDescriptorProto.method: array expected");R.method=[];for(var V=0;V<n.method.length;++V){if(typeof n.method[V]!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.method: object expected");R.method[V]=P.google.protobuf.MethodDescriptorProto.fromObject(n.method[V])}}if(n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.options: object expected");R.options=P.google.protobuf.ServiceOptions.fromObject(n.options)}return R},Be.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.method=[]),R.defaults&&(V.name="",V.options=null),n.name!=null&&n.hasOwnProperty("name")&&(V.name=n.name),n.method&&n.method.length){V.method=[];for(var ee=0;ee<n.method.length;++ee)V.method[ee]=P.google.protobuf.MethodDescriptorProto.toObject(n.method[ee],R)}return n.options!=null&&n.hasOwnProperty("options")&&(V.options=P.google.protobuf.ServiceOptions.toObject(n.options,R)),V},Be.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Be),p.MethodDescriptorProto=(Re.prototype.name="",Re.prototype.inputType="",Re.prototype.outputType="",Re.prototype.options=null,Re.prototype.clientStreaming=!1,Re.prototype.serverStreaming=!1,Re.create=function(n){return new Re(n)},Re.encode=function(n,R){return R=R||d.create(),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&R.uint32(10).string(n.name),n.inputType!=null&&Object.hasOwnProperty.call(n,"inputType")&&R.uint32(18).string(n.inputType),n.outputType!=null&&Object.hasOwnProperty.call(n,"outputType")&&R.uint32(26).string(n.outputType),n.options!=null&&Object.hasOwnProperty.call(n,"options")&&P.google.protobuf.MethodOptions.encode(n.options,R.uint32(34).fork()).ldelim(),n.clientStreaming!=null&&Object.hasOwnProperty.call(n,"clientStreaming")&&R.uint32(40).bool(n.clientStreaming),n.serverStreaming!=null&&Object.hasOwnProperty.call(n,"serverStreaming")&&R.uint32(48).bool(n.serverStreaming),R},Re.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},Re.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.MethodDescriptorProto;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.name=n.string();break;case 2:ee.inputType=n.string();break;case 3:ee.outputType=n.string();break;case 4:ee.options=P.google.protobuf.MethodOptions.decode(n,n.uint32());break;case 5:ee.clientStreaming=n.bool();break;case 6:ee.serverStreaming=n.bool();break;default:n.skipType(7&Me)}}return ee},Re.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},Re.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.name!=null&&n.hasOwnProperty("name")&&!m.isString(n.name))return"name: string expected";if(n.inputType!=null&&n.hasOwnProperty("inputType")&&!m.isString(n.inputType))return"inputType: string expected";if(n.outputType!=null&&n.hasOwnProperty("outputType")&&!m.isString(n.outputType))return"outputType: string expected";if(n.options!=null&&n.hasOwnProperty("options")){var R=P.google.protobuf.MethodOptions.verify(n.options);if(R)return"options."+R}return n.clientStreaming!=null&&n.hasOwnProperty("clientStreaming")&&typeof n.clientStreaming!="boolean"?"clientStreaming: boolean expected":n.serverStreaming!=null&&n.hasOwnProperty("serverStreaming")&&typeof n.serverStreaming!="boolean"?"serverStreaming: boolean expected":null},Re.fromObject=function(n){if(n instanceof P.google.protobuf.MethodDescriptorProto)return n;var R=new P.google.protobuf.MethodDescriptorProto;if(n.name!=null&&(R.name=String(n.name)),n.inputType!=null&&(R.inputType=String(n.inputType)),n.outputType!=null&&(R.outputType=String(n.outputType)),n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.MethodDescriptorProto.options: object expected");R.options=P.google.protobuf.MethodOptions.fromObject(n.options)}return n.clientStreaming!=null&&(R.clientStreaming=!!n.clientStreaming),n.serverStreaming!=null&&(R.serverStreaming=!!n.serverStreaming),R},Re.toObject=function(n,R){var V={};return(R=R||{}).defaults&&(V.name="",V.inputType="",V.outputType="",V.options=null,V.clientStreaming=!1,V.serverStreaming=!1),n.name!=null&&n.hasOwnProperty("name")&&(V.name=n.name),n.inputType!=null&&n.hasOwnProperty("inputType")&&(V.inputType=n.inputType),n.outputType!=null&&n.hasOwnProperty("outputType")&&(V.outputType=n.outputType),n.options!=null&&n.hasOwnProperty("options")&&(V.options=P.google.protobuf.MethodOptions.toObject(n.options,R)),n.clientStreaming!=null&&n.hasOwnProperty("clientStreaming")&&(V.clientStreaming=n.clientStreaming),n.serverStreaming!=null&&n.hasOwnProperty("serverStreaming")&&(V.serverStreaming=n.serverStreaming),V},Re.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Re),p.FileOptions=($e.prototype.javaPackage="",$e.prototype.javaOuterClassname="",$e.prototype.javaMultipleFiles=!1,$e.prototype.javaGenerateEqualsAndHash=!1,$e.prototype.javaStringCheckUtf8=!1,$e.prototype.optimizeFor=1,$e.prototype.goPackage="",$e.prototype.ccGenericServices=!1,$e.prototype.javaGenericServices=!1,$e.prototype.pyGenericServices=!1,$e.prototype.phpGenericServices=!1,$e.prototype.deprecated=!1,$e.prototype.ccEnableArenas=!0,$e.prototype.objcClassPrefix="",$e.prototype.csharpNamespace="",$e.prototype.swiftPrefix="",$e.prototype.phpClassPrefix="",$e.prototype.phpNamespace="",$e.prototype.phpMetadataNamespace="",$e.prototype.rubyPackage="",$e.prototype.uninterpretedOption=m.emptyArray,$e.prototype[".google.api.resourceDefinition"]=m.emptyArray,$e.create=function(n){return new $e(n)},$e.encode=function(n,R){if(R=R||d.create(),n.javaPackage!=null&&Object.hasOwnProperty.call(n,"javaPackage")&&R.uint32(10).string(n.javaPackage),n.javaOuterClassname!=null&&Object.hasOwnProperty.call(n,"javaOuterClassname")&&R.uint32(66).string(n.javaOuterClassname),n.optimizeFor!=null&&Object.hasOwnProperty.call(n,"optimizeFor")&&R.uint32(72).int32(n.optimizeFor),n.javaMultipleFiles!=null&&Object.hasOwnProperty.call(n,"javaMultipleFiles")&&R.uint32(80).bool(n.javaMultipleFiles),n.goPackage!=null&&Object.hasOwnProperty.call(n,"goPackage")&&R.uint32(90).string(n.goPackage),n.ccGenericServices!=null&&Object.hasOwnProperty.call(n,"ccGenericServices")&&R.uint32(128).bool(n.ccGenericServices),n.javaGenericServices!=null&&Object.hasOwnProperty.call(n,"javaGenericServices")&&R.uint32(136).bool(n.javaGenericServices),n.pyGenericServices!=null&&Object.hasOwnProperty.call(n,"pyGenericServices")&&R.uint32(144).bool(n.pyGenericServices),n.javaGenerateEqualsAndHash!=null&&Object.hasOwnProperty.call(n,"javaGenerateEqualsAndHash")&&R.uint32(160).bool(n.javaGenerateEqualsAndHash),n.deprecated!=null&&Object.hasOwnProperty.call(n,"deprecated")&&R.uint32(184).bool(n.deprecated),n.javaStringCheckUtf8!=null&&Object.hasOwnProperty.call(n,"javaStringCheckUtf8")&&R.uint32(216).bool(n.javaStringCheckUtf8),n.ccEnableArenas!=null&&Object.hasOwnProperty.call(n,"ccEnableArenas")&&R.uint32(248).bool(n.ccEnableArenas),n.objcClassPrefix!=null&&Object.hasOwnProperty.call(n,"objcClassPrefix")&&R.uint32(290).string(n.objcClassPrefix),n.csharpNamespace!=null&&Object.hasOwnProperty.call(n,"csharpNamespace")&&R.uint32(298).string(n.csharpNamespace),n.swiftPrefix!=null&&Object.hasOwnProperty.call(n,"swiftPrefix")&&R.uint32(314).string(n.swiftPrefix),n.phpClassPrefix!=null&&Object.hasOwnProperty.call(n,"phpClassPrefix")&&R.uint32(322).string(n.phpClassPrefix),n.phpNamespace!=null&&Object.hasOwnProperty.call(n,"phpNamespace")&&R.uint32(330).string(n.phpNamespace),n.phpGenericServices!=null&&Object.hasOwnProperty.call(n,"phpGenericServices")&&R.uint32(336).bool(n.phpGenericServices),n.phpMetadataNamespace!=null&&Object.hasOwnProperty.call(n,"phpMetadataNamespace")&&R.uint32(354).string(n.phpMetadataNamespace),n.rubyPackage!=null&&Object.hasOwnProperty.call(n,"rubyPackage")&&R.uint32(362).string(n.rubyPackage),n.uninterpretedOption!=null&&n.uninterpretedOption.length)for(var V=0;V<n.uninterpretedOption.length;++V)P.google.protobuf.UninterpretedOption.encode(n.uninterpretedOption[V],R.uint32(7994).fork()).ldelim();if(n[".google.api.resourceDefinition"]!=null&&n[".google.api.resourceDefinition"].length)for(V=0;V<n[".google.api.resourceDefinition"].length;++V)P.google.api.ResourceDescriptor.encode(n[".google.api.resourceDefinition"][V],R.uint32(8426).fork()).ldelim();return R},$e.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},$e.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.FileOptions;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.javaPackage=n.string();break;case 8:ee.javaOuterClassname=n.string();break;case 10:ee.javaMultipleFiles=n.bool();break;case 20:ee.javaGenerateEqualsAndHash=n.bool();break;case 27:ee.javaStringCheckUtf8=n.bool();break;case 9:ee.optimizeFor=n.int32();break;case 11:ee.goPackage=n.string();break;case 16:ee.ccGenericServices=n.bool();break;case 17:ee.javaGenericServices=n.bool();break;case 18:ee.pyGenericServices=n.bool();break;case 42:ee.phpGenericServices=n.bool();break;case 23:ee.deprecated=n.bool();break;case 31:ee.ccEnableArenas=n.bool();break;case 36:ee.objcClassPrefix=n.string();break;case 37:ee.csharpNamespace=n.string();break;case 39:ee.swiftPrefix=n.string();break;case 40:ee.phpClassPrefix=n.string();break;case 41:ee.phpNamespace=n.string();break;case 44:ee.phpMetadataNamespace=n.string();break;case 45:ee.rubyPackage=n.string();break;case 999:ee.uninterpretedOption&&ee.uninterpretedOption.length||(ee.uninterpretedOption=[]),ee.uninterpretedOption.push(P.google.protobuf.UninterpretedOption.decode(n,n.uint32()));break;case 1053:ee[".google.api.resourceDefinition"]&&ee[".google.api.resourceDefinition"].length||(ee[".google.api.resourceDefinition"]=[]),ee[".google.api.resourceDefinition"].push(P.google.api.ResourceDescriptor.decode(n,n.uint32()));break;default:n.skipType(7&Me)}}return ee},$e.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},$e.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.javaPackage!=null&&n.hasOwnProperty("javaPackage")&&!m.isString(n.javaPackage))return"javaPackage: string expected";if(n.javaOuterClassname!=null&&n.hasOwnProperty("javaOuterClassname")&&!m.isString(n.javaOuterClassname))return"javaOuterClassname: string expected";if(n.javaMultipleFiles!=null&&n.hasOwnProperty("javaMultipleFiles")&&typeof n.javaMultipleFiles!="boolean")return"javaMultipleFiles: boolean expected";if(n.javaGenerateEqualsAndHash!=null&&n.hasOwnProperty("javaGenerateEqualsAndHash")&&typeof n.javaGenerateEqualsAndHash!="boolean")return"javaGenerateEqualsAndHash: boolean expected";if(n.javaStringCheckUtf8!=null&&n.hasOwnProperty("javaStringCheckUtf8")&&typeof n.javaStringCheckUtf8!="boolean")return"javaStringCheckUtf8: boolean expected";if(n.optimizeFor!=null&&n.hasOwnProperty("optimizeFor"))switch(n.optimizeFor){default:return"optimizeFor: enum value expected";case 1:case 2:case 3:}if(n.goPackage!=null&&n.hasOwnProperty("goPackage")&&!m.isString(n.goPackage))return"goPackage: string expected";if(n.ccGenericServices!=null&&n.hasOwnProperty("ccGenericServices")&&typeof n.ccGenericServices!="boolean")return"ccGenericServices: boolean expected";if(n.javaGenericServices!=null&&n.hasOwnProperty("javaGenericServices")&&typeof n.javaGenericServices!="boolean")return"javaGenericServices: boolean expected";if(n.pyGenericServices!=null&&n.hasOwnProperty("pyGenericServices")&&typeof n.pyGenericServices!="boolean")return"pyGenericServices: boolean expected";if(n.phpGenericServices!=null&&n.hasOwnProperty("phpGenericServices")&&typeof n.phpGenericServices!="boolean")return"phpGenericServices: boolean expected";if(n.deprecated!=null&&n.hasOwnProperty("deprecated")&&typeof n.deprecated!="boolean")return"deprecated: boolean expected";if(n.ccEnableArenas!=null&&n.hasOwnProperty("ccEnableArenas")&&typeof n.ccEnableArenas!="boolean")return"ccEnableArenas: boolean expected";if(n.objcClassPrefix!=null&&n.hasOwnProperty("objcClassPrefix")&&!m.isString(n.objcClassPrefix))return"objcClassPrefix: string expected";if(n.csharpNamespace!=null&&n.hasOwnProperty("csharpNamespace")&&!m.isString(n.csharpNamespace))return"csharpNamespace: string expected";if(n.swiftPrefix!=null&&n.hasOwnProperty("swiftPrefix")&&!m.isString(n.swiftPrefix))return"swiftPrefix: string expected";if(n.phpClassPrefix!=null&&n.hasOwnProperty("phpClassPrefix")&&!m.isString(n.phpClassPrefix))return"phpClassPrefix: string expected";if(n.phpNamespace!=null&&n.hasOwnProperty("phpNamespace")&&!m.isString(n.phpNamespace))return"phpNamespace: string expected";if(n.phpMetadataNamespace!=null&&n.hasOwnProperty("phpMetadataNamespace")&&!m.isString(n.phpMetadataNamespace))return"phpMetadataNamespace: string expected";if(n.rubyPackage!=null&&n.hasOwnProperty("rubyPackage")&&!m.isString(n.rubyPackage))return"rubyPackage: string expected";if(n.uninterpretedOption!=null&&n.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(n.uninterpretedOption))return"uninterpretedOption: array expected";for(var R=0;R<n.uninterpretedOption.length;++R)if(V=P.google.protobuf.UninterpretedOption.verify(n.uninterpretedOption[R]))return"uninterpretedOption."+V}if(n[".google.api.resourceDefinition"]!=null&&n.hasOwnProperty(".google.api.resourceDefinition")){if(!Array.isArray(n[".google.api.resourceDefinition"]))return".google.api.resourceDefinition: array expected";for(var V,R=0;R<n[".google.api.resourceDefinition"].length;++R)if(V=P.google.api.ResourceDescriptor.verify(n[".google.api.resourceDefinition"][R]))return".google.api.resourceDefinition."+V}return null},$e.fromObject=function(n){if(n instanceof P.google.protobuf.FileOptions)return n;var R=new P.google.protobuf.FileOptions;switch(n.javaPackage!=null&&(R.javaPackage=String(n.javaPackage)),n.javaOuterClassname!=null&&(R.javaOuterClassname=String(n.javaOuterClassname)),n.javaMultipleFiles!=null&&(R.javaMultipleFiles=!!n.javaMultipleFiles),n.javaGenerateEqualsAndHash!=null&&(R.javaGenerateEqualsAndHash=!!n.javaGenerateEqualsAndHash),n.javaStringCheckUtf8!=null&&(R.javaStringCheckUtf8=!!n.javaStringCheckUtf8),n.optimizeFor){case"SPEED":case 1:R.optimizeFor=1;break;case"CODE_SIZE":case 2:R.optimizeFor=2;break;case"LITE_RUNTIME":case 3:R.optimizeFor=3}if(n.goPackage!=null&&(R.goPackage=String(n.goPackage)),n.ccGenericServices!=null&&(R.ccGenericServices=!!n.ccGenericServices),n.javaGenericServices!=null&&(R.javaGenericServices=!!n.javaGenericServices),n.pyGenericServices!=null&&(R.pyGenericServices=!!n.pyGenericServices),n.phpGenericServices!=null&&(R.phpGenericServices=!!n.phpGenericServices),n.deprecated!=null&&(R.deprecated=!!n.deprecated),n.ccEnableArenas!=null&&(R.ccEnableArenas=!!n.ccEnableArenas),n.objcClassPrefix!=null&&(R.objcClassPrefix=String(n.objcClassPrefix)),n.csharpNamespace!=null&&(R.csharpNamespace=String(n.csharpNamespace)),n.swiftPrefix!=null&&(R.swiftPrefix=String(n.swiftPrefix)),n.phpClassPrefix!=null&&(R.phpClassPrefix=String(n.phpClassPrefix)),n.phpNamespace!=null&&(R.phpNamespace=String(n.phpNamespace)),n.phpMetadataNamespace!=null&&(R.phpMetadataNamespace=String(n.phpMetadataNamespace)),n.rubyPackage!=null&&(R.rubyPackage=String(n.rubyPackage)),n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: array expected");R.uninterpretedOption=[];for(var V=0;V<n.uninterpretedOption.length;++V){if(typeof n.uninterpretedOption[V]!="object")throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: object expected");R.uninterpretedOption[V]=P.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[V])}}if(n[".google.api.resourceDefinition"]){if(!Array.isArray(n[".google.api.resourceDefinition"]))throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: array expected");for(R[".google.api.resourceDefinition"]=[],V=0;V<n[".google.api.resourceDefinition"].length;++V){if(typeof n[".google.api.resourceDefinition"][V]!="object")throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: object expected");R[".google.api.resourceDefinition"][V]=P.google.api.ResourceDescriptor.fromObject(n[".google.api.resourceDefinition"][V])}}return R},$e.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.uninterpretedOption=[],V[".google.api.resourceDefinition"]=[]),R.defaults&&(V.javaPackage="",V.javaOuterClassname="",V.optimizeFor=R.enums===String?"SPEED":1,V.javaMultipleFiles=!1,V.goPackage="",V.ccGenericServices=!1,V.javaGenericServices=!1,V.pyGenericServices=!1,V.javaGenerateEqualsAndHash=!1,V.deprecated=!1,V.javaStringCheckUtf8=!1,V.ccEnableArenas=!0,V.objcClassPrefix="",V.csharpNamespace="",V.swiftPrefix="",V.phpClassPrefix="",V.phpNamespace="",V.phpGenericServices=!1,V.phpMetadataNamespace="",V.rubyPackage=""),n.javaPackage!=null&&n.hasOwnProperty("javaPackage")&&(V.javaPackage=n.javaPackage),n.javaOuterClassname!=null&&n.hasOwnProperty("javaOuterClassname")&&(V.javaOuterClassname=n.javaOuterClassname),n.optimizeFor!=null&&n.hasOwnProperty("optimizeFor")&&(V.optimizeFor=R.enums===String?P.google.protobuf.FileOptions.OptimizeMode[n.optimizeFor]:n.optimizeFor),n.javaMultipleFiles!=null&&n.hasOwnProperty("javaMultipleFiles")&&(V.javaMultipleFiles=n.javaMultipleFiles),n.goPackage!=null&&n.hasOwnProperty("goPackage")&&(V.goPackage=n.goPackage),n.ccGenericServices!=null&&n.hasOwnProperty("ccGenericServices")&&(V.ccGenericServices=n.ccGenericServices),n.javaGenericServices!=null&&n.hasOwnProperty("javaGenericServices")&&(V.javaGenericServices=n.javaGenericServices),n.pyGenericServices!=null&&n.hasOwnProperty("pyGenericServices")&&(V.pyGenericServices=n.pyGenericServices),n.javaGenerateEqualsAndHash!=null&&n.hasOwnProperty("javaGenerateEqualsAndHash")&&(V.javaGenerateEqualsAndHash=n.javaGenerateEqualsAndHash),n.deprecated!=null&&n.hasOwnProperty("deprecated")&&(V.deprecated=n.deprecated),n.javaStringCheckUtf8!=null&&n.hasOwnProperty("javaStringCheckUtf8")&&(V.javaStringCheckUtf8=n.javaStringCheckUtf8),n.ccEnableArenas!=null&&n.hasOwnProperty("ccEnableArenas")&&(V.ccEnableArenas=n.ccEnableArenas),n.objcClassPrefix!=null&&n.hasOwnProperty("objcClassPrefix")&&(V.objcClassPrefix=n.objcClassPrefix),n.csharpNamespace!=null&&n.hasOwnProperty("csharpNamespace")&&(V.csharpNamespace=n.csharpNamespace),n.swiftPrefix!=null&&n.hasOwnProperty("swiftPrefix")&&(V.swiftPrefix=n.swiftPrefix),n.phpClassPrefix!=null&&n.hasOwnProperty("phpClassPrefix")&&(V.phpClassPrefix=n.phpClassPrefix),n.phpNamespace!=null&&n.hasOwnProperty("phpNamespace")&&(V.phpNamespace=n.phpNamespace),n.phpGenericServices!=null&&n.hasOwnProperty("phpGenericServices")&&(V.phpGenericServices=n.phpGenericServices),n.phpMetadataNamespace!=null&&n.hasOwnProperty("phpMetadataNamespace")&&(V.phpMetadataNamespace=n.phpMetadataNamespace),n.rubyPackage!=null&&n.hasOwnProperty("rubyPackage")&&(V.rubyPackage=n.rubyPackage),n.uninterpretedOption&&n.uninterpretedOption.length){V.uninterpretedOption=[];for(var ee=0;ee<n.uninterpretedOption.length;++ee)V.uninterpretedOption[ee]=P.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[ee],R)}if(n[".google.api.resourceDefinition"]&&n[".google.api.resourceDefinition"].length)for(V[".google.api.resourceDefinition"]=[],ee=0;ee<n[".google.api.resourceDefinition"].length;++ee)V[".google.api.resourceDefinition"][ee]=P.google.api.ResourceDescriptor.toObject(n[".google.api.resourceDefinition"][ee],R);return V},$e.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},$e.OptimizeMode=(r={},(u=Object.create(r))[r[1]="SPEED"]=1,u[r[2]="CODE_SIZE"]=2,u[r[3]="LITE_RUNTIME"]=3,u),$e),p.MessageOptions=(xe.prototype.messageSetWireFormat=!1,xe.prototype.noStandardDescriptorAccessor=!1,xe.prototype.deprecated=!1,xe.prototype.mapEntry=!1,xe.prototype.uninterpretedOption=m.emptyArray,xe.prototype[".google.api.resource"]=null,xe.create=function(n){return new xe(n)},xe.encode=function(n,R){if(R=R||d.create(),n.messageSetWireFormat!=null&&Object.hasOwnProperty.call(n,"messageSetWireFormat")&&R.uint32(8).bool(n.messageSetWireFormat),n.noStandardDescriptorAccessor!=null&&Object.hasOwnProperty.call(n,"noStandardDescriptorAccessor")&&R.uint32(16).bool(n.noStandardDescriptorAccessor),n.deprecated!=null&&Object.hasOwnProperty.call(n,"deprecated")&&R.uint32(24).bool(n.deprecated),n.mapEntry!=null&&Object.hasOwnProperty.call(n,"mapEntry")&&R.uint32(56).bool(n.mapEntry),n.uninterpretedOption!=null&&n.uninterpretedOption.length)for(var V=0;V<n.uninterpretedOption.length;++V)P.google.protobuf.UninterpretedOption.encode(n.uninterpretedOption[V],R.uint32(7994).fork()).ldelim();return n[".google.api.resource"]!=null&&Object.hasOwnProperty.call(n,".google.api.resource")&&P.google.api.ResourceDescriptor.encode(n[".google.api.resource"],R.uint32(8426).fork()).ldelim(),R},xe.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},xe.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.MessageOptions;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.messageSetWireFormat=n.bool();break;case 2:ee.noStandardDescriptorAccessor=n.bool();break;case 3:ee.deprecated=n.bool();break;case 7:ee.mapEntry=n.bool();break;case 999:ee.uninterpretedOption&&ee.uninterpretedOption.length||(ee.uninterpretedOption=[]),ee.uninterpretedOption.push(P.google.protobuf.UninterpretedOption.decode(n,n.uint32()));break;case 1053:ee[".google.api.resource"]=P.google.api.ResourceDescriptor.decode(n,n.uint32());break;default:n.skipType(7&Me)}}return ee},xe.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},xe.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.messageSetWireFormat!=null&&n.hasOwnProperty("messageSetWireFormat")&&typeof n.messageSetWireFormat!="boolean")return"messageSetWireFormat: boolean expected";if(n.noStandardDescriptorAccessor!=null&&n.hasOwnProperty("noStandardDescriptorAccessor")&&typeof n.noStandardDescriptorAccessor!="boolean")return"noStandardDescriptorAccessor: boolean expected";if(n.deprecated!=null&&n.hasOwnProperty("deprecated")&&typeof n.deprecated!="boolean")return"deprecated: boolean expected";if(n.mapEntry!=null&&n.hasOwnProperty("mapEntry")&&typeof n.mapEntry!="boolean")return"mapEntry: boolean expected";if(n.uninterpretedOption!=null&&n.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(n.uninterpretedOption))return"uninterpretedOption: array expected";for(var R=0;R<n.uninterpretedOption.length;++R)if(V=P.google.protobuf.UninterpretedOption.verify(n.uninterpretedOption[R]))return"uninterpretedOption."+V}var V;return n[".google.api.resource"]!=null&&n.hasOwnProperty(".google.api.resource")&&(V=P.google.api.ResourceDescriptor.verify(n[".google.api.resource"]))?".google.api.resource."+V:null},xe.fromObject=function(n){if(n instanceof P.google.protobuf.MessageOptions)return n;var R=new P.google.protobuf.MessageOptions;if(n.messageSetWireFormat!=null&&(R.messageSetWireFormat=!!n.messageSetWireFormat),n.noStandardDescriptorAccessor!=null&&(R.noStandardDescriptorAccessor=!!n.noStandardDescriptorAccessor),n.deprecated!=null&&(R.deprecated=!!n.deprecated),n.mapEntry!=null&&(R.mapEntry=!!n.mapEntry),n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: array expected");R.uninterpretedOption=[];for(var V=0;V<n.uninterpretedOption.length;++V){if(typeof n.uninterpretedOption[V]!="object")throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: object expected");R.uninterpretedOption[V]=P.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[V])}}if(n[".google.api.resource"]!=null){if(typeof n[".google.api.resource"]!="object")throw TypeError(".google.protobuf.MessageOptions..google.api.resource: object expected");R[".google.api.resource"]=P.google.api.ResourceDescriptor.fromObject(n[".google.api.resource"])}return R},xe.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.uninterpretedOption=[]),R.defaults&&(V.messageSetWireFormat=!1,V.noStandardDescriptorAccessor=!1,V.deprecated=!1,V.mapEntry=!1,V[".google.api.resource"]=null),n.messageSetWireFormat!=null&&n.hasOwnProperty("messageSetWireFormat")&&(V.messageSetWireFormat=n.messageSetWireFormat),n.noStandardDescriptorAccessor!=null&&n.hasOwnProperty("noStandardDescriptorAccessor")&&(V.noStandardDescriptorAccessor=n.noStandardDescriptorAccessor),n.deprecated!=null&&n.hasOwnProperty("deprecated")&&(V.deprecated=n.deprecated),n.mapEntry!=null&&n.hasOwnProperty("mapEntry")&&(V.mapEntry=n.mapEntry),n.uninterpretedOption&&n.uninterpretedOption.length){V.uninterpretedOption=[];for(var ee=0;ee<n.uninterpretedOption.length;++ee)V.uninterpretedOption[ee]=P.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[ee],R)}return n[".google.api.resource"]!=null&&n.hasOwnProperty(".google.api.resource")&&(V[".google.api.resource"]=P.google.api.ResourceDescriptor.toObject(n[".google.api.resource"],R)),V},xe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},xe),p.FieldOptions=(Le.prototype.ctype=0,Le.prototype.packed=!1,Le.prototype.jstype=0,Le.prototype.lazy=!1,Le.prototype.deprecated=!1,Le.prototype.weak=!1,Le.prototype.uninterpretedOption=m.emptyArray,Le.prototype[".google.api.fieldBehavior"]=m.emptyArray,Le.prototype[".google.api.resourceReference"]=null,Le.create=function(n){return new Le(n)},Le.encode=function(n,R){if(R=R||d.create(),n.ctype!=null&&Object.hasOwnProperty.call(n,"ctype")&&R.uint32(8).int32(n.ctype),n.packed!=null&&Object.hasOwnProperty.call(n,"packed")&&R.uint32(16).bool(n.packed),n.deprecated!=null&&Object.hasOwnProperty.call(n,"deprecated")&&R.uint32(24).bool(n.deprecated),n.lazy!=null&&Object.hasOwnProperty.call(n,"lazy")&&R.uint32(40).bool(n.lazy),n.jstype!=null&&Object.hasOwnProperty.call(n,"jstype")&&R.uint32(48).int32(n.jstype),n.weak!=null&&Object.hasOwnProperty.call(n,"weak")&&R.uint32(80).bool(n.weak),n.uninterpretedOption!=null&&n.uninterpretedOption.length)for(var V=0;V<n.uninterpretedOption.length;++V)P.google.protobuf.UninterpretedOption.encode(n.uninterpretedOption[V],R.uint32(7994).fork()).ldelim();if(n[".google.api.fieldBehavior"]!=null&&n[".google.api.fieldBehavior"].length){for(R.uint32(8418).fork(),V=0;V<n[".google.api.fieldBehavior"].length;++V)R.int32(n[".google.api.fieldBehavior"][V]);R.ldelim()}return n[".google.api.resourceReference"]!=null&&Object.hasOwnProperty.call(n,".google.api.resourceReference")&&P.google.api.ResourceReference.encode(n[".google.api.resourceReference"],R.uint32(8442).fork()).ldelim(),R},Le.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},Le.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.FieldOptions;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.ctype=n.int32();break;case 2:ee.packed=n.bool();break;case 6:ee.jstype=n.int32();break;case 5:ee.lazy=n.bool();break;case 3:ee.deprecated=n.bool();break;case 10:ee.weak=n.bool();break;case 999:ee.uninterpretedOption&&ee.uninterpretedOption.length||(ee.uninterpretedOption=[]),ee.uninterpretedOption.push(P.google.protobuf.UninterpretedOption.decode(n,n.uint32()));break;case 1052:if(ee[".google.api.fieldBehavior"]&&ee[".google.api.fieldBehavior"].length||(ee[".google.api.fieldBehavior"]=[]),(7&Me)==2)for(var rt=n.uint32()+n.pos;n.pos<rt;)ee[".google.api.fieldBehavior"].push(n.int32());else ee[".google.api.fieldBehavior"].push(n.int32());break;case 1055:ee[".google.api.resourceReference"]=P.google.api.ResourceReference.decode(n,n.uint32());break;default:n.skipType(7&Me)}}return ee},Le.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},Le.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.ctype!=null&&n.hasOwnProperty("ctype"))switch(n.ctype){default:return"ctype: enum value expected";case 0:case 1:case 2:}if(n.packed!=null&&n.hasOwnProperty("packed")&&typeof n.packed!="boolean")return"packed: boolean expected";if(n.jstype!=null&&n.hasOwnProperty("jstype"))switch(n.jstype){default:return"jstype: enum value expected";case 0:case 1:case 2:}if(n.lazy!=null&&n.hasOwnProperty("lazy")&&typeof n.lazy!="boolean")return"lazy: boolean expected";if(n.deprecated!=null&&n.hasOwnProperty("deprecated")&&typeof n.deprecated!="boolean")return"deprecated: boolean expected";if(n.weak!=null&&n.hasOwnProperty("weak")&&typeof n.weak!="boolean")return"weak: boolean expected";if(n.uninterpretedOption!=null&&n.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(n.uninterpretedOption))return"uninterpretedOption: array expected";for(var R=0;R<n.uninterpretedOption.length;++R)if(V=P.google.protobuf.UninterpretedOption.verify(n.uninterpretedOption[R]))return"uninterpretedOption."+V}if(n[".google.api.fieldBehavior"]!=null&&n.hasOwnProperty(".google.api.fieldBehavior")){if(!Array.isArray(n[".google.api.fieldBehavior"]))return".google.api.fieldBehavior: array expected";for(R=0;R<n[".google.api.fieldBehavior"].length;++R)switch(n[".google.api.fieldBehavior"][R]){default:return".google.api.fieldBehavior: enum value[] expected";case 0:case 1:case 2:case 3:case 4:case 5:}}var V;return n[".google.api.resourceReference"]!=null&&n.hasOwnProperty(".google.api.resourceReference")&&(V=P.google.api.ResourceReference.verify(n[".google.api.resourceReference"]))?".google.api.resourceReference."+V:null},Le.fromObject=function(n){if(n instanceof P.google.protobuf.FieldOptions)return n;var R=new P.google.protobuf.FieldOptions;switch(n.ctype){case"STRING":case 0:R.ctype=0;break;case"CORD":case 1:R.ctype=1;break;case"STRING_PIECE":case 2:R.ctype=2}switch(n.packed!=null&&(R.packed=!!n.packed),n.jstype){case"JS_NORMAL":case 0:R.jstype=0;break;case"JS_STRING":case 1:R.jstype=1;break;case"JS_NUMBER":case 2:R.jstype=2}if(n.lazy!=null&&(R.lazy=!!n.lazy),n.deprecated!=null&&(R.deprecated=!!n.deprecated),n.weak!=null&&(R.weak=!!n.weak),n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: array expected");R.uninterpretedOption=[];for(var V=0;V<n.uninterpretedOption.length;++V){if(typeof n.uninterpretedOption[V]!="object")throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: object expected");R.uninterpretedOption[V]=P.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[V])}}if(n[".google.api.fieldBehavior"]){if(!Array.isArray(n[".google.api.fieldBehavior"]))throw TypeError(".google.protobuf.FieldOptions..google.api.fieldBehavior: array expected");for(R[".google.api.fieldBehavior"]=[],V=0;V<n[".google.api.fieldBehavior"].length;++V)switch(n[".google.api.fieldBehavior"][V]){default:case"FIELD_BEHAVIOR_UNSPECIFIED":case 0:R[".google.api.fieldBehavior"][V]=0;break;case"OPTIONAL":case 1:R[".google.api.fieldBehavior"][V]=1;break;case"REQUIRED":case 2:R[".google.api.fieldBehavior"][V]=2;break;case"OUTPUT_ONLY":case 3:R[".google.api.fieldBehavior"][V]=3;break;case"INPUT_ONLY":case 4:R[".google.api.fieldBehavior"][V]=4;break;case"IMMUTABLE":case 5:R[".google.api.fieldBehavior"][V]=5}}if(n[".google.api.resourceReference"]!=null){if(typeof n[".google.api.resourceReference"]!="object")throw TypeError(".google.protobuf.FieldOptions..google.api.resourceReference: object expected");R[".google.api.resourceReference"]=P.google.api.ResourceReference.fromObject(n[".google.api.resourceReference"])}return R},Le.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.uninterpretedOption=[],V[".google.api.fieldBehavior"]=[]),R.defaults&&(V.ctype=R.enums===String?"STRING":0,V.packed=!1,V.deprecated=!1,V.lazy=!1,V.jstype=R.enums===String?"JS_NORMAL":0,V.weak=!1,V[".google.api.resourceReference"]=null),n.ctype!=null&&n.hasOwnProperty("ctype")&&(V.ctype=R.enums===String?P.google.protobuf.FieldOptions.CType[n.ctype]:n.ctype),n.packed!=null&&n.hasOwnProperty("packed")&&(V.packed=n.packed),n.deprecated!=null&&n.hasOwnProperty("deprecated")&&(V.deprecated=n.deprecated),n.lazy!=null&&n.hasOwnProperty("lazy")&&(V.lazy=n.lazy),n.jstype!=null&&n.hasOwnProperty("jstype")&&(V.jstype=R.enums===String?P.google.protobuf.FieldOptions.JSType[n.jstype]:n.jstype),n.weak!=null&&n.hasOwnProperty("weak")&&(V.weak=n.weak),n.uninterpretedOption&&n.uninterpretedOption.length){V.uninterpretedOption=[];for(var ee=0;ee<n.uninterpretedOption.length;++ee)V.uninterpretedOption[ee]=P.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[ee],R)}if(n[".google.api.fieldBehavior"]&&n[".google.api.fieldBehavior"].length)for(V[".google.api.fieldBehavior"]=[],ee=0;ee<n[".google.api.fieldBehavior"].length;++ee)V[".google.api.fieldBehavior"][ee]=R.enums===String?P.google.api.FieldBehavior[n[".google.api.fieldBehavior"][ee]]:n[".google.api.fieldBehavior"][ee];return n[".google.api.resourceReference"]!=null&&n.hasOwnProperty(".google.api.resourceReference")&&(V[".google.api.resourceReference"]=P.google.api.ResourceReference.toObject(n[".google.api.resourceReference"],R)),V},Le.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Le.CType=(r={},(u=Object.create(r))[r[0]="STRING"]=0,u[r[1]="CORD"]=1,u[r[2]="STRING_PIECE"]=2,u),Le.JSType=(r={},(u=Object.create(r))[r[0]="JS_NORMAL"]=0,u[r[1]="JS_STRING"]=1,u[r[2]="JS_NUMBER"]=2,u),Le),p.OneofOptions=(je.prototype.uninterpretedOption=m.emptyArray,je.create=function(n){return new je(n)},je.encode=function(n,R){if(R=R||d.create(),n.uninterpretedOption!=null&&n.uninterpretedOption.length)for(var V=0;V<n.uninterpretedOption.length;++V)P.google.protobuf.UninterpretedOption.encode(n.uninterpretedOption[V],R.uint32(7994).fork()).ldelim();return R},je.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},je.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.OneofOptions;n.pos<V;){var Me=n.uint32();Me>>>3==999?(ee.uninterpretedOption&&ee.uninterpretedOption.length||(ee.uninterpretedOption=[]),ee.uninterpretedOption.push(P.google.protobuf.UninterpretedOption.decode(n,n.uint32()))):n.skipType(7&Me)}return ee},je.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},je.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.uninterpretedOption!=null&&n.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(n.uninterpretedOption))return"uninterpretedOption: array expected";for(var R=0;R<n.uninterpretedOption.length;++R){var V=P.google.protobuf.UninterpretedOption.verify(n.uninterpretedOption[R]);if(V)return"uninterpretedOption."+V}}return null},je.fromObject=function(n){if(n instanceof P.google.protobuf.OneofOptions)return n;var R=new P.google.protobuf.OneofOptions;if(n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: array expected");R.uninterpretedOption=[];for(var V=0;V<n.uninterpretedOption.length;++V){if(typeof n.uninterpretedOption[V]!="object")throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: object expected");R.uninterpretedOption[V]=P.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[V])}}return R},je.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.uninterpretedOption=[]),n.uninterpretedOption&&n.uninterpretedOption.length){V.uninterpretedOption=[];for(var ee=0;ee<n.uninterpretedOption.length;++ee)V.uninterpretedOption[ee]=P.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[ee],R)}return V},je.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},je),p.EnumOptions=(Y.prototype.allowAlias=!1,Y.prototype.deprecated=!1,Y.prototype.uninterpretedOption=m.emptyArray,Y.create=function(n){return new Y(n)},Y.encode=function(n,R){if(R=R||d.create(),n.allowAlias!=null&&Object.hasOwnProperty.call(n,"allowAlias")&&R.uint32(16).bool(n.allowAlias),n.deprecated!=null&&Object.hasOwnProperty.call(n,"deprecated")&&R.uint32(24).bool(n.deprecated),n.uninterpretedOption!=null&&n.uninterpretedOption.length)for(var V=0;V<n.uninterpretedOption.length;++V)P.google.protobuf.UninterpretedOption.encode(n.uninterpretedOption[V],R.uint32(7994).fork()).ldelim();return R},Y.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},Y.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.EnumOptions;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 2:ee.allowAlias=n.bool();break;case 3:ee.deprecated=n.bool();break;case 999:ee.uninterpretedOption&&ee.uninterpretedOption.length||(ee.uninterpretedOption=[]),ee.uninterpretedOption.push(P.google.protobuf.UninterpretedOption.decode(n,n.uint32()));break;default:n.skipType(7&Me)}}return ee},Y.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},Y.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.allowAlias!=null&&n.hasOwnProperty("allowAlias")&&typeof n.allowAlias!="boolean")return"allowAlias: boolean expected";if(n.deprecated!=null&&n.hasOwnProperty("deprecated")&&typeof n.deprecated!="boolean")return"deprecated: boolean expected";if(n.uninterpretedOption!=null&&n.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(n.uninterpretedOption))return"uninterpretedOption: array expected";for(var R=0;R<n.uninterpretedOption.length;++R){var V=P.google.protobuf.UninterpretedOption.verify(n.uninterpretedOption[R]);if(V)return"uninterpretedOption."+V}}return null},Y.fromObject=function(n){if(n instanceof P.google.protobuf.EnumOptions)return n;var R=new P.google.protobuf.EnumOptions;if(n.allowAlias!=null&&(R.allowAlias=!!n.allowAlias),n.deprecated!=null&&(R.deprecated=!!n.deprecated),n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: array expected");R.uninterpretedOption=[];for(var V=0;V<n.uninterpretedOption.length;++V){if(typeof n.uninterpretedOption[V]!="object")throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: object expected");R.uninterpretedOption[V]=P.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[V])}}return R},Y.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.uninterpretedOption=[]),R.defaults&&(V.allowAlias=!1,V.deprecated=!1),n.allowAlias!=null&&n.hasOwnProperty("allowAlias")&&(V.allowAlias=n.allowAlias),n.deprecated!=null&&n.hasOwnProperty("deprecated")&&(V.deprecated=n.deprecated),n.uninterpretedOption&&n.uninterpretedOption.length){V.uninterpretedOption=[];for(var ee=0;ee<n.uninterpretedOption.length;++ee)V.uninterpretedOption[ee]=P.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[ee],R)}return V},Y.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Y),p.EnumValueOptions=(l.prototype.deprecated=!1,l.prototype.uninterpretedOption=m.emptyArray,l.create=function(n){return new l(n)},l.encode=function(n,R){if(R=R||d.create(),n.deprecated!=null&&Object.hasOwnProperty.call(n,"deprecated")&&R.uint32(8).bool(n.deprecated),n.uninterpretedOption!=null&&n.uninterpretedOption.length)for(var V=0;V<n.uninterpretedOption.length;++V)P.google.protobuf.UninterpretedOption.encode(n.uninterpretedOption[V],R.uint32(7994).fork()).ldelim();return R},l.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},l.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.EnumValueOptions;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.deprecated=n.bool();break;case 999:ee.uninterpretedOption&&ee.uninterpretedOption.length||(ee.uninterpretedOption=[]),ee.uninterpretedOption.push(P.google.protobuf.UninterpretedOption.decode(n,n.uint32()));break;default:n.skipType(7&Me)}}return ee},l.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},l.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.deprecated!=null&&n.hasOwnProperty("deprecated")&&typeof n.deprecated!="boolean")return"deprecated: boolean expected";if(n.uninterpretedOption!=null&&n.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(n.uninterpretedOption))return"uninterpretedOption: array expected";for(var R=0;R<n.uninterpretedOption.length;++R){var V=P.google.protobuf.UninterpretedOption.verify(n.uninterpretedOption[R]);if(V)return"uninterpretedOption."+V}}return null},l.fromObject=function(n){if(n instanceof P.google.protobuf.EnumValueOptions)return n;var R=new P.google.protobuf.EnumValueOptions;if(n.deprecated!=null&&(R.deprecated=!!n.deprecated),n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: array expected");R.uninterpretedOption=[];for(var V=0;V<n.uninterpretedOption.length;++V){if(typeof n.uninterpretedOption[V]!="object")throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: object expected");R.uninterpretedOption[V]=P.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[V])}}return R},l.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.uninterpretedOption=[]),R.defaults&&(V.deprecated=!1),n.deprecated!=null&&n.hasOwnProperty("deprecated")&&(V.deprecated=n.deprecated),n.uninterpretedOption&&n.uninterpretedOption.length){V.uninterpretedOption=[];for(var ee=0;ee<n.uninterpretedOption.length;++ee)V.uninterpretedOption[ee]=P.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[ee],R)}return V},l.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},l),p.ServiceOptions=(T.prototype.deprecated=!1,T.prototype.uninterpretedOption=m.emptyArray,T.prototype[".google.api.defaultHost"]="",T.prototype[".google.api.oauthScopes"]="",T.create=function(n){return new T(n)},T.encode=function(n,R){if(R=R||d.create(),n.deprecated!=null&&Object.hasOwnProperty.call(n,"deprecated")&&R.uint32(264).bool(n.deprecated),n.uninterpretedOption!=null&&n.uninterpretedOption.length)for(var V=0;V<n.uninterpretedOption.length;++V)P.google.protobuf.UninterpretedOption.encode(n.uninterpretedOption[V],R.uint32(7994).fork()).ldelim();return n[".google.api.defaultHost"]!=null&&Object.hasOwnProperty.call(n,".google.api.defaultHost")&&R.uint32(8394).string(n[".google.api.defaultHost"]),n[".google.api.oauthScopes"]!=null&&Object.hasOwnProperty.call(n,".google.api.oauthScopes")&&R.uint32(8402).string(n[".google.api.oauthScopes"]),R},T.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},T.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.ServiceOptions;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 33:ee.deprecated=n.bool();break;case 999:ee.uninterpretedOption&&ee.uninterpretedOption.length||(ee.uninterpretedOption=[]),ee.uninterpretedOption.push(P.google.protobuf.UninterpretedOption.decode(n,n.uint32()));break;case 1049:ee[".google.api.defaultHost"]=n.string();break;case 1050:ee[".google.api.oauthScopes"]=n.string();break;default:n.skipType(7&Me)}}return ee},T.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},T.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.deprecated!=null&&n.hasOwnProperty("deprecated")&&typeof n.deprecated!="boolean")return"deprecated: boolean expected";if(n.uninterpretedOption!=null&&n.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(n.uninterpretedOption))return"uninterpretedOption: array expected";for(var R=0;R<n.uninterpretedOption.length;++R){var V=P.google.protobuf.UninterpretedOption.verify(n.uninterpretedOption[R]);if(V)return"uninterpretedOption."+V}}return n[".google.api.defaultHost"]!=null&&n.hasOwnProperty(".google.api.defaultHost")&&!m.isString(n[".google.api.defaultHost"])?".google.api.defaultHost: string expected":n[".google.api.oauthScopes"]!=null&&n.hasOwnProperty(".google.api.oauthScopes")&&!m.isString(n[".google.api.oauthScopes"])?".google.api.oauthScopes: string expected":null},T.fromObject=function(n){if(n instanceof P.google.protobuf.ServiceOptions)return n;var R=new P.google.protobuf.ServiceOptions;if(n.deprecated!=null&&(R.deprecated=!!n.deprecated),n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: array expected");R.uninterpretedOption=[];for(var V=0;V<n.uninterpretedOption.length;++V){if(typeof n.uninterpretedOption[V]!="object")throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: object expected");R.uninterpretedOption[V]=P.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[V])}}return n[".google.api.defaultHost"]!=null&&(R[".google.api.defaultHost"]=String(n[".google.api.defaultHost"])),n[".google.api.oauthScopes"]!=null&&(R[".google.api.oauthScopes"]=String(n[".google.api.oauthScopes"])),R},T.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.uninterpretedOption=[]),R.defaults&&(V.deprecated=!1,V[".google.api.defaultHost"]="",V[".google.api.oauthScopes"]=""),n.deprecated!=null&&n.hasOwnProperty("deprecated")&&(V.deprecated=n.deprecated),n.uninterpretedOption&&n.uninterpretedOption.length){V.uninterpretedOption=[];for(var ee=0;ee<n.uninterpretedOption.length;++ee)V.uninterpretedOption[ee]=P.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[ee],R)}return n[".google.api.defaultHost"]!=null&&n.hasOwnProperty(".google.api.defaultHost")&&(V[".google.api.defaultHost"]=n[".google.api.defaultHost"]),n[".google.api.oauthScopes"]!=null&&n.hasOwnProperty(".google.api.oauthScopes")&&(V[".google.api.oauthScopes"]=n[".google.api.oauthScopes"]),V},T.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},T),p.MethodOptions=(O.prototype.deprecated=!1,O.prototype.idempotencyLevel=0,O.prototype.uninterpretedOption=m.emptyArray,O.prototype[".google.api.http"]=null,O.prototype[".google.api.methodSignature"]=m.emptyArray,O.create=function(n){return new O(n)},O.encode=function(n,R){if(R=R||d.create(),n.deprecated!=null&&Object.hasOwnProperty.call(n,"deprecated")&&R.uint32(264).bool(n.deprecated),n.idempotencyLevel!=null&&Object.hasOwnProperty.call(n,"idempotencyLevel")&&R.uint32(272).int32(n.idempotencyLevel),n.uninterpretedOption!=null&&n.uninterpretedOption.length)for(var V=0;V<n.uninterpretedOption.length;++V)P.google.protobuf.UninterpretedOption.encode(n.uninterpretedOption[V],R.uint32(7994).fork()).ldelim();if(n[".google.api.methodSignature"]!=null&&n[".google.api.methodSignature"].length)for(V=0;V<n[".google.api.methodSignature"].length;++V)R.uint32(8410).string(n[".google.api.methodSignature"][V]);return n[".google.api.http"]!=null&&Object.hasOwnProperty.call(n,".google.api.http")&&P.google.api.HttpRule.encode(n[".google.api.http"],R.uint32(578365826).fork()).ldelim(),R},O.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},O.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.MethodOptions;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 33:ee.deprecated=n.bool();break;case 34:ee.idempotencyLevel=n.int32();break;case 999:ee.uninterpretedOption&&ee.uninterpretedOption.length||(ee.uninterpretedOption=[]),ee.uninterpretedOption.push(P.google.protobuf.UninterpretedOption.decode(n,n.uint32()));break;case 72295728:ee[".google.api.http"]=P.google.api.HttpRule.decode(n,n.uint32());break;case 1051:ee[".google.api.methodSignature"]&&ee[".google.api.methodSignature"].length||(ee[".google.api.methodSignature"]=[]),ee[".google.api.methodSignature"].push(n.string());break;default:n.skipType(7&Me)}}return ee},O.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},O.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.deprecated!=null&&n.hasOwnProperty("deprecated")&&typeof n.deprecated!="boolean")return"deprecated: boolean expected";if(n.idempotencyLevel!=null&&n.hasOwnProperty("idempotencyLevel"))switch(n.idempotencyLevel){default:return"idempotencyLevel: enum value expected";case 0:case 1:case 2:}if(n.uninterpretedOption!=null&&n.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(n.uninterpretedOption))return"uninterpretedOption: array expected";for(var R=0;R<n.uninterpretedOption.length;++R)if(V=P.google.protobuf.UninterpretedOption.verify(n.uninterpretedOption[R]))return"uninterpretedOption."+V}var V;if(n[".google.api.http"]!=null&&n.hasOwnProperty(".google.api.http")&&(V=P.google.api.HttpRule.verify(n[".google.api.http"])))return".google.api.http."+V;if(n[".google.api.methodSignature"]!=null&&n.hasOwnProperty(".google.api.methodSignature")){if(!Array.isArray(n[".google.api.methodSignature"]))return".google.api.methodSignature: array expected";for(R=0;R<n[".google.api.methodSignature"].length;++R)if(!m.isString(n[".google.api.methodSignature"][R]))return".google.api.methodSignature: string[] expected"}return null},O.fromObject=function(n){if(n instanceof P.google.protobuf.MethodOptions)return n;var R=new P.google.protobuf.MethodOptions;switch(n.deprecated!=null&&(R.deprecated=!!n.deprecated),n.idempotencyLevel){case"IDEMPOTENCY_UNKNOWN":case 0:R.idempotencyLevel=0;break;case"NO_SIDE_EFFECTS":case 1:R.idempotencyLevel=1;break;case"IDEMPOTENT":case 2:R.idempotencyLevel=2}if(n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: array expected");R.uninterpretedOption=[];for(var V=0;V<n.uninterpretedOption.length;++V){if(typeof n.uninterpretedOption[V]!="object")throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: object expected");R.uninterpretedOption[V]=P.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[V])}}if(n[".google.api.http"]!=null){if(typeof n[".google.api.http"]!="object")throw TypeError(".google.protobuf.MethodOptions..google.api.http: object expected");R[".google.api.http"]=P.google.api.HttpRule.fromObject(n[".google.api.http"])}if(n[".google.api.methodSignature"]){if(!Array.isArray(n[".google.api.methodSignature"]))throw TypeError(".google.protobuf.MethodOptions..google.api.methodSignature: array expected");for(R[".google.api.methodSignature"]=[],V=0;V<n[".google.api.methodSignature"].length;++V)R[".google.api.methodSignature"][V]=String(n[".google.api.methodSignature"][V])}return R},O.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.uninterpretedOption=[],V[".google.api.methodSignature"]=[]),R.defaults&&(V.deprecated=!1,V.idempotencyLevel=R.enums===String?"IDEMPOTENCY_UNKNOWN":0,V[".google.api.http"]=null),n.deprecated!=null&&n.hasOwnProperty("deprecated")&&(V.deprecated=n.deprecated),n.idempotencyLevel!=null&&n.hasOwnProperty("idempotencyLevel")&&(V.idempotencyLevel=R.enums===String?P.google.protobuf.MethodOptions.IdempotencyLevel[n.idempotencyLevel]:n.idempotencyLevel),n.uninterpretedOption&&n.uninterpretedOption.length){V.uninterpretedOption=[];for(var ee=0;ee<n.uninterpretedOption.length;++ee)V.uninterpretedOption[ee]=P.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[ee],R)}if(n[".google.api.methodSignature"]&&n[".google.api.methodSignature"].length)for(V[".google.api.methodSignature"]=[],ee=0;ee<n[".google.api.methodSignature"].length;++ee)V[".google.api.methodSignature"][ee]=n[".google.api.methodSignature"][ee];return n[".google.api.http"]!=null&&n.hasOwnProperty(".google.api.http")&&(V[".google.api.http"]=P.google.api.HttpRule.toObject(n[".google.api.http"],R)),V},O.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},O.IdempotencyLevel=(r={},(u=Object.create(r))[r[0]="IDEMPOTENCY_UNKNOWN"]=0,u[r[1]="NO_SIDE_EFFECTS"]=1,u[r[2]="IDEMPOTENT"]=2,u),O),p.UninterpretedOption=(H.prototype.name=m.emptyArray,H.prototype.identifierValue="",H.prototype.positiveIntValue=m.Long?m.Long.fromBits(0,0,!0):0,H.prototype.negativeIntValue=m.Long?m.Long.fromBits(0,0,!1):0,H.prototype.doubleValue=0,H.prototype.stringValue=m.newBuffer([]),H.prototype.aggregateValue="",H.create=function(n){return new H(n)},H.encode=function(n,R){if(R=R||d.create(),n.name!=null&&n.name.length)for(var V=0;V<n.name.length;++V)P.google.protobuf.UninterpretedOption.NamePart.encode(n.name[V],R.uint32(18).fork()).ldelim();return n.identifierValue!=null&&Object.hasOwnProperty.call(n,"identifierValue")&&R.uint32(26).string(n.identifierValue),n.positiveIntValue!=null&&Object.hasOwnProperty.call(n,"positiveIntValue")&&R.uint32(32).uint64(n.positiveIntValue),n.negativeIntValue!=null&&Object.hasOwnProperty.call(n,"negativeIntValue")&&R.uint32(40).int64(n.negativeIntValue),n.doubleValue!=null&&Object.hasOwnProperty.call(n,"doubleValue")&&R.uint32(49).double(n.doubleValue),n.stringValue!=null&&Object.hasOwnProperty.call(n,"stringValue")&&R.uint32(58).bytes(n.stringValue),n.aggregateValue!=null&&Object.hasOwnProperty.call(n,"aggregateValue")&&R.uint32(66).string(n.aggregateValue),R},H.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},H.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.UninterpretedOption;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 2:ee.name&&ee.name.length||(ee.name=[]),ee.name.push(P.google.protobuf.UninterpretedOption.NamePart.decode(n,n.uint32()));break;case 3:ee.identifierValue=n.string();break;case 4:ee.positiveIntValue=n.uint64();break;case 5:ee.negativeIntValue=n.int64();break;case 6:ee.doubleValue=n.double();break;case 7:ee.stringValue=n.bytes();break;case 8:ee.aggregateValue=n.string();break;default:n.skipType(7&Me)}}return ee},H.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},H.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.name!=null&&n.hasOwnProperty("name")){if(!Array.isArray(n.name))return"name: array expected";for(var R=0;R<n.name.length;++R){var V=P.google.protobuf.UninterpretedOption.NamePart.verify(n.name[R]);if(V)return"name."+V}}return n.identifierValue!=null&&n.hasOwnProperty("identifierValue")&&!m.isString(n.identifierValue)?"identifierValue: string expected":n.positiveIntValue!=null&&n.hasOwnProperty("positiveIntValue")&&!(m.isInteger(n.positiveIntValue)||n.positiveIntValue&&m.isInteger(n.positiveIntValue.low)&&m.isInteger(n.positiveIntValue.high))?"positiveIntValue: integer|Long expected":n.negativeIntValue!=null&&n.hasOwnProperty("negativeIntValue")&&!(m.isInteger(n.negativeIntValue)||n.negativeIntValue&&m.isInteger(n.negativeIntValue.low)&&m.isInteger(n.negativeIntValue.high))?"negativeIntValue: integer|Long expected":n.doubleValue!=null&&n.hasOwnProperty("doubleValue")&&typeof n.doubleValue!="number"?"doubleValue: number expected":n.stringValue!=null&&n.hasOwnProperty("stringValue")&&!(n.stringValue&&typeof n.stringValue.length=="number"||m.isString(n.stringValue))?"stringValue: buffer expected":n.aggregateValue!=null&&n.hasOwnProperty("aggregateValue")&&!m.isString(n.aggregateValue)?"aggregateValue: string expected":null},H.fromObject=function(n){if(n instanceof P.google.protobuf.UninterpretedOption)return n;var R=new P.google.protobuf.UninterpretedOption;if(n.name){if(!Array.isArray(n.name))throw TypeError(".google.protobuf.UninterpretedOption.name: array expected");R.name=[];for(var V=0;V<n.name.length;++V){if(typeof n.name[V]!="object")throw TypeError(".google.protobuf.UninterpretedOption.name: object expected");R.name[V]=P.google.protobuf.UninterpretedOption.NamePart.fromObject(n.name[V])}}return n.identifierValue!=null&&(R.identifierValue=String(n.identifierValue)),n.positiveIntValue!=null&&(m.Long?(R.positiveIntValue=m.Long.fromValue(n.positiveIntValue)).unsigned=!0:typeof n.positiveIntValue=="string"?R.positiveIntValue=parseInt(n.positiveIntValue,10):typeof n.positiveIntValue=="number"?R.positiveIntValue=n.positiveIntValue:typeof n.positiveIntValue=="object"&&(R.positiveIntValue=new m.LongBits(n.positiveIntValue.low>>>0,n.positiveIntValue.high>>>0).toNumber(!0))),n.negativeIntValue!=null&&(m.Long?(R.negativeIntValue=m.Long.fromValue(n.negativeIntValue)).unsigned=!1:typeof n.negativeIntValue=="string"?R.negativeIntValue=parseInt(n.negativeIntValue,10):typeof n.negativeIntValue=="number"?R.negativeIntValue=n.negativeIntValue:typeof n.negativeIntValue=="object"&&(R.negativeIntValue=new m.LongBits(n.negativeIntValue.low>>>0,n.negativeIntValue.high>>>0).toNumber())),n.doubleValue!=null&&(R.doubleValue=Number(n.doubleValue)),n.stringValue!=null&&(typeof n.stringValue=="string"?m.base64.decode(n.stringValue,R.stringValue=m.newBuffer(m.base64.length(n.stringValue)),0):n.stringValue.length&&(R.stringValue=n.stringValue)),n.aggregateValue!=null&&(R.aggregateValue=String(n.aggregateValue)),R},H.toObject=function(n,R){var V,ee={};if(((R=R||{}).arrays||R.defaults)&&(ee.name=[]),R.defaults&&(ee.identifierValue="",m.Long?(V=new m.Long(0,0,!0),ee.positiveIntValue=R.longs===String?V.toString():R.longs===Number?V.toNumber():V):ee.positiveIntValue=R.longs===String?"0":0,m.Long?(V=new m.Long(0,0,!1),ee.negativeIntValue=R.longs===String?V.toString():R.longs===Number?V.toNumber():V):ee.negativeIntValue=R.longs===String?"0":0,ee.doubleValue=0,R.bytes===String?ee.stringValue="":(ee.stringValue=[],R.bytes!==Array&&(ee.stringValue=m.newBuffer(ee.stringValue))),ee.aggregateValue=""),n.name&&n.name.length){ee.name=[];for(var Me=0;Me<n.name.length;++Me)ee.name[Me]=P.google.protobuf.UninterpretedOption.NamePart.toObject(n.name[Me],R)}return n.identifierValue!=null&&n.hasOwnProperty("identifierValue")&&(ee.identifierValue=n.identifierValue),n.positiveIntValue!=null&&n.hasOwnProperty("positiveIntValue")&&(typeof n.positiveIntValue=="number"?ee.positiveIntValue=R.longs===String?String(n.positiveIntValue):n.positiveIntValue:ee.positiveIntValue=R.longs===String?m.Long.prototype.toString.call(n.positiveIntValue):R.longs===Number?new m.LongBits(n.positiveIntValue.low>>>0,n.positiveIntValue.high>>>0).toNumber(!0):n.positiveIntValue),n.negativeIntValue!=null&&n.hasOwnProperty("negativeIntValue")&&(typeof n.negativeIntValue=="number"?ee.negativeIntValue=R.longs===String?String(n.negativeIntValue):n.negativeIntValue:ee.negativeIntValue=R.longs===String?m.Long.prototype.toString.call(n.negativeIntValue):R.longs===Number?new m.LongBits(n.negativeIntValue.low>>>0,n.negativeIntValue.high>>>0).toNumber():n.negativeIntValue),n.doubleValue!=null&&n.hasOwnProperty("doubleValue")&&(ee.doubleValue=R.json&&!isFinite(n.doubleValue)?String(n.doubleValue):n.doubleValue),n.stringValue!=null&&n.hasOwnProperty("stringValue")&&(ee.stringValue=R.bytes===String?m.base64.encode(n.stringValue,0,n.stringValue.length):R.bytes===Array?Array.prototype.slice.call(n.stringValue):n.stringValue),n.aggregateValue!=null&&n.hasOwnProperty("aggregateValue")&&(ee.aggregateValue=n.aggregateValue),ee},H.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},H.NamePart=(ae.prototype.namePart="",ae.prototype.isExtension=!1,ae.create=function(n){return new ae(n)},ae.encode=function(n,R){return(R=R||d.create()).uint32(10).string(n.namePart),R.uint32(16).bool(n.isExtension),R},ae.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},ae.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.UninterpretedOption.NamePart;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.namePart=n.string();break;case 2:ee.isExtension=n.bool();break;default:n.skipType(7&Me)}}if(!ee.hasOwnProperty("namePart"))throw m.ProtocolError("missing required 'namePart'",{instance:ee});if(ee.hasOwnProperty("isExtension"))return ee;throw m.ProtocolError("missing required 'isExtension'",{instance:ee})},ae.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},ae.verify=function(n){return typeof n!="object"||n===null?"object expected":m.isString(n.namePart)?typeof n.isExtension!="boolean"?"isExtension: boolean expected":null:"namePart: string expected"},ae.fromObject=function(n){var R;return n instanceof P.google.protobuf.UninterpretedOption.NamePart?n:(R=new P.google.protobuf.UninterpretedOption.NamePart,n.namePart!=null&&(R.namePart=String(n.namePart)),n.isExtension!=null&&(R.isExtension=!!n.isExtension),R)},ae.toObject=function(n,R){var V={};return(R=R||{}).defaults&&(V.namePart="",V.isExtension=!1),n.namePart!=null&&n.hasOwnProperty("namePart")&&(V.namePart=n.namePart),n.isExtension!=null&&n.hasOwnProperty("isExtension")&&(V.isExtension=n.isExtension),V},ae.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ae),H),p.SourceCodeInfo=(Oe.prototype.location=m.emptyArray,Oe.create=function(n){return new Oe(n)},Oe.encode=function(n,R){if(R=R||d.create(),n.location!=null&&n.location.length)for(var V=0;V<n.location.length;++V)P.google.protobuf.SourceCodeInfo.Location.encode(n.location[V],R.uint32(10).fork()).ldelim();return R},Oe.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},Oe.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.SourceCodeInfo;n.pos<V;){var Me=n.uint32();Me>>>3==1?(ee.location&&ee.location.length||(ee.location=[]),ee.location.push(P.google.protobuf.SourceCodeInfo.Location.decode(n,n.uint32()))):n.skipType(7&Me)}return ee},Oe.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},Oe.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.location!=null&&n.hasOwnProperty("location")){if(!Array.isArray(n.location))return"location: array expected";for(var R=0;R<n.location.length;++R){var V=P.google.protobuf.SourceCodeInfo.Location.verify(n.location[R]);if(V)return"location."+V}}return null},Oe.fromObject=function(n){if(n instanceof P.google.protobuf.SourceCodeInfo)return n;var R=new P.google.protobuf.SourceCodeInfo;if(n.location){if(!Array.isArray(n.location))throw TypeError(".google.protobuf.SourceCodeInfo.location: array expected");R.location=[];for(var V=0;V<n.location.length;++V){if(typeof n.location[V]!="object")throw TypeError(".google.protobuf.SourceCodeInfo.location: object expected");R.location[V]=P.google.protobuf.SourceCodeInfo.Location.fromObject(n.location[V])}}return R},Oe.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.location=[]),n.location&&n.location.length){V.location=[];for(var ee=0;ee<n.location.length;++ee)V.location[ee]=P.google.protobuf.SourceCodeInfo.Location.toObject(n.location[ee],R)}return V},Oe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Oe.Location=(ie.prototype.path=m.emptyArray,ie.prototype.span=m.emptyArray,ie.prototype.leadingComments="",ie.prototype.trailingComments="",ie.prototype.leadingDetachedComments=m.emptyArray,ie.create=function(n){return new ie(n)},ie.encode=function(n,R){if(R=R||d.create(),n.path!=null&&n.path.length){R.uint32(10).fork();for(var V=0;V<n.path.length;++V)R.int32(n.path[V]);R.ldelim()}if(n.span!=null&&n.span.length){for(R.uint32(18).fork(),V=0;V<n.span.length;++V)R.int32(n.span[V]);R.ldelim()}if(n.leadingComments!=null&&Object.hasOwnProperty.call(n,"leadingComments")&&R.uint32(26).string(n.leadingComments),n.trailingComments!=null&&Object.hasOwnProperty.call(n,"trailingComments")&&R.uint32(34).string(n.trailingComments),n.leadingDetachedComments!=null&&n.leadingDetachedComments.length)for(V=0;V<n.leadingDetachedComments.length;++V)R.uint32(50).string(n.leadingDetachedComments[V]);return R},ie.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},ie.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.SourceCodeInfo.Location;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:if(ee.path&&ee.path.length||(ee.path=[]),(7&Me)==2)for(var rt=n.uint32()+n.pos;n.pos<rt;)ee.path.push(n.int32());else ee.path.push(n.int32());break;case 2:if(ee.span&&ee.span.length||(ee.span=[]),(7&Me)==2)for(rt=n.uint32()+n.pos;n.pos<rt;)ee.span.push(n.int32());else ee.span.push(n.int32());break;case 3:ee.leadingComments=n.string();break;case 4:ee.trailingComments=n.string();break;case 6:ee.leadingDetachedComments&&ee.leadingDetachedComments.length||(ee.leadingDetachedComments=[]),ee.leadingDetachedComments.push(n.string());break;default:n.skipType(7&Me)}}return ee},ie.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},ie.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.path!=null&&n.hasOwnProperty("path")){if(!Array.isArray(n.path))return"path: array expected";for(var R=0;R<n.path.length;++R)if(!m.isInteger(n.path[R]))return"path: integer[] expected"}if(n.span!=null&&n.hasOwnProperty("span")){if(!Array.isArray(n.span))return"span: array expected";for(R=0;R<n.span.length;++R)if(!m.isInteger(n.span[R]))return"span: integer[] expected"}if(n.leadingComments!=null&&n.hasOwnProperty("leadingComments")&&!m.isString(n.leadingComments))return"leadingComments: string expected";if(n.trailingComments!=null&&n.hasOwnProperty("trailingComments")&&!m.isString(n.trailingComments))return"trailingComments: string expected";if(n.leadingDetachedComments!=null&&n.hasOwnProperty("leadingDetachedComments")){if(!Array.isArray(n.leadingDetachedComments))return"leadingDetachedComments: array expected";for(R=0;R<n.leadingDetachedComments.length;++R)if(!m.isString(n.leadingDetachedComments[R]))return"leadingDetachedComments: string[] expected"}return null},ie.fromObject=function(n){if(n instanceof P.google.protobuf.SourceCodeInfo.Location)return n;var R=new P.google.protobuf.SourceCodeInfo.Location;if(n.path){if(!Array.isArray(n.path))throw TypeError(".google.protobuf.SourceCodeInfo.Location.path: array expected");R.path=[];for(var V=0;V<n.path.length;++V)R.path[V]=0|n.path[V]}if(n.span){if(!Array.isArray(n.span))throw TypeError(".google.protobuf.SourceCodeInfo.Location.span: array expected");for(R.span=[],V=0;V<n.span.length;++V)R.span[V]=0|n.span[V]}if(n.leadingComments!=null&&(R.leadingComments=String(n.leadingComments)),n.trailingComments!=null&&(R.trailingComments=String(n.trailingComments)),n.leadingDetachedComments){if(!Array.isArray(n.leadingDetachedComments))throw TypeError(".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected");for(R.leadingDetachedComments=[],V=0;V<n.leadingDetachedComments.length;++V)R.leadingDetachedComments[V]=String(n.leadingDetachedComments[V])}return R},ie.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.path=[],V.span=[],V.leadingDetachedComments=[]),R.defaults&&(V.leadingComments="",V.trailingComments=""),n.path&&n.path.length){V.path=[];for(var ee=0;ee<n.path.length;++ee)V.path[ee]=n.path[ee]}if(n.span&&n.span.length)for(V.span=[],ee=0;ee<n.span.length;++ee)V.span[ee]=n.span[ee];if(n.leadingComments!=null&&n.hasOwnProperty("leadingComments")&&(V.leadingComments=n.leadingComments),n.trailingComments!=null&&n.hasOwnProperty("trailingComments")&&(V.trailingComments=n.trailingComments),n.leadingDetachedComments&&n.leadingDetachedComments.length)for(V.leadingDetachedComments=[],ee=0;ee<n.leadingDetachedComments.length;++ee)V.leadingDetachedComments[ee]=n.leadingDetachedComments[ee];return V},ie.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ie),Oe),p.GeneratedCodeInfo=(s.prototype.annotation=m.emptyArray,s.create=function(n){return new s(n)},s.encode=function(n,R){if(R=R||d.create(),n.annotation!=null&&n.annotation.length)for(var V=0;V<n.annotation.length;++V)P.google.protobuf.GeneratedCodeInfo.Annotation.encode(n.annotation[V],R.uint32(10).fork()).ldelim();return R},s.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},s.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.GeneratedCodeInfo;n.pos<V;){var Me=n.uint32();Me>>>3==1?(ee.annotation&&ee.annotation.length||(ee.annotation=[]),ee.annotation.push(P.google.protobuf.GeneratedCodeInfo.Annotation.decode(n,n.uint32()))):n.skipType(7&Me)}return ee},s.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.annotation!=null&&n.hasOwnProperty("annotation")){if(!Array.isArray(n.annotation))return"annotation: array expected";for(var R=0;R<n.annotation.length;++R){var V=P.google.protobuf.GeneratedCodeInfo.Annotation.verify(n.annotation[R]);if(V)return"annotation."+V}}return null},s.fromObject=function(n){if(n instanceof P.google.protobuf.GeneratedCodeInfo)return n;var R=new P.google.protobuf.GeneratedCodeInfo;if(n.annotation){if(!Array.isArray(n.annotation))throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: array expected");R.annotation=[];for(var V=0;V<n.annotation.length;++V){if(typeof n.annotation[V]!="object")throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: object expected");R.annotation[V]=P.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(n.annotation[V])}}return R},s.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.annotation=[]),n.annotation&&n.annotation.length){V.annotation=[];for(var ee=0;ee<n.annotation.length;++ee)V.annotation[ee]=P.google.protobuf.GeneratedCodeInfo.Annotation.toObject(n.annotation[ee],R)}return V},s.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},s.Annotation=(A.prototype.path=m.emptyArray,A.prototype.sourceFile="",A.prototype.begin=0,A.prototype.end=0,A.create=function(n){return new A(n)},A.encode=function(n,R){if(R=R||d.create(),n.path!=null&&n.path.length){R.uint32(10).fork();for(var V=0;V<n.path.length;++V)R.int32(n.path[V]);R.ldelim()}return n.sourceFile!=null&&Object.hasOwnProperty.call(n,"sourceFile")&&R.uint32(18).string(n.sourceFile),n.begin!=null&&Object.hasOwnProperty.call(n,"begin")&&R.uint32(24).int32(n.begin),n.end!=null&&Object.hasOwnProperty.call(n,"end")&&R.uint32(32).int32(n.end),R},A.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},A.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.protobuf.GeneratedCodeInfo.Annotation;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:if(ee.path&&ee.path.length||(ee.path=[]),(7&Me)==2)for(var rt=n.uint32()+n.pos;n.pos<rt;)ee.path.push(n.int32());else ee.path.push(n.int32());break;case 2:ee.sourceFile=n.string();break;case 3:ee.begin=n.int32();break;case 4:ee.end=n.int32();break;default:n.skipType(7&Me)}}return ee},A.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},A.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.path!=null&&n.hasOwnProperty("path")){if(!Array.isArray(n.path))return"path: array expected";for(var R=0;R<n.path.length;++R)if(!m.isInteger(n.path[R]))return"path: integer[] expected"}return n.sourceFile!=null&&n.hasOwnProperty("sourceFile")&&!m.isString(n.sourceFile)?"sourceFile: string expected":n.begin!=null&&n.hasOwnProperty("begin")&&!m.isInteger(n.begin)?"begin: integer expected":n.end!=null&&n.hasOwnProperty("end")&&!m.isInteger(n.end)?"end: integer expected":null},A.fromObject=function(n){if(n instanceof P.google.protobuf.GeneratedCodeInfo.Annotation)return n;var R=new P.google.protobuf.GeneratedCodeInfo.Annotation;if(n.path){if(!Array.isArray(n.path))throw TypeError(".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected");R.path=[];for(var V=0;V<n.path.length;++V)R.path[V]=0|n.path[V]}return n.sourceFile!=null&&(R.sourceFile=String(n.sourceFile)),n.begin!=null&&(R.begin=0|n.begin),n.end!=null&&(R.end=0|n.end),R},A.toObject=function(n,R){var V={};if(((R=R||{}).arrays||R.defaults)&&(V.path=[]),R.defaults&&(V.sourceFile="",V.begin=0,V.end=0),n.path&&n.path.length){V.path=[];for(var ee=0;ee<n.path.length;++ee)V.path[ee]=n.path[ee]}return n.sourceFile!=null&&n.hasOwnProperty("sourceFile")&&(V.sourceFile=n.sourceFile),n.begin!=null&&n.hasOwnProperty("begin")&&(V.begin=n.begin),n.end!=null&&n.hasOwnProperty("end")&&(V.end=n.end),V},A.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},A),s),p),y.type=((h={}).Expr=(I.prototype.expression="",I.prototype.title="",I.prototype.description="",I.prototype.location="",I.create=function(n){return new I(n)},I.encode=function(n,R){return R=R||d.create(),n.expression!=null&&Object.hasOwnProperty.call(n,"expression")&&R.uint32(10).string(n.expression),n.title!=null&&Object.hasOwnProperty.call(n,"title")&&R.uint32(18).string(n.title),n.description!=null&&Object.hasOwnProperty.call(n,"description")&&R.uint32(26).string(n.description),n.location!=null&&Object.hasOwnProperty.call(n,"location")&&R.uint32(34).string(n.location),R},I.encodeDelimited=function(n,R){return this.encode(n,R).ldelim()},I.decode=function(n,R){n instanceof c||(n=c.create(n));for(var V=R===void 0?n.len:n.pos+R,ee=new P.google.type.Expr;n.pos<V;){var Me=n.uint32();switch(Me>>>3){case 1:ee.expression=n.string();break;case 2:ee.title=n.string();break;case 3:ee.description=n.string();break;case 4:ee.location=n.string();break;default:n.skipType(7&Me)}}return ee},I.decodeDelimited=function(n){return n instanceof c||(n=new c(n)),this.decode(n,n.uint32())},I.verify=function(n){return typeof n!="object"||n===null?"object expected":n.expression!=null&&n.hasOwnProperty("expression")&&!m.isString(n.expression)?"expression: string expected":n.title!=null&&n.hasOwnProperty("title")&&!m.isString(n.title)?"title: string expected":n.description!=null&&n.hasOwnProperty("description")&&!m.isString(n.description)?"description: string expected":n.location!=null&&n.hasOwnProperty("location")&&!m.isString(n.location)?"location: string expected":null},I.fromObject=function(n){var R;return n instanceof P.google.type.Expr?n:(R=new P.google.type.Expr,n.expression!=null&&(R.expression=String(n.expression)),n.title!=null&&(R.title=String(n.title)),n.description!=null&&(R.description=String(n.description)),n.location!=null&&(R.location=String(n.location)),R)},I.toObject=function(n,R){var V={};return(R=R||{}).defaults&&(V.expression="",V.title="",V.description="",V.location=""),n.expression!=null&&n.hasOwnProperty("expression")&&(V.expression=n.expression),n.title!=null&&n.hasOwnProperty("title")&&(V.title=n.title),n.description!=null&&n.hasOwnProperty("description")&&(V.description=n.description),n.location!=null&&n.hasOwnProperty("location")&&(V.location=n.location),V},I.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},I),h),y),P})}(iam_service)),iam_service.exports}var locations={exports:{}},hasRequiredLocations;function requireLocations(){return hasRequiredLocations||(hasRequiredLocations=1,function(o){(e=>{typeof commonjsRequire=="function"&&o&&o.exports&&(o.exports=e(requireMinimal()))})(function(e){var r,u,p,h,y=e.Reader,c=e.Writer,d=e.util,m=e.roots.locations_protos||(e.roots.locations_protos={});function P(l,T,O){e.rpc.Service.call(this,l,T,O)}function N(l){if(l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function L(l){if(this.locations=[],l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function k(l){if(l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function B(l){if(this.labels={},l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function U(l){if(this.rules=[],l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function $(l){if(this.additionalBindings=[],l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function j(l){if(l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function M(l){if(this.file=[],l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function q(l){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function Q(l){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function K(l){if(l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function G(l){if(l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function F(l){if(this.uninterpretedOption=[],l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function x(l){if(l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function z(l){if(l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function J(l){if(this.value=[],this.reservedRange=[],this.reservedName=[],l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function Z(l){if(l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function X(l){if(l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function te(l){if(this.method=[],l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function be(l){if(l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function Ae(l){if(this.uninterpretedOption=[],l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function Ne(l){if(this.uninterpretedOption=[],l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function ke(l){if(this.uninterpretedOption=[],l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function Ue(l){if(this.uninterpretedOption=[],l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function qe(l){if(this.uninterpretedOption=[],l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function Ge(l){if(this.uninterpretedOption=[],l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function Qe(l){if(this.uninterpretedOption=[],l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function Ke(l){if(this.uninterpretedOption=[],this[".google.api.methodSignature"]=[],l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function Be(l){if(this.name=[],l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function Re(l){if(l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function $e(l){if(this.location=[],l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function xe(l){if(this.path=[],this.span=[],this.leadingDetachedComments=[],l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function Le(l){if(this.annotation=[],l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function je(l){if(this.path=[],l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}function Y(l){if(l)for(var T=Object.keys(l),O=0;O<T.length;++O)l[T[O]]!=null&&(this[T[O]]=l[T[O]])}return m.google=((h={}).cloud=((p={}).location=((r={}).Locations=(((P.prototype=Object.create(e.rpc.Service.prototype)).constructor=P).create=function(l,T,O){return new this(l,T,O)},Object.defineProperty(P.prototype.listLocations=function l(T,O){return this.rpcCall(l,m.google.cloud.location.ListLocationsRequest,m.google.cloud.location.ListLocationsResponse,T,O)},"name",{value:"ListLocations"}),Object.defineProperty(P.prototype.getLocation=function l(T,O){return this.rpcCall(l,m.google.cloud.location.GetLocationRequest,m.google.cloud.location.Location,T,O)},"name",{value:"GetLocation"}),P),r.ListLocationsRequest=(N.prototype.name="",N.prototype.filter="",N.prototype.pageSize=0,N.prototype.pageToken="",N.create=function(l){return new N(l)},N.encode=function(l,T){return T=T||c.create(),l.name!=null&&Object.hasOwnProperty.call(l,"name")&&T.uint32(10).string(l.name),l.filter!=null&&Object.hasOwnProperty.call(l,"filter")&&T.uint32(18).string(l.filter),l.pageSize!=null&&Object.hasOwnProperty.call(l,"pageSize")&&T.uint32(24).int32(l.pageSize),l.pageToken!=null&&Object.hasOwnProperty.call(l,"pageToken")&&T.uint32(34).string(l.pageToken),T},N.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},N.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.cloud.location.ListLocationsRequest;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 1:H.name=l.string();break;case 2:H.filter=l.string();break;case 3:H.pageSize=l.int32();break;case 4:H.pageToken=l.string();break;default:l.skipType(7&ae)}}return H},N.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},N.verify=function(l){return typeof l!="object"||l===null?"object expected":l.name!=null&&l.hasOwnProperty("name")&&!d.isString(l.name)?"name: string expected":l.filter!=null&&l.hasOwnProperty("filter")&&!d.isString(l.filter)?"filter: string expected":l.pageSize!=null&&l.hasOwnProperty("pageSize")&&!d.isInteger(l.pageSize)?"pageSize: integer expected":l.pageToken!=null&&l.hasOwnProperty("pageToken")&&!d.isString(l.pageToken)?"pageToken: string expected":null},N.fromObject=function(l){var T;return l instanceof m.google.cloud.location.ListLocationsRequest?l:(T=new m.google.cloud.location.ListLocationsRequest,l.name!=null&&(T.name=String(l.name)),l.filter!=null&&(T.filter=String(l.filter)),l.pageSize!=null&&(T.pageSize=0|l.pageSize),l.pageToken!=null&&(T.pageToken=String(l.pageToken)),T)},N.toObject=function(l,T){var O={};return(T=T||{}).defaults&&(O.name="",O.filter="",O.pageSize=0,O.pageToken=""),l.name!=null&&l.hasOwnProperty("name")&&(O.name=l.name),l.filter!=null&&l.hasOwnProperty("filter")&&(O.filter=l.filter),l.pageSize!=null&&l.hasOwnProperty("pageSize")&&(O.pageSize=l.pageSize),l.pageToken!=null&&l.hasOwnProperty("pageToken")&&(O.pageToken=l.pageToken),O},N.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},N),r.ListLocationsResponse=(L.prototype.locations=d.emptyArray,L.prototype.nextPageToken="",L.create=function(l){return new L(l)},L.encode=function(l,T){if(T=T||c.create(),l.locations!=null&&l.locations.length)for(var O=0;O<l.locations.length;++O)m.google.cloud.location.Location.encode(l.locations[O],T.uint32(10).fork()).ldelim();return l.nextPageToken!=null&&Object.hasOwnProperty.call(l,"nextPageToken")&&T.uint32(18).string(l.nextPageToken),T},L.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},L.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.cloud.location.ListLocationsResponse;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 1:H.locations&&H.locations.length||(H.locations=[]),H.locations.push(m.google.cloud.location.Location.decode(l,l.uint32()));break;case 2:H.nextPageToken=l.string();break;default:l.skipType(7&ae)}}return H},L.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},L.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.locations!=null&&l.hasOwnProperty("locations")){if(!Array.isArray(l.locations))return"locations: array expected";for(var T=0;T<l.locations.length;++T){var O=m.google.cloud.location.Location.verify(l.locations[T]);if(O)return"locations."+O}}return l.nextPageToken!=null&&l.hasOwnProperty("nextPageToken")&&!d.isString(l.nextPageToken)?"nextPageToken: string expected":null},L.fromObject=function(l){if(l instanceof m.google.cloud.location.ListLocationsResponse)return l;var T=new m.google.cloud.location.ListLocationsResponse;if(l.locations){if(!Array.isArray(l.locations))throw TypeError(".google.cloud.location.ListLocationsResponse.locations: array expected");T.locations=[];for(var O=0;O<l.locations.length;++O){if(typeof l.locations[O]!="object")throw TypeError(".google.cloud.location.ListLocationsResponse.locations: object expected");T.locations[O]=m.google.cloud.location.Location.fromObject(l.locations[O])}}return l.nextPageToken!=null&&(T.nextPageToken=String(l.nextPageToken)),T},L.toObject=function(l,T){var O={};if(((T=T||{}).arrays||T.defaults)&&(O.locations=[]),T.defaults&&(O.nextPageToken=""),l.locations&&l.locations.length){O.locations=[];for(var H=0;H<l.locations.length;++H)O.locations[H]=m.google.cloud.location.Location.toObject(l.locations[H],T)}return l.nextPageToken!=null&&l.hasOwnProperty("nextPageToken")&&(O.nextPageToken=l.nextPageToken),O},L.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},L),r.GetLocationRequest=(k.prototype.name="",k.create=function(l){return new k(l)},k.encode=function(l,T){return T=T||c.create(),l.name!=null&&Object.hasOwnProperty.call(l,"name")&&T.uint32(10).string(l.name),T},k.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},k.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.cloud.location.GetLocationRequest;l.pos<O;){var ae=l.uint32();ae>>>3==1?H.name=l.string():l.skipType(7&ae)}return H},k.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},k.verify=function(l){return typeof l!="object"||l===null?"object expected":l.name!=null&&l.hasOwnProperty("name")&&!d.isString(l.name)?"name: string expected":null},k.fromObject=function(l){var T;return l instanceof m.google.cloud.location.GetLocationRequest?l:(T=new m.google.cloud.location.GetLocationRequest,l.name!=null&&(T.name=String(l.name)),T)},k.toObject=function(l,T){var O={};return(T=T||{}).defaults&&(O.name=""),l.name!=null&&l.hasOwnProperty("name")&&(O.name=l.name),O},k.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},k),r.Location=(B.prototype.name="",B.prototype.locationId="",B.prototype.displayName="",B.prototype.labels=d.emptyObject,B.prototype.metadata=null,B.create=function(l){return new B(l)},B.encode=function(l,T){if(T=T||c.create(),l.name!=null&&Object.hasOwnProperty.call(l,"name")&&T.uint32(10).string(l.name),l.labels!=null&&Object.hasOwnProperty.call(l,"labels"))for(var O=Object.keys(l.labels),H=0;H<O.length;++H)T.uint32(18).fork().uint32(10).string(O[H]).uint32(18).string(l.labels[O[H]]).ldelim();return l.metadata!=null&&Object.hasOwnProperty.call(l,"metadata")&&m.google.protobuf.Any.encode(l.metadata,T.uint32(26).fork()).ldelim(),l.locationId!=null&&Object.hasOwnProperty.call(l,"locationId")&&T.uint32(34).string(l.locationId),l.displayName!=null&&Object.hasOwnProperty.call(l,"displayName")&&T.uint32(42).string(l.displayName),T},B.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},B.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.cloud.location.Location;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 1:H.name=l.string();break;case 4:H.locationId=l.string();break;case 5:H.displayName=l.string();break;case 2:H.labels===d.emptyObject&&(H.labels={});for(var Oe=l.uint32()+l.pos,ie="",s="";l.pos<Oe;){var A=l.uint32();switch(A>>>3){case 1:ie=l.string();break;case 2:s=l.string();break;default:l.skipType(7&A)}}H.labels[ie]=s;break;case 3:H.metadata=m.google.protobuf.Any.decode(l,l.uint32());break;default:l.skipType(7&ae)}}return H},B.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},B.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.name!=null&&l.hasOwnProperty("name")&&!d.isString(l.name))return"name: string expected";if(l.locationId!=null&&l.hasOwnProperty("locationId")&&!d.isString(l.locationId))return"locationId: string expected";if(l.displayName!=null&&l.hasOwnProperty("displayName")&&!d.isString(l.displayName))return"displayName: string expected";if(l.labels!=null&&l.hasOwnProperty("labels")){if(!d.isObject(l.labels))return"labels: object expected";for(var T=Object.keys(l.labels),O=0;O<T.length;++O)if(!d.isString(l.labels[T[O]]))return"labels: string{k:string} expected"}if(l.metadata!=null&&l.hasOwnProperty("metadata")){var H=m.google.protobuf.Any.verify(l.metadata);if(H)return"metadata."+H}return null},B.fromObject=function(l){if(l instanceof m.google.cloud.location.Location)return l;var T=new m.google.cloud.location.Location;if(l.name!=null&&(T.name=String(l.name)),l.locationId!=null&&(T.locationId=String(l.locationId)),l.displayName!=null&&(T.displayName=String(l.displayName)),l.labels){if(typeof l.labels!="object")throw TypeError(".google.cloud.location.Location.labels: object expected");T.labels={};for(var O=Object.keys(l.labels),H=0;H<O.length;++H)T.labels[O[H]]=String(l.labels[O[H]])}if(l.metadata!=null){if(typeof l.metadata!="object")throw TypeError(".google.cloud.location.Location.metadata: object expected");T.metadata=m.google.protobuf.Any.fromObject(l.metadata)}return T},B.toObject=function(l,T){var O,H={};if(((T=T||{}).objects||T.defaults)&&(H.labels={}),T.defaults&&(H.name="",H.metadata=null,H.locationId="",H.displayName=""),l.name!=null&&l.hasOwnProperty("name")&&(H.name=l.name),l.labels&&(O=Object.keys(l.labels)).length){H.labels={};for(var ae=0;ae<O.length;++ae)H.labels[O[ae]]=l.labels[O[ae]]}return l.metadata!=null&&l.hasOwnProperty("metadata")&&(H.metadata=m.google.protobuf.Any.toObject(l.metadata,T)),l.locationId!=null&&l.hasOwnProperty("locationId")&&(H.locationId=l.locationId),l.displayName!=null&&l.hasOwnProperty("displayName")&&(H.displayName=l.displayName),H},B.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},B),r),p),h.api=((r={}).Http=(U.prototype.rules=d.emptyArray,U.prototype.fullyDecodeReservedExpansion=!1,U.create=function(l){return new U(l)},U.encode=function(l,T){if(T=T||c.create(),l.rules!=null&&l.rules.length)for(var O=0;O<l.rules.length;++O)m.google.api.HttpRule.encode(l.rules[O],T.uint32(10).fork()).ldelim();return l.fullyDecodeReservedExpansion!=null&&Object.hasOwnProperty.call(l,"fullyDecodeReservedExpansion")&&T.uint32(16).bool(l.fullyDecodeReservedExpansion),T},U.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},U.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.api.Http;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 1:H.rules&&H.rules.length||(H.rules=[]),H.rules.push(m.google.api.HttpRule.decode(l,l.uint32()));break;case 2:H.fullyDecodeReservedExpansion=l.bool();break;default:l.skipType(7&ae)}}return H},U.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},U.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.rules!=null&&l.hasOwnProperty("rules")){if(!Array.isArray(l.rules))return"rules: array expected";for(var T=0;T<l.rules.length;++T){var O=m.google.api.HttpRule.verify(l.rules[T]);if(O)return"rules."+O}}return l.fullyDecodeReservedExpansion!=null&&l.hasOwnProperty("fullyDecodeReservedExpansion")&&typeof l.fullyDecodeReservedExpansion!="boolean"?"fullyDecodeReservedExpansion: boolean expected":null},U.fromObject=function(l){if(l instanceof m.google.api.Http)return l;var T=new m.google.api.Http;if(l.rules){if(!Array.isArray(l.rules))throw TypeError(".google.api.Http.rules: array expected");T.rules=[];for(var O=0;O<l.rules.length;++O){if(typeof l.rules[O]!="object")throw TypeError(".google.api.Http.rules: object expected");T.rules[O]=m.google.api.HttpRule.fromObject(l.rules[O])}}return l.fullyDecodeReservedExpansion!=null&&(T.fullyDecodeReservedExpansion=!!l.fullyDecodeReservedExpansion),T},U.toObject=function(l,T){var O={};if(((T=T||{}).arrays||T.defaults)&&(O.rules=[]),T.defaults&&(O.fullyDecodeReservedExpansion=!1),l.rules&&l.rules.length){O.rules=[];for(var H=0;H<l.rules.length;++H)O.rules[H]=m.google.api.HttpRule.toObject(l.rules[H],T)}return l.fullyDecodeReservedExpansion!=null&&l.hasOwnProperty("fullyDecodeReservedExpansion")&&(O.fullyDecodeReservedExpansion=l.fullyDecodeReservedExpansion),O},U.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},U),r.HttpRule=($.prototype.selector="",$.prototype.get=null,$.prototype.put=null,$.prototype.post=null,$.prototype.delete=null,$.prototype.patch=null,$.prototype.custom=null,$.prototype.body="",$.prototype.responseBody="",$.prototype.additionalBindings=d.emptyArray,Object.defineProperty($.prototype,"pattern",{get:d.oneOfGetter(p=["get","put","post","delete","patch","custom"]),set:d.oneOfSetter(p)}),$.create=function(l){return new $(l)},$.encode=function(l,T){if(T=T||c.create(),l.selector!=null&&Object.hasOwnProperty.call(l,"selector")&&T.uint32(10).string(l.selector),l.get!=null&&Object.hasOwnProperty.call(l,"get")&&T.uint32(18).string(l.get),l.put!=null&&Object.hasOwnProperty.call(l,"put")&&T.uint32(26).string(l.put),l.post!=null&&Object.hasOwnProperty.call(l,"post")&&T.uint32(34).string(l.post),l.delete!=null&&Object.hasOwnProperty.call(l,"delete")&&T.uint32(42).string(l.delete),l.patch!=null&&Object.hasOwnProperty.call(l,"patch")&&T.uint32(50).string(l.patch),l.body!=null&&Object.hasOwnProperty.call(l,"body")&&T.uint32(58).string(l.body),l.custom!=null&&Object.hasOwnProperty.call(l,"custom")&&m.google.api.CustomHttpPattern.encode(l.custom,T.uint32(66).fork()).ldelim(),l.additionalBindings!=null&&l.additionalBindings.length)for(var O=0;O<l.additionalBindings.length;++O)m.google.api.HttpRule.encode(l.additionalBindings[O],T.uint32(90).fork()).ldelim();return l.responseBody!=null&&Object.hasOwnProperty.call(l,"responseBody")&&T.uint32(98).string(l.responseBody),T},$.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},$.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.api.HttpRule;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 1:H.selector=l.string();break;case 2:H.get=l.string();break;case 3:H.put=l.string();break;case 4:H.post=l.string();break;case 5:H.delete=l.string();break;case 6:H.patch=l.string();break;case 8:H.custom=m.google.api.CustomHttpPattern.decode(l,l.uint32());break;case 7:H.body=l.string();break;case 12:H.responseBody=l.string();break;case 11:H.additionalBindings&&H.additionalBindings.length||(H.additionalBindings=[]),H.additionalBindings.push(m.google.api.HttpRule.decode(l,l.uint32()));break;default:l.skipType(7&ae)}}return H},$.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},$.verify=function(l){if(typeof l!="object"||l===null)return"object expected";var T={};if(l.selector!=null&&l.hasOwnProperty("selector")&&!d.isString(l.selector))return"selector: string expected";if(l.get!=null&&l.hasOwnProperty("get")&&(T.pattern=1,!d.isString(l.get)))return"get: string expected";if(l.put!=null&&l.hasOwnProperty("put")){if(T.pattern===1)return"pattern: multiple values";if(T.pattern=1,!d.isString(l.put))return"put: string expected"}if(l.post!=null&&l.hasOwnProperty("post")){if(T.pattern===1)return"pattern: multiple values";if(T.pattern=1,!d.isString(l.post))return"post: string expected"}if(l.delete!=null&&l.hasOwnProperty("delete")){if(T.pattern===1)return"pattern: multiple values";if(T.pattern=1,!d.isString(l.delete))return"delete: string expected"}if(l.patch!=null&&l.hasOwnProperty("patch")){if(T.pattern===1)return"pattern: multiple values";if(T.pattern=1,!d.isString(l.patch))return"patch: string expected"}if(l.custom!=null&&l.hasOwnProperty("custom")){if(T.pattern===1)return"pattern: multiple values";if(T.pattern=1,O=m.google.api.CustomHttpPattern.verify(l.custom))return"custom."+O}if(l.body!=null&&l.hasOwnProperty("body")&&!d.isString(l.body))return"body: string expected";if(l.responseBody!=null&&l.hasOwnProperty("responseBody")&&!d.isString(l.responseBody))return"responseBody: string expected";if(l.additionalBindings!=null&&l.hasOwnProperty("additionalBindings")){if(!Array.isArray(l.additionalBindings))return"additionalBindings: array expected";for(var O,H=0;H<l.additionalBindings.length;++H)if(O=m.google.api.HttpRule.verify(l.additionalBindings[H]))return"additionalBindings."+O}return null},$.fromObject=function(l){if(l instanceof m.google.api.HttpRule)return l;var T=new m.google.api.HttpRule;if(l.selector!=null&&(T.selector=String(l.selector)),l.get!=null&&(T.get=String(l.get)),l.put!=null&&(T.put=String(l.put)),l.post!=null&&(T.post=String(l.post)),l.delete!=null&&(T.delete=String(l.delete)),l.patch!=null&&(T.patch=String(l.patch)),l.custom!=null){if(typeof l.custom!="object")throw TypeError(".google.api.HttpRule.custom: object expected");T.custom=m.google.api.CustomHttpPattern.fromObject(l.custom)}if(l.body!=null&&(T.body=String(l.body)),l.responseBody!=null&&(T.responseBody=String(l.responseBody)),l.additionalBindings){if(!Array.isArray(l.additionalBindings))throw TypeError(".google.api.HttpRule.additionalBindings: array expected");T.additionalBindings=[];for(var O=0;O<l.additionalBindings.length;++O){if(typeof l.additionalBindings[O]!="object")throw TypeError(".google.api.HttpRule.additionalBindings: object expected");T.additionalBindings[O]=m.google.api.HttpRule.fromObject(l.additionalBindings[O])}}return T},$.toObject=function(l,T){var O={};if(((T=T||{}).arrays||T.defaults)&&(O.additionalBindings=[]),T.defaults&&(O.selector="",O.body="",O.responseBody=""),l.selector!=null&&l.hasOwnProperty("selector")&&(O.selector=l.selector),l.get!=null&&l.hasOwnProperty("get")&&(O.get=l.get,T.oneofs)&&(O.pattern="get"),l.put!=null&&l.hasOwnProperty("put")&&(O.put=l.put,T.oneofs)&&(O.pattern="put"),l.post!=null&&l.hasOwnProperty("post")&&(O.post=l.post,T.oneofs)&&(O.pattern="post"),l.delete!=null&&l.hasOwnProperty("delete")&&(O.delete=l.delete,T.oneofs)&&(O.pattern="delete"),l.patch!=null&&l.hasOwnProperty("patch")&&(O.patch=l.patch,T.oneofs)&&(O.pattern="patch"),l.body!=null&&l.hasOwnProperty("body")&&(O.body=l.body),l.custom!=null&&l.hasOwnProperty("custom")&&(O.custom=m.google.api.CustomHttpPattern.toObject(l.custom,T),T.oneofs)&&(O.pattern="custom"),l.additionalBindings&&l.additionalBindings.length){O.additionalBindings=[];for(var H=0;H<l.additionalBindings.length;++H)O.additionalBindings[H]=m.google.api.HttpRule.toObject(l.additionalBindings[H],T)}return l.responseBody!=null&&l.hasOwnProperty("responseBody")&&(O.responseBody=l.responseBody),O},$.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},$),r.CustomHttpPattern=(j.prototype.kind="",j.prototype.path="",j.create=function(l){return new j(l)},j.encode=function(l,T){return T=T||c.create(),l.kind!=null&&Object.hasOwnProperty.call(l,"kind")&&T.uint32(10).string(l.kind),l.path!=null&&Object.hasOwnProperty.call(l,"path")&&T.uint32(18).string(l.path),T},j.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},j.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.api.CustomHttpPattern;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 1:H.kind=l.string();break;case 2:H.path=l.string();break;default:l.skipType(7&ae)}}return H},j.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},j.verify=function(l){return typeof l!="object"||l===null?"object expected":l.kind!=null&&l.hasOwnProperty("kind")&&!d.isString(l.kind)?"kind: string expected":l.path!=null&&l.hasOwnProperty("path")&&!d.isString(l.path)?"path: string expected":null},j.fromObject=function(l){var T;return l instanceof m.google.api.CustomHttpPattern?l:(T=new m.google.api.CustomHttpPattern,l.kind!=null&&(T.kind=String(l.kind)),l.path!=null&&(T.path=String(l.path)),T)},j.toObject=function(l,T){var O={};return(T=T||{}).defaults&&(O.kind="",O.path=""),l.kind!=null&&l.hasOwnProperty("kind")&&(O.kind=l.kind),l.path!=null&&l.hasOwnProperty("path")&&(O.path=l.path),O},j.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},j),r),h.protobuf=((p={}).FileDescriptorSet=(M.prototype.file=d.emptyArray,M.create=function(l){return new M(l)},M.encode=function(l,T){if(T=T||c.create(),l.file!=null&&l.file.length)for(var O=0;O<l.file.length;++O)m.google.protobuf.FileDescriptorProto.encode(l.file[O],T.uint32(10).fork()).ldelim();return T},M.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},M.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.FileDescriptorSet;l.pos<O;){var ae=l.uint32();ae>>>3==1?(H.file&&H.file.length||(H.file=[]),H.file.push(m.google.protobuf.FileDescriptorProto.decode(l,l.uint32()))):l.skipType(7&ae)}return H},M.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},M.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.file!=null&&l.hasOwnProperty("file")){if(!Array.isArray(l.file))return"file: array expected";for(var T=0;T<l.file.length;++T){var O=m.google.protobuf.FileDescriptorProto.verify(l.file[T]);if(O)return"file."+O}}return null},M.fromObject=function(l){if(l instanceof m.google.protobuf.FileDescriptorSet)return l;var T=new m.google.protobuf.FileDescriptorSet;if(l.file){if(!Array.isArray(l.file))throw TypeError(".google.protobuf.FileDescriptorSet.file: array expected");T.file=[];for(var O=0;O<l.file.length;++O){if(typeof l.file[O]!="object")throw TypeError(".google.protobuf.FileDescriptorSet.file: object expected");T.file[O]=m.google.protobuf.FileDescriptorProto.fromObject(l.file[O])}}return T},M.toObject=function(l,T){var O={};if(((T=T||{}).arrays||T.defaults)&&(O.file=[]),l.file&&l.file.length){O.file=[];for(var H=0;H<l.file.length;++H)O.file[H]=m.google.protobuf.FileDescriptorProto.toObject(l.file[H],T)}return O},M.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},M),p.FileDescriptorProto=(q.prototype.name="",q.prototype.package="",q.prototype.dependency=d.emptyArray,q.prototype.publicDependency=d.emptyArray,q.prototype.weakDependency=d.emptyArray,q.prototype.messageType=d.emptyArray,q.prototype.enumType=d.emptyArray,q.prototype.service=d.emptyArray,q.prototype.extension=d.emptyArray,q.prototype.options=null,q.prototype.sourceCodeInfo=null,q.prototype.syntax="",q.create=function(l){return new q(l)},q.encode=function(l,T){if(T=T||c.create(),l.name!=null&&Object.hasOwnProperty.call(l,"name")&&T.uint32(10).string(l.name),l.package!=null&&Object.hasOwnProperty.call(l,"package")&&T.uint32(18).string(l.package),l.dependency!=null&&l.dependency.length)for(var O=0;O<l.dependency.length;++O)T.uint32(26).string(l.dependency[O]);if(l.messageType!=null&&l.messageType.length)for(O=0;O<l.messageType.length;++O)m.google.protobuf.DescriptorProto.encode(l.messageType[O],T.uint32(34).fork()).ldelim();if(l.enumType!=null&&l.enumType.length)for(O=0;O<l.enumType.length;++O)m.google.protobuf.EnumDescriptorProto.encode(l.enumType[O],T.uint32(42).fork()).ldelim();if(l.service!=null&&l.service.length)for(O=0;O<l.service.length;++O)m.google.protobuf.ServiceDescriptorProto.encode(l.service[O],T.uint32(50).fork()).ldelim();if(l.extension!=null&&l.extension.length)for(O=0;O<l.extension.length;++O)m.google.protobuf.FieldDescriptorProto.encode(l.extension[O],T.uint32(58).fork()).ldelim();if(l.options!=null&&Object.hasOwnProperty.call(l,"options")&&m.google.protobuf.FileOptions.encode(l.options,T.uint32(66).fork()).ldelim(),l.sourceCodeInfo!=null&&Object.hasOwnProperty.call(l,"sourceCodeInfo")&&m.google.protobuf.SourceCodeInfo.encode(l.sourceCodeInfo,T.uint32(74).fork()).ldelim(),l.publicDependency!=null&&l.publicDependency.length)for(O=0;O<l.publicDependency.length;++O)T.uint32(80).int32(l.publicDependency[O]);if(l.weakDependency!=null&&l.weakDependency.length)for(O=0;O<l.weakDependency.length;++O)T.uint32(88).int32(l.weakDependency[O]);return l.syntax!=null&&Object.hasOwnProperty.call(l,"syntax")&&T.uint32(98).string(l.syntax),T},q.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},q.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.FileDescriptorProto;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 1:H.name=l.string();break;case 2:H.package=l.string();break;case 3:H.dependency&&H.dependency.length||(H.dependency=[]),H.dependency.push(l.string());break;case 10:if(H.publicDependency&&H.publicDependency.length||(H.publicDependency=[]),(7&ae)==2)for(var Oe=l.uint32()+l.pos;l.pos<Oe;)H.publicDependency.push(l.int32());else H.publicDependency.push(l.int32());break;case 11:if(H.weakDependency&&H.weakDependency.length||(H.weakDependency=[]),(7&ae)==2)for(Oe=l.uint32()+l.pos;l.pos<Oe;)H.weakDependency.push(l.int32());else H.weakDependency.push(l.int32());break;case 4:H.messageType&&H.messageType.length||(H.messageType=[]),H.messageType.push(m.google.protobuf.DescriptorProto.decode(l,l.uint32()));break;case 5:H.enumType&&H.enumType.length||(H.enumType=[]),H.enumType.push(m.google.protobuf.EnumDescriptorProto.decode(l,l.uint32()));break;case 6:H.service&&H.service.length||(H.service=[]),H.service.push(m.google.protobuf.ServiceDescriptorProto.decode(l,l.uint32()));break;case 7:H.extension&&H.extension.length||(H.extension=[]),H.extension.push(m.google.protobuf.FieldDescriptorProto.decode(l,l.uint32()));break;case 8:H.options=m.google.protobuf.FileOptions.decode(l,l.uint32());break;case 9:H.sourceCodeInfo=m.google.protobuf.SourceCodeInfo.decode(l,l.uint32());break;case 12:H.syntax=l.string();break;default:l.skipType(7&ae)}}return H},q.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},q.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.name!=null&&l.hasOwnProperty("name")&&!d.isString(l.name))return"name: string expected";if(l.package!=null&&l.hasOwnProperty("package")&&!d.isString(l.package))return"package: string expected";if(l.dependency!=null&&l.hasOwnProperty("dependency")){if(!Array.isArray(l.dependency))return"dependency: array expected";for(var T=0;T<l.dependency.length;++T)if(!d.isString(l.dependency[T]))return"dependency: string[] expected"}if(l.publicDependency!=null&&l.hasOwnProperty("publicDependency")){if(!Array.isArray(l.publicDependency))return"publicDependency: array expected";for(T=0;T<l.publicDependency.length;++T)if(!d.isInteger(l.publicDependency[T]))return"publicDependency: integer[] expected"}if(l.weakDependency!=null&&l.hasOwnProperty("weakDependency")){if(!Array.isArray(l.weakDependency))return"weakDependency: array expected";for(T=0;T<l.weakDependency.length;++T)if(!d.isInteger(l.weakDependency[T]))return"weakDependency: integer[] expected"}if(l.messageType!=null&&l.hasOwnProperty("messageType")){if(!Array.isArray(l.messageType))return"messageType: array expected";for(T=0;T<l.messageType.length;++T)if(O=m.google.protobuf.DescriptorProto.verify(l.messageType[T]))return"messageType."+O}if(l.enumType!=null&&l.hasOwnProperty("enumType")){if(!Array.isArray(l.enumType))return"enumType: array expected";for(T=0;T<l.enumType.length;++T)if(O=m.google.protobuf.EnumDescriptorProto.verify(l.enumType[T]))return"enumType."+O}if(l.service!=null&&l.hasOwnProperty("service")){if(!Array.isArray(l.service))return"service: array expected";for(T=0;T<l.service.length;++T)if(O=m.google.protobuf.ServiceDescriptorProto.verify(l.service[T]))return"service."+O}if(l.extension!=null&&l.hasOwnProperty("extension")){if(!Array.isArray(l.extension))return"extension: array expected";for(T=0;T<l.extension.length;++T)if(O=m.google.protobuf.FieldDescriptorProto.verify(l.extension[T]))return"extension."+O}var O;return l.options!=null&&l.hasOwnProperty("options")&&(O=m.google.protobuf.FileOptions.verify(l.options))?"options."+O:l.sourceCodeInfo!=null&&l.hasOwnProperty("sourceCodeInfo")&&(O=m.google.protobuf.SourceCodeInfo.verify(l.sourceCodeInfo))?"sourceCodeInfo."+O:l.syntax!=null&&l.hasOwnProperty("syntax")&&!d.isString(l.syntax)?"syntax: string expected":null},q.fromObject=function(l){if(l instanceof m.google.protobuf.FileDescriptorProto)return l;var T=new m.google.protobuf.FileDescriptorProto;if(l.name!=null&&(T.name=String(l.name)),l.package!=null&&(T.package=String(l.package)),l.dependency){if(!Array.isArray(l.dependency))throw TypeError(".google.protobuf.FileDescriptorProto.dependency: array expected");T.dependency=[];for(var O=0;O<l.dependency.length;++O)T.dependency[O]=String(l.dependency[O])}if(l.publicDependency){if(!Array.isArray(l.publicDependency))throw TypeError(".google.protobuf.FileDescriptorProto.publicDependency: array expected");for(T.publicDependency=[],O=0;O<l.publicDependency.length;++O)T.publicDependency[O]=0|l.publicDependency[O]}if(l.weakDependency){if(!Array.isArray(l.weakDependency))throw TypeError(".google.protobuf.FileDescriptorProto.weakDependency: array expected");for(T.weakDependency=[],O=0;O<l.weakDependency.length;++O)T.weakDependency[O]=0|l.weakDependency[O]}if(l.messageType){if(!Array.isArray(l.messageType))throw TypeError(".google.protobuf.FileDescriptorProto.messageType: array expected");for(T.messageType=[],O=0;O<l.messageType.length;++O){if(typeof l.messageType[O]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.messageType: object expected");T.messageType[O]=m.google.protobuf.DescriptorProto.fromObject(l.messageType[O])}}if(l.enumType){if(!Array.isArray(l.enumType))throw TypeError(".google.protobuf.FileDescriptorProto.enumType: array expected");for(T.enumType=[],O=0;O<l.enumType.length;++O){if(typeof l.enumType[O]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.enumType: object expected");T.enumType[O]=m.google.protobuf.EnumDescriptorProto.fromObject(l.enumType[O])}}if(l.service){if(!Array.isArray(l.service))throw TypeError(".google.protobuf.FileDescriptorProto.service: array expected");for(T.service=[],O=0;O<l.service.length;++O){if(typeof l.service[O]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.service: object expected");T.service[O]=m.google.protobuf.ServiceDescriptorProto.fromObject(l.service[O])}}if(l.extension){if(!Array.isArray(l.extension))throw TypeError(".google.protobuf.FileDescriptorProto.extension: array expected");for(T.extension=[],O=0;O<l.extension.length;++O){if(typeof l.extension[O]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.extension: object expected");T.extension[O]=m.google.protobuf.FieldDescriptorProto.fromObject(l.extension[O])}}if(l.options!=null){if(typeof l.options!="object")throw TypeError(".google.protobuf.FileDescriptorProto.options: object expected");T.options=m.google.protobuf.FileOptions.fromObject(l.options)}if(l.sourceCodeInfo!=null){if(typeof l.sourceCodeInfo!="object")throw TypeError(".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected");T.sourceCodeInfo=m.google.protobuf.SourceCodeInfo.fromObject(l.sourceCodeInfo)}return l.syntax!=null&&(T.syntax=String(l.syntax)),T},q.toObject=function(l,T){var O={};if(((T=T||{}).arrays||T.defaults)&&(O.dependency=[],O.messageType=[],O.enumType=[],O.service=[],O.extension=[],O.publicDependency=[],O.weakDependency=[]),T.defaults&&(O.name="",O.package="",O.options=null,O.sourceCodeInfo=null,O.syntax=""),l.name!=null&&l.hasOwnProperty("name")&&(O.name=l.name),l.package!=null&&l.hasOwnProperty("package")&&(O.package=l.package),l.dependency&&l.dependency.length){O.dependency=[];for(var H=0;H<l.dependency.length;++H)O.dependency[H]=l.dependency[H]}if(l.messageType&&l.messageType.length)for(O.messageType=[],H=0;H<l.messageType.length;++H)O.messageType[H]=m.google.protobuf.DescriptorProto.toObject(l.messageType[H],T);if(l.enumType&&l.enumType.length)for(O.enumType=[],H=0;H<l.enumType.length;++H)O.enumType[H]=m.google.protobuf.EnumDescriptorProto.toObject(l.enumType[H],T);if(l.service&&l.service.length)for(O.service=[],H=0;H<l.service.length;++H)O.service[H]=m.google.protobuf.ServiceDescriptorProto.toObject(l.service[H],T);if(l.extension&&l.extension.length)for(O.extension=[],H=0;H<l.extension.length;++H)O.extension[H]=m.google.protobuf.FieldDescriptorProto.toObject(l.extension[H],T);if(l.options!=null&&l.hasOwnProperty("options")&&(O.options=m.google.protobuf.FileOptions.toObject(l.options,T)),l.sourceCodeInfo!=null&&l.hasOwnProperty("sourceCodeInfo")&&(O.sourceCodeInfo=m.google.protobuf.SourceCodeInfo.toObject(l.sourceCodeInfo,T)),l.publicDependency&&l.publicDependency.length)for(O.publicDependency=[],H=0;H<l.publicDependency.length;++H)O.publicDependency[H]=l.publicDependency[H];if(l.weakDependency&&l.weakDependency.length)for(O.weakDependency=[],H=0;H<l.weakDependency.length;++H)O.weakDependency[H]=l.weakDependency[H];return l.syntax!=null&&l.hasOwnProperty("syntax")&&(O.syntax=l.syntax),O},q.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},q),p.DescriptorProto=(Q.prototype.name="",Q.prototype.field=d.emptyArray,Q.prototype.extension=d.emptyArray,Q.prototype.nestedType=d.emptyArray,Q.prototype.enumType=d.emptyArray,Q.prototype.extensionRange=d.emptyArray,Q.prototype.oneofDecl=d.emptyArray,Q.prototype.options=null,Q.prototype.reservedRange=d.emptyArray,Q.prototype.reservedName=d.emptyArray,Q.create=function(l){return new Q(l)},Q.encode=function(l,T){if(T=T||c.create(),l.name!=null&&Object.hasOwnProperty.call(l,"name")&&T.uint32(10).string(l.name),l.field!=null&&l.field.length)for(var O=0;O<l.field.length;++O)m.google.protobuf.FieldDescriptorProto.encode(l.field[O],T.uint32(18).fork()).ldelim();if(l.nestedType!=null&&l.nestedType.length)for(O=0;O<l.nestedType.length;++O)m.google.protobuf.DescriptorProto.encode(l.nestedType[O],T.uint32(26).fork()).ldelim();if(l.enumType!=null&&l.enumType.length)for(O=0;O<l.enumType.length;++O)m.google.protobuf.EnumDescriptorProto.encode(l.enumType[O],T.uint32(34).fork()).ldelim();if(l.extensionRange!=null&&l.extensionRange.length)for(O=0;O<l.extensionRange.length;++O)m.google.protobuf.DescriptorProto.ExtensionRange.encode(l.extensionRange[O],T.uint32(42).fork()).ldelim();if(l.extension!=null&&l.extension.length)for(O=0;O<l.extension.length;++O)m.google.protobuf.FieldDescriptorProto.encode(l.extension[O],T.uint32(50).fork()).ldelim();if(l.options!=null&&Object.hasOwnProperty.call(l,"options")&&m.google.protobuf.MessageOptions.encode(l.options,T.uint32(58).fork()).ldelim(),l.oneofDecl!=null&&l.oneofDecl.length)for(O=0;O<l.oneofDecl.length;++O)m.google.protobuf.OneofDescriptorProto.encode(l.oneofDecl[O],T.uint32(66).fork()).ldelim();if(l.reservedRange!=null&&l.reservedRange.length)for(O=0;O<l.reservedRange.length;++O)m.google.protobuf.DescriptorProto.ReservedRange.encode(l.reservedRange[O],T.uint32(74).fork()).ldelim();if(l.reservedName!=null&&l.reservedName.length)for(O=0;O<l.reservedName.length;++O)T.uint32(82).string(l.reservedName[O]);return T},Q.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},Q.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.DescriptorProto;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 1:H.name=l.string();break;case 2:H.field&&H.field.length||(H.field=[]),H.field.push(m.google.protobuf.FieldDescriptorProto.decode(l,l.uint32()));break;case 6:H.extension&&H.extension.length||(H.extension=[]),H.extension.push(m.google.protobuf.FieldDescriptorProto.decode(l,l.uint32()));break;case 3:H.nestedType&&H.nestedType.length||(H.nestedType=[]),H.nestedType.push(m.google.protobuf.DescriptorProto.decode(l,l.uint32()));break;case 4:H.enumType&&H.enumType.length||(H.enumType=[]),H.enumType.push(m.google.protobuf.EnumDescriptorProto.decode(l,l.uint32()));break;case 5:H.extensionRange&&H.extensionRange.length||(H.extensionRange=[]),H.extensionRange.push(m.google.protobuf.DescriptorProto.ExtensionRange.decode(l,l.uint32()));break;case 8:H.oneofDecl&&H.oneofDecl.length||(H.oneofDecl=[]),H.oneofDecl.push(m.google.protobuf.OneofDescriptorProto.decode(l,l.uint32()));break;case 7:H.options=m.google.protobuf.MessageOptions.decode(l,l.uint32());break;case 9:H.reservedRange&&H.reservedRange.length||(H.reservedRange=[]),H.reservedRange.push(m.google.protobuf.DescriptorProto.ReservedRange.decode(l,l.uint32()));break;case 10:H.reservedName&&H.reservedName.length||(H.reservedName=[]),H.reservedName.push(l.string());break;default:l.skipType(7&ae)}}return H},Q.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},Q.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.name!=null&&l.hasOwnProperty("name")&&!d.isString(l.name))return"name: string expected";if(l.field!=null&&l.hasOwnProperty("field")){if(!Array.isArray(l.field))return"field: array expected";for(var T=0;T<l.field.length;++T)if(O=m.google.protobuf.FieldDescriptorProto.verify(l.field[T]))return"field."+O}if(l.extension!=null&&l.hasOwnProperty("extension")){if(!Array.isArray(l.extension))return"extension: array expected";for(T=0;T<l.extension.length;++T)if(O=m.google.protobuf.FieldDescriptorProto.verify(l.extension[T]))return"extension."+O}if(l.nestedType!=null&&l.hasOwnProperty("nestedType")){if(!Array.isArray(l.nestedType))return"nestedType: array expected";for(T=0;T<l.nestedType.length;++T)if(O=m.google.protobuf.DescriptorProto.verify(l.nestedType[T]))return"nestedType."+O}if(l.enumType!=null&&l.hasOwnProperty("enumType")){if(!Array.isArray(l.enumType))return"enumType: array expected";for(T=0;T<l.enumType.length;++T)if(O=m.google.protobuf.EnumDescriptorProto.verify(l.enumType[T]))return"enumType."+O}if(l.extensionRange!=null&&l.hasOwnProperty("extensionRange")){if(!Array.isArray(l.extensionRange))return"extensionRange: array expected";for(T=0;T<l.extensionRange.length;++T)if(O=m.google.protobuf.DescriptorProto.ExtensionRange.verify(l.extensionRange[T]))return"extensionRange."+O}if(l.oneofDecl!=null&&l.hasOwnProperty("oneofDecl")){if(!Array.isArray(l.oneofDecl))return"oneofDecl: array expected";for(T=0;T<l.oneofDecl.length;++T)if(O=m.google.protobuf.OneofDescriptorProto.verify(l.oneofDecl[T]))return"oneofDecl."+O}if(l.options!=null&&l.hasOwnProperty("options")&&(O=m.google.protobuf.MessageOptions.verify(l.options)))return"options."+O;if(l.reservedRange!=null&&l.hasOwnProperty("reservedRange")){if(!Array.isArray(l.reservedRange))return"reservedRange: array expected";for(var O,T=0;T<l.reservedRange.length;++T)if(O=m.google.protobuf.DescriptorProto.ReservedRange.verify(l.reservedRange[T]))return"reservedRange."+O}if(l.reservedName!=null&&l.hasOwnProperty("reservedName")){if(!Array.isArray(l.reservedName))return"reservedName: array expected";for(T=0;T<l.reservedName.length;++T)if(!d.isString(l.reservedName[T]))return"reservedName: string[] expected"}return null},Q.fromObject=function(l){if(l instanceof m.google.protobuf.DescriptorProto)return l;var T=new m.google.protobuf.DescriptorProto;if(l.name!=null&&(T.name=String(l.name)),l.field){if(!Array.isArray(l.field))throw TypeError(".google.protobuf.DescriptorProto.field: array expected");T.field=[];for(var O=0;O<l.field.length;++O){if(typeof l.field[O]!="object")throw TypeError(".google.protobuf.DescriptorProto.field: object expected");T.field[O]=m.google.protobuf.FieldDescriptorProto.fromObject(l.field[O])}}if(l.extension){if(!Array.isArray(l.extension))throw TypeError(".google.protobuf.DescriptorProto.extension: array expected");for(T.extension=[],O=0;O<l.extension.length;++O){if(typeof l.extension[O]!="object")throw TypeError(".google.protobuf.DescriptorProto.extension: object expected");T.extension[O]=m.google.protobuf.FieldDescriptorProto.fromObject(l.extension[O])}}if(l.nestedType){if(!Array.isArray(l.nestedType))throw TypeError(".google.protobuf.DescriptorProto.nestedType: array expected");for(T.nestedType=[],O=0;O<l.nestedType.length;++O){if(typeof l.nestedType[O]!="object")throw TypeError(".google.protobuf.DescriptorProto.nestedType: object expected");T.nestedType[O]=m.google.protobuf.DescriptorProto.fromObject(l.nestedType[O])}}if(l.enumType){if(!Array.isArray(l.enumType))throw TypeError(".google.protobuf.DescriptorProto.enumType: array expected");for(T.enumType=[],O=0;O<l.enumType.length;++O){if(typeof l.enumType[O]!="object")throw TypeError(".google.protobuf.DescriptorProto.enumType: object expected");T.enumType[O]=m.google.protobuf.EnumDescriptorProto.fromObject(l.enumType[O])}}if(l.extensionRange){if(!Array.isArray(l.extensionRange))throw TypeError(".google.protobuf.DescriptorProto.extensionRange: array expected");for(T.extensionRange=[],O=0;O<l.extensionRange.length;++O){if(typeof l.extensionRange[O]!="object")throw TypeError(".google.protobuf.DescriptorProto.extensionRange: object expected");T.extensionRange[O]=m.google.protobuf.DescriptorProto.ExtensionRange.fromObject(l.extensionRange[O])}}if(l.oneofDecl){if(!Array.isArray(l.oneofDecl))throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: array expected");for(T.oneofDecl=[],O=0;O<l.oneofDecl.length;++O){if(typeof l.oneofDecl[O]!="object")throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: object expected");T.oneofDecl[O]=m.google.protobuf.OneofDescriptorProto.fromObject(l.oneofDecl[O])}}if(l.options!=null){if(typeof l.options!="object")throw TypeError(".google.protobuf.DescriptorProto.options: object expected");T.options=m.google.protobuf.MessageOptions.fromObject(l.options)}if(l.reservedRange){if(!Array.isArray(l.reservedRange))throw TypeError(".google.protobuf.DescriptorProto.reservedRange: array expected");for(T.reservedRange=[],O=0;O<l.reservedRange.length;++O){if(typeof l.reservedRange[O]!="object")throw TypeError(".google.protobuf.DescriptorProto.reservedRange: object expected");T.reservedRange[O]=m.google.protobuf.DescriptorProto.ReservedRange.fromObject(l.reservedRange[O])}}if(l.reservedName){if(!Array.isArray(l.reservedName))throw TypeError(".google.protobuf.DescriptorProto.reservedName: array expected");for(T.reservedName=[],O=0;O<l.reservedName.length;++O)T.reservedName[O]=String(l.reservedName[O])}return T},Q.toObject=function(l,T){var O={};if(((T=T||{}).arrays||T.defaults)&&(O.field=[],O.nestedType=[],O.enumType=[],O.extensionRange=[],O.extension=[],O.oneofDecl=[],O.reservedRange=[],O.reservedName=[]),T.defaults&&(O.name="",O.options=null),l.name!=null&&l.hasOwnProperty("name")&&(O.name=l.name),l.field&&l.field.length){O.field=[];for(var H=0;H<l.field.length;++H)O.field[H]=m.google.protobuf.FieldDescriptorProto.toObject(l.field[H],T)}if(l.nestedType&&l.nestedType.length)for(O.nestedType=[],H=0;H<l.nestedType.length;++H)O.nestedType[H]=m.google.protobuf.DescriptorProto.toObject(l.nestedType[H],T);if(l.enumType&&l.enumType.length)for(O.enumType=[],H=0;H<l.enumType.length;++H)O.enumType[H]=m.google.protobuf.EnumDescriptorProto.toObject(l.enumType[H],T);if(l.extensionRange&&l.extensionRange.length)for(O.extensionRange=[],H=0;H<l.extensionRange.length;++H)O.extensionRange[H]=m.google.protobuf.DescriptorProto.ExtensionRange.toObject(l.extensionRange[H],T);if(l.extension&&l.extension.length)for(O.extension=[],H=0;H<l.extension.length;++H)O.extension[H]=m.google.protobuf.FieldDescriptorProto.toObject(l.extension[H],T);if(l.options!=null&&l.hasOwnProperty("options")&&(O.options=m.google.protobuf.MessageOptions.toObject(l.options,T)),l.oneofDecl&&l.oneofDecl.length)for(O.oneofDecl=[],H=0;H<l.oneofDecl.length;++H)O.oneofDecl[H]=m.google.protobuf.OneofDescriptorProto.toObject(l.oneofDecl[H],T);if(l.reservedRange&&l.reservedRange.length)for(O.reservedRange=[],H=0;H<l.reservedRange.length;++H)O.reservedRange[H]=m.google.protobuf.DescriptorProto.ReservedRange.toObject(l.reservedRange[H],T);if(l.reservedName&&l.reservedName.length)for(O.reservedName=[],H=0;H<l.reservedName.length;++H)O.reservedName[H]=l.reservedName[H];return O},Q.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Q.ExtensionRange=(K.prototype.start=0,K.prototype.end=0,K.prototype.options=null,K.create=function(l){return new K(l)},K.encode=function(l,T){return T=T||c.create(),l.start!=null&&Object.hasOwnProperty.call(l,"start")&&T.uint32(8).int32(l.start),l.end!=null&&Object.hasOwnProperty.call(l,"end")&&T.uint32(16).int32(l.end),l.options!=null&&Object.hasOwnProperty.call(l,"options")&&m.google.protobuf.ExtensionRangeOptions.encode(l.options,T.uint32(26).fork()).ldelim(),T},K.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},K.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.DescriptorProto.ExtensionRange;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 1:H.start=l.int32();break;case 2:H.end=l.int32();break;case 3:H.options=m.google.protobuf.ExtensionRangeOptions.decode(l,l.uint32());break;default:l.skipType(7&ae)}}return H},K.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},K.verify=function(l){return typeof l!="object"||l===null?"object expected":l.start!=null&&l.hasOwnProperty("start")&&!d.isInteger(l.start)?"start: integer expected":l.end!=null&&l.hasOwnProperty("end")&&!d.isInteger(l.end)?"end: integer expected":l.options!=null&&l.hasOwnProperty("options")&&(l=m.google.protobuf.ExtensionRangeOptions.verify(l.options),l)?"options."+l:null},K.fromObject=function(l){if(l instanceof m.google.protobuf.DescriptorProto.ExtensionRange)return l;var T=new m.google.protobuf.DescriptorProto.ExtensionRange;if(l.start!=null&&(T.start=0|l.start),l.end!=null&&(T.end=0|l.end),l.options!=null){if(typeof l.options!="object")throw TypeError(".google.protobuf.DescriptorProto.ExtensionRange.options: object expected");T.options=m.google.protobuf.ExtensionRangeOptions.fromObject(l.options)}return T},K.toObject=function(l,T){var O={};return(T=T||{}).defaults&&(O.start=0,O.end=0,O.options=null),l.start!=null&&l.hasOwnProperty("start")&&(O.start=l.start),l.end!=null&&l.hasOwnProperty("end")&&(O.end=l.end),l.options!=null&&l.hasOwnProperty("options")&&(O.options=m.google.protobuf.ExtensionRangeOptions.toObject(l.options,T)),O},K.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},K),Q.ReservedRange=(G.prototype.start=0,G.prototype.end=0,G.create=function(l){return new G(l)},G.encode=function(l,T){return T=T||c.create(),l.start!=null&&Object.hasOwnProperty.call(l,"start")&&T.uint32(8).int32(l.start),l.end!=null&&Object.hasOwnProperty.call(l,"end")&&T.uint32(16).int32(l.end),T},G.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},G.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.DescriptorProto.ReservedRange;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 1:H.start=l.int32();break;case 2:H.end=l.int32();break;default:l.skipType(7&ae)}}return H},G.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},G.verify=function(l){return typeof l!="object"||l===null?"object expected":l.start!=null&&l.hasOwnProperty("start")&&!d.isInteger(l.start)?"start: integer expected":l.end!=null&&l.hasOwnProperty("end")&&!d.isInteger(l.end)?"end: integer expected":null},G.fromObject=function(l){var T;return l instanceof m.google.protobuf.DescriptorProto.ReservedRange?l:(T=new m.google.protobuf.DescriptorProto.ReservedRange,l.start!=null&&(T.start=0|l.start),l.end!=null&&(T.end=0|l.end),T)},G.toObject=function(l,T){var O={};return(T=T||{}).defaults&&(O.start=0,O.end=0),l.start!=null&&l.hasOwnProperty("start")&&(O.start=l.start),l.end!=null&&l.hasOwnProperty("end")&&(O.end=l.end),O},G.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},G),Q),p.ExtensionRangeOptions=(F.prototype.uninterpretedOption=d.emptyArray,F.create=function(l){return new F(l)},F.encode=function(l,T){if(T=T||c.create(),l.uninterpretedOption!=null&&l.uninterpretedOption.length)for(var O=0;O<l.uninterpretedOption.length;++O)m.google.protobuf.UninterpretedOption.encode(l.uninterpretedOption[O],T.uint32(7994).fork()).ldelim();return T},F.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},F.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.ExtensionRangeOptions;l.pos<O;){var ae=l.uint32();ae>>>3==999?(H.uninterpretedOption&&H.uninterpretedOption.length||(H.uninterpretedOption=[]),H.uninterpretedOption.push(m.google.protobuf.UninterpretedOption.decode(l,l.uint32()))):l.skipType(7&ae)}return H},F.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},F.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.uninterpretedOption!=null&&l.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(l.uninterpretedOption))return"uninterpretedOption: array expected";for(var T=0;T<l.uninterpretedOption.length;++T){var O=m.google.protobuf.UninterpretedOption.verify(l.uninterpretedOption[T]);if(O)return"uninterpretedOption."+O}}return null},F.fromObject=function(l){if(l instanceof m.google.protobuf.ExtensionRangeOptions)return l;var T=new m.google.protobuf.ExtensionRangeOptions;if(l.uninterpretedOption){if(!Array.isArray(l.uninterpretedOption))throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected");T.uninterpretedOption=[];for(var O=0;O<l.uninterpretedOption.length;++O){if(typeof l.uninterpretedOption[O]!="object")throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected");T.uninterpretedOption[O]=m.google.protobuf.UninterpretedOption.fromObject(l.uninterpretedOption[O])}}return T},F.toObject=function(l,T){var O={};if(((T=T||{}).arrays||T.defaults)&&(O.uninterpretedOption=[]),l.uninterpretedOption&&l.uninterpretedOption.length){O.uninterpretedOption=[];for(var H=0;H<l.uninterpretedOption.length;++H)O.uninterpretedOption[H]=m.google.protobuf.UninterpretedOption.toObject(l.uninterpretedOption[H],T)}return O},F.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},F),p.FieldDescriptorProto=(x.prototype.name="",x.prototype.number=0,x.prototype.label=1,x.prototype.type=1,x.prototype.typeName="",x.prototype.extendee="",x.prototype.defaultValue="",x.prototype.oneofIndex=0,x.prototype.jsonName="",x.prototype.options=null,x.prototype.proto3Optional=!1,x.create=function(l){return new x(l)},x.encode=function(l,T){return T=T||c.create(),l.name!=null&&Object.hasOwnProperty.call(l,"name")&&T.uint32(10).string(l.name),l.extendee!=null&&Object.hasOwnProperty.call(l,"extendee")&&T.uint32(18).string(l.extendee),l.number!=null&&Object.hasOwnProperty.call(l,"number")&&T.uint32(24).int32(l.number),l.label!=null&&Object.hasOwnProperty.call(l,"label")&&T.uint32(32).int32(l.label),l.type!=null&&Object.hasOwnProperty.call(l,"type")&&T.uint32(40).int32(l.type),l.typeName!=null&&Object.hasOwnProperty.call(l,"typeName")&&T.uint32(50).string(l.typeName),l.defaultValue!=null&&Object.hasOwnProperty.call(l,"defaultValue")&&T.uint32(58).string(l.defaultValue),l.options!=null&&Object.hasOwnProperty.call(l,"options")&&m.google.protobuf.FieldOptions.encode(l.options,T.uint32(66).fork()).ldelim(),l.oneofIndex!=null&&Object.hasOwnProperty.call(l,"oneofIndex")&&T.uint32(72).int32(l.oneofIndex),l.jsonName!=null&&Object.hasOwnProperty.call(l,"jsonName")&&T.uint32(82).string(l.jsonName),l.proto3Optional!=null&&Object.hasOwnProperty.call(l,"proto3Optional")&&T.uint32(136).bool(l.proto3Optional),T},x.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},x.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.FieldDescriptorProto;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 1:H.name=l.string();break;case 3:H.number=l.int32();break;case 4:H.label=l.int32();break;case 5:H.type=l.int32();break;case 6:H.typeName=l.string();break;case 2:H.extendee=l.string();break;case 7:H.defaultValue=l.string();break;case 9:H.oneofIndex=l.int32();break;case 10:H.jsonName=l.string();break;case 8:H.options=m.google.protobuf.FieldOptions.decode(l,l.uint32());break;case 17:H.proto3Optional=l.bool();break;default:l.skipType(7&ae)}}return H},x.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},x.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.name!=null&&l.hasOwnProperty("name")&&!d.isString(l.name))return"name: string expected";if(l.number!=null&&l.hasOwnProperty("number")&&!d.isInteger(l.number))return"number: integer expected";if(l.label!=null&&l.hasOwnProperty("label"))switch(l.label){default:return"label: enum value expected";case 1:case 2:case 3:}if(l.type!=null&&l.hasOwnProperty("type"))switch(l.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:}if(l.typeName!=null&&l.hasOwnProperty("typeName")&&!d.isString(l.typeName))return"typeName: string expected";if(l.extendee!=null&&l.hasOwnProperty("extendee")&&!d.isString(l.extendee))return"extendee: string expected";if(l.defaultValue!=null&&l.hasOwnProperty("defaultValue")&&!d.isString(l.defaultValue))return"defaultValue: string expected";if(l.oneofIndex!=null&&l.hasOwnProperty("oneofIndex")&&!d.isInteger(l.oneofIndex))return"oneofIndex: integer expected";if(l.jsonName!=null&&l.hasOwnProperty("jsonName")&&!d.isString(l.jsonName))return"jsonName: string expected";if(l.options!=null&&l.hasOwnProperty("options")){var T=m.google.protobuf.FieldOptions.verify(l.options);if(T)return"options."+T}return l.proto3Optional!=null&&l.hasOwnProperty("proto3Optional")&&typeof l.proto3Optional!="boolean"?"proto3Optional: boolean expected":null},x.fromObject=function(l){if(l instanceof m.google.protobuf.FieldDescriptorProto)return l;var T=new m.google.protobuf.FieldDescriptorProto;switch(l.name!=null&&(T.name=String(l.name)),l.number!=null&&(T.number=0|l.number),l.label){case"LABEL_OPTIONAL":case 1:T.label=1;break;case"LABEL_REQUIRED":case 2:T.label=2;break;case"LABEL_REPEATED":case 3:T.label=3}switch(l.type){case"TYPE_DOUBLE":case 1:T.type=1;break;case"TYPE_FLOAT":case 2:T.type=2;break;case"TYPE_INT64":case 3:T.type=3;break;case"TYPE_UINT64":case 4:T.type=4;break;case"TYPE_INT32":case 5:T.type=5;break;case"TYPE_FIXED64":case 6:T.type=6;break;case"TYPE_FIXED32":case 7:T.type=7;break;case"TYPE_BOOL":case 8:T.type=8;break;case"TYPE_STRING":case 9:T.type=9;break;case"TYPE_GROUP":case 10:T.type=10;break;case"TYPE_MESSAGE":case 11:T.type=11;break;case"TYPE_BYTES":case 12:T.type=12;break;case"TYPE_UINT32":case 13:T.type=13;break;case"TYPE_ENUM":case 14:T.type=14;break;case"TYPE_SFIXED32":case 15:T.type=15;break;case"TYPE_SFIXED64":case 16:T.type=16;break;case"TYPE_SINT32":case 17:T.type=17;break;case"TYPE_SINT64":case 18:T.type=18}if(l.typeName!=null&&(T.typeName=String(l.typeName)),l.extendee!=null&&(T.extendee=String(l.extendee)),l.defaultValue!=null&&(T.defaultValue=String(l.defaultValue)),l.oneofIndex!=null&&(T.oneofIndex=0|l.oneofIndex),l.jsonName!=null&&(T.jsonName=String(l.jsonName)),l.options!=null){if(typeof l.options!="object")throw TypeError(".google.protobuf.FieldDescriptorProto.options: object expected");T.options=m.google.protobuf.FieldOptions.fromObject(l.options)}return l.proto3Optional!=null&&(T.proto3Optional=!!l.proto3Optional),T},x.toObject=function(l,T){var O={};return(T=T||{}).defaults&&(O.name="",O.extendee="",O.number=0,O.label=T.enums===String?"LABEL_OPTIONAL":1,O.type=T.enums===String?"TYPE_DOUBLE":1,O.typeName="",O.defaultValue="",O.options=null,O.oneofIndex=0,O.jsonName="",O.proto3Optional=!1),l.name!=null&&l.hasOwnProperty("name")&&(O.name=l.name),l.extendee!=null&&l.hasOwnProperty("extendee")&&(O.extendee=l.extendee),l.number!=null&&l.hasOwnProperty("number")&&(O.number=l.number),l.label!=null&&l.hasOwnProperty("label")&&(O.label=T.enums===String?m.google.protobuf.FieldDescriptorProto.Label[l.label]:l.label),l.type!=null&&l.hasOwnProperty("type")&&(O.type=T.enums===String?m.google.protobuf.FieldDescriptorProto.Type[l.type]:l.type),l.typeName!=null&&l.hasOwnProperty("typeName")&&(O.typeName=l.typeName),l.defaultValue!=null&&l.hasOwnProperty("defaultValue")&&(O.defaultValue=l.defaultValue),l.options!=null&&l.hasOwnProperty("options")&&(O.options=m.google.protobuf.FieldOptions.toObject(l.options,T)),l.oneofIndex!=null&&l.hasOwnProperty("oneofIndex")&&(O.oneofIndex=l.oneofIndex),l.jsonName!=null&&l.hasOwnProperty("jsonName")&&(O.jsonName=l.jsonName),l.proto3Optional!=null&&l.hasOwnProperty("proto3Optional")&&(O.proto3Optional=l.proto3Optional),O},x.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},x.Type=(r={},(u=Object.create(r))[r[1]="TYPE_DOUBLE"]=1,u[r[2]="TYPE_FLOAT"]=2,u[r[3]="TYPE_INT64"]=3,u[r[4]="TYPE_UINT64"]=4,u[r[5]="TYPE_INT32"]=5,u[r[6]="TYPE_FIXED64"]=6,u[r[7]="TYPE_FIXED32"]=7,u[r[8]="TYPE_BOOL"]=8,u[r[9]="TYPE_STRING"]=9,u[r[10]="TYPE_GROUP"]=10,u[r[11]="TYPE_MESSAGE"]=11,u[r[12]="TYPE_BYTES"]=12,u[r[13]="TYPE_UINT32"]=13,u[r[14]="TYPE_ENUM"]=14,u[r[15]="TYPE_SFIXED32"]=15,u[r[16]="TYPE_SFIXED64"]=16,u[r[17]="TYPE_SINT32"]=17,u[r[18]="TYPE_SINT64"]=18,u),x.Label=(r={},(u=Object.create(r))[r[1]="LABEL_OPTIONAL"]=1,u[r[2]="LABEL_REQUIRED"]=2,u[r[3]="LABEL_REPEATED"]=3,u),x),p.OneofDescriptorProto=(z.prototype.name="",z.prototype.options=null,z.create=function(l){return new z(l)},z.encode=function(l,T){return T=T||c.create(),l.name!=null&&Object.hasOwnProperty.call(l,"name")&&T.uint32(10).string(l.name),l.options!=null&&Object.hasOwnProperty.call(l,"options")&&m.google.protobuf.OneofOptions.encode(l.options,T.uint32(18).fork()).ldelim(),T},z.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},z.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.OneofDescriptorProto;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 1:H.name=l.string();break;case 2:H.options=m.google.protobuf.OneofOptions.decode(l,l.uint32());break;default:l.skipType(7&ae)}}return H},z.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},z.verify=function(l){return typeof l!="object"||l===null?"object expected":l.name!=null&&l.hasOwnProperty("name")&&!d.isString(l.name)?"name: string expected":l.options!=null&&l.hasOwnProperty("options")&&(l=m.google.protobuf.OneofOptions.verify(l.options),l)?"options."+l:null},z.fromObject=function(l){if(l instanceof m.google.protobuf.OneofDescriptorProto)return l;var T=new m.google.protobuf.OneofDescriptorProto;if(l.name!=null&&(T.name=String(l.name)),l.options!=null){if(typeof l.options!="object")throw TypeError(".google.protobuf.OneofDescriptorProto.options: object expected");T.options=m.google.protobuf.OneofOptions.fromObject(l.options)}return T},z.toObject=function(l,T){var O={};return(T=T||{}).defaults&&(O.name="",O.options=null),l.name!=null&&l.hasOwnProperty("name")&&(O.name=l.name),l.options!=null&&l.hasOwnProperty("options")&&(O.options=m.google.protobuf.OneofOptions.toObject(l.options,T)),O},z.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},z),p.EnumDescriptorProto=(J.prototype.name="",J.prototype.value=d.emptyArray,J.prototype.options=null,J.prototype.reservedRange=d.emptyArray,J.prototype.reservedName=d.emptyArray,J.create=function(l){return new J(l)},J.encode=function(l,T){if(T=T||c.create(),l.name!=null&&Object.hasOwnProperty.call(l,"name")&&T.uint32(10).string(l.name),l.value!=null&&l.value.length)for(var O=0;O<l.value.length;++O)m.google.protobuf.EnumValueDescriptorProto.encode(l.value[O],T.uint32(18).fork()).ldelim();if(l.options!=null&&Object.hasOwnProperty.call(l,"options")&&m.google.protobuf.EnumOptions.encode(l.options,T.uint32(26).fork()).ldelim(),l.reservedRange!=null&&l.reservedRange.length)for(O=0;O<l.reservedRange.length;++O)m.google.protobuf.EnumDescriptorProto.EnumReservedRange.encode(l.reservedRange[O],T.uint32(34).fork()).ldelim();if(l.reservedName!=null&&l.reservedName.length)for(O=0;O<l.reservedName.length;++O)T.uint32(42).string(l.reservedName[O]);return T},J.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},J.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.EnumDescriptorProto;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 1:H.name=l.string();break;case 2:H.value&&H.value.length||(H.value=[]),H.value.push(m.google.protobuf.EnumValueDescriptorProto.decode(l,l.uint32()));break;case 3:H.options=m.google.protobuf.EnumOptions.decode(l,l.uint32());break;case 4:H.reservedRange&&H.reservedRange.length||(H.reservedRange=[]),H.reservedRange.push(m.google.protobuf.EnumDescriptorProto.EnumReservedRange.decode(l,l.uint32()));break;case 5:H.reservedName&&H.reservedName.length||(H.reservedName=[]),H.reservedName.push(l.string());break;default:l.skipType(7&ae)}}return H},J.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},J.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.name!=null&&l.hasOwnProperty("name")&&!d.isString(l.name))return"name: string expected";if(l.value!=null&&l.hasOwnProperty("value")){if(!Array.isArray(l.value))return"value: array expected";for(var T=0;T<l.value.length;++T)if(O=m.google.protobuf.EnumValueDescriptorProto.verify(l.value[T]))return"value."+O}if(l.options!=null&&l.hasOwnProperty("options")&&(O=m.google.protobuf.EnumOptions.verify(l.options)))return"options."+O;if(l.reservedRange!=null&&l.hasOwnProperty("reservedRange")){if(!Array.isArray(l.reservedRange))return"reservedRange: array expected";for(var O,T=0;T<l.reservedRange.length;++T)if(O=m.google.protobuf.EnumDescriptorProto.EnumReservedRange.verify(l.reservedRange[T]))return"reservedRange."+O}if(l.reservedName!=null&&l.hasOwnProperty("reservedName")){if(!Array.isArray(l.reservedName))return"reservedName: array expected";for(T=0;T<l.reservedName.length;++T)if(!d.isString(l.reservedName[T]))return"reservedName: string[] expected"}return null},J.fromObject=function(l){if(l instanceof m.google.protobuf.EnumDescriptorProto)return l;var T=new m.google.protobuf.EnumDescriptorProto;if(l.name!=null&&(T.name=String(l.name)),l.value){if(!Array.isArray(l.value))throw TypeError(".google.protobuf.EnumDescriptorProto.value: array expected");T.value=[];for(var O=0;O<l.value.length;++O){if(typeof l.value[O]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.value: object expected");T.value[O]=m.google.protobuf.EnumValueDescriptorProto.fromObject(l.value[O])}}if(l.options!=null){if(typeof l.options!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.options: object expected");T.options=m.google.protobuf.EnumOptions.fromObject(l.options)}if(l.reservedRange){if(!Array.isArray(l.reservedRange))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: array expected");for(T.reservedRange=[],O=0;O<l.reservedRange.length;++O){if(typeof l.reservedRange[O]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: object expected");T.reservedRange[O]=m.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(l.reservedRange[O])}}if(l.reservedName){if(!Array.isArray(l.reservedName))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedName: array expected");for(T.reservedName=[],O=0;O<l.reservedName.length;++O)T.reservedName[O]=String(l.reservedName[O])}return T},J.toObject=function(l,T){var O={};if(((T=T||{}).arrays||T.defaults)&&(O.value=[],O.reservedRange=[],O.reservedName=[]),T.defaults&&(O.name="",O.options=null),l.name!=null&&l.hasOwnProperty("name")&&(O.name=l.name),l.value&&l.value.length){O.value=[];for(var H=0;H<l.value.length;++H)O.value[H]=m.google.protobuf.EnumValueDescriptorProto.toObject(l.value[H],T)}if(l.options!=null&&l.hasOwnProperty("options")&&(O.options=m.google.protobuf.EnumOptions.toObject(l.options,T)),l.reservedRange&&l.reservedRange.length)for(O.reservedRange=[],H=0;H<l.reservedRange.length;++H)O.reservedRange[H]=m.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(l.reservedRange[H],T);if(l.reservedName&&l.reservedName.length)for(O.reservedName=[],H=0;H<l.reservedName.length;++H)O.reservedName[H]=l.reservedName[H];return O},J.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},J.EnumReservedRange=(Z.prototype.start=0,Z.prototype.end=0,Z.create=function(l){return new Z(l)},Z.encode=function(l,T){return T=T||c.create(),l.start!=null&&Object.hasOwnProperty.call(l,"start")&&T.uint32(8).int32(l.start),l.end!=null&&Object.hasOwnProperty.call(l,"end")&&T.uint32(16).int32(l.end),T},Z.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},Z.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.EnumDescriptorProto.EnumReservedRange;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 1:H.start=l.int32();break;case 2:H.end=l.int32();break;default:l.skipType(7&ae)}}return H},Z.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},Z.verify=function(l){return typeof l!="object"||l===null?"object expected":l.start!=null&&l.hasOwnProperty("start")&&!d.isInteger(l.start)?"start: integer expected":l.end!=null&&l.hasOwnProperty("end")&&!d.isInteger(l.end)?"end: integer expected":null},Z.fromObject=function(l){var T;return l instanceof m.google.protobuf.EnumDescriptorProto.EnumReservedRange?l:(T=new m.google.protobuf.EnumDescriptorProto.EnumReservedRange,l.start!=null&&(T.start=0|l.start),l.end!=null&&(T.end=0|l.end),T)},Z.toObject=function(l,T){var O={};return(T=T||{}).defaults&&(O.start=0,O.end=0),l.start!=null&&l.hasOwnProperty("start")&&(O.start=l.start),l.end!=null&&l.hasOwnProperty("end")&&(O.end=l.end),O},Z.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Z),J),p.EnumValueDescriptorProto=(X.prototype.name="",X.prototype.number=0,X.prototype.options=null,X.create=function(l){return new X(l)},X.encode=function(l,T){return T=T||c.create(),l.name!=null&&Object.hasOwnProperty.call(l,"name")&&T.uint32(10).string(l.name),l.number!=null&&Object.hasOwnProperty.call(l,"number")&&T.uint32(16).int32(l.number),l.options!=null&&Object.hasOwnProperty.call(l,"options")&&m.google.protobuf.EnumValueOptions.encode(l.options,T.uint32(26).fork()).ldelim(),T},X.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},X.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.EnumValueDescriptorProto;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 1:H.name=l.string();break;case 2:H.number=l.int32();break;case 3:H.options=m.google.protobuf.EnumValueOptions.decode(l,l.uint32());break;default:l.skipType(7&ae)}}return H},X.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},X.verify=function(l){return typeof l!="object"||l===null?"object expected":l.name!=null&&l.hasOwnProperty("name")&&!d.isString(l.name)?"name: string expected":l.number!=null&&l.hasOwnProperty("number")&&!d.isInteger(l.number)?"number: integer expected":l.options!=null&&l.hasOwnProperty("options")&&(l=m.google.protobuf.EnumValueOptions.verify(l.options),l)?"options."+l:null},X.fromObject=function(l){if(l instanceof m.google.protobuf.EnumValueDescriptorProto)return l;var T=new m.google.protobuf.EnumValueDescriptorProto;if(l.name!=null&&(T.name=String(l.name)),l.number!=null&&(T.number=0|l.number),l.options!=null){if(typeof l.options!="object")throw TypeError(".google.protobuf.EnumValueDescriptorProto.options: object expected");T.options=m.google.protobuf.EnumValueOptions.fromObject(l.options)}return T},X.toObject=function(l,T){var O={};return(T=T||{}).defaults&&(O.name="",O.number=0,O.options=null),l.name!=null&&l.hasOwnProperty("name")&&(O.name=l.name),l.number!=null&&l.hasOwnProperty("number")&&(O.number=l.number),l.options!=null&&l.hasOwnProperty("options")&&(O.options=m.google.protobuf.EnumValueOptions.toObject(l.options,T)),O},X.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},X),p.ServiceDescriptorProto=(te.prototype.name="",te.prototype.method=d.emptyArray,te.prototype.options=null,te.create=function(l){return new te(l)},te.encode=function(l,T){if(T=T||c.create(),l.name!=null&&Object.hasOwnProperty.call(l,"name")&&T.uint32(10).string(l.name),l.method!=null&&l.method.length)for(var O=0;O<l.method.length;++O)m.google.protobuf.MethodDescriptorProto.encode(l.method[O],T.uint32(18).fork()).ldelim();return l.options!=null&&Object.hasOwnProperty.call(l,"options")&&m.google.protobuf.ServiceOptions.encode(l.options,T.uint32(26).fork()).ldelim(),T},te.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},te.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.ServiceDescriptorProto;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 1:H.name=l.string();break;case 2:H.method&&H.method.length||(H.method=[]),H.method.push(m.google.protobuf.MethodDescriptorProto.decode(l,l.uint32()));break;case 3:H.options=m.google.protobuf.ServiceOptions.decode(l,l.uint32());break;default:l.skipType(7&ae)}}return H},te.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},te.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.name!=null&&l.hasOwnProperty("name")&&!d.isString(l.name))return"name: string expected";if(l.method!=null&&l.hasOwnProperty("method")){if(!Array.isArray(l.method))return"method: array expected";for(var T=0;T<l.method.length;++T)if(O=m.google.protobuf.MethodDescriptorProto.verify(l.method[T]))return"method."+O}var O;return l.options!=null&&l.hasOwnProperty("options")&&(O=m.google.protobuf.ServiceOptions.verify(l.options))?"options."+O:null},te.fromObject=function(l){if(l instanceof m.google.protobuf.ServiceDescriptorProto)return l;var T=new m.google.protobuf.ServiceDescriptorProto;if(l.name!=null&&(T.name=String(l.name)),l.method){if(!Array.isArray(l.method))throw TypeError(".google.protobuf.ServiceDescriptorProto.method: array expected");T.method=[];for(var O=0;O<l.method.length;++O){if(typeof l.method[O]!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.method: object expected");T.method[O]=m.google.protobuf.MethodDescriptorProto.fromObject(l.method[O])}}if(l.options!=null){if(typeof l.options!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.options: object expected");T.options=m.google.protobuf.ServiceOptions.fromObject(l.options)}return T},te.toObject=function(l,T){var O={};if(((T=T||{}).arrays||T.defaults)&&(O.method=[]),T.defaults&&(O.name="",O.options=null),l.name!=null&&l.hasOwnProperty("name")&&(O.name=l.name),l.method&&l.method.length){O.method=[];for(var H=0;H<l.method.length;++H)O.method[H]=m.google.protobuf.MethodDescriptorProto.toObject(l.method[H],T)}return l.options!=null&&l.hasOwnProperty("options")&&(O.options=m.google.protobuf.ServiceOptions.toObject(l.options,T)),O},te.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},te),p.MethodDescriptorProto=(be.prototype.name="",be.prototype.inputType="",be.prototype.outputType="",be.prototype.options=null,be.prototype.clientStreaming=!1,be.prototype.serverStreaming=!1,be.create=function(l){return new be(l)},be.encode=function(l,T){return T=T||c.create(),l.name!=null&&Object.hasOwnProperty.call(l,"name")&&T.uint32(10).string(l.name),l.inputType!=null&&Object.hasOwnProperty.call(l,"inputType")&&T.uint32(18).string(l.inputType),l.outputType!=null&&Object.hasOwnProperty.call(l,"outputType")&&T.uint32(26).string(l.outputType),l.options!=null&&Object.hasOwnProperty.call(l,"options")&&m.google.protobuf.MethodOptions.encode(l.options,T.uint32(34).fork()).ldelim(),l.clientStreaming!=null&&Object.hasOwnProperty.call(l,"clientStreaming")&&T.uint32(40).bool(l.clientStreaming),l.serverStreaming!=null&&Object.hasOwnProperty.call(l,"serverStreaming")&&T.uint32(48).bool(l.serverStreaming),T},be.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},be.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.MethodDescriptorProto;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 1:H.name=l.string();break;case 2:H.inputType=l.string();break;case 3:H.outputType=l.string();break;case 4:H.options=m.google.protobuf.MethodOptions.decode(l,l.uint32());break;case 5:H.clientStreaming=l.bool();break;case 6:H.serverStreaming=l.bool();break;default:l.skipType(7&ae)}}return H},be.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},be.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.name!=null&&l.hasOwnProperty("name")&&!d.isString(l.name))return"name: string expected";if(l.inputType!=null&&l.hasOwnProperty("inputType")&&!d.isString(l.inputType))return"inputType: string expected";if(l.outputType!=null&&l.hasOwnProperty("outputType")&&!d.isString(l.outputType))return"outputType: string expected";if(l.options!=null&&l.hasOwnProperty("options")){var T=m.google.protobuf.MethodOptions.verify(l.options);if(T)return"options."+T}return l.clientStreaming!=null&&l.hasOwnProperty("clientStreaming")&&typeof l.clientStreaming!="boolean"?"clientStreaming: boolean expected":l.serverStreaming!=null&&l.hasOwnProperty("serverStreaming")&&typeof l.serverStreaming!="boolean"?"serverStreaming: boolean expected":null},be.fromObject=function(l){if(l instanceof m.google.protobuf.MethodDescriptorProto)return l;var T=new m.google.protobuf.MethodDescriptorProto;if(l.name!=null&&(T.name=String(l.name)),l.inputType!=null&&(T.inputType=String(l.inputType)),l.outputType!=null&&(T.outputType=String(l.outputType)),l.options!=null){if(typeof l.options!="object")throw TypeError(".google.protobuf.MethodDescriptorProto.options: object expected");T.options=m.google.protobuf.MethodOptions.fromObject(l.options)}return l.clientStreaming!=null&&(T.clientStreaming=!!l.clientStreaming),l.serverStreaming!=null&&(T.serverStreaming=!!l.serverStreaming),T},be.toObject=function(l,T){var O={};return(T=T||{}).defaults&&(O.name="",O.inputType="",O.outputType="",O.options=null,O.clientStreaming=!1,O.serverStreaming=!1),l.name!=null&&l.hasOwnProperty("name")&&(O.name=l.name),l.inputType!=null&&l.hasOwnProperty("inputType")&&(O.inputType=l.inputType),l.outputType!=null&&l.hasOwnProperty("outputType")&&(O.outputType=l.outputType),l.options!=null&&l.hasOwnProperty("options")&&(O.options=m.google.protobuf.MethodOptions.toObject(l.options,T)),l.clientStreaming!=null&&l.hasOwnProperty("clientStreaming")&&(O.clientStreaming=l.clientStreaming),l.serverStreaming!=null&&l.hasOwnProperty("serverStreaming")&&(O.serverStreaming=l.serverStreaming),O},be.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},be),p.FileOptions=(Ae.prototype.javaPackage="",Ae.prototype.javaOuterClassname="",Ae.prototype.javaMultipleFiles=!1,Ae.prototype.javaGenerateEqualsAndHash=!1,Ae.prototype.javaStringCheckUtf8=!1,Ae.prototype.optimizeFor=1,Ae.prototype.goPackage="",Ae.prototype.ccGenericServices=!1,Ae.prototype.javaGenericServices=!1,Ae.prototype.pyGenericServices=!1,Ae.prototype.phpGenericServices=!1,Ae.prototype.deprecated=!1,Ae.prototype.ccEnableArenas=!0,Ae.prototype.objcClassPrefix="",Ae.prototype.csharpNamespace="",Ae.prototype.swiftPrefix="",Ae.prototype.phpClassPrefix="",Ae.prototype.phpNamespace="",Ae.prototype.phpMetadataNamespace="",Ae.prototype.rubyPackage="",Ae.prototype.uninterpretedOption=d.emptyArray,Ae.create=function(l){return new Ae(l)},Ae.encode=function(l,T){if(T=T||c.create(),l.javaPackage!=null&&Object.hasOwnProperty.call(l,"javaPackage")&&T.uint32(10).string(l.javaPackage),l.javaOuterClassname!=null&&Object.hasOwnProperty.call(l,"javaOuterClassname")&&T.uint32(66).string(l.javaOuterClassname),l.optimizeFor!=null&&Object.hasOwnProperty.call(l,"optimizeFor")&&T.uint32(72).int32(l.optimizeFor),l.javaMultipleFiles!=null&&Object.hasOwnProperty.call(l,"javaMultipleFiles")&&T.uint32(80).bool(l.javaMultipleFiles),l.goPackage!=null&&Object.hasOwnProperty.call(l,"goPackage")&&T.uint32(90).string(l.goPackage),l.ccGenericServices!=null&&Object.hasOwnProperty.call(l,"ccGenericServices")&&T.uint32(128).bool(l.ccGenericServices),l.javaGenericServices!=null&&Object.hasOwnProperty.call(l,"javaGenericServices")&&T.uint32(136).bool(l.javaGenericServices),l.pyGenericServices!=null&&Object.hasOwnProperty.call(l,"pyGenericServices")&&T.uint32(144).bool(l.pyGenericServices),l.javaGenerateEqualsAndHash!=null&&Object.hasOwnProperty.call(l,"javaGenerateEqualsAndHash")&&T.uint32(160).bool(l.javaGenerateEqualsAndHash),l.deprecated!=null&&Object.hasOwnProperty.call(l,"deprecated")&&T.uint32(184).bool(l.deprecated),l.javaStringCheckUtf8!=null&&Object.hasOwnProperty.call(l,"javaStringCheckUtf8")&&T.uint32(216).bool(l.javaStringCheckUtf8),l.ccEnableArenas!=null&&Object.hasOwnProperty.call(l,"ccEnableArenas")&&T.uint32(248).bool(l.ccEnableArenas),l.objcClassPrefix!=null&&Object.hasOwnProperty.call(l,"objcClassPrefix")&&T.uint32(290).string(l.objcClassPrefix),l.csharpNamespace!=null&&Object.hasOwnProperty.call(l,"csharpNamespace")&&T.uint32(298).string(l.csharpNamespace),l.swiftPrefix!=null&&Object.hasOwnProperty.call(l,"swiftPrefix")&&T.uint32(314).string(l.swiftPrefix),l.phpClassPrefix!=null&&Object.hasOwnProperty.call(l,"phpClassPrefix")&&T.uint32(322).string(l.phpClassPrefix),l.phpNamespace!=null&&Object.hasOwnProperty.call(l,"phpNamespace")&&T.uint32(330).string(l.phpNamespace),l.phpGenericServices!=null&&Object.hasOwnProperty.call(l,"phpGenericServices")&&T.uint32(336).bool(l.phpGenericServices),l.phpMetadataNamespace!=null&&Object.hasOwnProperty.call(l,"phpMetadataNamespace")&&T.uint32(354).string(l.phpMetadataNamespace),l.rubyPackage!=null&&Object.hasOwnProperty.call(l,"rubyPackage")&&T.uint32(362).string(l.rubyPackage),l.uninterpretedOption!=null&&l.uninterpretedOption.length)for(var O=0;O<l.uninterpretedOption.length;++O)m.google.protobuf.UninterpretedOption.encode(l.uninterpretedOption[O],T.uint32(7994).fork()).ldelim();return T},Ae.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},Ae.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.FileOptions;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 1:H.javaPackage=l.string();break;case 8:H.javaOuterClassname=l.string();break;case 10:H.javaMultipleFiles=l.bool();break;case 20:H.javaGenerateEqualsAndHash=l.bool();break;case 27:H.javaStringCheckUtf8=l.bool();break;case 9:H.optimizeFor=l.int32();break;case 11:H.goPackage=l.string();break;case 16:H.ccGenericServices=l.bool();break;case 17:H.javaGenericServices=l.bool();break;case 18:H.pyGenericServices=l.bool();break;case 42:H.phpGenericServices=l.bool();break;case 23:H.deprecated=l.bool();break;case 31:H.ccEnableArenas=l.bool();break;case 36:H.objcClassPrefix=l.string();break;case 37:H.csharpNamespace=l.string();break;case 39:H.swiftPrefix=l.string();break;case 40:H.phpClassPrefix=l.string();break;case 41:H.phpNamespace=l.string();break;case 44:H.phpMetadataNamespace=l.string();break;case 45:H.rubyPackage=l.string();break;case 999:H.uninterpretedOption&&H.uninterpretedOption.length||(H.uninterpretedOption=[]),H.uninterpretedOption.push(m.google.protobuf.UninterpretedOption.decode(l,l.uint32()));break;default:l.skipType(7&ae)}}return H},Ae.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},Ae.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.javaPackage!=null&&l.hasOwnProperty("javaPackage")&&!d.isString(l.javaPackage))return"javaPackage: string expected";if(l.javaOuterClassname!=null&&l.hasOwnProperty("javaOuterClassname")&&!d.isString(l.javaOuterClassname))return"javaOuterClassname: string expected";if(l.javaMultipleFiles!=null&&l.hasOwnProperty("javaMultipleFiles")&&typeof l.javaMultipleFiles!="boolean")return"javaMultipleFiles: boolean expected";if(l.javaGenerateEqualsAndHash!=null&&l.hasOwnProperty("javaGenerateEqualsAndHash")&&typeof l.javaGenerateEqualsAndHash!="boolean")return"javaGenerateEqualsAndHash: boolean expected";if(l.javaStringCheckUtf8!=null&&l.hasOwnProperty("javaStringCheckUtf8")&&typeof l.javaStringCheckUtf8!="boolean")return"javaStringCheckUtf8: boolean expected";if(l.optimizeFor!=null&&l.hasOwnProperty("optimizeFor"))switch(l.optimizeFor){default:return"optimizeFor: enum value expected";case 1:case 2:case 3:}if(l.goPackage!=null&&l.hasOwnProperty("goPackage")&&!d.isString(l.goPackage))return"goPackage: string expected";if(l.ccGenericServices!=null&&l.hasOwnProperty("ccGenericServices")&&typeof l.ccGenericServices!="boolean")return"ccGenericServices: boolean expected";if(l.javaGenericServices!=null&&l.hasOwnProperty("javaGenericServices")&&typeof l.javaGenericServices!="boolean")return"javaGenericServices: boolean expected";if(l.pyGenericServices!=null&&l.hasOwnProperty("pyGenericServices")&&typeof l.pyGenericServices!="boolean")return"pyGenericServices: boolean expected";if(l.phpGenericServices!=null&&l.hasOwnProperty("phpGenericServices")&&typeof l.phpGenericServices!="boolean")return"phpGenericServices: boolean expected";if(l.deprecated!=null&&l.hasOwnProperty("deprecated")&&typeof l.deprecated!="boolean")return"deprecated: boolean expected";if(l.ccEnableArenas!=null&&l.hasOwnProperty("ccEnableArenas")&&typeof l.ccEnableArenas!="boolean")return"ccEnableArenas: boolean expected";if(l.objcClassPrefix!=null&&l.hasOwnProperty("objcClassPrefix")&&!d.isString(l.objcClassPrefix))return"objcClassPrefix: string expected";if(l.csharpNamespace!=null&&l.hasOwnProperty("csharpNamespace")&&!d.isString(l.csharpNamespace))return"csharpNamespace: string expected";if(l.swiftPrefix!=null&&l.hasOwnProperty("swiftPrefix")&&!d.isString(l.swiftPrefix))return"swiftPrefix: string expected";if(l.phpClassPrefix!=null&&l.hasOwnProperty("phpClassPrefix")&&!d.isString(l.phpClassPrefix))return"phpClassPrefix: string expected";if(l.phpNamespace!=null&&l.hasOwnProperty("phpNamespace")&&!d.isString(l.phpNamespace))return"phpNamespace: string expected";if(l.phpMetadataNamespace!=null&&l.hasOwnProperty("phpMetadataNamespace")&&!d.isString(l.phpMetadataNamespace))return"phpMetadataNamespace: string expected";if(l.rubyPackage!=null&&l.hasOwnProperty("rubyPackage")&&!d.isString(l.rubyPackage))return"rubyPackage: string expected";if(l.uninterpretedOption!=null&&l.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(l.uninterpretedOption))return"uninterpretedOption: array expected";for(var T=0;T<l.uninterpretedOption.length;++T){var O=m.google.protobuf.UninterpretedOption.verify(l.uninterpretedOption[T]);if(O)return"uninterpretedOption."+O}}return null},Ae.fromObject=function(l){if(l instanceof m.google.protobuf.FileOptions)return l;var T=new m.google.protobuf.FileOptions;switch(l.javaPackage!=null&&(T.javaPackage=String(l.javaPackage)),l.javaOuterClassname!=null&&(T.javaOuterClassname=String(l.javaOuterClassname)),l.javaMultipleFiles!=null&&(T.javaMultipleFiles=!!l.javaMultipleFiles),l.javaGenerateEqualsAndHash!=null&&(T.javaGenerateEqualsAndHash=!!l.javaGenerateEqualsAndHash),l.javaStringCheckUtf8!=null&&(T.javaStringCheckUtf8=!!l.javaStringCheckUtf8),l.optimizeFor){case"SPEED":case 1:T.optimizeFor=1;break;case"CODE_SIZE":case 2:T.optimizeFor=2;break;case"LITE_RUNTIME":case 3:T.optimizeFor=3}if(l.goPackage!=null&&(T.goPackage=String(l.goPackage)),l.ccGenericServices!=null&&(T.ccGenericServices=!!l.ccGenericServices),l.javaGenericServices!=null&&(T.javaGenericServices=!!l.javaGenericServices),l.pyGenericServices!=null&&(T.pyGenericServices=!!l.pyGenericServices),l.phpGenericServices!=null&&(T.phpGenericServices=!!l.phpGenericServices),l.deprecated!=null&&(T.deprecated=!!l.deprecated),l.ccEnableArenas!=null&&(T.ccEnableArenas=!!l.ccEnableArenas),l.objcClassPrefix!=null&&(T.objcClassPrefix=String(l.objcClassPrefix)),l.csharpNamespace!=null&&(T.csharpNamespace=String(l.csharpNamespace)),l.swiftPrefix!=null&&(T.swiftPrefix=String(l.swiftPrefix)),l.phpClassPrefix!=null&&(T.phpClassPrefix=String(l.phpClassPrefix)),l.phpNamespace!=null&&(T.phpNamespace=String(l.phpNamespace)),l.phpMetadataNamespace!=null&&(T.phpMetadataNamespace=String(l.phpMetadataNamespace)),l.rubyPackage!=null&&(T.rubyPackage=String(l.rubyPackage)),l.uninterpretedOption){if(!Array.isArray(l.uninterpretedOption))throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: array expected");T.uninterpretedOption=[];for(var O=0;O<l.uninterpretedOption.length;++O){if(typeof l.uninterpretedOption[O]!="object")throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: object expected");T.uninterpretedOption[O]=m.google.protobuf.UninterpretedOption.fromObject(l.uninterpretedOption[O])}}return T},Ae.toObject=function(l,T){var O={};if(((T=T||{}).arrays||T.defaults)&&(O.uninterpretedOption=[]),T.defaults&&(O.javaPackage="",O.javaOuterClassname="",O.optimizeFor=T.enums===String?"SPEED":1,O.javaMultipleFiles=!1,O.goPackage="",O.ccGenericServices=!1,O.javaGenericServices=!1,O.pyGenericServices=!1,O.javaGenerateEqualsAndHash=!1,O.deprecated=!1,O.javaStringCheckUtf8=!1,O.ccEnableArenas=!0,O.objcClassPrefix="",O.csharpNamespace="",O.swiftPrefix="",O.phpClassPrefix="",O.phpNamespace="",O.phpGenericServices=!1,O.phpMetadataNamespace="",O.rubyPackage=""),l.javaPackage!=null&&l.hasOwnProperty("javaPackage")&&(O.javaPackage=l.javaPackage),l.javaOuterClassname!=null&&l.hasOwnProperty("javaOuterClassname")&&(O.javaOuterClassname=l.javaOuterClassname),l.optimizeFor!=null&&l.hasOwnProperty("optimizeFor")&&(O.optimizeFor=T.enums===String?m.google.protobuf.FileOptions.OptimizeMode[l.optimizeFor]:l.optimizeFor),l.javaMultipleFiles!=null&&l.hasOwnProperty("javaMultipleFiles")&&(O.javaMultipleFiles=l.javaMultipleFiles),l.goPackage!=null&&l.hasOwnProperty("goPackage")&&(O.goPackage=l.goPackage),l.ccGenericServices!=null&&l.hasOwnProperty("ccGenericServices")&&(O.ccGenericServices=l.ccGenericServices),l.javaGenericServices!=null&&l.hasOwnProperty("javaGenericServices")&&(O.javaGenericServices=l.javaGenericServices),l.pyGenericServices!=null&&l.hasOwnProperty("pyGenericServices")&&(O.pyGenericServices=l.pyGenericServices),l.javaGenerateEqualsAndHash!=null&&l.hasOwnProperty("javaGenerateEqualsAndHash")&&(O.javaGenerateEqualsAndHash=l.javaGenerateEqualsAndHash),l.deprecated!=null&&l.hasOwnProperty("deprecated")&&(O.deprecated=l.deprecated),l.javaStringCheckUtf8!=null&&l.hasOwnProperty("javaStringCheckUtf8")&&(O.javaStringCheckUtf8=l.javaStringCheckUtf8),l.ccEnableArenas!=null&&l.hasOwnProperty("ccEnableArenas")&&(O.ccEnableArenas=l.ccEnableArenas),l.objcClassPrefix!=null&&l.hasOwnProperty("objcClassPrefix")&&(O.objcClassPrefix=l.objcClassPrefix),l.csharpNamespace!=null&&l.hasOwnProperty("csharpNamespace")&&(O.csharpNamespace=l.csharpNamespace),l.swiftPrefix!=null&&l.hasOwnProperty("swiftPrefix")&&(O.swiftPrefix=l.swiftPrefix),l.phpClassPrefix!=null&&l.hasOwnProperty("phpClassPrefix")&&(O.phpClassPrefix=l.phpClassPrefix),l.phpNamespace!=null&&l.hasOwnProperty("phpNamespace")&&(O.phpNamespace=l.phpNamespace),l.phpGenericServices!=null&&l.hasOwnProperty("phpGenericServices")&&(O.phpGenericServices=l.phpGenericServices),l.phpMetadataNamespace!=null&&l.hasOwnProperty("phpMetadataNamespace")&&(O.phpMetadataNamespace=l.phpMetadataNamespace),l.rubyPackage!=null&&l.hasOwnProperty("rubyPackage")&&(O.rubyPackage=l.rubyPackage),l.uninterpretedOption&&l.uninterpretedOption.length){O.uninterpretedOption=[];for(var H=0;H<l.uninterpretedOption.length;++H)O.uninterpretedOption[H]=m.google.protobuf.UninterpretedOption.toObject(l.uninterpretedOption[H],T)}return O},Ae.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ae.OptimizeMode=(r={},(u=Object.create(r))[r[1]="SPEED"]=1,u[r[2]="CODE_SIZE"]=2,u[r[3]="LITE_RUNTIME"]=3,u),Ae),p.MessageOptions=(Ne.prototype.messageSetWireFormat=!1,Ne.prototype.noStandardDescriptorAccessor=!1,Ne.prototype.deprecated=!1,Ne.prototype.mapEntry=!1,Ne.prototype.uninterpretedOption=d.emptyArray,Ne.create=function(l){return new Ne(l)},Ne.encode=function(l,T){if(T=T||c.create(),l.messageSetWireFormat!=null&&Object.hasOwnProperty.call(l,"messageSetWireFormat")&&T.uint32(8).bool(l.messageSetWireFormat),l.noStandardDescriptorAccessor!=null&&Object.hasOwnProperty.call(l,"noStandardDescriptorAccessor")&&T.uint32(16).bool(l.noStandardDescriptorAccessor),l.deprecated!=null&&Object.hasOwnProperty.call(l,"deprecated")&&T.uint32(24).bool(l.deprecated),l.mapEntry!=null&&Object.hasOwnProperty.call(l,"mapEntry")&&T.uint32(56).bool(l.mapEntry),l.uninterpretedOption!=null&&l.uninterpretedOption.length)for(var O=0;O<l.uninterpretedOption.length;++O)m.google.protobuf.UninterpretedOption.encode(l.uninterpretedOption[O],T.uint32(7994).fork()).ldelim();return T},Ne.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},Ne.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.MessageOptions;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 1:H.messageSetWireFormat=l.bool();break;case 2:H.noStandardDescriptorAccessor=l.bool();break;case 3:H.deprecated=l.bool();break;case 7:H.mapEntry=l.bool();break;case 999:H.uninterpretedOption&&H.uninterpretedOption.length||(H.uninterpretedOption=[]),H.uninterpretedOption.push(m.google.protobuf.UninterpretedOption.decode(l,l.uint32()));break;default:l.skipType(7&ae)}}return H},Ne.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},Ne.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.messageSetWireFormat!=null&&l.hasOwnProperty("messageSetWireFormat")&&typeof l.messageSetWireFormat!="boolean")return"messageSetWireFormat: boolean expected";if(l.noStandardDescriptorAccessor!=null&&l.hasOwnProperty("noStandardDescriptorAccessor")&&typeof l.noStandardDescriptorAccessor!="boolean")return"noStandardDescriptorAccessor: boolean expected";if(l.deprecated!=null&&l.hasOwnProperty("deprecated")&&typeof l.deprecated!="boolean")return"deprecated: boolean expected";if(l.mapEntry!=null&&l.hasOwnProperty("mapEntry")&&typeof l.mapEntry!="boolean")return"mapEntry: boolean expected";if(l.uninterpretedOption!=null&&l.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(l.uninterpretedOption))return"uninterpretedOption: array expected";for(var T=0;T<l.uninterpretedOption.length;++T){var O=m.google.protobuf.UninterpretedOption.verify(l.uninterpretedOption[T]);if(O)return"uninterpretedOption."+O}}return null},Ne.fromObject=function(l){if(l instanceof m.google.protobuf.MessageOptions)return l;var T=new m.google.protobuf.MessageOptions;if(l.messageSetWireFormat!=null&&(T.messageSetWireFormat=!!l.messageSetWireFormat),l.noStandardDescriptorAccessor!=null&&(T.noStandardDescriptorAccessor=!!l.noStandardDescriptorAccessor),l.deprecated!=null&&(T.deprecated=!!l.deprecated),l.mapEntry!=null&&(T.mapEntry=!!l.mapEntry),l.uninterpretedOption){if(!Array.isArray(l.uninterpretedOption))throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: array expected");T.uninterpretedOption=[];for(var O=0;O<l.uninterpretedOption.length;++O){if(typeof l.uninterpretedOption[O]!="object")throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: object expected");T.uninterpretedOption[O]=m.google.protobuf.UninterpretedOption.fromObject(l.uninterpretedOption[O])}}return T},Ne.toObject=function(l,T){var O={};if(((T=T||{}).arrays||T.defaults)&&(O.uninterpretedOption=[]),T.defaults&&(O.messageSetWireFormat=!1,O.noStandardDescriptorAccessor=!1,O.deprecated=!1,O.mapEntry=!1),l.messageSetWireFormat!=null&&l.hasOwnProperty("messageSetWireFormat")&&(O.messageSetWireFormat=l.messageSetWireFormat),l.noStandardDescriptorAccessor!=null&&l.hasOwnProperty("noStandardDescriptorAccessor")&&(O.noStandardDescriptorAccessor=l.noStandardDescriptorAccessor),l.deprecated!=null&&l.hasOwnProperty("deprecated")&&(O.deprecated=l.deprecated),l.mapEntry!=null&&l.hasOwnProperty("mapEntry")&&(O.mapEntry=l.mapEntry),l.uninterpretedOption&&l.uninterpretedOption.length){O.uninterpretedOption=[];for(var H=0;H<l.uninterpretedOption.length;++H)O.uninterpretedOption[H]=m.google.protobuf.UninterpretedOption.toObject(l.uninterpretedOption[H],T)}return O},Ne.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ne),p.FieldOptions=(ke.prototype.ctype=0,ke.prototype.packed=!1,ke.prototype.jstype=0,ke.prototype.lazy=!1,ke.prototype.deprecated=!1,ke.prototype.weak=!1,ke.prototype.uninterpretedOption=d.emptyArray,ke.create=function(l){return new ke(l)},ke.encode=function(l,T){if(T=T||c.create(),l.ctype!=null&&Object.hasOwnProperty.call(l,"ctype")&&T.uint32(8).int32(l.ctype),l.packed!=null&&Object.hasOwnProperty.call(l,"packed")&&T.uint32(16).bool(l.packed),l.deprecated!=null&&Object.hasOwnProperty.call(l,"deprecated")&&T.uint32(24).bool(l.deprecated),l.lazy!=null&&Object.hasOwnProperty.call(l,"lazy")&&T.uint32(40).bool(l.lazy),l.jstype!=null&&Object.hasOwnProperty.call(l,"jstype")&&T.uint32(48).int32(l.jstype),l.weak!=null&&Object.hasOwnProperty.call(l,"weak")&&T.uint32(80).bool(l.weak),l.uninterpretedOption!=null&&l.uninterpretedOption.length)for(var O=0;O<l.uninterpretedOption.length;++O)m.google.protobuf.UninterpretedOption.encode(l.uninterpretedOption[O],T.uint32(7994).fork()).ldelim();return T},ke.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},ke.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.FieldOptions;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 1:H.ctype=l.int32();break;case 2:H.packed=l.bool();break;case 6:H.jstype=l.int32();break;case 5:H.lazy=l.bool();break;case 3:H.deprecated=l.bool();break;case 10:H.weak=l.bool();break;case 999:H.uninterpretedOption&&H.uninterpretedOption.length||(H.uninterpretedOption=[]),H.uninterpretedOption.push(m.google.protobuf.UninterpretedOption.decode(l,l.uint32()));break;default:l.skipType(7&ae)}}return H},ke.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},ke.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.ctype!=null&&l.hasOwnProperty("ctype"))switch(l.ctype){default:return"ctype: enum value expected";case 0:case 1:case 2:}if(l.packed!=null&&l.hasOwnProperty("packed")&&typeof l.packed!="boolean")return"packed: boolean expected";if(l.jstype!=null&&l.hasOwnProperty("jstype"))switch(l.jstype){default:return"jstype: enum value expected";case 0:case 1:case 2:}if(l.lazy!=null&&l.hasOwnProperty("lazy")&&typeof l.lazy!="boolean")return"lazy: boolean expected";if(l.deprecated!=null&&l.hasOwnProperty("deprecated")&&typeof l.deprecated!="boolean")return"deprecated: boolean expected";if(l.weak!=null&&l.hasOwnProperty("weak")&&typeof l.weak!="boolean")return"weak: boolean expected";if(l.uninterpretedOption!=null&&l.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(l.uninterpretedOption))return"uninterpretedOption: array expected";for(var T=0;T<l.uninterpretedOption.length;++T){var O=m.google.protobuf.UninterpretedOption.verify(l.uninterpretedOption[T]);if(O)return"uninterpretedOption."+O}}return null},ke.fromObject=function(l){if(l instanceof m.google.protobuf.FieldOptions)return l;var T=new m.google.protobuf.FieldOptions;switch(l.ctype){case"STRING":case 0:T.ctype=0;break;case"CORD":case 1:T.ctype=1;break;case"STRING_PIECE":case 2:T.ctype=2}switch(l.packed!=null&&(T.packed=!!l.packed),l.jstype){case"JS_NORMAL":case 0:T.jstype=0;break;case"JS_STRING":case 1:T.jstype=1;break;case"JS_NUMBER":case 2:T.jstype=2}if(l.lazy!=null&&(T.lazy=!!l.lazy),l.deprecated!=null&&(T.deprecated=!!l.deprecated),l.weak!=null&&(T.weak=!!l.weak),l.uninterpretedOption){if(!Array.isArray(l.uninterpretedOption))throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: array expected");T.uninterpretedOption=[];for(var O=0;O<l.uninterpretedOption.length;++O){if(typeof l.uninterpretedOption[O]!="object")throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: object expected");T.uninterpretedOption[O]=m.google.protobuf.UninterpretedOption.fromObject(l.uninterpretedOption[O])}}return T},ke.toObject=function(l,T){var O={};if(((T=T||{}).arrays||T.defaults)&&(O.uninterpretedOption=[]),T.defaults&&(O.ctype=T.enums===String?"STRING":0,O.packed=!1,O.deprecated=!1,O.lazy=!1,O.jstype=T.enums===String?"JS_NORMAL":0,O.weak=!1),l.ctype!=null&&l.hasOwnProperty("ctype")&&(O.ctype=T.enums===String?m.google.protobuf.FieldOptions.CType[l.ctype]:l.ctype),l.packed!=null&&l.hasOwnProperty("packed")&&(O.packed=l.packed),l.deprecated!=null&&l.hasOwnProperty("deprecated")&&(O.deprecated=l.deprecated),l.lazy!=null&&l.hasOwnProperty("lazy")&&(O.lazy=l.lazy),l.jstype!=null&&l.hasOwnProperty("jstype")&&(O.jstype=T.enums===String?m.google.protobuf.FieldOptions.JSType[l.jstype]:l.jstype),l.weak!=null&&l.hasOwnProperty("weak")&&(O.weak=l.weak),l.uninterpretedOption&&l.uninterpretedOption.length){O.uninterpretedOption=[];for(var H=0;H<l.uninterpretedOption.length;++H)O.uninterpretedOption[H]=m.google.protobuf.UninterpretedOption.toObject(l.uninterpretedOption[H],T)}return O},ke.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ke.CType=(r={},(u=Object.create(r))[r[0]="STRING"]=0,u[r[1]="CORD"]=1,u[r[2]="STRING_PIECE"]=2,u),ke.JSType=(r={},(u=Object.create(r))[r[0]="JS_NORMAL"]=0,u[r[1]="JS_STRING"]=1,u[r[2]="JS_NUMBER"]=2,u),ke),p.OneofOptions=(Ue.prototype.uninterpretedOption=d.emptyArray,Ue.create=function(l){return new Ue(l)},Ue.encode=function(l,T){if(T=T||c.create(),l.uninterpretedOption!=null&&l.uninterpretedOption.length)for(var O=0;O<l.uninterpretedOption.length;++O)m.google.protobuf.UninterpretedOption.encode(l.uninterpretedOption[O],T.uint32(7994).fork()).ldelim();return T},Ue.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},Ue.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.OneofOptions;l.pos<O;){var ae=l.uint32();ae>>>3==999?(H.uninterpretedOption&&H.uninterpretedOption.length||(H.uninterpretedOption=[]),H.uninterpretedOption.push(m.google.protobuf.UninterpretedOption.decode(l,l.uint32()))):l.skipType(7&ae)}return H},Ue.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},Ue.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.uninterpretedOption!=null&&l.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(l.uninterpretedOption))return"uninterpretedOption: array expected";for(var T=0;T<l.uninterpretedOption.length;++T){var O=m.google.protobuf.UninterpretedOption.verify(l.uninterpretedOption[T]);if(O)return"uninterpretedOption."+O}}return null},Ue.fromObject=function(l){if(l instanceof m.google.protobuf.OneofOptions)return l;var T=new m.google.protobuf.OneofOptions;if(l.uninterpretedOption){if(!Array.isArray(l.uninterpretedOption))throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: array expected");T.uninterpretedOption=[];for(var O=0;O<l.uninterpretedOption.length;++O){if(typeof l.uninterpretedOption[O]!="object")throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: object expected");T.uninterpretedOption[O]=m.google.protobuf.UninterpretedOption.fromObject(l.uninterpretedOption[O])}}return T},Ue.toObject=function(l,T){var O={};if(((T=T||{}).arrays||T.defaults)&&(O.uninterpretedOption=[]),l.uninterpretedOption&&l.uninterpretedOption.length){O.uninterpretedOption=[];for(var H=0;H<l.uninterpretedOption.length;++H)O.uninterpretedOption[H]=m.google.protobuf.UninterpretedOption.toObject(l.uninterpretedOption[H],T)}return O},Ue.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ue),p.EnumOptions=(qe.prototype.allowAlias=!1,qe.prototype.deprecated=!1,qe.prototype.uninterpretedOption=d.emptyArray,qe.create=function(l){return new qe(l)},qe.encode=function(l,T){if(T=T||c.create(),l.allowAlias!=null&&Object.hasOwnProperty.call(l,"allowAlias")&&T.uint32(16).bool(l.allowAlias),l.deprecated!=null&&Object.hasOwnProperty.call(l,"deprecated")&&T.uint32(24).bool(l.deprecated),l.uninterpretedOption!=null&&l.uninterpretedOption.length)for(var O=0;O<l.uninterpretedOption.length;++O)m.google.protobuf.UninterpretedOption.encode(l.uninterpretedOption[O],T.uint32(7994).fork()).ldelim();return T},qe.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},qe.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.EnumOptions;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 2:H.allowAlias=l.bool();break;case 3:H.deprecated=l.bool();break;case 999:H.uninterpretedOption&&H.uninterpretedOption.length||(H.uninterpretedOption=[]),H.uninterpretedOption.push(m.google.protobuf.UninterpretedOption.decode(l,l.uint32()));break;default:l.skipType(7&ae)}}return H},qe.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},qe.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.allowAlias!=null&&l.hasOwnProperty("allowAlias")&&typeof l.allowAlias!="boolean")return"allowAlias: boolean expected";if(l.deprecated!=null&&l.hasOwnProperty("deprecated")&&typeof l.deprecated!="boolean")return"deprecated: boolean expected";if(l.uninterpretedOption!=null&&l.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(l.uninterpretedOption))return"uninterpretedOption: array expected";for(var T=0;T<l.uninterpretedOption.length;++T){var O=m.google.protobuf.UninterpretedOption.verify(l.uninterpretedOption[T]);if(O)return"uninterpretedOption."+O}}return null},qe.fromObject=function(l){if(l instanceof m.google.protobuf.EnumOptions)return l;var T=new m.google.protobuf.EnumOptions;if(l.allowAlias!=null&&(T.allowAlias=!!l.allowAlias),l.deprecated!=null&&(T.deprecated=!!l.deprecated),l.uninterpretedOption){if(!Array.isArray(l.uninterpretedOption))throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: array expected");T.uninterpretedOption=[];for(var O=0;O<l.uninterpretedOption.length;++O){if(typeof l.uninterpretedOption[O]!="object")throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: object expected");T.uninterpretedOption[O]=m.google.protobuf.UninterpretedOption.fromObject(l.uninterpretedOption[O])}}return T},qe.toObject=function(l,T){var O={};if(((T=T||{}).arrays||T.defaults)&&(O.uninterpretedOption=[]),T.defaults&&(O.allowAlias=!1,O.deprecated=!1),l.allowAlias!=null&&l.hasOwnProperty("allowAlias")&&(O.allowAlias=l.allowAlias),l.deprecated!=null&&l.hasOwnProperty("deprecated")&&(O.deprecated=l.deprecated),l.uninterpretedOption&&l.uninterpretedOption.length){O.uninterpretedOption=[];for(var H=0;H<l.uninterpretedOption.length;++H)O.uninterpretedOption[H]=m.google.protobuf.UninterpretedOption.toObject(l.uninterpretedOption[H],T)}return O},qe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},qe),p.EnumValueOptions=(Ge.prototype.deprecated=!1,Ge.prototype.uninterpretedOption=d.emptyArray,Ge.create=function(l){return new Ge(l)},Ge.encode=function(l,T){if(T=T||c.create(),l.deprecated!=null&&Object.hasOwnProperty.call(l,"deprecated")&&T.uint32(8).bool(l.deprecated),l.uninterpretedOption!=null&&l.uninterpretedOption.length)for(var O=0;O<l.uninterpretedOption.length;++O)m.google.protobuf.UninterpretedOption.encode(l.uninterpretedOption[O],T.uint32(7994).fork()).ldelim();return T},Ge.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},Ge.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.EnumValueOptions;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 1:H.deprecated=l.bool();break;case 999:H.uninterpretedOption&&H.uninterpretedOption.length||(H.uninterpretedOption=[]),H.uninterpretedOption.push(m.google.protobuf.UninterpretedOption.decode(l,l.uint32()));break;default:l.skipType(7&ae)}}return H},Ge.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},Ge.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.deprecated!=null&&l.hasOwnProperty("deprecated")&&typeof l.deprecated!="boolean")return"deprecated: boolean expected";if(l.uninterpretedOption!=null&&l.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(l.uninterpretedOption))return"uninterpretedOption: array expected";for(var T=0;T<l.uninterpretedOption.length;++T){var O=m.google.protobuf.UninterpretedOption.verify(l.uninterpretedOption[T]);if(O)return"uninterpretedOption."+O}}return null},Ge.fromObject=function(l){if(l instanceof m.google.protobuf.EnumValueOptions)return l;var T=new m.google.protobuf.EnumValueOptions;if(l.deprecated!=null&&(T.deprecated=!!l.deprecated),l.uninterpretedOption){if(!Array.isArray(l.uninterpretedOption))throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: array expected");T.uninterpretedOption=[];for(var O=0;O<l.uninterpretedOption.length;++O){if(typeof l.uninterpretedOption[O]!="object")throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: object expected");T.uninterpretedOption[O]=m.google.protobuf.UninterpretedOption.fromObject(l.uninterpretedOption[O])}}return T},Ge.toObject=function(l,T){var O={};if(((T=T||{}).arrays||T.defaults)&&(O.uninterpretedOption=[]),T.defaults&&(O.deprecated=!1),l.deprecated!=null&&l.hasOwnProperty("deprecated")&&(O.deprecated=l.deprecated),l.uninterpretedOption&&l.uninterpretedOption.length){O.uninterpretedOption=[];for(var H=0;H<l.uninterpretedOption.length;++H)O.uninterpretedOption[H]=m.google.protobuf.UninterpretedOption.toObject(l.uninterpretedOption[H],T)}return O},Ge.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ge),p.ServiceOptions=(Qe.prototype.deprecated=!1,Qe.prototype.uninterpretedOption=d.emptyArray,Qe.prototype[".google.api.defaultHost"]="",Qe.prototype[".google.api.oauthScopes"]="",Qe.create=function(l){return new Qe(l)},Qe.encode=function(l,T){if(T=T||c.create(),l.deprecated!=null&&Object.hasOwnProperty.call(l,"deprecated")&&T.uint32(264).bool(l.deprecated),l.uninterpretedOption!=null&&l.uninterpretedOption.length)for(var O=0;O<l.uninterpretedOption.length;++O)m.google.protobuf.UninterpretedOption.encode(l.uninterpretedOption[O],T.uint32(7994).fork()).ldelim();return l[".google.api.defaultHost"]!=null&&Object.hasOwnProperty.call(l,".google.api.defaultHost")&&T.uint32(8394).string(l[".google.api.defaultHost"]),l[".google.api.oauthScopes"]!=null&&Object.hasOwnProperty.call(l,".google.api.oauthScopes")&&T.uint32(8402).string(l[".google.api.oauthScopes"]),T},Qe.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},Qe.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.ServiceOptions;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 33:H.deprecated=l.bool();break;case 999:H.uninterpretedOption&&H.uninterpretedOption.length||(H.uninterpretedOption=[]),H.uninterpretedOption.push(m.google.protobuf.UninterpretedOption.decode(l,l.uint32()));break;case 1049:H[".google.api.defaultHost"]=l.string();break;case 1050:H[".google.api.oauthScopes"]=l.string();break;default:l.skipType(7&ae)}}return H},Qe.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},Qe.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.deprecated!=null&&l.hasOwnProperty("deprecated")&&typeof l.deprecated!="boolean")return"deprecated: boolean expected";if(l.uninterpretedOption!=null&&l.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(l.uninterpretedOption))return"uninterpretedOption: array expected";for(var T=0;T<l.uninterpretedOption.length;++T){var O=m.google.protobuf.UninterpretedOption.verify(l.uninterpretedOption[T]);if(O)return"uninterpretedOption."+O}}return l[".google.api.defaultHost"]!=null&&l.hasOwnProperty(".google.api.defaultHost")&&!d.isString(l[".google.api.defaultHost"])?".google.api.defaultHost: string expected":l[".google.api.oauthScopes"]!=null&&l.hasOwnProperty(".google.api.oauthScopes")&&!d.isString(l[".google.api.oauthScopes"])?".google.api.oauthScopes: string expected":null},Qe.fromObject=function(l){if(l instanceof m.google.protobuf.ServiceOptions)return l;var T=new m.google.protobuf.ServiceOptions;if(l.deprecated!=null&&(T.deprecated=!!l.deprecated),l.uninterpretedOption){if(!Array.isArray(l.uninterpretedOption))throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: array expected");T.uninterpretedOption=[];for(var O=0;O<l.uninterpretedOption.length;++O){if(typeof l.uninterpretedOption[O]!="object")throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: object expected");T.uninterpretedOption[O]=m.google.protobuf.UninterpretedOption.fromObject(l.uninterpretedOption[O])}}return l[".google.api.defaultHost"]!=null&&(T[".google.api.defaultHost"]=String(l[".google.api.defaultHost"])),l[".google.api.oauthScopes"]!=null&&(T[".google.api.oauthScopes"]=String(l[".google.api.oauthScopes"])),T},Qe.toObject=function(l,T){var O={};if(((T=T||{}).arrays||T.defaults)&&(O.uninterpretedOption=[]),T.defaults&&(O.deprecated=!1,O[".google.api.defaultHost"]="",O[".google.api.oauthScopes"]=""),l.deprecated!=null&&l.hasOwnProperty("deprecated")&&(O.deprecated=l.deprecated),l.uninterpretedOption&&l.uninterpretedOption.length){O.uninterpretedOption=[];for(var H=0;H<l.uninterpretedOption.length;++H)O.uninterpretedOption[H]=m.google.protobuf.UninterpretedOption.toObject(l.uninterpretedOption[H],T)}return l[".google.api.defaultHost"]!=null&&l.hasOwnProperty(".google.api.defaultHost")&&(O[".google.api.defaultHost"]=l[".google.api.defaultHost"]),l[".google.api.oauthScopes"]!=null&&l.hasOwnProperty(".google.api.oauthScopes")&&(O[".google.api.oauthScopes"]=l[".google.api.oauthScopes"]),O},Qe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Qe),p.MethodOptions=(Ke.prototype.deprecated=!1,Ke.prototype.idempotencyLevel=0,Ke.prototype.uninterpretedOption=d.emptyArray,Ke.prototype[".google.api.http"]=null,Ke.prototype[".google.api.methodSignature"]=d.emptyArray,Ke.create=function(l){return new Ke(l)},Ke.encode=function(l,T){if(T=T||c.create(),l.deprecated!=null&&Object.hasOwnProperty.call(l,"deprecated")&&T.uint32(264).bool(l.deprecated),l.idempotencyLevel!=null&&Object.hasOwnProperty.call(l,"idempotencyLevel")&&T.uint32(272).int32(l.idempotencyLevel),l.uninterpretedOption!=null&&l.uninterpretedOption.length)for(var O=0;O<l.uninterpretedOption.length;++O)m.google.protobuf.UninterpretedOption.encode(l.uninterpretedOption[O],T.uint32(7994).fork()).ldelim();if(l[".google.api.methodSignature"]!=null&&l[".google.api.methodSignature"].length)for(O=0;O<l[".google.api.methodSignature"].length;++O)T.uint32(8410).string(l[".google.api.methodSignature"][O]);return l[".google.api.http"]!=null&&Object.hasOwnProperty.call(l,".google.api.http")&&m.google.api.HttpRule.encode(l[".google.api.http"],T.uint32(578365826).fork()).ldelim(),T},Ke.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},Ke.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.MethodOptions;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 33:H.deprecated=l.bool();break;case 34:H.idempotencyLevel=l.int32();break;case 999:H.uninterpretedOption&&H.uninterpretedOption.length||(H.uninterpretedOption=[]),H.uninterpretedOption.push(m.google.protobuf.UninterpretedOption.decode(l,l.uint32()));break;case 72295728:H[".google.api.http"]=m.google.api.HttpRule.decode(l,l.uint32());break;case 1051:H[".google.api.methodSignature"]&&H[".google.api.methodSignature"].length||(H[".google.api.methodSignature"]=[]),H[".google.api.methodSignature"].push(l.string());break;default:l.skipType(7&ae)}}return H},Ke.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},Ke.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.deprecated!=null&&l.hasOwnProperty("deprecated")&&typeof l.deprecated!="boolean")return"deprecated: boolean expected";if(l.idempotencyLevel!=null&&l.hasOwnProperty("idempotencyLevel"))switch(l.idempotencyLevel){default:return"idempotencyLevel: enum value expected";case 0:case 1:case 2:}if(l.uninterpretedOption!=null&&l.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(l.uninterpretedOption))return"uninterpretedOption: array expected";for(var T=0;T<l.uninterpretedOption.length;++T)if(O=m.google.protobuf.UninterpretedOption.verify(l.uninterpretedOption[T]))return"uninterpretedOption."+O}var O;if(l[".google.api.http"]!=null&&l.hasOwnProperty(".google.api.http")&&(O=m.google.api.HttpRule.verify(l[".google.api.http"])))return".google.api.http."+O;if(l[".google.api.methodSignature"]!=null&&l.hasOwnProperty(".google.api.methodSignature")){if(!Array.isArray(l[".google.api.methodSignature"]))return".google.api.methodSignature: array expected";for(T=0;T<l[".google.api.methodSignature"].length;++T)if(!d.isString(l[".google.api.methodSignature"][T]))return".google.api.methodSignature: string[] expected"}return null},Ke.fromObject=function(l){if(l instanceof m.google.protobuf.MethodOptions)return l;var T=new m.google.protobuf.MethodOptions;switch(l.deprecated!=null&&(T.deprecated=!!l.deprecated),l.idempotencyLevel){case"IDEMPOTENCY_UNKNOWN":case 0:T.idempotencyLevel=0;break;case"NO_SIDE_EFFECTS":case 1:T.idempotencyLevel=1;break;case"IDEMPOTENT":case 2:T.idempotencyLevel=2}if(l.uninterpretedOption){if(!Array.isArray(l.uninterpretedOption))throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: array expected");T.uninterpretedOption=[];for(var O=0;O<l.uninterpretedOption.length;++O){if(typeof l.uninterpretedOption[O]!="object")throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: object expected");T.uninterpretedOption[O]=m.google.protobuf.UninterpretedOption.fromObject(l.uninterpretedOption[O])}}if(l[".google.api.http"]!=null){if(typeof l[".google.api.http"]!="object")throw TypeError(".google.protobuf.MethodOptions..google.api.http: object expected");T[".google.api.http"]=m.google.api.HttpRule.fromObject(l[".google.api.http"])}if(l[".google.api.methodSignature"]){if(!Array.isArray(l[".google.api.methodSignature"]))throw TypeError(".google.protobuf.MethodOptions..google.api.methodSignature: array expected");for(T[".google.api.methodSignature"]=[],O=0;O<l[".google.api.methodSignature"].length;++O)T[".google.api.methodSignature"][O]=String(l[".google.api.methodSignature"][O])}return T},Ke.toObject=function(l,T){var O={};if(((T=T||{}).arrays||T.defaults)&&(O.uninterpretedOption=[],O[".google.api.methodSignature"]=[]),T.defaults&&(O.deprecated=!1,O.idempotencyLevel=T.enums===String?"IDEMPOTENCY_UNKNOWN":0,O[".google.api.http"]=null),l.deprecated!=null&&l.hasOwnProperty("deprecated")&&(O.deprecated=l.deprecated),l.idempotencyLevel!=null&&l.hasOwnProperty("idempotencyLevel")&&(O.idempotencyLevel=T.enums===String?m.google.protobuf.MethodOptions.IdempotencyLevel[l.idempotencyLevel]:l.idempotencyLevel),l.uninterpretedOption&&l.uninterpretedOption.length){O.uninterpretedOption=[];for(var H=0;H<l.uninterpretedOption.length;++H)O.uninterpretedOption[H]=m.google.protobuf.UninterpretedOption.toObject(l.uninterpretedOption[H],T)}if(l[".google.api.methodSignature"]&&l[".google.api.methodSignature"].length)for(O[".google.api.methodSignature"]=[],H=0;H<l[".google.api.methodSignature"].length;++H)O[".google.api.methodSignature"][H]=l[".google.api.methodSignature"][H];return l[".google.api.http"]!=null&&l.hasOwnProperty(".google.api.http")&&(O[".google.api.http"]=m.google.api.HttpRule.toObject(l[".google.api.http"],T)),O},Ke.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ke.IdempotencyLevel=(r={},(u=Object.create(r))[r[0]="IDEMPOTENCY_UNKNOWN"]=0,u[r[1]="NO_SIDE_EFFECTS"]=1,u[r[2]="IDEMPOTENT"]=2,u),Ke),p.UninterpretedOption=(Be.prototype.name=d.emptyArray,Be.prototype.identifierValue="",Be.prototype.positiveIntValue=d.Long?d.Long.fromBits(0,0,!0):0,Be.prototype.negativeIntValue=d.Long?d.Long.fromBits(0,0,!1):0,Be.prototype.doubleValue=0,Be.prototype.stringValue=d.newBuffer([]),Be.prototype.aggregateValue="",Be.create=function(l){return new Be(l)},Be.encode=function(l,T){if(T=T||c.create(),l.name!=null&&l.name.length)for(var O=0;O<l.name.length;++O)m.google.protobuf.UninterpretedOption.NamePart.encode(l.name[O],T.uint32(18).fork()).ldelim();return l.identifierValue!=null&&Object.hasOwnProperty.call(l,"identifierValue")&&T.uint32(26).string(l.identifierValue),l.positiveIntValue!=null&&Object.hasOwnProperty.call(l,"positiveIntValue")&&T.uint32(32).uint64(l.positiveIntValue),l.negativeIntValue!=null&&Object.hasOwnProperty.call(l,"negativeIntValue")&&T.uint32(40).int64(l.negativeIntValue),l.doubleValue!=null&&Object.hasOwnProperty.call(l,"doubleValue")&&T.uint32(49).double(l.doubleValue),l.stringValue!=null&&Object.hasOwnProperty.call(l,"stringValue")&&T.uint32(58).bytes(l.stringValue),l.aggregateValue!=null&&Object.hasOwnProperty.call(l,"aggregateValue")&&T.uint32(66).string(l.aggregateValue),T},Be.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},Be.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.UninterpretedOption;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 2:H.name&&H.name.length||(H.name=[]),H.name.push(m.google.protobuf.UninterpretedOption.NamePart.decode(l,l.uint32()));break;case 3:H.identifierValue=l.string();break;case 4:H.positiveIntValue=l.uint64();break;case 5:H.negativeIntValue=l.int64();break;case 6:H.doubleValue=l.double();break;case 7:H.stringValue=l.bytes();break;case 8:H.aggregateValue=l.string();break;default:l.skipType(7&ae)}}return H},Be.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},Be.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.name!=null&&l.hasOwnProperty("name")){if(!Array.isArray(l.name))return"name: array expected";for(var T=0;T<l.name.length;++T){var O=m.google.protobuf.UninterpretedOption.NamePart.verify(l.name[T]);if(O)return"name."+O}}return l.identifierValue!=null&&l.hasOwnProperty("identifierValue")&&!d.isString(l.identifierValue)?"identifierValue: string expected":l.positiveIntValue!=null&&l.hasOwnProperty("positiveIntValue")&&!(d.isInteger(l.positiveIntValue)||l.positiveIntValue&&d.isInteger(l.positiveIntValue.low)&&d.isInteger(l.positiveIntValue.high))?"positiveIntValue: integer|Long expected":l.negativeIntValue!=null&&l.hasOwnProperty("negativeIntValue")&&!(d.isInteger(l.negativeIntValue)||l.negativeIntValue&&d.isInteger(l.negativeIntValue.low)&&d.isInteger(l.negativeIntValue.high))?"negativeIntValue: integer|Long expected":l.doubleValue!=null&&l.hasOwnProperty("doubleValue")&&typeof l.doubleValue!="number"?"doubleValue: number expected":l.stringValue!=null&&l.hasOwnProperty("stringValue")&&!(l.stringValue&&typeof l.stringValue.length=="number"||d.isString(l.stringValue))?"stringValue: buffer expected":l.aggregateValue!=null&&l.hasOwnProperty("aggregateValue")&&!d.isString(l.aggregateValue)?"aggregateValue: string expected":null},Be.fromObject=function(l){if(l instanceof m.google.protobuf.UninterpretedOption)return l;var T=new m.google.protobuf.UninterpretedOption;if(l.name){if(!Array.isArray(l.name))throw TypeError(".google.protobuf.UninterpretedOption.name: array expected");T.name=[];for(var O=0;O<l.name.length;++O){if(typeof l.name[O]!="object")throw TypeError(".google.protobuf.UninterpretedOption.name: object expected");T.name[O]=m.google.protobuf.UninterpretedOption.NamePart.fromObject(l.name[O])}}return l.identifierValue!=null&&(T.identifierValue=String(l.identifierValue)),l.positiveIntValue!=null&&(d.Long?(T.positiveIntValue=d.Long.fromValue(l.positiveIntValue)).unsigned=!0:typeof l.positiveIntValue=="string"?T.positiveIntValue=parseInt(l.positiveIntValue,10):typeof l.positiveIntValue=="number"?T.positiveIntValue=l.positiveIntValue:typeof l.positiveIntValue=="object"&&(T.positiveIntValue=new d.LongBits(l.positiveIntValue.low>>>0,l.positiveIntValue.high>>>0).toNumber(!0))),l.negativeIntValue!=null&&(d.Long?(T.negativeIntValue=d.Long.fromValue(l.negativeIntValue)).unsigned=!1:typeof l.negativeIntValue=="string"?T.negativeIntValue=parseInt(l.negativeIntValue,10):typeof l.negativeIntValue=="number"?T.negativeIntValue=l.negativeIntValue:typeof l.negativeIntValue=="object"&&(T.negativeIntValue=new d.LongBits(l.negativeIntValue.low>>>0,l.negativeIntValue.high>>>0).toNumber())),l.doubleValue!=null&&(T.doubleValue=Number(l.doubleValue)),l.stringValue!=null&&(typeof l.stringValue=="string"?d.base64.decode(l.stringValue,T.stringValue=d.newBuffer(d.base64.length(l.stringValue)),0):l.stringValue.length&&(T.stringValue=l.stringValue)),l.aggregateValue!=null&&(T.aggregateValue=String(l.aggregateValue)),T},Be.toObject=function(l,T){var O,H={};if(((T=T||{}).arrays||T.defaults)&&(H.name=[]),T.defaults&&(H.identifierValue="",d.Long?(O=new d.Long(0,0,!0),H.positiveIntValue=T.longs===String?O.toString():T.longs===Number?O.toNumber():O):H.positiveIntValue=T.longs===String?"0":0,d.Long?(O=new d.Long(0,0,!1),H.negativeIntValue=T.longs===String?O.toString():T.longs===Number?O.toNumber():O):H.negativeIntValue=T.longs===String?"0":0,H.doubleValue=0,T.bytes===String?H.stringValue="":(H.stringValue=[],T.bytes!==Array&&(H.stringValue=d.newBuffer(H.stringValue))),H.aggregateValue=""),l.name&&l.name.length){H.name=[];for(var ae=0;ae<l.name.length;++ae)H.name[ae]=m.google.protobuf.UninterpretedOption.NamePart.toObject(l.name[ae],T)}return l.identifierValue!=null&&l.hasOwnProperty("identifierValue")&&(H.identifierValue=l.identifierValue),l.positiveIntValue!=null&&l.hasOwnProperty("positiveIntValue")&&(typeof l.positiveIntValue=="number"?H.positiveIntValue=T.longs===String?String(l.positiveIntValue):l.positiveIntValue:H.positiveIntValue=T.longs===String?d.Long.prototype.toString.call(l.positiveIntValue):T.longs===Number?new d.LongBits(l.positiveIntValue.low>>>0,l.positiveIntValue.high>>>0).toNumber(!0):l.positiveIntValue),l.negativeIntValue!=null&&l.hasOwnProperty("negativeIntValue")&&(typeof l.negativeIntValue=="number"?H.negativeIntValue=T.longs===String?String(l.negativeIntValue):l.negativeIntValue:H.negativeIntValue=T.longs===String?d.Long.prototype.toString.call(l.negativeIntValue):T.longs===Number?new d.LongBits(l.negativeIntValue.low>>>0,l.negativeIntValue.high>>>0).toNumber():l.negativeIntValue),l.doubleValue!=null&&l.hasOwnProperty("doubleValue")&&(H.doubleValue=T.json&&!isFinite(l.doubleValue)?String(l.doubleValue):l.doubleValue),l.stringValue!=null&&l.hasOwnProperty("stringValue")&&(H.stringValue=T.bytes===String?d.base64.encode(l.stringValue,0,l.stringValue.length):T.bytes===Array?Array.prototype.slice.call(l.stringValue):l.stringValue),l.aggregateValue!=null&&l.hasOwnProperty("aggregateValue")&&(H.aggregateValue=l.aggregateValue),H},Be.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Be.NamePart=(Re.prototype.namePart="",Re.prototype.isExtension=!1,Re.create=function(l){return new Re(l)},Re.encode=function(l,T){return(T=T||c.create()).uint32(10).string(l.namePart),T.uint32(16).bool(l.isExtension),T},Re.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},Re.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.UninterpretedOption.NamePart;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 1:H.namePart=l.string();break;case 2:H.isExtension=l.bool();break;default:l.skipType(7&ae)}}if(!H.hasOwnProperty("namePart"))throw d.ProtocolError("missing required 'namePart'",{instance:H});if(H.hasOwnProperty("isExtension"))return H;throw d.ProtocolError("missing required 'isExtension'",{instance:H})},Re.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},Re.verify=function(l){return typeof l!="object"||l===null?"object expected":d.isString(l.namePart)?typeof l.isExtension!="boolean"?"isExtension: boolean expected":null:"namePart: string expected"},Re.fromObject=function(l){var T;return l instanceof m.google.protobuf.UninterpretedOption.NamePart?l:(T=new m.google.protobuf.UninterpretedOption.NamePart,l.namePart!=null&&(T.namePart=String(l.namePart)),l.isExtension!=null&&(T.isExtension=!!l.isExtension),T)},Re.toObject=function(l,T){var O={};return(T=T||{}).defaults&&(O.namePart="",O.isExtension=!1),l.namePart!=null&&l.hasOwnProperty("namePart")&&(O.namePart=l.namePart),l.isExtension!=null&&l.hasOwnProperty("isExtension")&&(O.isExtension=l.isExtension),O},Re.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Re),Be),p.SourceCodeInfo=($e.prototype.location=d.emptyArray,$e.create=function(l){return new $e(l)},$e.encode=function(l,T){if(T=T||c.create(),l.location!=null&&l.location.length)for(var O=0;O<l.location.length;++O)m.google.protobuf.SourceCodeInfo.Location.encode(l.location[O],T.uint32(10).fork()).ldelim();return T},$e.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},$e.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.SourceCodeInfo;l.pos<O;){var ae=l.uint32();ae>>>3==1?(H.location&&H.location.length||(H.location=[]),H.location.push(m.google.protobuf.SourceCodeInfo.Location.decode(l,l.uint32()))):l.skipType(7&ae)}return H},$e.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},$e.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.location!=null&&l.hasOwnProperty("location")){if(!Array.isArray(l.location))return"location: array expected";for(var T=0;T<l.location.length;++T){var O=m.google.protobuf.SourceCodeInfo.Location.verify(l.location[T]);if(O)return"location."+O}}return null},$e.fromObject=function(l){if(l instanceof m.google.protobuf.SourceCodeInfo)return l;var T=new m.google.protobuf.SourceCodeInfo;if(l.location){if(!Array.isArray(l.location))throw TypeError(".google.protobuf.SourceCodeInfo.location: array expected");T.location=[];for(var O=0;O<l.location.length;++O){if(typeof l.location[O]!="object")throw TypeError(".google.protobuf.SourceCodeInfo.location: object expected");T.location[O]=m.google.protobuf.SourceCodeInfo.Location.fromObject(l.location[O])}}return T},$e.toObject=function(l,T){var O={};if(((T=T||{}).arrays||T.defaults)&&(O.location=[]),l.location&&l.location.length){O.location=[];for(var H=0;H<l.location.length;++H)O.location[H]=m.google.protobuf.SourceCodeInfo.Location.toObject(l.location[H],T)}return O},$e.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},$e.Location=(xe.prototype.path=d.emptyArray,xe.prototype.span=d.emptyArray,xe.prototype.leadingComments="",xe.prototype.trailingComments="",xe.prototype.leadingDetachedComments=d.emptyArray,xe.create=function(l){return new xe(l)},xe.encode=function(l,T){if(T=T||c.create(),l.path!=null&&l.path.length){T.uint32(10).fork();for(var O=0;O<l.path.length;++O)T.int32(l.path[O]);T.ldelim()}if(l.span!=null&&l.span.length){for(T.uint32(18).fork(),O=0;O<l.span.length;++O)T.int32(l.span[O]);T.ldelim()}if(l.leadingComments!=null&&Object.hasOwnProperty.call(l,"leadingComments")&&T.uint32(26).string(l.leadingComments),l.trailingComments!=null&&Object.hasOwnProperty.call(l,"trailingComments")&&T.uint32(34).string(l.trailingComments),l.leadingDetachedComments!=null&&l.leadingDetachedComments.length)for(O=0;O<l.leadingDetachedComments.length;++O)T.uint32(50).string(l.leadingDetachedComments[O]);return T},xe.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},xe.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.SourceCodeInfo.Location;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 1:if(H.path&&H.path.length||(H.path=[]),(7&ae)==2)for(var Oe=l.uint32()+l.pos;l.pos<Oe;)H.path.push(l.int32());else H.path.push(l.int32());break;case 2:if(H.span&&H.span.length||(H.span=[]),(7&ae)==2)for(Oe=l.uint32()+l.pos;l.pos<Oe;)H.span.push(l.int32());else H.span.push(l.int32());break;case 3:H.leadingComments=l.string();break;case 4:H.trailingComments=l.string();break;case 6:H.leadingDetachedComments&&H.leadingDetachedComments.length||(H.leadingDetachedComments=[]),H.leadingDetachedComments.push(l.string());break;default:l.skipType(7&ae)}}return H},xe.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},xe.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.path!=null&&l.hasOwnProperty("path")){if(!Array.isArray(l.path))return"path: array expected";for(var T=0;T<l.path.length;++T)if(!d.isInteger(l.path[T]))return"path: integer[] expected"}if(l.span!=null&&l.hasOwnProperty("span")){if(!Array.isArray(l.span))return"span: array expected";for(T=0;T<l.span.length;++T)if(!d.isInteger(l.span[T]))return"span: integer[] expected"}if(l.leadingComments!=null&&l.hasOwnProperty("leadingComments")&&!d.isString(l.leadingComments))return"leadingComments: string expected";if(l.trailingComments!=null&&l.hasOwnProperty("trailingComments")&&!d.isString(l.trailingComments))return"trailingComments: string expected";if(l.leadingDetachedComments!=null&&l.hasOwnProperty("leadingDetachedComments")){if(!Array.isArray(l.leadingDetachedComments))return"leadingDetachedComments: array expected";for(T=0;T<l.leadingDetachedComments.length;++T)if(!d.isString(l.leadingDetachedComments[T]))return"leadingDetachedComments: string[] expected"}return null},xe.fromObject=function(l){if(l instanceof m.google.protobuf.SourceCodeInfo.Location)return l;var T=new m.google.protobuf.SourceCodeInfo.Location;if(l.path){if(!Array.isArray(l.path))throw TypeError(".google.protobuf.SourceCodeInfo.Location.path: array expected");T.path=[];for(var O=0;O<l.path.length;++O)T.path[O]=0|l.path[O]}if(l.span){if(!Array.isArray(l.span))throw TypeError(".google.protobuf.SourceCodeInfo.Location.span: array expected");for(T.span=[],O=0;O<l.span.length;++O)T.span[O]=0|l.span[O]}if(l.leadingComments!=null&&(T.leadingComments=String(l.leadingComments)),l.trailingComments!=null&&(T.trailingComments=String(l.trailingComments)),l.leadingDetachedComments){if(!Array.isArray(l.leadingDetachedComments))throw TypeError(".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected");for(T.leadingDetachedComments=[],O=0;O<l.leadingDetachedComments.length;++O)T.leadingDetachedComments[O]=String(l.leadingDetachedComments[O])}return T},xe.toObject=function(l,T){var O={};if(((T=T||{}).arrays||T.defaults)&&(O.path=[],O.span=[],O.leadingDetachedComments=[]),T.defaults&&(O.leadingComments="",O.trailingComments=""),l.path&&l.path.length){O.path=[];for(var H=0;H<l.path.length;++H)O.path[H]=l.path[H]}if(l.span&&l.span.length)for(O.span=[],H=0;H<l.span.length;++H)O.span[H]=l.span[H];if(l.leadingComments!=null&&l.hasOwnProperty("leadingComments")&&(O.leadingComments=l.leadingComments),l.trailingComments!=null&&l.hasOwnProperty("trailingComments")&&(O.trailingComments=l.trailingComments),l.leadingDetachedComments&&l.leadingDetachedComments.length)for(O.leadingDetachedComments=[],H=0;H<l.leadingDetachedComments.length;++H)O.leadingDetachedComments[H]=l.leadingDetachedComments[H];return O},xe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},xe),$e),p.GeneratedCodeInfo=(Le.prototype.annotation=d.emptyArray,Le.create=function(l){return new Le(l)},Le.encode=function(l,T){if(T=T||c.create(),l.annotation!=null&&l.annotation.length)for(var O=0;O<l.annotation.length;++O)m.google.protobuf.GeneratedCodeInfo.Annotation.encode(l.annotation[O],T.uint32(10).fork()).ldelim();return T},Le.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},Le.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.GeneratedCodeInfo;l.pos<O;){var ae=l.uint32();ae>>>3==1?(H.annotation&&H.annotation.length||(H.annotation=[]),H.annotation.push(m.google.protobuf.GeneratedCodeInfo.Annotation.decode(l,l.uint32()))):l.skipType(7&ae)}return H},Le.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},Le.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.annotation!=null&&l.hasOwnProperty("annotation")){if(!Array.isArray(l.annotation))return"annotation: array expected";for(var T=0;T<l.annotation.length;++T){var O=m.google.protobuf.GeneratedCodeInfo.Annotation.verify(l.annotation[T]);if(O)return"annotation."+O}}return null},Le.fromObject=function(l){if(l instanceof m.google.protobuf.GeneratedCodeInfo)return l;var T=new m.google.protobuf.GeneratedCodeInfo;if(l.annotation){if(!Array.isArray(l.annotation))throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: array expected");T.annotation=[];for(var O=0;O<l.annotation.length;++O){if(typeof l.annotation[O]!="object")throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: object expected");T.annotation[O]=m.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(l.annotation[O])}}return T},Le.toObject=function(l,T){var O={};if(((T=T||{}).arrays||T.defaults)&&(O.annotation=[]),l.annotation&&l.annotation.length){O.annotation=[];for(var H=0;H<l.annotation.length;++H)O.annotation[H]=m.google.protobuf.GeneratedCodeInfo.Annotation.toObject(l.annotation[H],T)}return O},Le.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Le.Annotation=(je.prototype.path=d.emptyArray,je.prototype.sourceFile="",je.prototype.begin=0,je.prototype.end=0,je.create=function(l){return new je(l)},je.encode=function(l,T){if(T=T||c.create(),l.path!=null&&l.path.length){T.uint32(10).fork();for(var O=0;O<l.path.length;++O)T.int32(l.path[O]);T.ldelim()}return l.sourceFile!=null&&Object.hasOwnProperty.call(l,"sourceFile")&&T.uint32(18).string(l.sourceFile),l.begin!=null&&Object.hasOwnProperty.call(l,"begin")&&T.uint32(24).int32(l.begin),l.end!=null&&Object.hasOwnProperty.call(l,"end")&&T.uint32(32).int32(l.end),T},je.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},je.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.GeneratedCodeInfo.Annotation;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 1:if(H.path&&H.path.length||(H.path=[]),(7&ae)==2)for(var Oe=l.uint32()+l.pos;l.pos<Oe;)H.path.push(l.int32());else H.path.push(l.int32());break;case 2:H.sourceFile=l.string();break;case 3:H.begin=l.int32();break;case 4:H.end=l.int32();break;default:l.skipType(7&ae)}}return H},je.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},je.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.path!=null&&l.hasOwnProperty("path")){if(!Array.isArray(l.path))return"path: array expected";for(var T=0;T<l.path.length;++T)if(!d.isInteger(l.path[T]))return"path: integer[] expected"}return l.sourceFile!=null&&l.hasOwnProperty("sourceFile")&&!d.isString(l.sourceFile)?"sourceFile: string expected":l.begin!=null&&l.hasOwnProperty("begin")&&!d.isInteger(l.begin)?"begin: integer expected":l.end!=null&&l.hasOwnProperty("end")&&!d.isInteger(l.end)?"end: integer expected":null},je.fromObject=function(l){if(l instanceof m.google.protobuf.GeneratedCodeInfo.Annotation)return l;var T=new m.google.protobuf.GeneratedCodeInfo.Annotation;if(l.path){if(!Array.isArray(l.path))throw TypeError(".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected");T.path=[];for(var O=0;O<l.path.length;++O)T.path[O]=0|l.path[O]}return l.sourceFile!=null&&(T.sourceFile=String(l.sourceFile)),l.begin!=null&&(T.begin=0|l.begin),l.end!=null&&(T.end=0|l.end),T},je.toObject=function(l,T){var O={};if(((T=T||{}).arrays||T.defaults)&&(O.path=[]),T.defaults&&(O.sourceFile="",O.begin=0,O.end=0),l.path&&l.path.length){O.path=[];for(var H=0;H<l.path.length;++H)O.path[H]=l.path[H]}return l.sourceFile!=null&&l.hasOwnProperty("sourceFile")&&(O.sourceFile=l.sourceFile),l.begin!=null&&l.hasOwnProperty("begin")&&(O.begin=l.begin),l.end!=null&&l.hasOwnProperty("end")&&(O.end=l.end),O},je.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},je),Le),p.Any=(Y.prototype.type_url="",Y.prototype.value=d.newBuffer([]),Y.create=function(l){return new Y(l)},Y.encode=function(l,T){return T=T||c.create(),l.type_url!=null&&Object.hasOwnProperty.call(l,"type_url")&&T.uint32(10).string(l.type_url),l.value!=null&&Object.hasOwnProperty.call(l,"value")&&T.uint32(18).bytes(l.value),T},Y.encodeDelimited=function(l,T){return this.encode(l,T).ldelim()},Y.decode=function(l,T){l instanceof y||(l=y.create(l));for(var O=T===void 0?l.len:l.pos+T,H=new m.google.protobuf.Any;l.pos<O;){var ae=l.uint32();switch(ae>>>3){case 1:H.type_url=l.string();break;case 2:H.value=l.bytes();break;default:l.skipType(7&ae)}}return H},Y.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},Y.verify=function(l){return typeof l!="object"||l===null?"object expected":l.type_url!=null&&l.hasOwnProperty("type_url")&&!d.isString(l.type_url)?"type_url: string expected":l.value!=null&&l.hasOwnProperty("value")&&!(l.value&&typeof l.value.length=="number"||d.isString(l.value))?"value: buffer expected":null},Y.fromObject=function(l){var T;return l instanceof m.google.protobuf.Any?l:(T=new m.google.protobuf.Any,l.type_url!=null&&(T.type_url=String(l.type_url)),l.value!=null&&(typeof l.value=="string"?d.base64.decode(l.value,T.value=d.newBuffer(d.base64.length(l.value)),0):l.value.length&&(T.value=l.value)),T)},Y.toObject=function(l,T){var O={};return(T=T||{}).defaults&&(O.type_url="",T.bytes===String?O.value="":(O.value=[],T.bytes!==Array&&(O.value=d.newBuffer(O.value)))),l.type_url!=null&&l.hasOwnProperty("type_url")&&(O.type_url=l.type_url),l.value!=null&&l.hasOwnProperty("value")&&(O.value=T.bytes===String?d.base64.encode(l.value,0,l.value.length):T.bytes===Array?Array.prototype.slice.call(l.value):l.value),O},Y.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Y),p),h),m})}(locations)),locations.exports}var pathTemplate={},hasRequiredPathTemplate;function requirePathTemplate(){if(hasRequiredPathTemplate)return pathTemplate;hasRequiredPathTemplate=1,Object.defineProperty(pathTemplate,"__esModule",{value:!0}),pathTemplate.PathTemplate=void 0;class o{constructor(u){this.bindings={},this.data=u,this.segments=this.parsePathTemplate(u),this.size=this.segments.length}match(u){let p=u.split("/");const h={};if(p.length!==this.segments.length)if(this.data.includes("**")){if(p.length!==this.segments.length+1)throw new TypeError(`This path ${u} does not match path template ${this.data}, the number of parameters is not same with one wildcard.`)}else throw new TypeError(`This path ${u} does not match path template ${this.data}, the number of parameters is not same.`);for(let y=0;y<this.segments.length&&p.length>0;y++)if(this.segments[y]!==p[0])if(this.segments[y].includes("*")){let c=this.segments[y];const d=c.match(/\{[$0-9a-zA-Z_]+=.*?\}/g);if(!d)throw new Error(`Error processing path template segment ${c}`);const m=d.map(P=>P.replace(/^\{/,"").replace(/=.*/,""));if(c.includes("**"))h[m[0]]=p[0]+"/"+p[1],p=p.slice(2);else{if(m.length===1)h[m[0]]=p[0];else{const P=p[0].split(/[-_.~]/);if(P.length!==m.length)throw new Error(`segment ${c} does not match ${p[0]}`);for(const N of m)h[N]=P[0],c=c.replace(`{${N}=*}`,`${P[0]}`),P.shift();if(c!==p[0])throw new TypeError(`non slash resource pattern ${this.segments[y]} and ${p[0]} should have same separator`)}p.shift()}}else throw new TypeError(`segment does not match, ${this.segments[y]} and  ${p[y]}.`);else p.shift();return h}render(u){if(Object.keys(u).length!==Object.keys(this.bindings).length)throw new TypeError(`The number of variables ${Object.keys(u).length} does not match the number of needed variables ${Object.keys(this.bindings).length}`);let p=this.inspect();for(const h of Object.keys(u)){const y=u[h].toString();if(!this.bindings[h])throw new TypeError(`render fails for not matching ${u[h]}`);const c=this.bindings[h];if(c==="*"){if(!y.match(/[^/{}]+/))throw new TypeError(`render fails for not matching ${y}`);p=p.replace(`{${h}=*}`,`${y}`)}else if(c==="**"){if(!y.match(/[^{}]+/))throw new TypeError(`render fails for not matching ${y}`);p=p.replace(`{${h}=**}`,`${y}`)}}return p}inspect(){return this.segments.join("/")}parsePathTemplate(u){const p=e(u);let h=0,y=0;const c=[];let d;if(p.forEach(m=>{if(m==="*"||m==="**")this.bindings[`$${h}`]=m,c.push(`{$${h}=${m}}`),h=h+1,m==="**"&&++y;else if(d=m.match(/\{[0-9a-zA-Z-.~_]+(?:=.*?)?\}/g)){for(const P of d){const N=P.match(/^\{([0-9a-zA-Z-.~_]+)(?:=(.*?))?\}$/);if(!N)throw new Error(`Cannot process path template segment ${P}`);const L=N[1];let k=N[2];k?k==="*"?this.bindings[L]=k:k==="**"&&(++y,this.bindings[L]=k):(k="*",m=m.replace(L,L+"=*"),this.bindings[L]=k)}c.push(m)}else m.match(/[0-9a-zA-Z-.~_]+/)&&c.push(m)}),y>1)throw new TypeError("Can not have more than one wildcard.");return c}}pathTemplate.PathTemplate=o;function e(r){let u=0,p=0,h=0;const y=[];for(;p>=u&&p<r.length;){if(r.charAt(p)==="{")h=h+1;else if(r.charAt(p)==="}")h=h-1;else if(r.charAt(p)==="/"){if(p===r.length-1)throw new TypeError("Invalid path, it can not be ended by /");h===0&&(y.push(r.substring(u,p)),u=p+1)}if(p===r.length-1){if(h!==0)throw new TypeError("Brackets are invalid.");y.push(r.substring(u))}p=p+1}return y}return pathTemplate}var iamService={};const interfaces$3={"google.iam.v1.IAMPolicy":{retry_codes:{non_idempotent:[],idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:2e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:2e4,total_timeout_millis:6e5}},methods:{GetIamPolicy:{retry_codes_name:"non_idempotent",retry_params_name:"default"},SetIamPolicy:{retry_codes_name:"non_idempotent",retry_params_name:"default"},TestIamPermissions:{retry_codes_name:"non_idempotent",retry_params_name:"default"}}}},require$$2$1={interfaces:interfaces$3},nested$4={google:{nested:{iam:{nested:{v1:{options:{cc_enable_arenas:!0,csharp_namespace:"Google.Cloud.Iam.V1",go_package:"google.golang.org/genproto/googleapis/iam/v1;iam",java_multiple_files:!0,java_outer_classname:"PolicyProto",java_package:"com.google.iam.v1",php_namespace:"Google\\Cloud\\Iam\\V1"},nested:{IAMPolicy:{options:{"(google.api.default_host)":"iam-meta-api.googleapis.com"},methods:{SetIamPolicy:{requestType:"SetIamPolicyRequest",responseType:"Policy",options:{"(google.api.http).post":"/v1/{resource=**}:setIamPolicy","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{resource=**}:setIamPolicy",body:"*"}}]},GetIamPolicy:{requestType:"GetIamPolicyRequest",responseType:"Policy",options:{"(google.api.http).post":"/v1/{resource=**}:getIamPolicy","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{resource=**}:getIamPolicy",body:"*"}}]},TestIamPermissions:{requestType:"TestIamPermissionsRequest",responseType:"TestIamPermissionsResponse",options:{"(google.api.http).post":"/v1/{resource=**}:testIamPermissions","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{resource=**}:testIamPermissions",body:"*"}}]}}},SetIamPolicyRequest:{fields:{resource:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"*"}},policy:{type:"Policy",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},GetIamPolicyRequest:{fields:{resource:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"*"}},options:{type:"GetPolicyOptions",id:2}}},TestIamPermissionsRequest:{fields:{resource:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"*"}},permissions:{rule:"repeated",type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},TestIamPermissionsResponse:{fields:{permissions:{rule:"repeated",type:"string",id:1}}},GetPolicyOptions:{fields:{requestedPolicyVersion:{type:"int32",id:1}}},Policy:{fields:{version:{type:"int32",id:1},bindings:{rule:"repeated",type:"Binding",id:4},etag:{type:"bytes",id:3}}},Binding:{fields:{role:{type:"string",id:1},members:{rule:"repeated",type:"string",id:2},condition:{type:"google.type.Expr",id:3}}},PolicyDelta:{fields:{bindingDeltas:{rule:"repeated",type:"BindingDelta",id:1},auditConfigDeltas:{rule:"repeated",type:"AuditConfigDelta",id:2}}},BindingDelta:{fields:{action:{type:"Action",id:1},role:{type:"string",id:2},member:{type:"string",id:3},condition:{type:"google.type.Expr",id:4}},nested:{Action:{values:{ACTION_UNSPECIFIED:0,ADD:1,REMOVE:2}}}},AuditConfigDelta:{fields:{action:{type:"Action",id:1},service:{type:"string",id:2},exemptedMember:{type:"string",id:3},logType:{type:"string",id:4}},nested:{Action:{values:{ACTION_UNSPECIFIED:0,ADD:1,REMOVE:2}}}},logging:{options:{csharp_namespace:"Google.Cloud.Iam.V1.Logging",go_package:"google.golang.org/genproto/googleapis/iam/v1/logging;logging",java_multiple_files:!0,java_outer_classname:"AuditDataProto",java_package:"com.google.iam.v1.logging"},nested:{AuditData:{fields:{policyDelta:{type:"google.iam.v1.PolicyDelta",id:2}}}}}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:!0,java_outer_classname:"ResourceProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{http:{type:"HttpRule",id:72295728,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1},fullyDecodeReservedExpansion:{type:"bool",id:2}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{selector:{type:"string",id:1},get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},body:{type:"string",id:7},responseBody:{type:"string",id:12},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"},fieldBehavior:{rule:"repeated",type:"google.api.FieldBehavior",id:1052,extend:"google.protobuf.FieldOptions"},FieldBehavior:{values:{FIELD_BEHAVIOR_UNSPECIFIED:0,OPTIONAL:1,REQUIRED:2,OUTPUT_ONLY:3,INPUT_ONLY:4,IMMUTABLE:5}},resourceReference:{type:"google.api.ResourceReference",id:1055,extend:"google.protobuf.FieldOptions"},resourceDefinition:{rule:"repeated",type:"google.api.ResourceDescriptor",id:1053,extend:"google.protobuf.FileOptions"},resource:{type:"google.api.ResourceDescriptor",id:1053,extend:"google.protobuf.MessageOptions"},ResourceDescriptor:{fields:{type:{type:"string",id:1},pattern:{rule:"repeated",type:"string",id:2},nameField:{type:"string",id:3},history:{type:"History",id:4},plural:{type:"string",id:5},singular:{type:"string",id:6}},nested:{History:{values:{HISTORY_UNSPECIFIED:0,ORIGINALLY_SINGLE_PATTERN:1,FUTURE_MULTI_PATTERN:2}}}},ResourceReference:{fields:{type:{type:"string",id:1},childType:{type:"string",id:2}}}}},protobuf:{options:{go_package:"github.com/golang/protobuf/protoc-gen-go/descriptor;descriptor",java_package:"com.google.protobuf",java_outer_classname:"DescriptorProtos",csharp_namespace:"Google.Protobuf.Reflection",objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2},options:{type:"ExtensionRangeOptions",id:3}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},ExtensionRangeOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8},proto3Optional:{type:"bool",id:17}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3},reservedRange:{rule:"repeated",type:"EnumReservedRange",id:4},reservedName:{rule:"repeated",type:"string",id:5}},nested:{EnumReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5,options:{default:!1}},serverStreaming:{type:"bool",id:6,options:{default:!1}}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10,options:{default:!1}},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27,options:{default:!1}},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16,options:{default:!1}},javaGenericServices:{type:"bool",id:17,options:{default:!1}},pyGenericServices:{type:"bool",id:18,options:{default:!1}},phpGenericServices:{type:"bool",id:42,options:{default:!1}},deprecated:{type:"bool",id:23,options:{default:!1}},ccEnableArenas:{type:"bool",id:31,options:{default:!0}},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},swiftPrefix:{type:"string",id:39},phpClassPrefix:{type:"string",id:40},phpNamespace:{type:"string",id:41},phpMetadataNamespace:{type:"string",id:44},rubyPackage:{type:"string",id:45},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1,options:{default:!1}},noStandardDescriptorAccessor:{type:"bool",id:2,options:{default:!1}},deprecated:{type:"bool",id:3,options:{default:!1}},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8],[9,9]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5,options:{default:!1}},deprecated:{type:"bool",id:3,options:{default:!1}},weak:{type:"bool",id:10,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[5,5]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33,options:{default:!1}},idempotencyLevel:{type:"IdempotencyLevel",id:34,options:{default:"IDEMPOTENCY_UNKNOWN"}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],nested:{IdempotencyLevel:{values:{IDEMPOTENCY_UNKNOWN:0,NO_SIDE_EFFECTS:1,IDEMPOTENT:2}}}},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}}}},type:{options:{go_package:"google.golang.org/genproto/googleapis/type/expr;expr",java_multiple_files:!0,java_outer_classname:"ExprProto",java_package:"com.google.type",objc_class_prefix:"GTP"},nested:{Expr:{fields:{expression:{type:"string",id:1},title:{type:"string",id:2},description:{type:"string",id:3},location:{type:"string",id:4}}}}}}}},require$$5$1={nested:nested$4};var hasRequiredIamService;function requireIamService(){if(hasRequiredIamService)return iamService;hasRequiredIamService=1,Object.defineProperty(iamService,"__esModule",{value:!0}),iamService.IamClient=void 0;const o=requireCreateApiCall(),e=requireRoutingHeader(),r=require$$2$1,u=requireFallback();let p=require$$17.version;const h=require$$5$1;class y{constructor(d,m){this._terminated=!1,this.descriptors={page:{},stream:{},longrunning:{}},this.innerApiCalls={},this.gaxGrpc=d;const P=Object.assign({servicePath:m.servicePath,port:m.port,clientConfig:m.clientConfig,apiEndpoint:m.apiEndpoint,fallback:m.fallback},m);p=P.fallback?u.version:p,P.scopes=this.constructor.scopes,this._opts=P,this.auth=d.auth;const N=[`gax/${p}`,`gapic/${p}`];typeof process<"u"&&"versions"in process?N.push(`gl-node/${process.versions.node}`):N.push(`gl-web/${p}`),P.fallback||N.push(`grpc/${d.grpcVersion}`),P.libName&&P.libVersion&&N.push(`${P.libName}/${P.libVersion}`),this._protos=this.gaxGrpc.loadProtoJSON(h),this._defaults=d.constructSettings("google.iam.v1.IAMPolicy",r,P.clientConfig||{},{"x-goog-api-client":N.join(" ")}),this.innerApiCalls={}}initialize(){if(this.iamPolicyStub)return this.iamPolicyStub;this.iamPolicyStub=this.gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.iam.v1.IAMPolicy"):this._protos.google.iam.v1.IAMPolicy,this._opts);const d=["getIamPolicy","setIamPolicy","testIamPermissions"];for(const m of d){const P=this.iamPolicyStub.then(N=>(...L)=>this._terminated?Promise.reject("The client has already been closed."):N[m].apply(N,L),N=>()=>{throw N});this.innerApiCalls[m]=(0,o.createApiCall)(P,this._defaults[m],this.descriptors.page[m])}return this.iamPolicyStub}static get servicePath(){return"cloudkms.googleapis.com"}static get apiEndpoint(){return"cloudkms.googleapis.com"}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/cloudkms"]}getProjectId(d){if(this.auth&&"getProjectId"in this.auth)return this.auth.getProjectId(d);if(d)d(new Error("Cannot determine project ID."));else return Promise.reject("Cannot determine project ID.")}getIamPolicy(d,m,P){let N;return m instanceof Function&&P===void 0?(P=m,N={}):N=m,d=d||{},N=N||{},N.otherArgs=N.otherArgs||{},N.otherArgs.headers=N.otherArgs.headers||{},N.otherArgs.headers["x-goog-request-params"]=e.fromParams({resource:d.resource}),this.initialize(),this.innerApiCalls.getIamPolicy(d,N,P)}setIamPolicy(d,m,P){let N;return m instanceof Function&&P===void 0?(P=m,N={}):N=m,d=d||{},N=N||{},N.otherArgs=N.otherArgs||{},N.otherArgs.headers=N.otherArgs.headers||{},N.otherArgs.headers["x-goog-request-params"]=e.fromParams({resource:d.resource}),this.initialize(),this.innerApiCalls.setIamPolicy(d,N,P)}testIamPermissions(d,m,P){let N;return m instanceof Function&&P===void 0?(P=m,N={}):N=m,d=d||{},N=N||{},N.otherArgs=N.otherArgs||{},N.otherArgs.headers=N.otherArgs.headers||{},N.otherArgs.headers["x-goog-request-params"]=e.fromParams({resource:d.resource}),this.initialize(),this.innerApiCalls.testIamPermissions(d,N,P)}close(){return this.initialize(),this._terminated?Promise.resolve():this.iamPolicyStub.then(d=>{this._terminated=!0,d.close()})}}return iamService.IamClient=y,iamService}var locationService={};const nested$3={google:{nested:{cloud:{nested:{location:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/cloud/location;location",java_multiple_files:!0,java_outer_classname:"LocationsProto",java_package:"com.google.cloud.location"},nested:{Locations:{options:{"(google.api.default_host)":"cloud.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform"},methods:{ListLocations:{requestType:"ListLocationsRequest",responseType:"ListLocationsResponse",options:{"(google.api.http).get":"/v1/{name=locations}","(google.api.http).additional_bindings.get":"/v1/{name=projects/*}/locations"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=locations}",additional_bindings:{get:"/v1/{name=projects/*}/locations"}}}]},GetLocation:{requestType:"GetLocationRequest",responseType:"Location",options:{"(google.api.http).get":"/v1/{name=locations/*}","(google.api.http).additional_bindings.get":"/v1/{name=projects/*/locations/*}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=locations/*}",additional_bindings:{get:"/v1/{name=projects/*/locations/*}"}}}]}}},ListLocationsRequest:{fields:{name:{type:"string",id:1},filter:{type:"string",id:2},pageSize:{type:"int32",id:3},pageToken:{type:"string",id:4}}},ListLocationsResponse:{fields:{locations:{rule:"repeated",type:"Location",id:1},nextPageToken:{type:"string",id:2}}},GetLocationRequest:{fields:{name:{type:"string",id:1}}},Location:{fields:{name:{type:"string",id:1},locationId:{type:"string",id:4},displayName:{type:"string",id:5},labels:{keyType:"string",type:"string",id:2},metadata:{type:"google.protobuf.Any",id:3}}}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:!0,java_outer_classname:"ClientProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{http:{type:"HttpRule",id:72295728,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1},fullyDecodeReservedExpansion:{type:"bool",id:2}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{selector:{type:"string",id:1},get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},body:{type:"string",id:7},responseBody:{type:"string",id:12},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"}}},protobuf:{options:{go_package:"google.golang.org/protobuf/types/descriptorpb",java_package:"com.google.protobuf",java_outer_classname:"DescriptorProtos",csharp_namespace:"Google.Protobuf.Reflection",objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2},options:{type:"ExtensionRangeOptions",id:3}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},ExtensionRangeOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8},proto3Optional:{type:"bool",id:17}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3},reservedRange:{rule:"repeated",type:"EnumReservedRange",id:4},reservedName:{rule:"repeated",type:"string",id:5}},nested:{EnumReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5,options:{default:!1}},serverStreaming:{type:"bool",id:6,options:{default:!1}}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10,options:{default:!1}},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27,options:{default:!1}},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16,options:{default:!1}},javaGenericServices:{type:"bool",id:17,options:{default:!1}},pyGenericServices:{type:"bool",id:18,options:{default:!1}},phpGenericServices:{type:"bool",id:42,options:{default:!1}},deprecated:{type:"bool",id:23,options:{default:!1}},ccEnableArenas:{type:"bool",id:31,options:{default:!0}},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},swiftPrefix:{type:"string",id:39},phpClassPrefix:{type:"string",id:40},phpNamespace:{type:"string",id:41},phpMetadataNamespace:{type:"string",id:44},rubyPackage:{type:"string",id:45},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1,options:{default:!1}},noStandardDescriptorAccessor:{type:"bool",id:2,options:{default:!1}},deprecated:{type:"bool",id:3,options:{default:!1}},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8],[9,9]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5,options:{default:!1}},deprecated:{type:"bool",id:3,options:{default:!1}},weak:{type:"bool",id:10,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[5,5]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33,options:{default:!1}},idempotencyLevel:{type:"IdempotencyLevel",id:34,options:{default:"IDEMPOTENCY_UNKNOWN"}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],nested:{IdempotencyLevel:{values:{IDEMPOTENCY_UNKNOWN:0,NO_SIDE_EFFECTS:1,IDEMPOTENT:2}}}},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}}}}},require$$5={nested:nested$3},interfaces$2={"google.cloud.location.Locations":{retry_codes:{non_idempotent:[],idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:6e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:6e4,total_timeout_millis:6e5}},methods:{ListLocations:{retry_codes_name:"non_idempotent",retry_params_name:"default"},GetLocation:{retry_codes_name:"non_idempotent",retry_params_name:"default"}}}},require$$6={interfaces:interfaces$2};var hasRequiredLocationService;function requireLocationService(){if(hasRequiredLocationService)return locationService;hasRequiredLocationService=1,Object.defineProperty(locationService,"__esModule",{value:!0}),locationService.LocationsClient=void 0;const o=requireGax(),e=requireWarnings(),r=requireCreateApiCall(),u=requireRoutingHeader(),p=requirePageDescriptor(),h=require$$5,y=require$$6,c=require$$17.version;class d{constructor(P,N){var L,k;this._terminated=!1,this.descriptors={page:{},stream:{},longrunning:{},batching:{}},this.gaxGrpc=P;const B=this.constructor,U=(N==null?void 0:N.servicePath)||(N==null?void 0:N.apiEndpoint)||B.servicePath;this._providedCustomServicePath=!!(N!=null&&N.servicePath||N!=null&&N.apiEndpoint);const $=(N==null?void 0:N.port)||B.port,j=(L=N==null?void 0:N.clientConfig)!==null&&L!==void 0?L:{},M=(k=N==null?void 0:N.fallback)!==null&&k!==void 0?k:typeof window<"u"&&typeof(window==null?void 0:window.fetch)=="function";N=Object.assign({servicePath:U,port:$,clientConfig:j,fallback:M},N),U!==B.servicePath&&!("scopes"in N)&&(N.scopes=B.scopes),this._opts=N,this.auth=P.auth,U===B.servicePath&&(this.auth.defaultScopes=B.scopes);const q=[`gax/${c}`,`gapic/${c}`];typeof process<"u"&&"versions"in process?q.push(`gl-node/${process.versions.node}`):q.push(`gl-web/${c}`),N.fallback?N.fallback==="rest"&&q.push(`rest/${P.grpcVersion}`):q.push(`grpc/${P.grpcVersion}`),N.libName&&N.libVersion&&q.push(`${N.libName}/${N.libVersion}`),this._protos=P.loadProtoJSON(h),this.descriptors.page={listLocations:new p.PageDescriptor("pageToken","nextPageToken","locations")},this._defaults=P.constructSettings("google.cloud.location.Locations",y,N.clientConfig||{},{"x-goog-api-client":q.join(" ")}),this.innerApiCalls={},this.warn=e.warn}initialize(){if(this.locationsStub)return this.locationsStub;this.locationsStub=this.gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.cloud.location.Locations"):this._protos.google.cloud.location.Locations,this._opts,this._providedCustomServicePath);const P=["listLocations","getLocation"];for(const N of P){const L=this.locationsStub.then(U=>(...$)=>this._terminated?Promise.reject("The client has already been closed."):U[N].apply(U,$),U=>()=>{throw U}),k=this.descriptors.page[N]||void 0,B=(0,r.createApiCall)(L,this._defaults[N],k);this.innerApiCalls[N]=B}return this.locationsStub}static get servicePath(){return"cloud.googleapis.com"}static get apiEndpoint(){return"cloud.googleapis.com"}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform"]}getProjectId(P){if(P){this.auth.getProjectId(P);return}return this.auth.getProjectId()}getLocation(P,N,L){P=P||{};let k;return typeof N=="function"&&L===void 0?(L=N,k={}):k=N,k=k||{},k.otherArgs=k.otherArgs||{},k.otherArgs.headers=k.otherArgs.headers||{},k.otherArgs.headers["x-goog-request-params"]=u.fromParams({name:P.name||""}),this.initialize(),this.innerApiCalls.getLocation(P,k,L)}listLocations(P,N,L){P=P||{};let k;return typeof N=="function"&&L===void 0?(L=N,k={}):k=N,k=k||{},k.otherArgs=k.otherArgs||{},k.otherArgs.headers=k.otherArgs.headers||{},k.otherArgs.headers["x-goog-request-params"]=u.fromParams({name:P.name||""}),this.initialize(),this.innerApiCalls.listLocations(P,k,L)}listLocationsAsync(P,N){P=P||{},N=N||{},N.otherArgs=N.otherArgs||{},N.otherArgs.headers=N.otherArgs.headers||{},N.otherArgs.headers["x-goog-request-params"]=u.fromParams({name:P.name||""}),N=N||{};const L=new o.CallSettings(N);return this.initialize(),this.descriptors.page.listLocations.asyncIterate(this.innerApiCalls.listLocations,P,L)}close(){return this.initialize(),this._terminated?Promise.resolve():this.locationsStub.then(P=>{this._terminated=!0,P.close()})}}return locationService.LocationsClient=d,locationService}var hasRequiredFallback;function requireFallback(){return hasRequiredFallback||(hasRequiredFallback=1,function(o,e){Object.defineProperty(e,"__esModule",{value:!0}),e.fallback=e.GoogleError=e.operation=e.Operation=e.warn=e.protobufMinimal=e.protobuf=e.LocationProtos=e.IamProtos=e.operationsProtos=e.GrpcClient=e.defaultToObjectOptions=e.makeUUID=e.LocationsClient=e.IamClient=e.OperationsClient=e.StreamType=e.StreamDescriptor=e.PageDescriptor=e.LongrunningDescriptor=e.BundleDescriptor=e.version=e.createDefaultBackoffSettings=e.RetryOptions=e.constructSettings=e.CallSettings=e.routingHeader=e.PathTemplate=void 0,e.lro=X,e.createApiCall=te;const r=requireObject_hash(),u=requireProtobufjs();e.protobuf=u;const p=requireGax(),h=requireRoutingHeader();e.routingHeader=h;const y=requireStatus(),c=src$7,d=requireOperationsClient(),m=requireCreateApiCall(),P=requireFallbackRest(),N=requireFeatureDetection(),L=requireFallbackServiceStub(),k=requireStreaming(),B=requireUtil$1(),U=requireIam_service();e.IamProtos=U;const $=requireLocations();e.LocationProtos=$;const j=requireOperations();e.operationsProtos=j;var M=requirePathTemplate();Object.defineProperty(e,"PathTemplate",{enumerable:!0,get:function(){return M.PathTemplate}});var q=requireGax();Object.defineProperty(e,"CallSettings",{enumerable:!0,get:function(){return q.CallSettings}}),Object.defineProperty(e,"constructSettings",{enumerable:!0,get:function(){return q.constructSettings}}),Object.defineProperty(e,"RetryOptions",{enumerable:!0,get:function(){return q.RetryOptions}}),Object.defineProperty(e,"createDefaultBackoffSettings",{enumerable:!0,get:function(){return q.createDefaultBackoffSettings}}),e.version=require$$17.version+"-fallback";var Q=requireDescriptor();Object.defineProperty(e,"BundleDescriptor",{enumerable:!0,get:function(){return Q.BundleDescriptor}}),Object.defineProperty(e,"LongrunningDescriptor",{enumerable:!0,get:function(){return Q.LongrunningDescriptor}}),Object.defineProperty(e,"PageDescriptor",{enumerable:!0,get:function(){return Q.PageDescriptor}}),Object.defineProperty(e,"StreamDescriptor",{enumerable:!0,get:function(){return Q.StreamDescriptor}});var K=requireStreaming();Object.defineProperty(e,"StreamType",{enumerable:!0,get:function(){return K.StreamType}});var G=requireOperationsClient();Object.defineProperty(e,"OperationsClient",{enumerable:!0,get:function(){return G.OperationsClient}});var F=requireIamService();Object.defineProperty(e,"IamClient",{enumerable:!0,get:function(){return F.IamClient}});var x=requireLocationService();Object.defineProperty(e,"LocationsClient",{enumerable:!0,get:function(){return x.LocationsClient}});var z=requireUtil$1();Object.defineProperty(e,"makeUUID",{enumerable:!0,get:function(){return z.makeUUID}}),e.defaultToObjectOptions={keepCase:!1,longs:String,enums:String,defaults:!0,oneofs:!0};const J="x-goog-api-client";class Z{static clearProtoCache(){Z.protoCache.clear()}constructor(qe={}){var Ge;if((0,N.isNodeJS)())this.auth=qe.auth||new c.GoogleAuth(qe);else{if(!qe.auth)throw new Error(JSON.stringify(qe)+"You need to pass auth instance to use gRPC-fallback client in browser or other non-Node.js environments. Use OAuth2Client from google-auth-library.");this.auth=qe.auth}this.fallback=!!qe.fallback,this.grpcVersion=require$$17.version,this.httpRules=qe.httpRules,this.numericEnums=(Ge=qe.numericEnums)!==null&&Ge!==void 0?Ge:!1}loadProto(qe){return u.Root.fromJSON(qe)}loadProtoJSON(qe,Ge=!1){const Qe=r(JSON.stringify(qe)).toString(),Ke=Z.protoCache.get(Qe);if(Ke&&!Ge)return Ke;const Be=u.Root.fromJSON(qe);return Z.protoCache.set(Qe,Be),Be}static getServiceMethods(qe){const Ge={};for(const[Qe,Ke]of Object.entries(qe.methods)){const Be=(0,B.toLowerCamelCase)(Qe);Ge[Be]=Ke}return Ge}constructSettings(qe,Ge,Qe,Ke){function Be(Re,$e){const xe={};Ke||(Ke={});for(const je in Ke)xe[je]=Array.isArray(Ke[je])?Ke[je]:[Ke[je]];const Le=[];if(xe[J]&&xe[J][0]&&Le.push(...xe[J][0].split(" ")),Le.push(`grpc-web/${e.version}`),xe[J]=[Le.join(" ")],!$e)return xe;for(const je in $e)if(je.toLowerCase()!==J){const Y=$e[je];if(Array.isArray(Y))if(xe[je]===void 0)xe[je]=Y;else if(Array.isArray(xe[je]))xe[je].push(...Y);else throw new Error(`Can not add value ${Y} to the call metadata.`);else xe[je]=[Y]}return xe}return p.constructSettings(qe,Ge,Qe,y.Status,{metadataBuilder:Be})}async createStub(qe,Ge,Qe){if(this.authClient||(this.auth&&"getClient"in this.auth?this.authClient=await this.auth.getClient():this.auth&&"getRequestHeaders"in this.auth&&(this.authClient=this.auth)),!this.authClient)throw new Error("No authentication was provided");if(Ge.universeDomain||(Ge.universeDomain="googleapis.com"),Ge.universeDomain){const l=this.authClient.universeDomain;if(l&&Ge.universeDomain!==l)throw new Error(`The configured universe domain (${Ge.universeDomain}) does not match the universe domain found in the credentials (${l}). If you haven't configured the universe domain explicitly, googleapis.com is the default.`)}qe.resolveAll();const Ke=Z.getServiceMethods(qe),Be=Ge.protocol||"https";let Re=Ge.servicePath;if(!Re&&qe.options&&qe.options["(google.api.default_host)"]&&(Re=qe.options["(google.api.default_host)"]),!Re)throw new Error(`Cannot determine service API path for service ${qe.name}.`);let $e;const xe=Re.match(/^(.*):(\d+)$/);xe&&(Re=xe[1],$e=parseInt(xe[2])),Ge.port?$e=Ge.port:$e||($e=443);const Le=P.encodeRequest,je=P.decodeResponse;return(0,L.generateServiceStub)(Ke,Be,Re,$e,this.authClient,Le,je,this.numericEnums)}static createByteLengthFunction(qe){return p.createByteLengthFunction(qe)}}e.GrpcClient=Z,Z.protoCache=new Map;function X(Ue){Ue=Object.assign({scopes:[]},Ue),Ue.protoJson&&(Ue=Object.assign(Ue,{fallback:!0}));const qe=new Z(Ue);return new d.OperationsClientBuilder(qe,Ue.protoJson)}function te(Ue,qe,Ge,Qe){return Ge&&"streaming"in Ge&&Ge.type!==k.StreamType.SERVER_STREAMING?()=>{throw new Error("The REST transport currently does not support client-streaming or bidi-stream calls.")}:Ge&&"streaming"in Ge&&!(0,N.isNodeJS)()?()=>{throw new Error("Server streaming over the REST transport is only supported in Node.js.")}:(0,m.createApiCall)(Ue,qe,Ge)}e.protobufMinimal=requireMinimal();var be=requireWarnings();Object.defineProperty(e,"warn",{enumerable:!0,get:function(){return be.warn}});var Ae=requireLongrunning();Object.defineProperty(e,"Operation",{enumerable:!0,get:function(){return Ae.Operation}}),Object.defineProperty(e,"operation",{enumerable:!0,get:function(){return Ae.operation}});var Ne=requireGoogleError();Object.defineProperty(e,"GoogleError",{enumerable:!0,get:function(){return Ne.GoogleError}});const ke=o.exports;e.fallback=ke}(fallback,fallback.exports)),fallback.exports}var define_process_env_default$3={};/*!
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(util$4,"__esModule",{value:!0});util$4.Deferred=void 0;util$4.autoId=autoId;util$4.requestTag=requestTag;util$4.isObject=isObject;util$4.isPlainObject=isPlainObject;util$4.isEmpty=isEmpty;util$4.isFunction=isFunction;util$4.isPermanentRpcError=isPermanentRpcError;util$4.getRetryCodes=getRetryCodes;util$4.getTotalTimeout=getTotalTimeout;util$4.getRetryParams=getRetryParams;util$4.silencePromise=silencePromise;util$4.wrapError=wrapError;util$4.tryGetPreferRestEnvironmentVariable=tryGetPreferRestEnvironmentVariable;util$4.mapToArray=mapToArray;util$4.isArrayEqual=isArrayEqual;util$4.isPrimitiveArrayEqual=isPrimitiveArrayEqual;const crypto_1=require$$1$3,gapicConfig$2=require$$19;class Deferred{constructor(){this.resolve=()=>{},this.reject=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}util$4.Deferred=Deferred;function autoId(){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let e="";for(;e.length<20;)(0,crypto_1.randomBytes)(40).forEach(u=>{e.length<20&&u<=247&&(e+=o.charAt(u%62))});return e}function requestTag(){return autoId().substr(0,5)}function isObject(o){return Object.prototype.toString.call(o)==="[object Object]"}function isPlainObject(o){return isObject(o)&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null||o.constructor.name==="Object")}function isEmpty(o){return Object.keys(o).length===0}function isFunction(o){return typeof o=="function"}function isPermanentRpcError(o,e){return o.code!==void 0?getRetryCodes(e).indexOf(o.code)===-1:!1}let serviceConfig;function getServiceConfig(o){return serviceConfig||(serviceConfig=requireFallback().constructSettings("google.firestore.v1.Firestore",gapicConfig$2,{},requireStatus().Status)),serviceConfig[o]}function getRetryCodes(o){var e,r,u;return(u=(r=(e=getServiceConfig(o))===null||e===void 0?void 0:e.retry)===null||r===void 0?void 0:r.retryCodes)!==null&&u!==void 0?u:[]}function getTotalTimeout(o){var e,r,u,p;return(p=(u=(r=(e=getServiceConfig(o))===null||e===void 0?void 0:e.retry)===null||r===void 0?void 0:r.backoffSettings)===null||u===void 0?void 0:u.totalTimeoutMillis)!==null&&p!==void 0?p:0}function getRetryParams(o){var e,r,u;return(u=(r=(e=getServiceConfig(o))===null||e===void 0?void 0:e.retry)===null||r===void 0?void 0:r.backoffSettings)!==null&&u!==void 0?u:requireFallback().createDefaultBackoffSettings()}function silencePromise(o){return o.then(()=>{},()=>{})}function wrapError(o,e){return o.stack+=`
Caused by: `+e,o}function tryGetPreferRestEnvironmentVariable(){var o;const e=(o=define_process_env_default$3.FIRESTORE_PREFER_REST)===null||o===void 0?void 0:o.trim().toLowerCase();if(e!==void 0){if(e==="1"||e==="true")return!0;if(e==="0"||e==="false")return!1;console.warn(`An unsupported value was specified for the environment variable FIRESTORE_PREFER_REST. Value ${e} is unsupported.`);return}}function mapToArray(o,e){const r=[];for(const u in o)Object.prototype.hasOwnProperty.call(o,u)&&r.push(e(o[u],u,o));return r}function isArrayEqual(o,e){if(o.length!==e.length)return!1;for(let r=0;r<o.length;++r)if(!o[r].isEqual(e[r]))return!1;return!0}function isPrimitiveArrayEqual(o,e){if(o.length!==e.length)return!1;for(let r=0;r<o.length;++r)if(o[r]!==e[r])return!1;return!0}var timestamp={},hasRequiredTimestamp;function requireTimestamp(){if(hasRequiredTimestamp)return timestamp;hasRequiredTimestamp=1;/*!
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(timestamp,"__esModule",{value:!0}),timestamp.Timestamp=void 0;const o=requireValidate();/*!
 * Number of nanoseconds in a millisecond.
 *
 * @type {number}
 */const e=1e6;/*!
 * The minimum legal value for the "seconds" property of a Timestamp object.
 *
 * This value corresponds to 0001-01-01T00:00:00Z.
 *
 * @type {number}
 */const r=-62135596800;/*!
 * The maximum legal value for the "seconds" property of a Timestamp object.
 *
 * This value corresponds to 9999-12-31T23:59:59.999999999Z.
 *
 * @type {number}
 */const u=253402300799;class p{static now(){return p.fromMillis(Date.now())}static fromDate(y){return p.fromMillis(y.getTime())}static fromMillis(y){const c=Math.floor(y/1e3),d=Math.floor((y-c*1e3)*e);return new p(c,d)}static fromProto(y){return new p(Number(y.seconds||0),y.nanos||0)}constructor(y,c){(0,o.validateInteger)("seconds",y,{minValue:r,maxValue:u}),(0,o.validateInteger)("nanoseconds",c,{minValue:0,maxValue:999999999}),this._seconds=y,this._nanoseconds=c}get seconds(){return this._seconds}get nanoseconds(){return this._nanoseconds}toDate(){return new Date(this._seconds*1e3+Math.round(this._nanoseconds/e))}toMillis(){return this._seconds*1e3+Math.floor(this._nanoseconds/e)}isEqual(y){return this===y||y instanceof p&&this._seconds===y.seconds&&this._nanoseconds===y.nanoseconds}toProto(){const y={};return this.seconds&&(y.seconds=this.seconds.toString()),this.nanoseconds&&(y.nanos=this.nanoseconds),{timestampValue:y}}valueOf(){const y=this.seconds-r,c=String(y).padStart(12,"0"),d=String(this.nanoseconds).padStart(9,"0");return c+"."+d}}return timestamp.Timestamp=p,timestamp}var hasRequiredValidate;function requireValidate(){if(hasRequiredValidate)return validate$1;hasRequiredValidate=1;/*!
 * Copyright 2017 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(validate$1,"__esModule",{value:!0}),validate$1.customObjectMessage=u,validate$1.validateFunction=p,validate$1.validateObject=h,validate$1.validateString=y,validate$1.validateHost=c,validate$1.validateBoolean=d,validate$1.validateNumber=m,validate$1.validateInteger=P,validate$1.validateTimestamp=N,validate$1.invalidArgumentMessage=L,validate$1.validateOptional=k,validate$1.validateMinNumberOfArguments=$,validate$1.validateMaxNumberOfArguments=j,validate$1.validateEnumValue=M;const o=require$$1$3,e=util$4,r=requireTimestamp();function u(q,Q,K){const G=K?` (found in field "${K}")`:"";if((0,e.isObject)(Q)){const F=Q.constructor.name;switch(F){case"DocumentReference":case"FieldPath":case"FieldValue":case"GeoPoint":case"Timestamp":return`${L(q,"Firestore document")} Detected an object of type "${F}" that doesn't match the expected instance${G}. Please ensure that the Firestore types you are using are from the same NPM package.)`;case"Object":return`${L(q,"Firestore document")} Invalid use of type "${typeof Q}" as a Firestore argument${G}.`;default:return`${L(q,"Firestore document")} Couldn't serialize object of type "${F}"${G}. Firestore doesn't support JavaScript objects with custom prototypes (i.e. objects that were created via the "new" operator).`}}else return`${L(q,"Firestore document")} Input is not a plain JavaScript object${G}.`}function p(q,Q,K){if(!k(Q,K)&&!(0,e.isFunction)(Q))throw new Error(L(q,"function"))}function h(q,Q,K){if(!k(Q,K)&&!(0,e.isObject)(Q))throw new Error(L(q,"object"))}function y(q,Q,K){if(!k(Q,K)&&typeof Q!="string")throw new Error(L(q,"string"))}function c(q,Q,K){if(!k(Q,K)){y(q,Q);const G=`http://${Q}/`;let F;try{F=new o.URL(G)}catch{throw new Error(L(q,"host"))}if(F.search!==""||F.pathname!=="/"||F.username!=="")throw new Error(L(q,"host"))}}function d(q,Q,K){if(!k(Q,K)&&typeof Q!="boolean")throw new Error(L(q,"boolean"))}function m(q,Q,K){const G=K!==void 0&&K.minValue!==void 0?K.minValue:-1/0,F=K!==void 0&&K.maxValue!==void 0?K.maxValue:1/0;if(!k(Q,K)){if(typeof Q!="number"||isNaN(Q))throw new Error(L(q,"number"));if(Q<G||Q>F)throw new Error(`${U(q)} must be within [${G}, ${F}] inclusive, but was: ${Q}`)}}function P(q,Q,K){const G=K!==void 0&&K.minValue!==void 0?K.minValue:-1/0,F=K!==void 0&&K.maxValue!==void 0?K.maxValue:1/0;if(!k(Q,K)){if(typeof Q!="number"||isNaN(Q)||Q%1!==0)throw new Error(L(q,"integer"));if(Q<G||Q>F)throw new Error(`${U(q)} must be within [${G}, ${F}] inclusive, but was: ${Q}`)}}function N(q,Q,K){if(!k(Q,K)&&!(Q instanceof r.Timestamp))throw new Error(L(q,"Timestamp"))}function L(q,Q){return`${U(q)} is not a valid ${Q}.`}function k(q,Q){return q===void 0&&Q!==void 0&&Q.optional===!0}function B(q,Q){return`${q} ${Q}`+(q===1?"":"s")}function U(q){return typeof q=="string"?`Value for argument "${q}"`:`Element at index ${q}`}function $(q,Q,K){if(Q.length<K)throw new Error(`Function "${q}()" requires at least ${B(K,"argument")}.`)}function j(q,Q,K){if(Q.length>K)throw new Error(`Function "${q}()" accepts at most ${B(K,"argument")}.`)}function M(q,Q,K,G){if(!k(Q,G)){const F=[];for(const x of K){if(x===Q)return;F.push(x)}throw new Error(`${U(q)} is invalid. Acceptable values are: ${F.join(", ")}`)}}return validate$1}/*!
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(logger$1,"__esModule",{value:!0});logger$1.logger=logger;logger$1.setLogFunction=setLogFunction;logger$1.setLibVersion=setLibVersion;const util=util$b,validate_1$5=requireValidate();/*! The Firestore library version */let libVersion;/*! The external function used to emit logs. */let logFunction=null;function logger(o,e,r,...u){if(e=e||"#####",logFunction){const p=util.format(r,...u),h=new Date().toISOString();logFunction(`Firestore (${libVersion}) ${h} ${e} [${o}]: `+p)}}function setLogFunction(o){o!==null&&(0,validate_1$5.validateFunction)("logger",o),logFunction=o}function setLibVersion(o){libVersion=o}(function(o){/*!
 * Copyright 2017 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(o,"__esModule",{value:!0}),o.ExponentialBackoff=o.delayExecution=o.MAX_RETRY_ATTEMPTS=o.DEFAULT_BACKOFF_FACTOR=o.DEFAULT_BACKOFF_MAX_DELAY_MS=o.DEFAULT_BACKOFF_INITIAL_DELAY_MS=void 0,o.setTimeoutHandler=u;const e=logger$1;/*!
 * The default initial backoff time in milliseconds after an error.
 * Set to 1s according to https://cloud.google.com/apis/design/errors.
 */o.DEFAULT_BACKOFF_INITIAL_DELAY_MS=1e3;/*!
 * The default maximum backoff time in milliseconds.
 */o.DEFAULT_BACKOFF_MAX_DELAY_MS=60*1e3;/*!
 * The default factor to increase the backup by after each failed attempt.
 */o.DEFAULT_BACKOFF_FACTOR=1.5;/*!
 * The default jitter to distribute the backoff attempts by (0 means no
 * randomization, 1.0 means +/-50% randomization).
 */const r=1;/*!
 * The maximum number of retries that will be attempted by backoff
 * before stopping all retry attempts.
 */o.MAX_RETRY_ATTEMPTS=10;/*!
 * The timeout handler used by `ExponentialBackoff` and `BulkWriter`.
 */o.delayExecution=setTimeout;function u(h){o.delayExecution=(y,c)=>(h(y,c),{hasRef:()=>{throw new Error("For tests only. Not Implemented")},ref:()=>{throw new Error("For tests only. Not Implemented")},refresh:()=>{throw new Error("For tests only. Not Implemented")},unref:()=>{throw new Error("For tests only. Not Implemented")},[Symbol.toPrimitive]:()=>{throw new Error("For tests only. Not Implemented")}})}class p{constructor(y={}){this._retryCount=0,this.currentBaseMs=0,this.awaitingBackoffCompletion=!1,this.initialDelayMs=y.initialDelayMs!==void 0?y.initialDelayMs:o.DEFAULT_BACKOFF_INITIAL_DELAY_MS,this.backoffFactor=y.backoffFactor!==void 0?y.backoffFactor:o.DEFAULT_BACKOFF_FACTOR,this.maxDelayMs=y.maxDelayMs!==void 0?y.maxDelayMs:o.DEFAULT_BACKOFF_MAX_DELAY_MS,this.jitterFactor=y.jitterFactor!==void 0?y.jitterFactor:r}reset(){this._retryCount=0,this.currentBaseMs=0}resetToMax(){this.currentBaseMs=this.maxDelayMs}backoffAndWait(){if(this.awaitingBackoffCompletion)return Promise.reject(new Error("A backoff operation is already in progress."));if(this.retryCount>o.MAX_RETRY_ATTEMPTS)return Promise.reject(new Error("Exceeded maximum number of retries allowed."));const y=this.currentBaseMs+this.jitterDelayMs();return this.currentBaseMs>0&&(0,e.logger)("ExponentialBackoff.backoffAndWait",null,`Backing off for ${y} ms (base delay: ${this.currentBaseMs} ms)`),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs=Math.max(this.currentBaseMs,this.initialDelayMs),this.currentBaseMs=Math.min(this.currentBaseMs,this.maxDelayMs),this._retryCount+=1,new Promise(c=>{this.awaitingBackoffCompletion=!0,(0,o.delayExecution)(()=>{this.awaitingBackoffCompletion=!1,c()},y)})}get retryCount(){return this._retryCount}jitterDelayMs(){return(Math.random()-.5)*this.jitterFactor*this.currentBaseMs}}o.ExponentialBackoff=p})(backoff);var bulkWriter={},rateLimiter={};Object.defineProperty(rateLimiter,"__esModule",{value:!0});rateLimiter.RateLimiter=void 0;/*!
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const assert$2=require$$1$3,logger_1$1=logger$1;class RateLimiter{constructor(e,r,u,p,h=Date.now()){this.initialCapacity=e,this.multiplier=r,this.multiplierMillis=u,this.maximumCapacity=p,this.startTimeMillis=h,this.availableTokens=e,this.lastRefillTimeMillis=h,this.previousCapacity=e}tryMakeRequest(e,r=Date.now()){return this.refillTokens(r),e<=this.availableTokens?(this.availableTokens-=e,!0):!1}getNextRequestDelayMs(e,r=Date.now()){if(this.refillTokens(r),e<this.availableTokens)return 0;const u=this.calculateCapacity(r);if(u<e)return-1;const p=e-this.availableTokens;return Math.ceil(p*1e3/u)}refillTokens(e){if(e>=this.lastRefillTimeMillis){const r=e-this.lastRefillTimeMillis,u=this.calculateCapacity(e),p=Math.floor(r*u/1e3);p>0&&(this.availableTokens=Math.min(u,this.availableTokens+p),this.lastRefillTimeMillis=e)}else throw new Error("Request time should not be before the last token refill time.")}calculateCapacity(e){assert$2(e>=this.startTimeMillis,"startTime cannot be after currentTime");const r=e-this.startTimeMillis,u=Math.min(Math.floor(Math.pow(this.multiplier,Math.floor(r/this.multiplierMillis))*this.initialCapacity),this.maximumCapacity);return u!==this.previousCapacity&&(0,logger_1$1.logger)("RateLimiter.calculateCapacity",null,`New request capacity: ${u} operations per second.`),this.previousCapacity=u,u}}rateLimiter.RateLimiter=RateLimiter;var writeBatch={},document$1={},fastDeepEqual=function o(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var u,p,h;if(Array.isArray(e)){if(u=e.length,u!=r.length)return!1;for(p=u;p--!==0;)if(!o(e[p],r[p]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(h=Object.keys(e),u=h.length,u!==Object.keys(r).length)return!1;for(p=u;p--!==0;)if(!Object.prototype.hasOwnProperty.call(r,h[p]))return!1;for(p=u;p--!==0;){var y=h[p];if(!o(e[y],r[y]))return!1}return!0}return e!==e&&r!==r},fieldValue={},serializer={},convert={},mapType={};/*!
 * Copyright 2024 Google LLC. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(mapType,"__esModule",{value:!0});mapType.VECTOR_MAP_VECTORS_KEY=mapType.RESERVED_MAP_KEY_VECTOR_VALUE=mapType.RESERVED_MAP_KEY=void 0;mapType.RESERVED_MAP_KEY="__type__";mapType.RESERVED_MAP_KEY_VECTOR_VALUE="__vector__";mapType.VECTOR_MAP_VECTORS_KEY="value";/*!
 * Copyright 2019 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(convert,"__esModule",{value:!0});convert.timestampFromJson=timestampFromJson;convert.detectValueType=detectValueType;convert.detectGoogleProtobufValueType=detectGoogleProtobufValueType;convert.valueFromJson=valueFromJson;convert.fieldsFromJson=fieldsFromJson;const validate_1$4=requireValidate(),map_type_1=mapType;/*!
 * @module firestore/convert
 * @private
 * @internal
 *
 * This module contains utility functions to convert
 * `firestore.v1.Documents` from Proto3 JSON to their equivalent
 * representation in Protobuf JS. Protobuf JS is the only encoding supported by
 * this client, and dependencies that use Proto3 JSON (such as the Google Cloud
 * Functions SDK) are supported through this conversion and its usage in
 * {@see Firestore#snapshot_}.
 */function timestampFromJson(o,e){let r={};if(typeof o=="string"){const u=new Date(o),p=Math.floor(u.getTime()/1e3);let h=0;if(o.length>20){const y=o.substring(20,o.length-1),c=9-y.length;h=Number(y)*Math.pow(10,c)}if(isNaN(p)||isNaN(h))throw e=e||"timestampValue",new Error(`Specify a valid ISO 8601 timestamp for "${e}".`);r={seconds:p||void 0,nanos:h||void 0}}else o!==void 0&&((0,validate_1$4.validateObject)("timestampValue",o),r={seconds:o.seconds||void 0,nanos:o.nanos||void 0});return r}function bytesFromJson(o){return typeof o=="string"?Buffer.from(o,"base64"):o}function detectValueType(o){var e;let r;if(o.valueType)r=o.valueType;else{const u=[];if(o.stringValue!==void 0&&u.push("stringValue"),o.booleanValue!==void 0&&u.push("booleanValue"),o.integerValue!==void 0&&u.push("integerValue"),o.doubleValue!==void 0&&u.push("doubleValue"),o.timestampValue!==void 0&&u.push("timestampValue"),o.referenceValue!==void 0&&u.push("referenceValue"),o.arrayValue!==void 0&&u.push("arrayValue"),o.nullValue!==void 0&&u.push("nullValue"),o.mapValue!==void 0&&u.push("mapValue"),o.geoPointValue!==void 0&&u.push("geoPointValue"),o.bytesValue!==void 0&&u.push("bytesValue"),u.length!==1)throw new Error(`Unable to infer type value from '${JSON.stringify(o)}'.`);r=u[0]}if(r==="mapValue"){const u=(e=o.mapValue)===null||e===void 0?void 0:e.fields;u&&Object.keys(u).indexOf(map_type_1.RESERVED_MAP_KEY)!==-1&&detectValueType(u[map_type_1.RESERVED_MAP_KEY])==="stringValue"&&u[map_type_1.RESERVED_MAP_KEY].stringValue===map_type_1.RESERVED_MAP_KEY_VECTOR_VALUE&&(r="vectorValue")}return r}function detectGoogleProtobufValueType(o){const e=[];if(o.nullValue!==void 0&&e.push("nullValue"),o.numberValue!==void 0&&e.push("numberValue"),o.stringValue!==void 0&&e.push("stringValue"),o.boolValue!==void 0&&e.push("boolValue"),o.structValue!==void 0&&e.push("structValue"),o.listValue!==void 0&&e.push("listValue"),e.length!==1)throw new Error(`Unable to infer type value from '${JSON.stringify(o)}'.`);return e[0]}function valueFromJson(o){switch(detectValueType(o)){case"timestampValue":return{timestampValue:timestampFromJson(o.timestampValue)};case"bytesValue":return{bytesValue:bytesFromJson(o.bytesValue)};case"doubleValue":return{doubleValue:Number(o.doubleValue)};case"arrayValue":{const r=[];if(Array.isArray(o.arrayValue.values))for(const u of o.arrayValue.values)r.push(valueFromJson(u));return{arrayValue:{values:r}}}case"mapValue":case"vectorValue":{const r={},u=o.mapValue.fields;if(u)for(const p of Object.keys(u))r[p]=valueFromJson(o.mapValue.fields[p]);return{mapValue:{fields:r}}}default:return o}}function fieldsFromJson(o){const e={};for(const r of Object.keys(o))e[r]=valueFromJson(o[r]);return e}var geoPoint={};/*!
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(geoPoint,"__esModule",{value:!0});geoPoint.GeoPoint=void 0;const validate_1$3=requireValidate();class GeoPoint{constructor(e,r){(0,validate_1$3.validateNumber)("latitude",e,{minValue:-90,maxValue:90}),(0,validate_1$3.validateNumber)("longitude",r,{minValue:-180,maxValue:180}),this._latitude=e,this._longitude=r}get latitude(){return this._latitude}get longitude(){return this._longitude}isEqual(e){return this===e||e instanceof GeoPoint&&this.latitude===e.latitude&&this.longitude===e.longitude}toProto(){return{geoPointValue:{latitude:this.latitude,longitude:this.longitude}}}static fromProto(e){return new GeoPoint(e.latitude||0,e.longitude||0)}}geoPoint.GeoPoint=GeoPoint;var path={};/*!
 * Copyright 2017 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(path,"__esModule",{value:!0});path.FieldPath=path.QualifiedResourcePath=path.ResourcePath=path.DEFAULT_DATABASE_ID=void 0;path.validateResourcePath=validateResourcePath;path.validateFieldPath=validateFieldPath;const util_1$3=util$4,validate_1$2=requireValidate();/*!
 * The default database ID for this Firestore client. We do not yet expose the
 * ability to use different databases.
 */path.DEFAULT_DATABASE_ID="(default)";/*!
 * A regular expression to verify an absolute Resource Path in Firestore. It
 * extracts the project ID, the database name and the relative resource path
 * if available.
 *
 * @type {RegExp}
 */const RESOURCE_PATH_RE=/^projects\/([^/]*)\/databases\/([^/]*)(?:\/documents\/)?([\s\S]*)$/;/*!
 * A regular expression to verify whether a field name can be passed to the
 * backend without escaping.
 *
 * @type {RegExp}
 */const UNESCAPED_FIELD_NAME_RE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;/*!
 * A regular expression to verify field paths that are passed to the API as
 * strings. Field paths that do not match this expression have to be provided
 * as a [FieldPath]{@link FieldPath} object.
 *
 * @type {RegExp}
 */const FIELD_PATH_RE=/^[^*~/[\]]+$/;class Path{constructor(e){this.segments=e}get size(){return this.segments.length}append(e){return e instanceof Path?this.construct(this.segments.concat(e.segments)):this.construct(this.segments.concat(this.split(e)))}parent(){return this.segments.length===0?null:this.construct(this.segments.slice(0,this.segments.length-1))}isPrefixOf(e){if(e.segments.length<this.segments.length)return!1;for(let r=0;r<this.segments.length;r++)if(this.segments[r]!==e.segments[r])return!1;return!0}compareTo(e){const r=Math.min(this.segments.length,e.segments.length);for(let u=0;u<r;u++){if(this.segments[u]<e.segments[u])return-1;if(this.segments[u]>e.segments[u])return 1}return this.segments.length<e.segments.length?-1:this.segments.length>e.segments.length?1:0}toArray(){return this.segments.slice()}popLast(){return this.segments.pop(),this.construct(this.segments)}isEqual(e){return this===e||this.compareTo(e)===0}}class ResourcePath extends Path{constructor(...e){super(e)}get isDocument(){return this.segments.length>0&&this.segments.length%2===0}get isCollection(){return this.segments.length%2===1}get id(){return this.segments.length>0?this.segments[this.segments.length-1]:null}get relativeName(){return this.segments.join("/")}construct(e){return new ResourcePath(...e)}split(e){return e.split("/").filter(r=>r.length>0)}toQualifiedResourcePath(e,r){return new QualifiedResourcePath(e,r,...this.segments)}}path.ResourcePath=ResourcePath;ResourcePath.EMPTY=new ResourcePath;class QualifiedResourcePath extends ResourcePath{constructor(e,r,...u){super(...u),this.projectId=e,this.databaseId=r}get relativeName(){return this.segments.join("/")}static fromSlashSeparatedString(e){const r=RESOURCE_PATH_RE.exec(e);if(r){const u=r[1],p=r[2],h=r[3];return new QualifiedResourcePath(u,p).append(h)}throw new Error(`Resource name '${e}' is not valid.`)}append(e){return super.append(e)}parent(){return super.parent()}get formattedName(){return["projects",this.projectId,"databases",this.databaseId,"documents",...this.segments].join("/")}construct(e){return new QualifiedResourcePath(this.projectId,this.databaseId,...e)}toQualifiedResourcePath(){return this}compareTo(e){if(e instanceof QualifiedResourcePath){if(this.projectId<e.projectId)return-1;if(this.projectId>e.projectId)return 1;if(this.databaseId<e.databaseId)return-1;if(this.databaseId>e.databaseId)return 1}return super.compareTo(e)}toProto(){return{referenceValue:this.formattedName}}}path.QualifiedResourcePath=QualifiedResourcePath;function validateResourcePath(o,e){if(typeof e!="string"||e==="")throw new Error(`${(0,validate_1$2.invalidArgumentMessage)(o,"resource path")} Path must be a non-empty string.`);if(e.indexOf("//")>=0)throw new Error(`${(0,validate_1$2.invalidArgumentMessage)(o,"resource path")} Paths must not contain //.`)}class FieldPath extends Path{constructor(...e){if(Array.isArray(e[0]))throw new Error("The FieldPath constructor no longer supports an array as its first argument. Please unpack your array and call FieldPath() with individual arguments.");(0,validate_1$2.validateMinNumberOfArguments)("FieldPath",e,1);for(let r=0;r<e.length;++r)if((0,validate_1$2.validateString)(r,e[r]),e[r].length===0)throw new Error(`Element at index ${r} should not be an empty string.`);super(e)}static documentId(){return FieldPath._DOCUMENT_ID}static fromArgument(e){return e instanceof FieldPath?e:new FieldPath(...e.split("."))}get formattedName(){return this.segments.map(e=>UNESCAPED_FIELD_NAME_RE.test(e)?e:"`"+e.replace("\\","\\\\").replace("`","\\`")+"`").join(".")}toString(){return this.formattedName}split(e){return e.split(".")}construct(e){return new FieldPath(...e)}isEqual(e){return super.isEqual(e)}}path.FieldPath=FieldPath;FieldPath._DOCUMENT_ID=new FieldPath("__name__");function validateFieldPath(o,e){if(!(e instanceof FieldPath)){if(e===void 0)throw new Error((0,validate_1$2.invalidArgumentMessage)(o,"field path")+" The path cannot be omitted.");if((0,util_1$3.isObject)(e)&&e.constructor.name==="FieldPath")throw new Error((0,validate_1$2.customObjectMessage)(o,e));if(typeof e!="string")throw new Error(`${(0,validate_1$2.invalidArgumentMessage)(o,"field path")} Paths can only be specified as strings or via a FieldPath object.`);if(e.indexOf("..")>=0)throw new Error(`${(0,validate_1$2.invalidArgumentMessage)(o,"field path")} Paths must not contain ".." in them.`);if(e.startsWith(".")||e.endsWith("."))throw new Error(`${(0,validate_1$2.invalidArgumentMessage)(o,"field path")} Paths must not start or end with ".".`);if(!FIELD_PATH_RE.test(e))throw new Error(`${(0,validate_1$2.invalidArgumentMessage)(o,"field path")} Paths can't be empty and must not contain
    "*~/[]".`)}}var hasRequiredSerializer;function requireSerializer(){if(hasRequiredSerializer)return serializer;hasRequiredSerializer=1;/*!
 * Copyright 2019 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(serializer,"__esModule",{value:!0}),serializer.Serializer=void 0,serializer.validateUserInput=N;const o=requireFieldValue(),e=convert,r=geoPoint,u=requireSrc(),p=path,h=requireTimestamp(),y=util$4,c=requireValidate(),d=mapType,m=20;class P{constructor(B){this.createReference=U=>B.doc(U),this.createInteger=U=>B._settings.useBigInt?BigInt(U):Number(U),this.allowUndefined=!!B._settings.ignoreUndefinedProperties}encodeFields(B){const U={};for(const $ of Object.keys(B)){const j=this.encodeValue(B[$]);j&&(U[$]=j)}return U}encodeValue(B){if(B instanceof o.FieldTransform)return null;if(typeof B=="string")return{stringValue:B};if(typeof B=="boolean")return{booleanValue:B};if(typeof B=="number"){const U=B===0&&1/B===-1/0;return Number.isSafeInteger(B)&&!U?{integerValue:B}:{doubleValue:B}}if(typeof B=="bigint")return{integerValue:B.toString()};if(B instanceof Date){const U=h.Timestamp.fromDate(B);return{timestampValue:{seconds:U.seconds,nanos:U.nanoseconds}}}if(L(B)){const U=h.Timestamp.fromDate(B.toDate());return{timestampValue:{seconds:U.seconds,nanos:U.nanoseconds}}}if(B===null)return{nullValue:"NULL_VALUE"};if(B instanceof Buffer||B instanceof Uint8Array)return{bytesValue:B};if(B instanceof o.VectorValue)return B._toProto(this);if((0,y.isObject)(B)){const U=B.toProto;if(typeof U=="function")return U.bind(B)()}if(Array.isArray(B)){const U={arrayValue:{}};if(B.length>0){U.arrayValue.values=[];for(let $=0;$<B.length;++$){const j=this.encodeValue(B[$]);j&&U.arrayValue.values.push(j)}}return U}if(typeof B=="object"&&(0,y.isPlainObject)(B)){const U={mapValue:{}};return!(0,y.isEmpty)(B)&&(U.mapValue.fields=this.encodeFields(B),(0,y.isEmpty)(U.mapValue.fields))?null:U}if(B===void 0&&this.allowUndefined)return null;throw new Error(`Cannot encode value: ${B}`)}encodeVector(B){return{mapValue:{fields:{[d.RESERVED_MAP_KEY]:{stringValue:d.RESERVED_MAP_KEY_VECTOR_VALUE},[d.VECTOR_MAP_VECTORS_KEY]:{arrayValue:{values:B.map(U=>({doubleValue:U}))}}}}}}decodeValue(B){switch((0,e.detectValueType)(B)){case"stringValue":return B.stringValue;case"booleanValue":return B.booleanValue;case"integerValue":return this.createInteger(B.integerValue);case"doubleValue":return B.doubleValue;case"timestampValue":return h.Timestamp.fromProto(B.timestampValue);case"referenceValue":{const $=p.QualifiedResourcePath.fromSlashSeparatedString(B.referenceValue);return this.createReference($.relativeName)}case"arrayValue":{const $=[];if(Array.isArray(B.arrayValue.values))for(const j of B.arrayValue.values)$.push(this.decodeValue(j));return $}case"nullValue":return null;case"mapValue":{const $=B.mapValue.fields;if($){const j={};for(const M of Object.keys($))j[M]=this.decodeValue($[M]);return j}else return{}}case"vectorValue":{const $=B.mapValue.fields;return o.VectorValue._fromProto($[d.VECTOR_MAP_VECTORS_KEY])}case"geoPointValue":return r.GeoPoint.fromProto(B.geoPointValue);case"bytesValue":return B.bytesValue;default:throw new Error("Cannot decode type from Firestore Value: "+JSON.stringify(B))}}decodeGoogleProtobufValue(B){switch((0,e.detectGoogleProtobufValueType)(B)){case"nullValue":return null;case"numberValue":return B.numberValue;case"stringValue":return B.stringValue;case"boolValue":return B.boolValue;case"listValue":return this.decodeGoogleProtobufList(B.listValue);case"structValue":return this.decodeGoogleProtobufStruct(B.structValue);default:throw new Error("Cannot decode type from google.protobuf.Value: "+JSON.stringify(B))}}decodeGoogleProtobufList(B){const U=[];if(B&&B.values&&Array.isArray(B.values))for(const $ of B.values)U.push(this.decodeGoogleProtobufValue($));return U}decodeGoogleProtobufStruct(B){const U={};if(B&&B.fields)for(const $ of Object.keys(B.fields))U[$]=this.decodeGoogleProtobufValue(B.fields[$]);return U}}serializer.Serializer=P;function N(k,B,U,$,j,M,q){if(j&&j.size-1>m)throw new Error(`${(0,c.invalidArgumentMessage)(k,U)} Input object is deeper than ${m} levels or contains a cycle.`);M=M||0,q=q||!1;const Q=j?` (found in field "${j}")`:"";if(Array.isArray(B))for(let K=0;K<B.length;++K)N(k,B[K],U,$,j?j.append(String(K)):new p.FieldPath(String(K)),M+1,!0);else if((0,y.isPlainObject)(B))for(const K of Object.keys(B))N(k,B[K],U,$,j?j.append(new p.FieldPath(K)):new p.FieldPath(K),M+1,q);else if(B===void 0){if($.allowUndefined&&M===0)throw new Error(`${(0,c.invalidArgumentMessage)(k,U)} "undefined" values are only ignored inside of objects.`);if(!$.allowUndefined)throw new Error(`${(0,c.invalidArgumentMessage)(k,U)} Cannot use "undefined" as a Firestore value${Q}. If you want to ignore undefined values, enable \`ignoreUndefinedProperties\`.`)}else if(!(B instanceof o.VectorValue))if(B instanceof o.DeleteTransform){if(q)throw new Error(`${(0,c.invalidArgumentMessage)(k,U)} ${B.methodName}() cannot be used inside of an array${Q}.`);if($.allowDeletes==="none")throw new Error(`${(0,c.invalidArgumentMessage)(k,U)} ${B.methodName}() must appear at the top-level and can only be used in update() or set() with {merge:true}${Q}.`);if($.allowDeletes==="root"&&M!==0){if(!(M===1&&(j==null?void 0:j.size)===1))throw new Error(`${(0,c.invalidArgumentMessage)(k,U)} ${B.methodName}() must appear at the top-level and can only be used in update() or set() with {merge:true}${Q}.`)}}else if(B instanceof o.FieldTransform){if(q)throw new Error(`${(0,c.invalidArgumentMessage)(k,U)} ${B.methodName}() cannot be used inside of an array${Q}.`);if(!$.allowTransforms)throw new Error(`${(0,c.invalidArgumentMessage)(k,U)} ${B.methodName}() can only be used in set(), create() or update()${Q}.`)}else{if(B instanceof p.FieldPath)throw new Error(`${(0,c.invalidArgumentMessage)(k,U)} Cannot use object of type "FieldPath" as a Firestore value${Q}.`);if(!(B instanceof u.DocumentReference)){if(!(B instanceof r.GeoPoint)){if(!(B instanceof h.Timestamp||B instanceof Date)){if(!L(B)){if(!(B instanceof Buffer||B instanceof Uint8Array)){if(B!==null){if(typeof B=="object")throw new Error((0,c.customObjectMessage)(k,B,j))}}}}}}}}function L(k){return typeof k=="object"&&k!==null&&k.constructor&&k.constructor.name==="Moment"&&typeof k.toDate=="function"}return serializer}var hasRequiredFieldValue;function requireFieldValue(){if(hasRequiredFieldValue)return fieldValue;hasRequiredFieldValue=1;/*!
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(fieldValue,"__esModule",{value:!0}),fieldValue.DeleteTransform=fieldValue.FieldTransform=fieldValue.FieldValue=fieldValue.VectorValue=void 0;const o=fastDeepEqual,e=requireSerializer(),r=util$4,u=requireValidate();class p{constructor(B){this._values=(B||[]).map(U=>U)}toArray(){return this._values.map(B=>B)}_toProto(B){return B.encodeVector(this._values)}static _fromProto(B){var U,$;const j=($=(U=B.arrayValue)===null||U===void 0?void 0:U.values)===null||$===void 0?void 0:$.map(M=>M.doubleValue);return new p(j)}isEqual(B){return(0,r.isPrimitiveArrayEqual)(this._values,B._values)}}fieldValue.VectorValue=p;class h{constructor(){}static vector(B){return new p(B)}static delete(){return c.DELETE_SENTINEL}static serverTimestamp(){return d.SERVER_TIMESTAMP_SENTINEL}static increment(B){return(0,u.validateMinNumberOfArguments)("FieldValue.increment",arguments,1),new m(B)}static arrayUnion(...B){return(0,u.validateMinNumberOfArguments)("FieldValue.arrayUnion",B,1),new P(B)}static arrayRemove(...B){return(0,u.validateMinNumberOfArguments)("FieldValue.arrayRemove",B,1),new N(B)}isEqual(B){return this===B}}fieldValue.FieldValue=h;class y extends h{}fieldValue.FieldTransform=y;class c extends y{constructor(){super()}get includeInDocumentMask(){return!0}get includeInDocumentTransform(){return!1}get methodName(){return"FieldValue.delete"}validate(){}toProto(){throw new Error("FieldValue.delete() should not be included in a FieldTransform")}}fieldValue.DeleteTransform=c,c.DELETE_SENTINEL=new c;class d extends y{constructor(){super()}get includeInDocumentMask(){return!1}get includeInDocumentTransform(){return!0}get methodName(){return"FieldValue.serverTimestamp"}validate(){}toProto(B,U){return{fieldPath:U.formattedName,setToServerValue:"REQUEST_TIME"}}}d.SERVER_TIMESTAMP_SENTINEL=new d;class m extends y{constructor(B){super(),this.operand=B}get includeInDocumentMask(){return!1}get includeInDocumentTransform(){return!0}get methodName(){return"FieldValue.increment"}validate(){(0,u.validateNumber)("FieldValue.increment()",this.operand)}toProto(B,U){const $=B.encodeValue(this.operand);return{fieldPath:U.formattedName,increment:$}}isEqual(B){return this===B||B instanceof m&&this.operand===B.operand}}class P extends y{constructor(B){super(),this.elements=B}get includeInDocumentMask(){return!1}get includeInDocumentTransform(){return!0}get methodName(){return"FieldValue.arrayUnion"}validate(B){for(let U=0;U<this.elements.length;++U)L(U,this.elements[U],B)}toProto(B,U){const $=B.encodeValue(this.elements).arrayValue;return{fieldPath:U.formattedName,appendMissingElements:$}}isEqual(B){return this===B||B instanceof P&&o(this.elements,B.elements)}}class N extends y{constructor(B){super(),this.elements=B}get includeInDocumentMask(){return!1}get includeInDocumentTransform(){return!0}get methodName(){return"FieldValue.arrayRemove"}validate(B){for(let U=0;U<this.elements.length;++U)L(U,this.elements[U],B)}toProto(B,U){const $=B.encodeValue(this.elements).arrayValue;return{fieldPath:U.formattedName,removeAllFromArray:$}}isEqual(B){return this===B||B instanceof N&&o(this.elements,B.elements)}}function L(k,B,U){if(Array.isArray(B))throw new Error(`${(0,u.invalidArgumentMessage)(k,"array element")} Nested arrays are not supported.`);(0,e.validateUserInput)(k,B,"array element",{allowDeletes:"none",allowTransforms:!1,allowUndefined:U},void 0,0,!0)}return fieldValue}var documentReference={},types$1={};/*!
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(types$1,"__esModule",{value:!0});types$1.defaultConverter=defaultConverter;const defaultConverterObj={toFirestore(o){return o},fromFirestore(o){return o.data()}};function defaultConverter(){return defaultConverterObj}var collectionReference={},query={},queryUtil={},documentChange={};/*!
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(documentChange,"__esModule",{value:!0});documentChange.DocumentChange=void 0;class DocumentChange{constructor(e,r,u,p){this._type=e,this._document=r,this._oldIndex=u,this._newIndex=p}get type(){return this._type}get doc(){return this._document}get oldIndex(){return this._oldIndex}get newIndex(){return this._newIndex}isEqual(e){return this===e?!0:e instanceof DocumentChange&&this._type===e._type&&this._oldIndex===e._oldIndex&&this._newIndex===e._newIndex&&this._document.isEqual(e._document)}}documentChange.DocumentChange=DocumentChange;var queryProfile={};/*!
 * Copyright 2024 Google LLC. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(queryProfile,"__esModule",{value:!0});queryProfile.ExplainResults=queryProfile.ExplainMetrics=queryProfile.ExecutionStats=queryProfile.PlanSummary=void 0;class PlanSummary{constructor(e){this.indexesUsed=e}static _fromProto(e,r){const u=[];if(e&&e.indexesUsed)for(const p of e.indexesUsed)u.push(r.decodeGoogleProtobufStruct(p));return new PlanSummary(u)}}queryProfile.PlanSummary=PlanSummary;class ExecutionStats{constructor(e,r,u,p){this.resultsReturned=e,this.executionDuration=r,this.readOperations=u,this.debugStats=p}static _fromProto(e,r){var u,p;return e?new ExecutionStats(Number(e.resultsReturned),{seconds:Number((u=e.executionDuration)===null||u===void 0?void 0:u.seconds),nanoseconds:Number((p=e.executionDuration)===null||p===void 0?void 0:p.nanos)},Number(e.readOperations),r.decodeGoogleProtobufStruct(e.debugStats)):null}}queryProfile.ExecutionStats=ExecutionStats;class ExplainMetrics{constructor(e,r){this.planSummary=e,this.executionStats=r}static _fromProto(e,r){return new ExplainMetrics(PlanSummary._fromProto(e.planSummary,r),ExecutionStats._fromProto(e.executionStats,r))}}queryProfile.ExplainMetrics=ExplainMetrics;class ExplainResults{constructor(e,r){this.metrics=e,this.snapshot=r}}queryProfile.ExplainResults=ExplainResults;var vectorQuery={},vectorQuerySnapshot={};Object.defineProperty(vectorQuerySnapshot,"__esModule",{value:!0});vectorQuerySnapshot.VectorQuerySnapshot=void 0;const validate_1$1=requireValidate(),util_1$2=util$4;class VectorQuerySnapshot{constructor(e,r,u,p,h){this._query=e,this._readTime=r,this._size=u,this._materializedDocs=null,this._materializedChanges=null,this._docs=null,this._changes=null,this._docs=p,this._changes=h}get query(){return this._query}get docs(){return this._materializedDocs?this._materializedDocs:(this._materializedDocs=this._docs(),this._docs=null,this._materializedDocs)}get empty(){return this._size===0}get size(){return this._size}get readTime(){return this._readTime}docChanges(){return this._materializedChanges?this._materializedChanges:(this._materializedChanges=this._changes(),this._changes=null,this._materializedChanges)}forEach(e,r){(0,validate_1$1.validateFunction)("callback",e);for(const u of this.docs)e.call(r,u)}isEqual(e){return this===e?!0:!(e instanceof VectorQuerySnapshot)||this._size!==e._size||!this._query.isEqual(e._query)?!1:this._materializedDocs&&!this._materializedChanges?(0,util_1$2.isArrayEqual)(this.docs,e.docs)&&(0,util_1$2.isArrayEqual)(this.docChanges(),e.docChanges()):(0,util_1$2.isArrayEqual)(this.docChanges(),e.docChanges())&&(0,util_1$2.isArrayEqual)(this.docs,e.docs)}}vectorQuerySnapshot.VectorQuerySnapshot=VectorQuerySnapshot;var hasRequiredVectorQuery;function requireVectorQuery(){if(hasRequiredVectorQuery)return vectorQuery;hasRequiredVectorQuery=1,Object.defineProperty(vectorQuery,"__esModule",{value:!0}),vectorQuery.VectorQuery=void 0;const o=requireFieldValue(),e=path,r=util$4,u=requireQueryUtil(),p=vectorQuerySnapshot,h=queryProfile;class y{constructor(d,m){this._query=d,this._options=m,this._queryUtil=new u.QueryUtil(d._firestore,d._queryOptions,d._serializer)}get query(){return this._query}get _rawVectorField(){return typeof this._options.vectorField=="string"?this._options.vectorField:this._options.vectorField.toString()}get _rawDistanceResultField(){if(!(typeof this._options.distanceResultField>"u"))return typeof this._options.distanceResultField=="string"?this._options.distanceResultField:this._options.distanceResultField.toString()}get _rawQueryVector(){return Array.isArray(this._options.queryVector)?this._options.queryVector:this._options.queryVector.toArray()}async explain(d){d===void 0&&(d={});const{result:m,explainMetrics:P}=await this._getResponse(d);if(!P)throw new Error("No explain results");return new h.ExplainResults(P,m||null)}async get(){const{result:d}=await this._getResponse();if(!d)throw new Error("No VectorQuerySnapshot result");return d}_getResponse(d){return this._queryUtil._getResponse(this,void 0,!1,d)}_stream(d){return this._queryUtil._stream(this,d,!1)}toProto(d,m){var P,N,L;const k=this._query.toProto(d),B=Array.isArray(this._options.queryVector)?new o.VectorValue(this._options.queryVector):this._options.queryVector;return k.structuredQuery.findNearest={limit:{value:this._options.limit},distanceMeasure:this._options.distanceMeasure,vectorField:{fieldPath:e.FieldPath.fromArgument(this._options.vectorField).formattedName},queryVector:B._toProto(this._query._serializer),distanceResultField:!((P=this._options)===null||P===void 0)&&P.distanceResultField?e.FieldPath.fromArgument(this._options.distanceResultField).formattedName:void 0,distanceThreshold:!((N=this._options)===null||N===void 0)&&N.distanceThreshold?{value:(L=this._options)===null||L===void 0?void 0:L.distanceThreshold}:void 0},m&&(k.explainOptions=m),k}_createSnapshot(d,m,P,N){return new p.VectorQuerySnapshot(this,d,m,P,N)}startAfter(...d){throw new Error("Unimplemented: Vector query does not support cursors yet.")}isEqual(d){return this===d?!0:!(d instanceof y)||!this.query.isEqual(d.query)?!1:this._rawVectorField===d._rawVectorField&&(0,r.isPrimitiveArrayEqual)(this._rawQueryVector,d._rawQueryVector)&&this._options.limit===d._options.limit&&this._options.distanceMeasure===d._options.distanceMeasure&&this._options.distanceThreshold===d._options.distanceThreshold&&this._rawDistanceResultField===d._rawDistanceResultField}}return vectorQuery.VectorQuery=y,vectorQuery}var types={};Object.defineProperty(types,"__esModule",{value:!0});types.LimitType=void 0;/*!
 * Denotes whether a provided limit is applied to the beginning or the end of
 * the result set.
 */var LimitType;(function(o){o[o.First=0]="First",o[o.Last=1]="Last"})(LimitType||(types.LimitType=LimitType={}));var constants={};Object.defineProperty(constants,"__esModule",{value:!0});constants.NOOP_MESSAGE=constants.comparisonOperators=constants.directionOperators=void 0;constants.directionOperators={asc:"ASCENDING",desc:"DESCENDING"};constants.comparisonOperators={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};constants.NOOP_MESSAGE=Symbol("a noop message");var traceUtil={};(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.ATTRIBUTE_KEY_ATTEMPTS_REMAINING=o.ATTRIBUTE_KEY_ATTEMPTS_ALLOWED=o.ATTRIBUTE_KEY_TRANSACTION_TYPE=o.ATTRIBUTE_KEY_IS_RETRY_WITH_CURSOR=o.ATTRIBUTE_KEY_NUM_RESPONSES=o.ATTRIBUTE_KEY_IS_TRANSACTIONAL=o.ATTRIBUTE_KEY_DOC_COUNT=o.ATTRIBUTE_SETTINGS_PREFIX=o.ATTRIBUTE_SERVICE_PREFIX=o.SPAN_NAME_BULK_WRITER_COMMIT=o.SPAN_NAME_PARTITION_QUERY=o.SPAN_NAME_BATCH_COMMIT=o.SPAN_NAME_TRANSACTION_COMMIT=o.SPAN_NAME_TRANSACTION_ROLLBACK=o.SPAN_NAME_TRANSACTION_GET_DOCUMENTS=o.SPAN_NAME_TRANSACTION_GET_DOCUMENT=o.SPAN_NAME_TRANSACTION_GET_AGGREGATION_QUERY=o.SPAN_NAME_TRANSACTION_GET_QUERY=o.SPAN_NAME_TRANSACTION_RUN=o.SPAN_NAME_AGGREGATION_QUERY_GET=o.SPAN_NAME_QUERY_GET=o.SPAN_NAME_COL_REF_LIST_DOCUMENTS=o.SPAN_NAME_COL_REF_ADD=o.SPAN_NAME_DOC_REF_LIST_COLLECTIONS=o.SPAN_NAME_DOC_REF_GET=o.SPAN_NAME_DOC_REF_DELETE=o.SPAN_NAME_DOC_REF_UPDATE=o.SPAN_NAME_DOC_REF_SET=o.SPAN_NAME_DOC_REF_CREATE=o.SPAN_NAME_RUN_AGGREGATION_QUERY=o.SPAN_NAME_RUN_QUERY=o.SPAN_NAME_BATCH_GET_DOCUMENTS=o.SERVICE=void 0,o.SERVICE="google.firestore.v1.Firestore/",o.SPAN_NAME_BATCH_GET_DOCUMENTS="BatchGetDocuments",o.SPAN_NAME_RUN_QUERY="RunQuery",o.SPAN_NAME_RUN_AGGREGATION_QUERY="RunAggregationQuery",o.SPAN_NAME_DOC_REF_CREATE="DocumentReference.Create",o.SPAN_NAME_DOC_REF_SET="DocumentReference.Set",o.SPAN_NAME_DOC_REF_UPDATE="DocumentReference.Update",o.SPAN_NAME_DOC_REF_DELETE="DocumentReference.Delete",o.SPAN_NAME_DOC_REF_GET="DocumentReference.Get",o.SPAN_NAME_DOC_REF_LIST_COLLECTIONS="DocumentReference.ListCollections",o.SPAN_NAME_COL_REF_ADD="CollectionReference.Add",o.SPAN_NAME_COL_REF_LIST_DOCUMENTS="CollectionReference.ListDocuments",o.SPAN_NAME_QUERY_GET="Query.Get",o.SPAN_NAME_AGGREGATION_QUERY_GET="AggregationQuery.Get",o.SPAN_NAME_TRANSACTION_RUN="Transaction.Run",o.SPAN_NAME_TRANSACTION_GET_QUERY="Transaction.Get.Query",o.SPAN_NAME_TRANSACTION_GET_AGGREGATION_QUERY="Transaction.Get.AggregationQuery",o.SPAN_NAME_TRANSACTION_GET_DOCUMENT="Transaction.Get.Document",o.SPAN_NAME_TRANSACTION_GET_DOCUMENTS="Transaction.Get.Documents",o.SPAN_NAME_TRANSACTION_ROLLBACK="Transaction.Rollback",o.SPAN_NAME_TRANSACTION_COMMIT="Transaction.Commit",o.SPAN_NAME_BATCH_COMMIT="Batch.Commit",o.SPAN_NAME_PARTITION_QUERY="PartitionQuery",o.SPAN_NAME_BULK_WRITER_COMMIT="BulkWriter.Commit",o.ATTRIBUTE_SERVICE_PREFIX="gcp.firestore",o.ATTRIBUTE_SETTINGS_PREFIX=`${o.ATTRIBUTE_SERVICE_PREFIX}.settings`,o.ATTRIBUTE_KEY_DOC_COUNT="doc_count",o.ATTRIBUTE_KEY_IS_TRANSACTIONAL="transactional",o.ATTRIBUTE_KEY_NUM_RESPONSES="response_count",o.ATTRIBUTE_KEY_IS_RETRY_WITH_CURSOR="retry_query_with_cursor",o.ATTRIBUTE_KEY_TRANSACTION_TYPE="transaction_type",o.ATTRIBUTE_KEY_ATTEMPTS_ALLOWED="attempts_allowed",o.ATTRIBUTE_KEY_ATTEMPTS_REMAINING="attempts_remaining"})(traceUtil);var hasRequiredQueryUtil;function requireQueryUtil(){if(hasRequiredQueryUtil)return queryUtil;hasRequiredQueryUtil=1,Object.defineProperty(queryUtil,"__esModule",{value:!0}),queryUtil.QueryUtil=void 0;const o=require$$1$3,e=requireTimestamp(),r=requireDocument(),u=util$4,p=documentChange,h=queryProfile,y=logger$1,c=requireVectorQuery(),d=types,m=constants,P=traceUtil;class N{constructor(k,B,U){this._firestore=k,this._queryOptions=B,this._serializer=U}_getResponse(k,B,U=!0,$){const j=Error().stack;return new Promise((M,q)=>{const Q=[],K={};this._stream(k,B,U,$).on("error",G=>{q((0,u.wrapError)(G,j))}).on("data",G=>{G.transaction&&(K.transaction=G.transaction),G.readTime&&(K.readTime=G.readTime),G.explainMetrics&&(K.explainMetrics=G.explainMetrics),G.document&&Q.push(G.document)}).on("end",()=>{this._queryOptions.limitType===d.LimitType.Last&&Q.reverse();const G=K.readTime?k._createSnapshot(K.readTime,Q.length,()=>Q,()=>{const F=[];for(let x=0;x<Q.length;++x)F.push(new p.DocumentChange("added",Q[x],-1,x));return F}):void 0;M({transaction:K.transaction,explainMetrics:K.explainMetrics,result:G})})})}_isPermanentRpcError(k,B){return(0,u.isPermanentRpcError)(k,B)}_hasRetryTimedOut(k,B){const U=(0,u.getTotalTimeout)(k);return U===0?!1:Date.now()-B>=U}stream(k){if(this._queryOptions.limitType===d.LimitType.Last)throw new Error("Query results for queries that include limitToLast() constraints cannot be streamed. Use Query.get() instead.");const B=this._stream(k),U=new o.Transform({objectMode:!0,transform($,j,M){M(void 0,$.document)}});return B.pipe(U),B.on("error",$=>U.destroy($)),U}_stream(k,B,U=!0,$){const j=(0,u.requestTag)(),M=Date.now(),q=$!==void 0,Q="runQuery";let K=0,G=null,F;const x=new o.Transform({objectMode:!0,transform:(z,J,Z)=>{var X;if(z===m.NOOP_MESSAGE){Z(void 0);return}const te={};if(!((X=z.transaction)===null||X===void 0)&&X.length&&(te.transaction=z.transaction),z.readTime&&(te.readTime=e.Timestamp.fromProto(z.readTime)),z.document){const be=this._firestore.snapshot_(z.document,z.readTime),Ae=new r.DocumentSnapshotBuilder(be.ref.withConverter(this._queryOptions.converter));Ae.fieldsProto=be._fieldsProto,Ae.readTime=be.readTime,Ae.createTime=be.createTime,Ae.updateTime=be.updateTime,G=Ae.build(),te.document=G}z.explainMetrics&&(te.explainMetrics=h.ExplainMetrics._fromProto(z.explainMetrics,this._serializer)),++K,Z(void 0,te),z.done&&((0,y.logger)("QueryUtil._stream",j,"Trigger Logical Termination."),this._firestore._traceUtil.currentSpan().addEvent(`Firestore.${Q}: Received RunQueryResponse.Done.`),F.unpipe(x),F.resume(),F.end(),x.end())}});return this._firestore.initializeIfNeeded(j).then(async()=>{let z=k.toProto(B,$),J=!1,Z;do Z=new u.Deferred,this._firestore._traceUtil.currentSpan().addEvent(P.SPAN_NAME_RUN_QUERY,{[P.ATTRIBUTE_KEY_IS_TRANSACTIONAL]:!!z.transaction,[P.ATTRIBUTE_KEY_IS_RETRY_WITH_CURSOR]:J}),F=await this._firestore.requestStream(Q,!1,z,j),F.on("error",X=>{F.unpipe(x),!q&&!B&&!this._isPermanentRpcError(X,Q)?((0,y.logger)("QueryUtil._stream",j,"Query failed with retryable stream error:",X),this._firestore._traceUtil.currentSpan().addEvent(`${P.SPAN_NAME_RUN_QUERY}: Retryable Error.`,{"error.message":X.message}),x.write(m.NOOP_MESSAGE,()=>{if(this._hasRetryTimedOut(Q,M))(0,y.logger)("QueryUtil._stream",j,"Query failed with retryable stream error but the total retry timeout has exceeded."),x.destroy(X),Z.resolve(!1);else if(G&&U){if(k instanceof c.VectorQuery)throw new Error("Unimplemented: Vector query does not support cursors yet.");(0,y.logger)("Query._stream",j,"Query failed with retryable stream error and progress was made receiving documents, so the stream is being retried."),J=!0;let te;if(!this._queryOptions.limit)te=k;else{const be=this._queryOptions.limit-K;this._queryOptions.limitType===void 0||this._queryOptions.limitType===d.LimitType.First?te=k.limit(be):te=k.limitToLast(be)}this._queryOptions.requireConsistency?z=te.startAfter(G).toProto(G.readTime):z=te.startAfter(G).toProto(),G=null,Z.resolve(!0)}else(0,y.logger)("QueryUtil._stream",j,`Query failed with retryable stream error however either retryWithCursor="${U}", or no progress was made receiving documents, so the stream is being closed.`),x.destroy(X),Z.resolve(!1)})):((0,y.logger)("QueryUtil._stream",j,"Query failed with stream error:",X),this._firestore._traceUtil.currentSpan().addEvent(`${P.SPAN_NAME_RUN_QUERY}: Error.`,{"error.message":X.message}),x.destroy(X),Z.resolve(!1))}),F.on("end",()=>{Z.resolve(!1)}),F.resume(),F.pipe(x);while(await Z.promise)}).catch(z=>x.destroy(z)),x}}return queryUtil.QueryUtil=N,queryUtil}var fieldOrder={};Object.defineProperty(fieldOrder,"__esModule",{value:!0});fieldOrder.FieldOrder=void 0;class FieldOrder{constructor(e,r="ASCENDING"){this.field=e,this.direction=r}toProto(){return{field:{fieldPath:this.field.formattedName},direction:this.direction}}}fieldOrder.FieldOrder=FieldOrder;var fieldFilterInternal={},filterInternal={};Object.defineProperty(filterInternal,"__esModule",{value:!0});filterInternal.FilterInternal=void 0;class FilterInternal{}filterInternal.FilterInternal=FilterInternal;Object.defineProperty(fieldFilterInternal,"__esModule",{value:!0});fieldFilterInternal.FieldFilterInternal=void 0;const deepEqual$2=fastDeepEqual,filter_internal_1$1=filterInternal;class FieldFilterInternal extends filter_internal_1$1.FilterInternal{getFlattenedFilters(){return[this]}getFilters(){return[this]}constructor(e,r,u,p){super(),this.serializer=e,this.field=r,this.op=u,this.value=p}isInequalityFilter(){switch(this.op){case"GREATER_THAN":case"GREATER_THAN_OR_EQUAL":case"LESS_THAN":case"LESS_THAN_OR_EQUAL":case"NOT_EQUAL":case"NOT_IN":return!0;default:return!1}}toProto(){return typeof this.value=="number"&&isNaN(this.value)?{unaryFilter:{field:{fieldPath:this.field.formattedName},op:this.op==="EQUAL"?"IS_NAN":"IS_NOT_NAN"}}:this.value===null?{unaryFilter:{field:{fieldPath:this.field.formattedName},op:this.op==="EQUAL"?"IS_NULL":"IS_NOT_NULL"}}:{fieldFilter:{field:{fieldPath:this.field.formattedName},op:this.op,value:this.serializer.encodeValue(this.value)}}}isEqual(e){return e instanceof FieldFilterInternal&&this.field.isEqual(e.field)&&this.op===e.op&&deepEqual$2(this.value,e.value)}}fieldFilterInternal.FieldFilterInternal=FieldFilterInternal;var compositeFilterInternal={};Object.defineProperty(compositeFilterInternal,"__esModule",{value:!0});compositeFilterInternal.CompositeFilterInternal=void 0;const filter_internal_1=filterInternal;class CompositeFilterInternal extends filter_internal_1.FilterInternal{constructor(e,r){super(),this.filters=e,this.operator=r,this.memoizedFlattenedFilters=null}getFilters(){return this.filters}isConjunction(){return this.operator==="AND"}getFlattenedFilters(){return this.memoizedFlattenedFilters!==null?this.memoizedFlattenedFilters:(this.memoizedFlattenedFilters=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[]),this.memoizedFlattenedFilters)}toProto(){return this.filters.length===1?this.filters[0].toProto():{compositeFilter:{op:this.operator,filters:this.filters.map(r=>r.toProto())}}}isEqual(e){if(e instanceof CompositeFilterInternal){const r=e.getFilters();return this.operator===e.operator&&this.getFilters().length===e.getFilters().length&&this.getFilters().every((u,p)=>u.isEqual(r[p]))}else return!1}}compositeFilterInternal.CompositeFilterInternal=CompositeFilterInternal;var querySnapshot={};Object.defineProperty(querySnapshot,"__esModule",{value:!0});querySnapshot.QuerySnapshot=void 0;const validate_1=requireValidate(),util_1$1=util$4;class QuerySnapshot{constructor(e,r,u,p,h){this._query=e,this._readTime=r,this._size=u,this._materializedDocs=null,this._materializedChanges=null,this._docs=null,this._changes=null,this._docs=p,this._changes=h}get query(){return this._query}get docs(){return this._materializedDocs?this._materializedDocs:(this._materializedDocs=this._docs(),this._docs=null,this._materializedDocs)}get empty(){return this._size===0}get size(){return this._size}get readTime(){return this._readTime}docChanges(){return this._materializedChanges?this._materializedChanges:(this._materializedChanges=this._changes(),this._changes=null,this._materializedChanges)}forEach(e,r){(0,validate_1.validateFunction)("callback",e);for(const u of this.docs)e.call(r,u)}isEqual(e){return this===e?!0:!(e instanceof QuerySnapshot)||this._size!==e._size||!this._query.isEqual(e._query)?!1:this._materializedDocs&&!this._materializedChanges?(0,util_1$1.isArrayEqual)(this.docs,e.docs)&&(0,util_1$1.isArrayEqual)(this.docChanges(),e.docChanges()):(0,util_1$1.isArrayEqual)(this.docChanges(),e.docChanges())&&(0,util_1$1.isArrayEqual)(this.docs,e.docs)}}querySnapshot.QuerySnapshot=QuerySnapshot;var filter={};/*!
 * Copyright 2023 Google LLC. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(filter,"__esModule",{value:!0});filter.CompositeFilter=filter.UnaryFilter=filter.Filter=void 0;class Filter{static where(e,r,u){return new UnaryFilter(e,r,u)}static or(...e){return new CompositeFilter(e,"OR")}static and(...e){return new CompositeFilter(e,"AND")}}filter.Filter=Filter;class UnaryFilter extends Filter{constructor(e,r,u){super(),this.field=e,this.operator=r,this.value=u}_getField(){return this.field}_getOperator(){return this.operator}_getValue(){return this.value}}filter.UnaryFilter=UnaryFilter;class CompositeFilter extends Filter{constructor(e,r){super(),this.filters=e,this.operator=r}_getFilters(){return this.filters}_getOperator(){return this.operator}}filter.CompositeFilter=CompositeFilter;var helpers={},hasRequiredHelpers;function requireHelpers(){if(hasRequiredHelpers)return helpers;hasRequiredHelpers=1,Object.defineProperty(helpers,"__esModule",{value:!0}),helpers.validateQueryOrder=p,helpers.validateQueryOperator=h,helpers.validateDocumentReference=y,helpers.validateQueryValue=c,helpers.coalesce=d;const o=requireValidate(),e=requireSerializer(),r=requireDocumentReference(),u=constants;function p(m,P){return P=typeof P=="string"?P.toLowerCase():P,(0,o.validateEnumValue)(m,P,Object.keys(u.directionOperators),{optional:!0}),P}function h(m,P,N){if(P==="="&&(P="=="),(0,o.validateEnumValue)(m,P,Object.keys(u.comparisonOperators)),typeof N=="number"&&isNaN(N)&&P!=="=="&&P!=="!=")throw new Error("Invalid query. You can only perform '==' and '!=' comparisons on NaN.");if(N===null&&P!=="=="&&P!=="!=")throw new Error("Invalid query. You can only perform '==' and '!=' comparisons on Null.");return P}function y(m,P){if(!(P instanceof r.DocumentReference))throw new Error((0,o.invalidArgumentMessage)(m,"DocumentReference"));return P}function c(m,P,N){(0,e.validateUserInput)(m,P,"query constraint",{allowDeletes:"none",allowTransforms:!1,allowUndefined:N})}function d(...m){return m.find(P=>P!==void 0)}return helpers}var aggregateQuery={},aggregate={};Object.defineProperty(aggregate,"__esModule",{value:!0});aggregate.AggregateField=aggregate.Aggregate=void 0;const path_1$1=path,assert$1=require$$1$3;class Aggregate{constructor(e,r,u){this.alias=e,this.aggregateType=r,this.fieldPath=u}toProto(){const e={};if(this.aggregateType==="count")e.count={};else if(this.aggregateType==="sum")assert$1(this.fieldPath!==void 0,"Missing field path for sum aggregation."),e.sum={field:{fieldPath:path_1$1.FieldPath.fromArgument(this.fieldPath).formattedName}};else if(this.aggregateType==="avg")assert$1(this.fieldPath!==void 0,"Missing field path for average aggregation."),e.avg={field:{fieldPath:path_1$1.FieldPath.fromArgument(this.fieldPath).formattedName}};else throw new Error(`Aggregate type ${this.aggregateType} unimplemented.`);return e.alias=this.alias,e}}aggregate.Aggregate=Aggregate;class AggregateField{constructor(e,r){this.aggregateType=e,this.type="AggregateField",this._field=r}isEqual(e){return e instanceof AggregateField&&this.aggregateType===e.aggregateType&&(this._field===void 0&&e._field===void 0||this._field!==void 0&&e._field!==void 0&&path_1$1.FieldPath.fromArgument(this._field).isEqual(path_1$1.FieldPath.fromArgument(e._field)))}static count(){return new AggregateField("count")}static average(e){return new AggregateField("avg",e)}static sum(e){return new AggregateField("sum",e)}}aggregate.AggregateField=AggregateField;var aggregateQuerySnapshot={};Object.defineProperty(aggregateQuerySnapshot,"__esModule",{value:!0});aggregateQuerySnapshot.AggregateQuerySnapshot=void 0;const deepEqual$1=fastDeepEqual;class AggregateQuerySnapshot{constructor(e,r,u){this._query=e,this._readTime=r,this._data=u}get query(){return this._query}get readTime(){return this._readTime}data(){return this._data}isEqual(e){return this===e?!0:!(e instanceof AggregateQuerySnapshot)||!this.query.isEqual(e.query)?!1:deepEqual$1(this._data,e._data)}}aggregateQuerySnapshot.AggregateQuerySnapshot=AggregateQuerySnapshot;Object.defineProperty(aggregateQuery,"__esModule",{value:!0});aggregateQuery.AggregateQuery=void 0;const assert=require$$1$3,deepEqual=fastDeepEqual,aggregate_1=aggregate,timestamp_1=requireTimestamp(),util_1=util$4,query_profile_1=queryProfile,logger_1=logger$1,aggregate_query_snapshot_1=aggregateQuerySnapshot,stream_1$1=require$$1$3,trace_util_1=traceUtil;class AggregateQuery{constructor(e,r){this._query=e,this._aggregates=r,this.clientAliasToServerAliasMap={},this.serverAliasToClientAliasMap={};let u=0;for(const p in this._aggregates)if(Object.prototype.hasOwnProperty.call(this._aggregates,p)){const h=`aggregate_${u++}`;this.clientAliasToServerAliasMap[p]=h,this.serverAliasToClientAliasMap[h]=p}}get query(){return this._query}async get(){return this._query._firestore._traceUtil.startActiveSpan(trace_util_1.SPAN_NAME_AGGREGATION_QUERY_GET,async()=>{const{result:e}=await this._get();return e})}async _get(e){const r=await this._getResponse(e);if(!r.result)throw new Error("No AggregateQuery results");return r}_getResponse(e,r){const u=Error().stack;return new Promise((p,h)=>{const y={},c=this._stream(e,r);c.on("error",d=>{h((0,util_1.wrapError)(d,u))}),c.on("data",d=>{d.transaction&&(y.transaction=d.transaction),d.explainMetrics&&(y.explainMetrics=d.explainMetrics),d.result&&(y.result=d.result)}),c.on("end",()=>{c.destroy(),p(y)})})}_stream(e,r){const u=(0,util_1.requestTag)(),p=this._query.firestore,h=new stream_1$1.Transform({objectMode:!0,transform:(y,c,d)=>{var m;const P={};if(!((m=y.transaction)===null||m===void 0)&&m.length&&(P.transaction=y.transaction),y.explainMetrics&&(P.explainMetrics=query_profile_1.ExplainMetrics._fromProto(y.explainMetrics,p._serializer)),y.result){const N=timestamp_1.Timestamp.fromProto(y.readTime),L=this.decodeResult(y.result);P.result=new aggregate_query_snapshot_1.AggregateQuerySnapshot(this,N,L)}d(void 0,P)}});return p.initializeIfNeeded(u).then(async()=>{const y=this.toProto(e,r),c=await p.requestStream("runAggregationQuery",!1,y,u);h.on("close",()=>{c.resume(),c.end()}),c.on("error",d=>{c.unpipe(h),(0,logger_1.logger)("AggregateQuery._stream",u,"AggregateQuery failed with stream error:",d),this._query._firestore._traceUtil.currentSpan().addEvent(`${trace_util_1.SPAN_NAME_RUN_AGGREGATION_QUERY}: Error.`,{"error.message":d.message}),h.destroy(d)}),c.resume(),c.pipe(h)}).catch(y=>h.destroy(y)),h}decodeResult(e){const r={},u=e.aggregateFields;if(u){const p=this._query.firestore._serializer;for(const h of Object.keys(u)){const y=this.serverAliasToClientAliasMap[h];if(assert(y!=null,`'${h}' not present in server-client alias mapping.`),this._aggregates[y]===void 0)throw new Error(`Unexpected alias [${h}] in result aggregate result`);r[y]=p.decodeValue(u[h])}}return r}toProto(e,r){const u=this._query.toProto(),p={parent:u.parent,structuredAggregationQuery:{structuredQuery:u.structuredQuery,aggregations:(0,util_1.mapToArray)(this._aggregates,(h,y)=>{const c=this.clientAliasToServerAliasMap[y];return assert(c!=null,`'${y}' not present in client-server alias mapping.`),new aggregate_1.Aggregate(c,h.aggregateType,h._field).toProto()})}};return e instanceof Uint8Array?p.transaction=e:e instanceof timestamp_1.Timestamp?p.readTime=e:e&&(p.newTransaction=e),r&&(p.explainOptions=r),p}isEqual(e){return this===e?!0:!(e instanceof AggregateQuery)||!this.query.isEqual(e.query)?!1:deepEqual(this._aggregates,e._aggregates)}async explain(e){const{result:r,explainMetrics:u}=await this._getResponse(void 0,e||{});if(!u)throw new Error("No explain results");return new query_profile_1.ExplainResults(u,r||null)}}aggregateQuery.AggregateQuery=AggregateQuery;var order={};/*!
 * Copyright 2017 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(order,"__esModule",{value:!0});order.primitiveComparator=primitiveComparator;order.compareArrays=compareArrays;order.compare=compare;const convert_1=convert,path_1=path;/*!
 * The type order as defined by the backend.
 */var TypeOrder;(function(o){o[o.NULL=0]="NULL",o[o.BOOLEAN=1]="BOOLEAN",o[o.NUMBER=2]="NUMBER",o[o.TIMESTAMP=3]="TIMESTAMP",o[o.STRING=4]="STRING",o[o.BLOB=5]="BLOB",o[o.REF=6]="REF",o[o.GEO_POINT=7]="GEO_POINT",o[o.ARRAY=8]="ARRAY",o[o.VECTOR=9]="VECTOR",o[o.OBJECT=10]="OBJECT"})(TypeOrder||(TypeOrder={}));/*!
 * @private
 * @internal
 */function typeOrder(o){const e=(0,convert_1.detectValueType)(o);switch(e){case"nullValue":return TypeOrder.NULL;case"integerValue":return TypeOrder.NUMBER;case"doubleValue":return TypeOrder.NUMBER;case"stringValue":return TypeOrder.STRING;case"booleanValue":return TypeOrder.BOOLEAN;case"arrayValue":return TypeOrder.ARRAY;case"timestampValue":return TypeOrder.TIMESTAMP;case"geoPointValue":return TypeOrder.GEO_POINT;case"bytesValue":return TypeOrder.BLOB;case"referenceValue":return TypeOrder.REF;case"mapValue":return TypeOrder.OBJECT;case"vectorValue":return TypeOrder.VECTOR;default:throw new Error("Unexpected value type: "+e)}}/*!
 * @private
 * @internal
 */function primitiveComparator(o,e){return o<e?-1:o>e?1:0}/*!
 * Utility function to compare doubles (using Firestore semantics for NaN).
 * @private
 * @internal
 */function compareNumbers(o,e){return o<e?-1:o>e?1:o===e?0:isNaN(o)?isNaN(e)?0:-1:1}/*!
 * @private
 * @internal
 */function compareNumberProtos(o,e){let r,u;return o.integerValue!==void 0?r=Number(o.integerValue):r=Number(o.doubleValue),e.integerValue!==void 0?u=Number(e.integerValue):u=Number(e.doubleValue),compareNumbers(r,u)}/*!
 * @private
 * @internal
 */function compareTimestamps(o,e){const r=primitiveComparator(o.seconds||0,e.seconds||0);return r!==0?r:primitiveComparator(o.nanos||0,e.nanos||0)}/*!
 * @private
 * @internal
 */function compareBlobs(o,e){if(!(o instanceof Buffer)||!(e instanceof Buffer))throw new Error("Blobs can only be compared if they are Buffers.");return Buffer.compare(o,e)}/*!
 * @private
 * @internal
 */function compareReferenceProtos(o,e){const r=path_1.QualifiedResourcePath.fromSlashSeparatedString(o.referenceValue),u=path_1.QualifiedResourcePath.fromSlashSeparatedString(e.referenceValue);return r.compareTo(u)}/*!
 * @private
 * @internal
 */function compareGeoPoints(o,e){return primitiveComparator(o.latitude||0,e.latitude||0)||primitiveComparator(o.longitude||0,e.longitude||0)}/*!
 * @private
 * @internal
 */function compareArrays(o,e){for(let r=0;r<o.length&&r<e.length;r++){const u=compare(o[r],e[r]);if(u!==0)return u}return primitiveComparator(o.length,e.length)}/*!
 * @private
 * @internal
 */function compareObjects(o,e){const r=Object.keys(o),u=Object.keys(e);r.sort(),u.sort();for(let p=0;p<r.length&&p<u.length;p++){const h=primitiveComparator(r[p],u[p]);if(h!==0)return h;const y=r[p],c=compare(o[y],e[y]);if(c!==0)return c}return primitiveComparator(r.length,u.length)}/*!
 * @private
 * @internal
 */function compareVectors(o,e){var r,u,p,h,y,c;const d=(p=(u=(r=o==null?void 0:o.value)===null||r===void 0?void 0:r.arrayValue)===null||u===void 0?void 0:u.values)!==null&&p!==void 0?p:[],m=(c=(y=(h=e==null?void 0:e.value)===null||h===void 0?void 0:h.arrayValue)===null||y===void 0?void 0:y.values)!==null&&c!==void 0?c:[],P=primitiveComparator(d.length,m.length);return P!==0?P:compareArrays(d,m)}/*!
 * @private
 * @internal
 */function compare(o,e){const r=typeOrder(o),u=typeOrder(e),p=primitiveComparator(r,u);if(p!==0)return p;switch(r){case TypeOrder.NULL:return 0;case TypeOrder.BOOLEAN:return primitiveComparator(o.booleanValue,e.booleanValue);case TypeOrder.STRING:return primitiveComparator(o.stringValue,e.stringValue);case TypeOrder.NUMBER:return compareNumberProtos(o,e);case TypeOrder.TIMESTAMP:return compareTimestamps(o.timestampValue,e.timestampValue);case TypeOrder.BLOB:return compareBlobs(o.bytesValue,e.bytesValue);case TypeOrder.REF:return compareReferenceProtos(o,e);case TypeOrder.GEO_POINT:return compareGeoPoints(o.geoPointValue,e.geoPointValue);case TypeOrder.ARRAY:return compareArrays(o.arrayValue.values||[],e.arrayValue.values||[]);case TypeOrder.OBJECT:return compareObjects(o.mapValue.fields||{},e.mapValue.fields||{});case TypeOrder.VECTOR:return compareVectors(o.mapValue.fields||{},e.mapValue.fields||{});default:throw new Error(`Encountered unknown type order: ${r}`)}}var watch={},rbtree,hasRequiredRbtree;function requireRbtree(){if(hasRequiredRbtree)return rbtree;hasRequiredRbtree=1,rbtree=$;var o=0,e=1;function r(j,M,q,Q,K,G){this._color=j,this.key=M,this.value=q,this.left=Q,this.right=K,this._count=G}function u(j){return new r(j._color,j.key,j.value,j.left,j.right,j._count)}function p(j,M){return new r(j,M.key,M.value,M.left,M.right,M._count)}function h(j){j._count=1+(j.left?j.left._count:0)+(j.right?j.right._count:0)}function y(j,M){this._compare=j,this.root=M}var c=y.prototype;Object.defineProperty(c,"keys",{get:function(){var j=[];return this.forEach(function(M,q){j.push(M)}),j}}),Object.defineProperty(c,"values",{get:function(){var j=[];return this.forEach(function(M,q){j.push(q)}),j}}),Object.defineProperty(c,"length",{get:function(){return this.root?this.root._count:0}}),c.insert=function(j,M){for(var q=this._compare,Q=this.root,K=[],G=[];Q;){var F=q(j,Q.key);K.push(Q),G.push(F),F<=0?Q=Q.left:Q=Q.right}K.push(new r(o,j,M,null,null,1));for(var x=K.length-2;x>=0;--x){var Q=K[x];G[x]<=0?K[x]=new r(Q._color,Q.key,Q.value,K[x+1],Q.right,Q._count+1):K[x]=new r(Q._color,Q.key,Q.value,Q.left,K[x+1],Q._count+1)}for(var x=K.length-1;x>1;--x){var z=K[x-1],Q=K[x];if(z._color===e||Q._color===e)break;var J=K[x-2];if(J.left===z)if(z.left===Q){var Z=J.right;if(Z&&Z._color===o)z._color=e,J.right=p(e,Z),J._color=o,x-=1;else{if(J._color=o,J.left=z.right,z._color=e,z.right=J,K[x-2]=z,K[x-1]=Q,h(J),h(z),x>=3){var X=K[x-3];X.left===J?X.left=z:X.right=z}break}}else{var Z=J.right;if(Z&&Z._color===o)z._color=e,J.right=p(e,Z),J._color=o,x-=1;else{if(z.right=Q.left,J._color=o,J.left=Q.right,Q._color=e,Q.left=z,Q.right=J,K[x-2]=Q,K[x-1]=z,h(J),h(z),h(Q),x>=3){var X=K[x-3];X.left===J?X.left=Q:X.right=Q}break}}else if(z.right===Q){var Z=J.left;if(Z&&Z._color===o)z._color=e,J.left=p(e,Z),J._color=o,x-=1;else{if(J._color=o,J.right=z.left,z._color=e,z.left=J,K[x-2]=z,K[x-1]=Q,h(J),h(z),x>=3){var X=K[x-3];X.right===J?X.right=z:X.left=z}break}}else{var Z=J.left;if(Z&&Z._color===o)z._color=e,J.left=p(e,Z),J._color=o,x-=1;else{if(z.left=Q.right,J._color=o,J.right=Q.left,Q._color=e,Q.right=z,Q.left=J,K[x-2]=Q,K[x-1]=z,h(J),h(z),h(Q),x>=3){var X=K[x-3];X.right===J?X.right=Q:X.left=Q}break}}}return K[0]._color=e,new y(q,K[0])};function d(j,M){if(M.left){var q=d(j,M.left);if(q)return q}var q=j(M.key,M.value);if(q)return q;if(M.right)return d(j,M.right)}function m(j,M,q,Q){var K=M(j,Q.key);if(K<=0){if(Q.left){var G=m(j,M,q,Q.left);if(G)return G}var G=q(Q.key,Q.value);if(G)return G}if(Q.right)return m(j,M,q,Q.right)}function P(j,M,q,Q,K){var G=q(j,K.key),F=q(M,K.key),x;if(G<=0&&(K.left&&(x=P(j,M,q,Q,K.left),x)||F>0&&(x=Q(K.key,K.value),x)))return x;if(F>0&&K.right)return P(j,M,q,Q,K.right)}c.forEach=function(M,q,Q){if(this.root)switch(arguments.length){case 1:return d(M,this.root);case 2:return m(q,this._compare,M,this.root);case 3:return this._compare(q,Q)>=0?void 0:P(q,Q,this._compare,M,this.root)}},Object.defineProperty(c,"begin",{get:function(){for(var j=[],M=this.root;M;)j.push(M),M=M.left;return new N(this,j)}}),Object.defineProperty(c,"end",{get:function(){for(var j=[],M=this.root;M;)j.push(M),M=M.right;return new N(this,j)}}),c.at=function(j){if(j<0)return new N(this,[]);for(var M=this.root,q=[];;){if(q.push(M),M.left){if(j<M.left._count){M=M.left;continue}j-=M.left._count}if(!j)return new N(this,q);if(j-=1,M.right){if(j>=M.right._count)break;M=M.right}else break}return new N(this,[])},c.ge=function(j){for(var M=this._compare,q=this.root,Q=[],K=0;q;){var G=M(j,q.key);Q.push(q),G<=0&&(K=Q.length),G<=0?q=q.left:q=q.right}return Q.length=K,new N(this,Q)},c.gt=function(j){for(var M=this._compare,q=this.root,Q=[],K=0;q;){var G=M(j,q.key);Q.push(q),G<0&&(K=Q.length),G<0?q=q.left:q=q.right}return Q.length=K,new N(this,Q)},c.lt=function(j){for(var M=this._compare,q=this.root,Q=[],K=0;q;){var G=M(j,q.key);Q.push(q),G>0&&(K=Q.length),G<=0?q=q.left:q=q.right}return Q.length=K,new N(this,Q)},c.le=function(j){for(var M=this._compare,q=this.root,Q=[],K=0;q;){var G=M(j,q.key);Q.push(q),G>=0&&(K=Q.length),G<0?q=q.left:q=q.right}return Q.length=K,new N(this,Q)},c.find=function(j){for(var M=this._compare,q=this.root,Q=[];q;){var K=M(j,q.key);if(Q.push(q),K===0)return new N(this,Q);K<=0?q=q.left:q=q.right}return new N(this,[])},c.remove=function(j){var M=this.find(j);return M?M.remove():this},c.get=function(j){for(var M=this._compare,q=this.root;q;){var Q=M(j,q.key);if(Q===0)return q.value;Q<=0?q=q.left:q=q.right}};function N(j,M){this.tree=j,this._stack=M}var L=N.prototype;Object.defineProperty(L,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(L,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),L.clone=function(){return new N(this.tree,this._stack.slice())};function k(j,M){j.key=M.key,j.value=M.value,j.left=M.left,j.right=M.right,j._color=M._color,j._count=M._count}function B(j){for(var M,q,Q,K,G=j.length-1;G>=0;--G){if(M=j[G],G===0){M._color=e;return}if(q=j[G-1],q.left===M){if(Q=q.right,Q.right&&Q.right._color===o){if(Q=q.right=u(Q),K=Q.right=u(Q.right),q.right=Q.left,Q.left=q,Q.right=K,Q._color=q._color,M._color=e,q._color=e,K._color=e,h(q),h(Q),G>1){var F=j[G-2];F.left===q?F.left=Q:F.right=Q}j[G-1]=Q;return}else if(Q.left&&Q.left._color===o){if(Q=q.right=u(Q),K=Q.left=u(Q.left),q.right=K.left,Q.left=K.right,K.left=q,K.right=Q,K._color=q._color,q._color=e,Q._color=e,M._color=e,h(q),h(Q),h(K),G>1){var F=j[G-2];F.left===q?F.left=K:F.right=K}j[G-1]=K;return}if(Q._color===e)if(q._color===o){q._color=e,q.right=p(o,Q);return}else{q.right=p(o,Q);continue}else{if(Q=u(Q),q.right=Q.left,Q.left=q,Q._color=q._color,q._color=o,h(q),h(Q),G>1){var F=j[G-2];F.left===q?F.left=Q:F.right=Q}j[G-1]=Q,j[G]=q,G+1<j.length?j[G+1]=M:j.push(M),G=G+2}}else{if(Q=q.left,Q.left&&Q.left._color===o){if(Q=q.left=u(Q),K=Q.left=u(Q.left),q.left=Q.right,Q.right=q,Q.left=K,Q._color=q._color,M._color=e,q._color=e,K._color=e,h(q),h(Q),G>1){var F=j[G-2];F.right===q?F.right=Q:F.left=Q}j[G-1]=Q;return}else if(Q.right&&Q.right._color===o){if(Q=q.left=u(Q),K=Q.right=u(Q.right),q.left=K.right,Q.right=K.left,K.right=q,K.left=Q,K._color=q._color,q._color=e,Q._color=e,M._color=e,h(q),h(Q),h(K),G>1){var F=j[G-2];F.right===q?F.right=K:F.left=K}j[G-1]=K;return}if(Q._color===e)if(q._color===o){q._color=e,q.left=p(o,Q);return}else{q.left=p(o,Q);continue}else{if(Q=u(Q),q.left=Q.right,Q.right=q,Q._color=q._color,q._color=o,h(q),h(Q),G>1){var F=j[G-2];F.right===q?F.right=Q:F.left=Q}j[G-1]=Q,j[G]=q,G+1<j.length?j[G+1]=M:j.push(M),G=G+2}}}}L.remove=function(){var j=this._stack;if(j.length===0)return this.tree;var M=new Array(j.length),q=j[j.length-1];M[M.length-1]=new r(q._color,q.key,q.value,q.left,q.right,q._count);for(var Q=j.length-2;Q>=0;--Q){var q=j[Q];q.left===j[Q+1]?M[Q]=new r(q._color,q.key,q.value,M[Q+1],q.right,q._count):M[Q]=new r(q._color,q.key,q.value,q.left,M[Q+1],q._count)}if(q=M[M.length-1],q.left&&q.right){var K=M.length;for(q=q.left;q.right;)M.push(q),q=q.right;var G=M[K-1];M.push(new r(q._color,G.key,G.value,q.left,q.right,q._count)),M[K-1].key=q.key,M[K-1].value=q.value;for(var Q=M.length-2;Q>=K;--Q)q=M[Q],M[Q]=new r(q._color,q.key,q.value,q.left,M[Q+1],q._count);M[K-1].left=M[K]}if(q=M[M.length-1],q._color===o){var F=M[M.length-2];F.left===q?F.left=null:F.right===q&&(F.right=null),M.pop();for(var Q=0;Q<M.length;++Q)M[Q]._count--;return new y(this.tree._compare,M[0])}else if(q.left||q.right){q.left?k(q,q.left):q.right&&k(q,q.right),q._color=e;for(var Q=0;Q<M.length-1;++Q)M[Q]._count--;return new y(this.tree._compare,M[0])}else{if(M.length===1)return new y(this.tree._compare,null);for(var Q=0;Q<M.length;++Q)M[Q]._count--;var x=M[M.length-2];B(M),x.left===q?x.left=null:x.right=null}return new y(this.tree._compare,M[0])},Object.defineProperty(L,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(L,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(L,"index",{get:function(){var j=0,M=this._stack;if(M.length===0){var q=this.tree.root;return q?q._count:0}else M[M.length-1].left&&(j=M[M.length-1].left._count);for(var Q=M.length-2;Q>=0;--Q)M[Q+1]===M[Q].right&&(++j,M[Q].left&&(j+=M[Q].left._count));return j},enumerable:!0}),L.next=function(){var j=this._stack;if(j.length!==0){var M=j[j.length-1];if(M.right)for(M=M.right;M;)j.push(M),M=M.left;else for(j.pop();j.length>0&&j[j.length-1].right===M;)M=j[j.length-1],j.pop()}},Object.defineProperty(L,"hasNext",{get:function(){var j=this._stack;if(j.length===0)return!1;if(j[j.length-1].right)return!0;for(var M=j.length-1;M>0;--M)if(j[M-1].left===j[M])return!0;return!1}}),L.update=function(j){var M=this._stack;if(M.length===0)throw new Error("Can't update empty node!");var q=new Array(M.length),Q=M[M.length-1];q[q.length-1]=new r(Q._color,Q.key,j,Q.left,Q.right,Q._count);for(var K=M.length-2;K>=0;--K)Q=M[K],Q.left===M[K+1]?q[K]=new r(Q._color,Q.key,Q.value,q[K+1],Q.right,Q._count):q[K]=new r(Q._color,Q.key,Q.value,Q.left,q[K+1],Q._count);return new y(this.tree._compare,q[0])},L.prev=function(){var j=this._stack;if(j.length!==0){var M=j[j.length-1];if(M.left)for(M=M.left;M;)j.push(M),M=M.right;else for(j.pop();j.length>0&&j[j.length-1].left===M;)M=j[j.length-1],j.pop()}},Object.defineProperty(L,"hasPrev",{get:function(){var j=this._stack;if(j.length===0)return!1;if(j[j.length-1].left)return!0;for(var M=j.length-1;M>0;--M)if(j[M-1].right===j[M])return!0;return!1}});function U(j,M){return j<M?-1:j>M?1:0}function $(j){return new y(j||U,null)}return rbtree}var hasRequiredWatch;function requireWatch(){return hasRequiredWatch||(hasRequiredWatch=1,function(o){/*!
 * Copyright 2017 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(o,"__esModule",{value:!0}),o.QueryWatch=o.DocumentWatch=o.WATCH_IDLE_TIMEOUT_MS=void 0;const e=require$$1$3,r=requireRbtree(),u=requireFallback(),p=backoff,h=requireDocument(),y=documentChange,c=logger$1,d=path,m=requireTimestamp(),P=types$1,N=util$4;/*!
 * Target ID used by watch. Watch uses a fixed target id since we only support
 * one target per stream.
 * @type {number}
 */const L=1;/*!
 * Idle timeout used to detect Watch streams that stall (see
 * https://github.com/googleapis/nodejs-firestore/issues/1057, b/156308554).
 * Under normal load, the Watch backend will send a TARGET_CHANGE message
 * roughly every 30 seconds. As discussed with the backend team, we reset the
 * Watch stream if we do not receive any message within 120 seconds.
 */o.WATCH_IDLE_TIMEOUT_MS=120*1e3;/*!
 * Sentinel value for a document remove.
 */const k={};/*!
 * The change type for document change events.
 */const B={added:"added",modified:"modified",removed:"removed"};/*!
 * The comparator used for document watches (which should always get called with
 * the same document).
 */const U=(Q,K)=>(e(Q===K,"Document watches only support one document."),0),$=()=>{};class j{constructor(K,G=(0,P.defaultConverter)()){this._converter=G,this.isActive=!0,this.currentStream=null,this.resumeToken=void 0,this.docMap=new Map,this.changeMap=new Map,this.current=!1,this.hasPushed=!1,this.firestore=K,this.backoff=new p.ExponentialBackoff,this.requestTag=(0,N.requestTag)(),this.onNext=$,this.onError=$}onSnapshot(K,G){e(this.onNext===$,"onNext should not already be defined."),e(this.onError===$,"onError should not already be defined."),e(this.docTree===void 0,"docTree should not already be defined."),this.onNext=K,this.onError=G,this.docTree=r(this.getComparator()),this.initStream();const F=()=>{(0,c.logger)("Watch.onSnapshot",this.requestTag,"Unsubscribe called"),this.onNext=()=>{},this.onError=()=>{},this.shutdown()};return this.firestore.registerListener(),F}currentSize(){const K=this.extractCurrentChanges(m.Timestamp.now());return this.docMap.size+K.adds.length-K.deletes.length}extractCurrentChanges(K){const G=[],F=[],x=[];return this.changeMap.forEach((z,J)=>{z===k?this.docMap.has(J)&&G.push(J):this.docMap.has(J)?(z.readTime=K,x.push(z.build())):(z.readTime=K,F.push(z.build()))}),{deletes:G,adds:F,updates:x}}resetDocs(){(0,c.logger)("Watch.resetDocs",this.requestTag,"Resetting documents"),this.changeMap.clear(),this.resumeToken=void 0,this.docTree.forEach(K=>{this.changeMap.set(K.ref.path,k)}),this.current=!1}closeStream(K){this.isActive&&((0,c.logger)("Watch.closeStream",this.requestTag,"Invoking onError: ",K),this.onError(K)),this.shutdown()}maybeReopenStream(K){this.isActive&&!this.isPermanentWatchError(K)?((0,c.logger)("Watch.maybeReopenStream",this.requestTag,"Stream ended, re-opening after retryable error:",K),this.changeMap.clear(),this.isResourceExhaustedError(K)&&this.backoff.resetToMax(),this.initStream()):this.closeStream(K)}resetIdleTimeout(){this.idleTimeoutHandle&&clearTimeout(this.idleTimeoutHandle),this.idleTimeoutHandle=(0,p.delayExecution)(()=>{var K;(0,c.logger)("Watch.resetIdleTimeout",this.requestTag,"Resetting stream after idle timeout"),(K=this.currentStream)===null||K===void 0||K.end(),this.currentStream=null;const G=new u.GoogleError("Watch stream idle timeout");G.code=u.Status.UNKNOWN,this.maybeReopenStream(G)},o.WATCH_IDLE_TIMEOUT_MS)}resetStream(){(0,c.logger)("Watch.resetStream",this.requestTag,"Restarting stream"),this.currentStream&&(this.currentStream.end(),this.currentStream=null),this.initStream()}initStream(){this.backoff.backoffAndWait().then(async()=>{if(!this.isActive){(0,c.logger)("Watch.initStream",this.requestTag,"Not initializing inactive stream");return}await this.firestore.initializeIfNeeded(this.requestTag);const K={};return K.database=this.firestore.formattedName,K.addTarget=this.getTarget(this.resumeToken),this.firestore.requestStream("listen",!0,K,this.requestTag).then(G=>{if(!this.isActive){(0,c.logger)("Watch.initStream",this.requestTag,"Closing inactive stream"),G.emit("end");return}(0,c.logger)("Watch.initStream",this.requestTag,"Opened new stream"),this.currentStream=G,this.resetIdleTimeout(),this.currentStream.on("data",F=>{this.resetIdleTimeout(),this.onData(F)}).on("error",F=>{this.currentStream===G&&(this.currentStream=null,this.maybeReopenStream(F))}).on("end",()=>{if(this.currentStream===G){this.currentStream=null;const F=new u.GoogleError("Stream ended unexpectedly");F.code=u.Status.UNKNOWN,this.maybeReopenStream(F)}}),this.currentStream.resume()})}).catch(K=>{this.closeStream(K)})}onData(K){if(K.targetChange){(0,c.logger)("Watch.onData",this.requestTag,"Processing target change");const G=K.targetChange,F=!G.targetIds||G.targetIds.length===0;if(G.targetChangeType==="NO_CHANGE")F&&G.readTime&&this.current&&this.pushSnapshot(m.Timestamp.fromProto(G.readTime),G.resumeToken);else if(G.targetChangeType==="ADD")L!==G.targetIds[0]&&this.closeStream(Error("Unexpected target ID sent by server"));else if(G.targetChangeType==="REMOVE"){let x=u.Status.INTERNAL,z="internal error";G.cause&&(x=G.cause.code,z=G.cause.message),this.closeStream(new Error("Error "+x+": "+z))}else G.targetChangeType==="RESET"?this.resetDocs():G.targetChangeType==="CURRENT"?this.current=!0:this.closeStream(new Error("Unknown target change type: "+JSON.stringify(G)));G.resumeToken&&this.affectsTarget(G.targetIds,L)&&this.backoff.reset()}else if(K.documentChange){(0,c.logger)("Watch.onData",this.requestTag,"Processing change event");const G=K.documentChange.targetIds||[],F=K.documentChange.removedTargetIds||[];let x=!1,z=!1;for(let te=0;te<G.length;te++)G[te]===L&&(x=!0);for(let te=0;te<F.length;te++)F[te]===L&&(z=!0);const J=K.documentChange.document,Z=J.name,X=d.QualifiedResourcePath.fromSlashSeparatedString(Z).relativeName;if(x){(0,c.logger)("Watch.onData",this.requestTag,"Received document change");const te=this.firestore.doc(X),be=new h.DocumentSnapshotBuilder(te.withConverter(this._converter));be.fieldsProto=J.fields||{},be.createTime=m.Timestamp.fromProto(J.createTime),be.updateTime=m.Timestamp.fromProto(J.updateTime),this.changeMap.set(X,be)}else z&&((0,c.logger)("Watch.onData",this.requestTag,"Received document remove"),this.changeMap.set(X,k))}else if(K.documentDelete||K.documentRemove){(0,c.logger)("Watch.onData",this.requestTag,"Processing remove event");const G=(K.documentDelete||K.documentRemove).document,F=d.QualifiedResourcePath.fromSlashSeparatedString(G).relativeName;this.changeMap.set(F,k)}else K.filter?((0,c.logger)("Watch.onData",this.requestTag,"Processing filter update"),K.filter.count!==this.currentSize()&&(this.resetDocs(),this.resetStream())):this.closeStream(new Error("Unknown listen response type: "+JSON.stringify(K)))}affectsTarget(K,G){if(K===void 0||K.length===0)return!0;for(const F of K)if(F===G)return!0;return!1}pushSnapshot(K,G){const F=this.computeSnapshot(K);if(!this.hasPushed||F.length>0){(0,c.logger)("Watch.pushSnapshot",this.requestTag,"Sending snapshot with %d changes and %d documents",String(F.length),this.docTree.length);const x=this.docTree;this.onNext(K,x.length,()=>x.keys,()=>F),this.hasPushed=!0}this.changeMap.clear(),this.resumeToken=G}deleteDoc(K){e(this.docMap.has(K),"Document to delete does not exist");const G=this.docMap.get(K),F=this.docTree.find(G),x=F.index;return this.docTree=F.remove(),this.docMap.delete(K),new y.DocumentChange(B.removed,G,x,-1)}addDoc(K){const G=K.ref.path;e(!this.docMap.has(G),"Document to add already exists"),this.docTree=this.docTree.insert(K,null);const F=this.docTree.find(K).index;return this.docMap.set(G,K),new y.DocumentChange(B.added,K,-1,F)}modifyDoc(K){const G=K.ref.path;if(e(this.docMap.has(G),"Document to modify does not exist"),!this.docMap.get(G).updateTime.isEqual(K.updateTime)){const x=this.deleteDoc(G),z=this.addDoc(K);return new y.DocumentChange(B.modified,K,x.oldIndex,z.newIndex)}return null}computeSnapshot(K){const G=this.extractCurrentChanges(K),F=[];return G.deletes.sort((x,z)=>this.getComparator()(this.docMap.get(x),this.docMap.get(z))),G.deletes.forEach(x=>{const z=this.deleteDoc(x);F.push(z)}),G.adds.sort(this.getComparator()),G.adds.forEach(x=>{const z=this.addDoc(x);F.push(z)}),G.updates.sort(this.getComparator()),G.updates.forEach(x=>{const z=this.modifyDoc(x);z&&F.push(z)}),e(this.docTree.length===this.docMap.size,"The update document tree and document map should have the same number of entries."),F}isPermanentWatchError(K){if(K.code===void 0)return(0,c.logger)("Watch.isPermanentError",this.requestTag,"Unable to determine error code: ",K),!1;switch(K.code){case u.Status.ABORTED:case u.Status.CANCELLED:case u.Status.UNKNOWN:case u.Status.DEADLINE_EXCEEDED:case u.Status.RESOURCE_EXHAUSTED:case u.Status.INTERNAL:case u.Status.UNAVAILABLE:case u.Status.UNAUTHENTICATED:return!1;default:return!0}}isResourceExhaustedError(K){return K.code===u.Status.RESOURCE_EXHAUSTED}shutdown(){var K;this.isActive&&(this.isActive=!1,this.idleTimeoutHandle&&(clearTimeout(this.idleTimeoutHandle),this.idleTimeoutHandle=void 0),this.firestore.unregisterListener()),(K=this.currentStream)===null||K===void 0||K.end(),this.currentStream=null}}class M extends j{constructor(K,G){super(K,G._converter),this.ref=G}getComparator(){return U}getTarget(K){return{documents:{documents:[this.ref.formattedName]},targetId:L,resumeToken:K}}}o.DocumentWatch=M;class q extends j{constructor(K,G,F){super(K,F),this.query=G,this.comparator=G.comparator()}getComparator(){return this.query.comparator()}getTarget(K){return{query:this.query.toProto(),targetId:L,resumeToken:K}}}o.QueryWatch=q}(watch)),watch}var hasRequiredQuery;function requireQuery(){if(hasRequiredQuery)return query;hasRequiredQuery=1,Object.defineProperty(query,"__esModule",{value:!0}),query.Query=void 0;const o=require$$1$3,e=requireQueryUtil(),r=requireSrc(),u=fieldOrder,p=fieldFilterInternal,h=compositeFilterInternal,y=constants,c=requireDocumentReference(),d=querySnapshot,m=requireSerializer(),P=queryProfile,N=filter,L=path,k=requireHelpers(),B=requireValidate(),U=types,$=aggregateQuery,j=requireVectorQuery(),M=order,q=types$1,Q=traceUtil;class K{constructor(F,x){this._firestore=F,this._queryOptions=x,this._serializer=new m.Serializer(F),this._allowUndefined=!!this._firestore._settings.ignoreUndefinedProperties,this._queryUtil=new e.QueryUtil(F,x,this._serializer)}static _extractFieldValues(F,x){const z=[];for(const J of x)if(r.FieldPath.documentId().isEqual(J.field))z.push(F.ref);else{const Z=F.get(J.field);if(Z===void 0)throw new Error(`Field "${J.field}" is missing in the provided DocumentSnapshot. Please provide a document that contains values for all specified orderBy() and where() constraints.`);z.push(Z)}return z}get firestore(){return this._firestore}where(F,x,z){let J;if(F instanceof r.Filter?J=F:J=r.Filter.where(F,x,z),this._queryOptions.startAt||this._queryOptions.endAt)throw new Error("Cannot specify a where() filter after calling startAt(), startAfter(), endBefore() or endAt().");const Z=this._parseFilter(J);if(Z.getFilters().length===0)return this;const X=this._queryOptions.with({filters:this._queryOptions.filters.concat(Z)});return new K(this._firestore,X)}_parseFilter(F){return F instanceof N.UnaryFilter?this._parseFieldFilter(F):this._parseCompositeFilter(F)}_parseFieldFilter(F){let x=F._getValue(),z=F._getOperator();const J=F._getField();(0,L.validateFieldPath)("fieldPath",J),z=(0,k.validateQueryOperator)("opStr",z,x),(0,k.validateQueryValue)("value",x,this._allowUndefined);const Z=r.FieldPath.fromArgument(J);if(r.FieldPath.documentId().isEqual(Z)){if(z==="array-contains"||z==="array-contains-any")throw new Error(`Invalid Query. You can't perform '${z}' queries on FieldPath.documentId().`);if(z==="in"||z==="not-in"){if(!Array.isArray(x)||x.length===0)throw new Error(`Invalid Query. A non-empty array is required for '${z}' filters.`);x=x.map(X=>this.validateReference(X))}else x=this.validateReference(x)}return new p.FieldFilterInternal(this._serializer,Z,y.comparisonOperators[z],x)}_parseCompositeFilter(F){const x=F._getFilters().map(z=>this._parseFilter(z)).filter(z=>z.getFilters().length>0);return x.length===1?x[0]:new h.CompositeFilterInternal(x,F._getOperator()==="AND"?"AND":"OR")}select(...F){const x=[];if(F.length===0)x.push({fieldPath:r.FieldPath.documentId().formattedName});else for(let J=0;J<F.length;++J)(0,L.validateFieldPath)(J,F[J]),x.push({fieldPath:r.FieldPath.fromArgument(F[J]).formattedName});const z=this._queryOptions.with({projection:{fields:x}});return new K(this._firestore,z)}orderBy(F,x){if((0,L.validateFieldPath)("fieldPath",F),x=(0,k.validateQueryOrder)("directionStr",x),this._queryOptions.startAt||this._queryOptions.endAt)throw new Error("Cannot specify an orderBy() constraint after calling startAt(), startAfter(), endBefore() or endAt().");const z=new u.FieldOrder(r.FieldPath.fromArgument(F),y.directionOperators[x||"asc"]),J=this._queryOptions.with({fieldOrders:this._queryOptions.fieldOrders.concat(z)});return new K(this._firestore,J)}limit(F){(0,B.validateInteger)("limit",F);const x=this._queryOptions.with({limit:F,limitType:U.LimitType.First});return new K(this._firestore,x)}limitToLast(F){(0,B.validateInteger)("limitToLast",F);const x=this._queryOptions.with({limit:F,limitType:U.LimitType.Last});return new K(this._firestore,x)}offset(F){(0,B.validateInteger)("offset",F);const x=this._queryOptions.with({offset:F});return new K(this._firestore,x)}count(){return this.aggregate({count:r.AggregateField.count()})}aggregate(F){return new $.AggregateQuery(this,F)}findNearest(F,x,z){if(typeof F=="string"||F instanceof r.FieldPath){const J={distanceMeasure:z.distanceMeasure,limit:z.limit,queryVector:x,vectorField:F};return this._findNearest(J)}else return this._findNearest(F)}_findNearest(F){if((0,L.validateFieldPath)("vectorField",F.vectorField),F.limit<=0)throw(0,B.invalidArgumentMessage)("limit","positive limit number");if((Array.isArray(F.queryVector)?F.queryVector.length:F.queryVector.toArray().length)===0)throw(0,B.invalidArgumentMessage)("queryVector","vector size must be larger than 0");return new j.VectorQuery(this,F)}isEqual(F){return this===F?!0:F instanceof K&&this._queryOptions.isEqual(F._queryOptions)}getInequalityFilterFields(){const F=[];for(const x of this._queryOptions.filters)for(const z of x.getFlattenedFilters())z.isInequalityFilter()&&F.push(z.field);return F.sort((x,z)=>x.compareTo(z))}createImplicitOrderBy(F){if(F.length!==1||!(F[0]instanceof r.DocumentSnapshot))return this._queryOptions.fieldOrders;const x=this._queryOptions.fieldOrders.slice(),z=new Set([...x.map(X=>X.field.toString())]),J=x.length===0?y.directionOperators.ASC:x[x.length-1].direction,Z=this.getInequalityFilterFields();for(const X of Z)!z.has(X.toString())&&!X.isEqual(r.FieldPath.documentId())&&(x.push(new u.FieldOrder(X,J)),z.add(X.toString()));return z.has(r.FieldPath.documentId().toString())||x.push(new u.FieldOrder(r.FieldPath.documentId(),J)),x}createCursor(F,x,z){let J;if(x.length===1&&x[0]instanceof r.DocumentSnapshot?J=K._extractFieldValues(x[0],F):J=x,J.length>F.length)throw new Error("Too many cursor values specified. The specified values must match the orderBy() constraints of the query.");const Z={values:[],before:z};for(let X=0;X<J.length;++X){let te=J[X];r.FieldPath.documentId().isEqual(F[X].field)&&(te=this.validateReference(te)),(0,k.validateQueryValue)(X,te,this._allowUndefined),Z.values.push(this._serializer.encodeValue(te))}return Z}validateReference(F){const x=this._queryOptions.allDescendants?this._queryOptions.parentPath:this._queryOptions.parentPath.append(this._queryOptions.collectionId);let z;if(typeof F=="string"){const J=x.append(F);if(this._queryOptions.allDescendants){if(!J.isDocument)throw new Error(`When querying a collection group and ordering by FieldPath.documentId(), the corresponding value must result in a valid document path, but '${F}' is not because it contains an odd number of segments.`)}else if(F.indexOf("/")!==-1)throw new Error(`When querying a collection and ordering by FieldPath.documentId(), the corresponding value must be a plain document ID, but '${F}' contains a slash.`);z=new c.DocumentReference(this._firestore,x.append(F),this._queryOptions.converter)}else if(F instanceof c.DocumentReference){if(z=F,!x.isPrefixOf(z._path))throw new Error(`"${z.path}" is not part of the query result set and cannot be used as a query boundary.`)}else throw new Error(`The corresponding value for FieldPath.documentId() must be a string or a DocumentReference, but was "${F}".`);if(!this._queryOptions.allDescendants&&z._path.parent().compareTo(x)!==0)throw new Error(`Only a direct child can be used as a query boundary. Found: "${z.path}".`);return z}startAt(...F){(0,B.validateMinNumberOfArguments)("Query.startAt",F,1);const x=this.createImplicitOrderBy(F),z=this.createCursor(x,F,!0),J=this._queryOptions.with({fieldOrders:x,startAt:z});return new K(this._firestore,J)}startAfter(...F){(0,B.validateMinNumberOfArguments)("Query.startAfter",F,1);const x=this.createImplicitOrderBy(F),z=this.createCursor(x,F,!1),J=this._queryOptions.with({fieldOrders:x,startAt:z});return new K(this._firestore,J)}endBefore(...F){(0,B.validateMinNumberOfArguments)("Query.endBefore",F,1);const x=this.createImplicitOrderBy(F),z=this.createCursor(x,F,!0),J=this._queryOptions.with({fieldOrders:x,endAt:z});return new K(this._firestore,J)}endAt(...F){(0,B.validateMinNumberOfArguments)("Query.endAt",F,1);const x=this.createImplicitOrderBy(F),z=this.createCursor(x,F,!1),J=this._queryOptions.with({fieldOrders:x,endAt:z});return new K(this._firestore,J)}async get(){return this._firestore._traceUtil.startActiveSpan(Q.SPAN_NAME_QUERY_GET,async()=>{const{result:F}=await this._get();return F})}async explain(F){F===void 0&&(F={});const{result:x,explainMetrics:z}=await this._getResponse(void 0,F);if(!z)throw new Error("No explain results");return new P.ExplainResults(z,x||null)}async _get(F){const x=await this._getResponse(F);if(!x.result)throw new Error("No QuerySnapshot result");return x}_getResponse(F,x){return this._queryUtil._getResponse(this,F,!0,x)}stream(){return this._queryUtil.stream(this)}explainStream(F){if(F===void 0&&(F={}),this._queryOptions.limitType===U.LimitType.Last)throw new Error("Query results for queries that include limitToLast() constraints cannot be streamed. Use Query.explain() instead.");const x=this._stream(void 0,F),z=new o.Transform({objectMode:!0,transform(J,Z,X){(J.document||J.explainMetrics)&&X(void 0,{document:J.document,metrics:J.explainMetrics})}});return x.pipe(z),x.on("error",J=>z.destroy(J)),z}toCursor(F){if(F)return F.before?{before:!0,values:F.values}:{values:F.values}}toProto(F,x){const z=this.firestore.projectId,J=this.firestore.databaseId,Z=this._queryOptions.parentPath.toQualifiedResourcePath(z,J),X=this.toStructuredQuery();if(this._queryOptions.limitType===U.LimitType.Last){if(!this._queryOptions.hasFieldOrders())throw new Error("limitToLast() queries require specifying at least one orderBy() clause.");X.orderBy=this._queryOptions.fieldOrders.map(be=>{const Ae=be.direction==="DESCENDING"?"ASCENDING":"DESCENDING";return new u.FieldOrder(be.field,Ae).toProto()}),X.startAt=this._queryOptions.endAt?this.toCursor({values:this._queryOptions.endAt.values,before:!this._queryOptions.endAt.before}):void 0,X.endAt=this._queryOptions.startAt?this.toCursor({values:this._queryOptions.startAt.values,before:!this._queryOptions.startAt.before}):void 0}const te={parent:Z.formattedName,structuredQuery:X};return F instanceof Uint8Array?te.transaction=F:F instanceof r.Timestamp?te.readTime=F.toProto().timestampValue:F&&(te.newTransaction=F),x&&(te.explainOptions=x),te}_toBundledQuery(){const F=this.firestore.projectId,x=this.firestore.databaseId,z=this._queryOptions.parentPath.toQualifiedResourcePath(F,x),J=this.toStructuredQuery(),Z={parent:z.formattedName,structuredQuery:J};return this._queryOptions.limitType===U.LimitType.First?Z.limitType="FIRST":this._queryOptions.limitType===U.LimitType.Last&&(Z.limitType="LAST"),Z}toStructuredQuery(){const F={from:[{}]};return this._queryOptions.allDescendants&&(F.from[0].allDescendants=!0),this._queryOptions.kindless||(F.from[0].collectionId=this._queryOptions.collectionId),this._queryOptions.filters.length>=1&&(F.where=new h.CompositeFilterInternal(this._queryOptions.filters,"AND").toProto()),this._queryOptions.hasFieldOrders()&&(F.orderBy=this._queryOptions.fieldOrders.map(x=>x.toProto())),F.startAt=this.toCursor(this._queryOptions.startAt),F.endAt=this.toCursor(this._queryOptions.endAt),this._queryOptions.limit&&(F.limit={value:this._queryOptions.limit}),F.offset=this._queryOptions.offset,F.select=this._queryOptions.projection,F}_isPermanentRpcError(F,x){return this._queryUtil._isPermanentRpcError(F,x)}_hasRetryTimedOut(F,x){return this._queryUtil._hasRetryTimedOut(F,x)}_stream(F,x){return this._queryUtil._stream(this,F,!0,x)}onSnapshot(F,x){return(0,B.validateFunction)("onNext",F),(0,B.validateFunction)("onError",x,{optional:!0}),new(requireWatch()).QueryWatch(this.firestore,this,this._queryOptions.converter).onSnapshot((J,Z,X,te)=>{F(new d.QuerySnapshot(this,J,Z,X,te))},x||console.error)}comparator(){return(F,x)=>{const z=this._queryOptions.hasFieldOrders()?this._queryOptions.fieldOrders[this._queryOptions.fieldOrders.length-1].direction:"ASCENDING",J=this._queryOptions.fieldOrders.concat(new u.FieldOrder(r.FieldPath.documentId(),z));for(const Z of J){let X;if(r.FieldPath.documentId().isEqual(Z.field))X=F.ref._path.compareTo(x.ref._path);else{const te=F.protoField(Z.field),be=x.protoField(Z.field);if(te===void 0||be===void 0)throw new Error("Trying to compare documents on fields that don't exist. Please include the fields you are ordering on in your select() call.");X=(0,M.compare)(te,be)}if(X!==0)return(Z.direction==="ASCENDING"?1:-1)*X}return 0}}withConverter(F){return new K(this.firestore,this._queryOptions.withConverter(F??(0,q.defaultConverter)()))}_createSnapshot(F,x,z,J){return new d.QuerySnapshot(this,F,x,z,J)}}return query.Query=K,query}var queryOptions={},hasRequiredQueryOptions;function requireQueryOptions(){if(hasRequiredQueryOptions)return queryOptions;hasRequiredQueryOptions=1,Object.defineProperty(queryOptions,"__esModule",{value:!0}),queryOptions.QueryOptions=void 0;const o=fastDeepEqual,e=path,r=types$1,u=requireHelpers();class p{constructor(y,c,d,m,P,N,L,k,B,U,$,j,M=!1,q=!0){this.parentPath=y,this.collectionId=c,this.converter=d,this.allDescendants=m,this.filters=P,this.fieldOrders=N,this.startAt=L,this.endAt=k,this.limit=B,this.limitType=U,this.offset=$,this.projection=j,this.kindless=M,this.requireConsistency=q}static forCollectionGroupQuery(y,c=(0,r.defaultConverter)()){return new p(e.ResourcePath.EMPTY,y,c,!0,[],[])}static forCollectionQuery(y,c=(0,r.defaultConverter)()){return new p(y.parent(),y.id,c,!1,[],[])}static forKindlessAllDescendants(y,c,d=!0){let m=new p(y,c,(0,r.defaultConverter)(),!0,[],[]);return m=m.with({kindless:!0,requireConsistency:d}),m}with(y){return new p((0,u.coalesce)(y.parentPath,this.parentPath),(0,u.coalesce)(y.collectionId,this.collectionId),this.converter,(0,u.coalesce)(y.allDescendants,this.allDescendants),(0,u.coalesce)(y.filters,this.filters),(0,u.coalesce)(y.fieldOrders,this.fieldOrders),(0,u.coalesce)(y.startAt,this.startAt),(0,u.coalesce)(y.endAt,this.endAt),(0,u.coalesce)(y.limit,this.limit),(0,u.coalesce)(y.limitType,this.limitType),(0,u.coalesce)(y.offset,this.offset),(0,u.coalesce)(y.projection,this.projection),(0,u.coalesce)(y.kindless,this.kindless),(0,u.coalesce)(y.requireConsistency,this.requireConsistency))}withConverter(y){return new p(this.parentPath,this.collectionId,y,this.allDescendants,this.filters,this.fieldOrders,this.startAt,this.endAt,this.limit,this.limitType,this.offset,this.projection)}hasFieldOrders(){return this.fieldOrders.length>0}isEqual(y){return this===y?!0:y instanceof p&&this.parentPath.isEqual(y.parentPath)&&this.filtersEqual(y.filters)&&this.collectionId===y.collectionId&&this.converter===y.converter&&this.allDescendants===y.allDescendants&&this.limit===y.limit&&this.offset===y.offset&&o(this.fieldOrders,y.fieldOrders)&&o(this.startAt,y.startAt)&&o(this.endAt,y.endAt)&&o(this.projection,y.projection)&&this.kindless===y.kindless&&this.requireConsistency===y.requireConsistency}filtersEqual(y){if(this.filters.length!==y.length)return!1;for(let c=0;c<y.length;c++)if(!this.filters[c].isEqual(y[c]))return!1;return!0}}return queryOptions.QueryOptions=p,queryOptions}var hasRequiredCollectionReference;function requireCollectionReference(){if(hasRequiredCollectionReference)return collectionReference;hasRequiredCollectionReference=1,Object.defineProperty(collectionReference,"__esModule",{value:!0}),collectionReference.CollectionReference=void 0;const o=path,e=util$4,r=requireWriteBatch(),u=types$1,p=requireQuery(),h=requireDocumentReference(),y=requireQueryOptions(),c=traceUtil;class d extends p.Query{constructor(P,N,L){super(P,y.QueryOptions.forCollectionQuery(N,L))}get _resourcePath(){return this._queryOptions.parentPath.append(this._queryOptions.collectionId)}get id(){return this._queryOptions.collectionId}get parent(){return this._queryOptions.parentPath.isDocument?new h.DocumentReference(this.firestore,this._queryOptions.parentPath):null}get path(){return this._resourcePath.relativeName}listDocuments(){return this._firestore._traceUtil.startActiveSpan(c.SPAN_NAME_COL_REF_LIST_DOCUMENTS,()=>{const P=(0,e.requestTag)();return this.firestore.initializeIfNeeded(P).then(()=>{const L={parent:this._queryOptions.parentPath.toQualifiedResourcePath(this.firestore.projectId,this.firestore.databaseId).formattedName,collectionId:this.id,showMissing:!0,pageSize:Math.pow(2,16)-1,mask:{fieldPaths:[]}};return this.firestore.request("listDocuments",L,P).then(k=>k.map(B=>{const U=o.QualifiedResourcePath.fromSlashSeparatedString(B.name);return this.doc(U.id)}))})})}doc(P){arguments.length===0?P=(0,e.autoId)():(0,o.validateResourcePath)("documentPath",P);const N=this._resourcePath.append(P);if(!N.isDocument)throw new Error(`Value for argument "documentPath" must point to a document, but was "${P}". Your path does not contain an even number of components.`);return new h.DocumentReference(this.firestore,N,this._queryOptions.converter)}add(P){return this._firestore._traceUtil.startActiveSpan(c.SPAN_NAME_COL_REF_ADD,()=>{const N=this._queryOptions.converter.toFirestore(P);(0,r.validateDocumentData)("data",N,!1,this._allowUndefined);const L=this.doc();return L.create(P).then(()=>L)})}isEqual(P){return this===P||P instanceof d&&super.isEqual(P)}withConverter(P){return new d(this.firestore,this._resourcePath,P??(0,u.defaultConverter)())}}return collectionReference.CollectionReference=d,collectionReference}var hasRequiredDocumentReference;function requireDocumentReference(){if(hasRequiredDocumentReference)return documentReference;hasRequiredDocumentReference=1,Object.defineProperty(documentReference,"__esModule",{value:!0}),documentReference.DocumentReference=void 0;const o=requireSrc(),e=path,r=types$1,u=requireCollectionReference(),p=util$4,h=requireValidate(),y=requireDocument(),c=traceUtil;class d{constructor(P,N,L=(0,r.defaultConverter)()){this._firestore=P,this._path=N,this._converter=L}get formattedName(){const P=this.firestore.projectId,N=this.firestore.databaseId;return this._path.toQualifiedResourcePath(P,N).formattedName}get firestore(){return this._firestore}get path(){return this._path.relativeName}get id(){return this._path.id}get _resourcePath(){return this._path}get parent(){return new u.CollectionReference(this._firestore,this._path.parent(),this._converter)}get(){return this._firestore._traceUtil.startActiveSpan(c.SPAN_NAME_DOC_REF_GET,()=>this._firestore.getAll(this).then(([P])=>P))}collection(P){(0,e.validateResourcePath)("collectionPath",P);const N=this._path.append(P);if(!N.isCollection)throw new Error(`Value for argument "collectionPath" must point to a collection, but was "${P}". Your path does not contain an odd number of components.`);return new u.CollectionReference(this._firestore,N)}listCollections(){return this._firestore._traceUtil.startActiveSpan(c.SPAN_NAME_DOC_REF_LIST_COLLECTIONS,()=>{const P=(0,p.requestTag)();return this.firestore.initializeIfNeeded(P).then(()=>{const N={parent:this.formattedName,pageSize:Math.pow(2,16)-1};return this._firestore.request("listCollectionIds",N,P).then(L=>{const k=[];L.sort();for(const B of L)k.push(this.collection(B));return k})})})}create(P){return this._firestore._traceUtil.startActiveSpan(c.SPAN_NAME_DOC_REF_CREATE,()=>new o.WriteBatch(this._firestore).create(this,P).commit().then(([L])=>L))}delete(P){return this._firestore._traceUtil.startActiveSpan(c.SPAN_NAME_DOC_REF_DELETE,()=>new o.WriteBatch(this._firestore).delete(this,P).commit().then(([L])=>L))}set(P,N){return this._firestore._traceUtil.startActiveSpan(c.SPAN_NAME_DOC_REF_SET,()=>{let L=new o.WriteBatch(this._firestore);return N?L=L.set(this,P,N):L=L.set(this,P),L.commit().then(([k])=>k)})}update(P,...N){return this._firestore._traceUtil.startActiveSpan(c.SPAN_NAME_DOC_REF_UPDATE,()=>((0,h.validateMinNumberOfArguments)("DocumentReference.update",arguments,1),new o.WriteBatch(this._firestore).update(this,P,...N).commit().then(([k])=>k)))}onSnapshot(P,N){return(0,h.validateFunction)("onNext",P),(0,h.validateFunction)("onError",N,{optional:!0}),new(requireWatch()).DocumentWatch(this.firestore,this).onSnapshot((k,B,U)=>{for(const M of U())if(M.ref.path===this.path){P(M);return}const $=new d(this._firestore,this._path,this._converter),j=new y.DocumentSnapshotBuilder($);j.readTime=k,P(j.build())},N||console.error)}isEqual(P){return this===P||P instanceof d&&this._firestore===P._firestore&&this._path.isEqual(P._path)&&this._converter===P._converter}toProto(){return{referenceValue:this.formattedName}}withConverter(P){return new d(this.firestore,this._path,P??(0,r.defaultConverter)())}}return documentReference.DocumentReference=d,documentReference}var hasRequiredDocument;function requireDocument(){if(hasRequiredDocument)return document$1;hasRequiredDocument=1;/*!
 * Copyright 2019 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(document$1,"__esModule",{value:!0}),document$1.Precondition=document$1.DocumentTransform=document$1.DocumentMask=document$1.QueryDocumentSnapshot=document$1.DocumentSnapshot=document$1.DocumentSnapshotBuilder=void 0;const o=fastDeepEqual,e=require$$1$3,r=requireFieldValue(),u=path,p=requireDocumentReference(),h=types$1,y=util$4;class c{constructor(B){this.ref=B}build(){return e(this.fieldsProto!==void 0==(this.createTime!==void 0),"Create time should be set iff document exists."),e(this.fieldsProto!==void 0==(this.updateTime!==void 0),"Update time should be set iff document exists."),this.fieldsProto?new m(this.ref,this.fieldsProto,this.readTime,this.createTime,this.updateTime):new d(this.ref,void 0,this.readTime)}}document$1.DocumentSnapshotBuilder=c;class d{constructor(B,U,$,j,M){this._fieldsProto=U,this._ref=B,this._serializer=B.firestore._serializer,this._readTime=$,this._createTime=j,this._updateTime=M}static fromObject(B,U){const $=B.firestore._serializer;return new d(B,$.encodeFields(U))}static fromUpdateMap(B,U){const $=B.firestore._serializer;function j(q,Q,K,G){const F=K[G],x=G===K.length-1;if(q[F]===void 0)if(x){if(Q instanceof r.FieldTransform)return(0,y.isEmpty)(q)?null:q;const z=$.encodeValue(Q);return z&&(q[F]=z),q}else{const z={mapValue:{fields:{}}},J=j(z.mapValue.fields,Q,K,G+1);return J?(z.mapValue.fields=J,q[F]=z,q):(0,y.isEmpty)(q)?null:q}else return e(!x,"Can't merge current value into a nested object"),q[F].mapValue.fields=j(q[F].mapValue.fields,Q,K,G+1),q}const M={};for(const[q,Q]of U){const K=q.toArray();j(M,Q,K,0)}return new d(B,M)}get exists(){return this._fieldsProto!==void 0}get ref(){return this._ref}get id(){return this._ref.id}get createTime(){return this._createTime}get updateTime(){return this._updateTime}get readTime(){if(this._readTime===void 0)throw new Error("Called 'readTime' on a local document");return this._readTime}data(){const B=this._fieldsProto;if(B!==void 0)if(this.ref._converter!==(0,h.defaultConverter)()){const U=new p.DocumentReference(this.ref.firestore,this.ref._path);return this.ref._converter.fromFirestore(new m(U,this._fieldsProto,this.readTime,this.createTime,this.updateTime))}else{const U={};for(const $ of Object.keys(B))U[$]=this._serializer.decodeValue(B[$]);return U}}get(B){(0,u.validateFieldPath)("field",B);const U=this.protoField(B);if(U!==void 0)return this._serializer.decodeValue(U)}protoField(B){let U=this._fieldsProto;if(U===void 0)return;const $=u.FieldPath.fromArgument(B).toArray();for(;$.length>1;){if(U=U[$.shift()],!U||!U.mapValue)return;U=U.mapValue.fields}return U[$[0]]}toWriteProto(){return{update:{name:this._ref.formattedName,fields:this._fieldsProto}}}toDocumentProto(){var B,U;return{name:this._ref.formattedName,createTime:(B=this.createTime)===null||B===void 0?void 0:B.toProto().timestampValue,updateTime:(U=this.updateTime)===null||U===void 0?void 0:U.toProto().timestampValue,fields:this._fieldsProto}}isEqual(B){return this===B||B instanceof d&&this._ref.isEqual(B._ref)&&o(this._fieldsProto,B._fieldsProto)}}document$1.DocumentSnapshot=d;class m extends d{get createTime(){return super.createTime}get updateTime(){return super.updateTime}data(){const B=super.data();if(!B)throw new Error("The data in a QueryDocumentSnapshot should always exist.");return B}}document$1.QueryDocumentSnapshot=m;class P{constructor(B){this._sortedPaths=B,this._sortedPaths.sort((U,$)=>U.compareTo($))}static fromUpdateMap(B){const U=[];return B.forEach(($,j)=>{(!($ instanceof r.FieldTransform)||$.includeInDocumentMask)&&U.push(u.FieldPath.fromArgument(j))}),new P(U)}static fromFieldMask(B){const U=[];for(const $ of B)U.push(u.FieldPath.fromArgument($));return new P(U)}static fromObject(B){const U=[];function $(j,M){let q=!0;for(const Q of Object.keys(j)){q=!1;const K=new u.FieldPath(Q),G=M?M.append(K):K,F=j[Q];F instanceof r.FieldTransform?F.includeInDocumentMask&&U.push(G):(0,y.isPlainObject)(F)?$(F,G):F!==void 0&&U.push(G)}M&&q&&U.push(M)}return $(B),new P(U)}get isEmpty(){return this._sortedPaths.length===0}static removeFromSortedArray(B,U){for(let $=0;$<B.length;){let j=!1;for(const M of U)if(B[$].isEqual(M)){B.splice($,1),j=!0;break}j||++$}}removeFields(B){P.removeFromSortedArray(this._sortedPaths,B)}contains(B){for(const U of this._sortedPaths){const $=U.compareTo(B);if($===0)return!0;if($>0)return!1}return!1}applyTo(B){/*!
 * Applies this DocumentMask to 'data' and computes the list of field paths
 * that were specified in the mask but are not present in 'data'.
 */const $=(j=>{const M=this._sortedPaths.slice(0),q=(K,G)=>{let F=null;return Object.keys(K).forEach(x=>{const z=G?G.append(x):new u.FieldPath(x);if(this.contains(z))P.removeFromSortedArray(M,[z]),F=F||{},F[x]=K[x];else if((0,y.isObject)(K[x])){const J=q(K[x],z);J&&(F=F||{},F[x]=J)}}),F};return{filteredData:q(j)||{},remainingPaths:M}})(B);if($.remainingPaths.length!==0)throw new Error(`Input data is missing for field "${$.remainingPaths[0]}".`);return $.filteredData}toProto(){if(this.isEmpty)return{};const B=[];for(const U of this._sortedPaths)B.push(U.formattedName);return{fieldPaths:B}}}document$1.DocumentMask=P;class N{constructor(B,U){this.ref=B,this.transforms=U}static fromObject(B,U){const $=new Map;for(const j of Object.keys(U))$.set(new u.FieldPath(j),U[j]);return N.fromUpdateMap(B,$)}static fromUpdateMap(B,U){const $=new Map;function j(M,q,Q){if(M instanceof r.FieldTransform&&M.includeInDocumentTransform)if(Q)$.set(q,M);else throw new Error(`${M.methodName}() is not supported inside of array values.`);else if(Array.isArray(M))for(let K=0;K<M.length;++K)j(M[K],q.append(String(K)),!1);else if((0,y.isPlainObject)(M))for(const K of Object.keys(M))j(M[K],q.append(new u.FieldPath(K)),Q)}return U.forEach((M,q)=>{j(M,u.FieldPath.fromArgument(q),!0)}),new N(B,$)}get isEmpty(){return this.transforms.size===0}get fields(){return Array.from(this.transforms.keys())}validate(){const B=!!this.ref.firestore._settings.ignoreUndefinedProperties;this.transforms.forEach(U=>U.validate(B))}toProto(B){return Array.from(this.transforms,([U,$])=>$.toProto(B,U))}}document$1.DocumentTransform=N;class L{constructor(B){B!==void 0&&(this._exists=B.exists,this._lastUpdateTime=B.lastUpdateTime)}toProto(){if(this.isEmpty)return null;const B={};return this._lastUpdateTime!==void 0?B.updateTime=this._lastUpdateTime.toProto().timestampValue:B.exists=this._exists,B}get isEmpty(){return this._exists===void 0&&!this._lastUpdateTime}}return document$1.Precondition=L,document$1}var hasRequiredWriteBatch;function requireWriteBatch(){if(hasRequiredWriteBatch)return writeBatch;hasRequiredWriteBatch=1;/*!
 * Copyright 2019 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(writeBatch,"__esModule",{value:!0}),writeBatch.WriteBatch=writeBatch.WriteResult=void 0,writeBatch.validateSetOptions=B,writeBatch.validateDocumentData=U,writeBatch.validateFieldValue=$;const o=requireDocument(),e=logger$1,r=path,u=requireHelpers(),p=requireSerializer(),h=requireTimestamp(),y=util$4,c=requireValidate(),d=traceUtil;class m{constructor(Q){this._writeTime=Q}get writeTime(){return this._writeTime}isEqual(Q){return this===Q||Q instanceof m&&this._writeTime.isEqual(Q._writeTime)}}writeBatch.WriteResult=m;class P{get _opCount(){return this._ops.length}constructor(Q){this._ops=[],this._committed=!1,this._firestore=Q,this._serializer=new p.Serializer(Q),this._allowUndefined=!!Q._settings.ignoreUndefinedProperties}get isEmpty(){return this._ops.length===0}verifyNotCommitted(){if(this._committed)throw new Error("Cannot modify a WriteBatch that has been committed.")}create(Q,K){const G=(0,u.validateDocumentReference)("documentRef",Q),F=G._converter.toFirestore(K);U("data",F,!1,this._allowUndefined),this.verifyNotCommitted();const x=o.DocumentTransform.fromObject(G,F);x.validate();const z=new o.Precondition({exists:!1}),J=()=>{const X=o.DocumentSnapshot.fromObject(G,F).toWriteProto();return x.isEmpty||(X.updateTransforms=x.toProto(this._serializer)),X.currentDocument=z.toProto(),X};return this._ops.push({docPath:Q.path,op:J}),this}delete(Q,K){const G=(0,u.validateDocumentReference)("documentRef",Q);k("precondition",K,{optional:!0}),this.verifyNotCommitted();const F=new o.Precondition(K),x=()=>{const z={delete:G.formattedName};return F.isEmpty||(z.currentDocument=F.toProto()),z};return this._ops.push({docPath:Q.path,op:x}),this}set(Q,K,G){B("options",G,{optional:!0});const F=G&&"merge"in G&&G.merge,x=G&&"mergeFields"in G,z=(0,u.validateDocumentReference)("documentRef",Q);let J;F||x?J=z._converter.toFirestore(K,G):J=z._converter.toFirestore(K),U("data",J,!!(x||F),this._allowUndefined),this.verifyNotCommitted();let Z;x&&(Z=o.DocumentMask.fromFieldMask(G.mergeFields),J=Z.applyTo(J));const X=o.DocumentTransform.fromObject(z,J);X.validate();const te=()=>{const be=o.DocumentSnapshot.fromObject(z,J);x?Z.removeFields(X.fields):F&&(Z=o.DocumentMask.fromObject(J));const Ae=be.toWriteProto();return X.isEmpty||(Ae.updateTransforms=X.toProto(this._serializer)),(x||F)&&(Ae.updateMask=Z.toProto()),Ae};return this._ops.push({docPath:Q.path,op:te}),this}update(Q,K,...G){(0,c.validateMinNumberOfArguments)("WriteBatch.update",arguments,2),(0,u.validateDocumentReference)("documentRef",Q),this.verifyNotCommitted();const F=new Map;let x=new o.Precondition({exists:!0});const z="Update() requires either a single JavaScript object or an alternating list of field/value pairs that can be followed by an optional precondition.";if(typeof K=="string"||K instanceof r.FieldPath){const Ae=[K,...G];try{for(let Ne=0;Ne<Ae.length;Ne+=2)if(Ne===Ae.length-1){const ke=Ae[Ne];L(Ne+1,ke),x=new o.Precondition(ke)}else{const ke=Ae[Ne];(0,r.validateFieldPath)(Ne+1,ke),(0,c.validateMinNumberOfArguments)("update",Ae,Ne+1);const Ue=r.FieldPath.fromArgument(ke);$(Ne+1,Ae[Ne+1],this._allowUndefined,Ue),F.set(Ue,Ae[Ne+1])}}catch(Ne){throw(0,e.logger)("WriteBatch.update",null,"Varargs validation failed:",Ne),new Error(`${z} ${Ne.message}`)}}else try{M("dataOrField",K,this._allowUndefined),(0,c.validateMaxNumberOfArguments)("update",arguments,3),Object.entries(K).forEach(([be,Ae])=>{Ae!==void 0&&((0,r.validateFieldPath)(be,be),F.set(r.FieldPath.fromArgument(be),Ae))}),G.length>0&&(L("preconditionOrValues",G[0]),x=new o.Precondition(G[0]))}catch(be){throw(0,e.logger)("WriteBatch.update",null,"Non-varargs validation failed:",be),new Error(`${z} ${be.message}`)}j("dataOrField",F);const Z=o.DocumentTransform.fromUpdateMap(Q,F);Z.validate();const X=o.DocumentMask.fromUpdateMap(F),te=()=>{const Ae=o.DocumentSnapshot.fromUpdateMap(Q,F).toWriteProto();return Ae.updateMask=X.toProto(),Z.isEmpty||(Ae.updateTransforms=Z.toProto(this._serializer)),Ae.currentDocument=x.toProto(),Ae};return this._ops.push({docPath:Q.path,op:te}),this}commit(){return this._firestore._traceUtil.startActiveSpan(d.SPAN_NAME_BATCH_COMMIT,async()=>{const Q=Error().stack,K=[10,...(0,y.getRetryCodes)("commit")];return this._commit({retryCodes:K}).then(G=>(G.writeResults||[]).map(F=>new m(h.Timestamp.fromProto(F.updateTime||G.commitTime)))).catch(G=>{throw(0,y.wrapError)(G,Q)})},{[d.ATTRIBUTE_KEY_IS_TRANSACTIONAL]:!1,[d.ATTRIBUTE_KEY_DOC_COUNT]:this._opCount})}async _commit(Q){var K;this._committed=!0;const G=(K=Q==null?void 0:Q.requestTag)!==null&&K!==void 0?K:(0,y.requestTag)();await this._firestore.initializeIfNeeded(G);const F={database:this._firestore.formattedName,writes:this._ops.map(x=>x.op())};return Q!=null&&Q.transactionId&&(F.transaction=Q.transactionId),(0,e.logger)("WriteBatch.commit",G,"Sending %d writes",F.writes.length),this._firestore.request((Q==null?void 0:Q.methodName)||"commit",F,G,Q==null?void 0:Q.retryCodes)}_reset(){this._ops.splice(0),this._committed=!1}}writeBatch.WriteBatch=P;function N(q,Q,K){if(typeof Q!="object"||Q===null)throw new Error("Input is not an object.");const G=Q;let F=0;if(G.exists!==void 0){if(++F,typeof G.exists!="boolean")throw new Error(`${(0,c.invalidArgumentMessage)(q,"precondition")} "exists" is not a boolean.'`);if(K!=null&&K.allowedExistsValues&&K.allowedExistsValues.indexOf(G.exists)<0)throw new Error(`${(0,c.invalidArgumentMessage)(q,"precondition")} "exists" is not allowed to have the value ${G.exists} (allowed values: ${K.allowedExistsValues.join(", ")})`)}if(G.lastUpdateTime!==void 0&&(++F,!(G.lastUpdateTime instanceof h.Timestamp)))throw new Error(`${(0,c.invalidArgumentMessage)(q,"precondition")} "lastUpdateTime" is not a Firestore Timestamp.`);if(F>1)throw new Error(`${(0,c.invalidArgumentMessage)(q,"precondition")} Input specifies more than one precondition.`)}function L(q,Q,K){(0,c.validateOptional)(Q,K)||N(q,Q,{allowedExistsValues:[!0]})}function k(q,Q,K){(0,c.validateOptional)(Q,K)||N(q,Q)}function B(q,Q,K){if(!(0,c.validateOptional)(Q,K)){if(!(0,y.isObject)(Q))throw new Error(`${(0,c.invalidArgumentMessage)(q,"set() options argument")} Input is not an object.`);const G=Q;if("mergeFields"in G)for(let F=0;F<G.mergeFields.length;++F)try{(0,r.validateFieldPath)(F,G.mergeFields[F])}catch(x){throw new Error(`${(0,c.invalidArgumentMessage)(q,"set() options argument")} "mergeFields" is not valid: ${x.message}`)}if("merge"in G&&"mergeFields"in G)throw new Error(`${(0,c.invalidArgumentMessage)(q,"set() options argument")} You cannot specify both "merge" and "mergeFields".`)}}function U(q,Q,K,G){if(!(0,y.isPlainObject)(Q))throw new Error((0,c.customObjectMessage)(q,Q));(0,p.validateUserInput)(q,Q,"Firestore document",{allowDeletes:K?"all":"none",allowTransforms:!0,allowUndefined:G})}function $(q,Q,K,G){(0,p.validateUserInput)(q,Q,"Firestore value",{allowDeletes:"root",allowTransforms:!0,allowUndefined:K},G)}function j(q,Q){const K=[];Q.forEach((G,F)=>{K.push(F)}),K.sort((G,F)=>G.compareTo(F));for(let G=1;G<K.length;++G)if(K[G-1].isPrefixOf(K[G]))throw new Error(`${(0,c.invalidArgumentMessage)(q,"update map")} Field "${K[G-1]}" was specified multiple times.`)}function M(q,Q,K){if(!(0,y.isPlainObject)(Q))throw new Error((0,c.customObjectMessage)(q,Q));if(Object.keys(Q).length===0)throw new Error("At least one field must be updated.");$(q,Q,K)}return writeBatch}var hasRequiredBulkWriter;function requireBulkWriter(){return hasRequiredBulkWriter||(hasRequiredBulkWriter=1,function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.BulkWriter=o.BulkWriterError=o.DEFAULT_JITTER_FACTOR=o.DEFAULT_MAXIMUM_OPS_PER_SECOND_LIMIT=o.DEFAULT_INITIAL_OPS_PER_SECOND_LIMIT=o.RETRY_MAX_BATCH_SIZE=void 0;const e=require$$1$3,r=backoff,u=rateLimiter,p=requireTimestamp(),h=util$4,y=requireWriteBatch(),c=requireValidate(),d=logger$1,m=traceUtil;/*!
 * The maximum number of writes that can be in a single batch.
 */const P=20;/*!
 * The maximum number of writes can be can in a single batch that is being retried.
 */o.RETRY_MAX_BATCH_SIZE=10;/*!
 * The starting maximum number of operations per second as allowed by the
 * 500/50/5 rule.
 *
 * https://firebase.google.com/docs/firestore/best-practices#ramping_up_traffic.
 */o.DEFAULT_INITIAL_OPS_PER_SECOND_LIMIT=500;/*!
 * The maximum number of operations per second as allowed by the 500/50/5 rule.
 * By default the rate limiter will not exceed this value.
 *
 * https://firebase.google.com/docs/firestore/best-practices#ramping_up_traffic.
 */o.DEFAULT_MAXIMUM_OPS_PER_SECOND_LIMIT=1e4;/*!
 * The default jitter to apply to the exponential backoff used in retries. For
 * example, a factor of 0.3 means a 30% jitter is applied.
 */o.DEFAULT_JITTER_FACTOR=.3;/*!
 * The rate by which to increase the capacity as specified by the 500/50/5 rule.
 */const N=1.5;/*!
 * How often the operations per second capacity should increase in milliseconds
 * as specified by the 500/50/5 rule.
 */const L=5*60*1e3;/*!
 * The default maximum number of pending operations that can be enqueued onto a
 * BulkWriter instance. An operation is considered pending if BulkWriter has
 * sent it via RPC and is awaiting the result. BulkWriter buffers additional
 * writes after this many pending operations in order to avoiding going OOM.
 */const k=500;class B{constructor(K,G,F,x,z){this.ref=K,this.type=G,this.sendFn=F,this.errorFn=x,this.successFn=z,this.deferred=new h.Deferred,this.failedAttempts=0,this._backoffDuration=0,this._flushed=!1}get promise(){return this.deferred.promise}get backoffDuration(){return this._backoffDuration}markFlushed(){this._flushed=!0}get flushed(){return this._flushed}onError(K){++this.failedAttempts;try{const G=new j(K.code,K.message,this.ref,this.type,this.failedAttempts),F=this.errorFn(G);(0,d.logger)("BulkWriter.errorFn",null,"Ran error callback on error code:",K.code,", shouldRetry:",F," for document:",this.ref.path),F?(this.lastStatus=K.code,this.updateBackoffDuration(),this.sendFn(this)):this.deferred.reject(G)}catch(G){this.deferred.reject(G)}}updateBackoffDuration(){this.lastStatus===8?this._backoffDuration=r.DEFAULT_BACKOFF_MAX_DELAY_MS:this._backoffDuration===0?this._backoffDuration=r.DEFAULT_BACKOFF_INITIAL_DELAY_MS:this._backoffDuration*=r.DEFAULT_BACKOFF_FACTOR}onSuccess(K){try{this.successFn(this.ref,K),this.deferred.resolve(K)}catch(G){this.deferred.reject(G)}}}class U extends y.WriteBatch{constructor(K,G){super(K),this.docPaths=new Set,this.pendingOps=[],this._maxBatchSize=G}get maxBatchSize(){return this._maxBatchSize}setMaxBatchSize(K){e(this.pendingOps.length<=K,"New batch size cannot be less than the number of enqueued writes"),this._maxBatchSize=K}has(K){return this.docPaths.has(K.path)}async bulkCommit(K={}){return this._firestore._traceUtil.startActiveSpan(m.SPAN_NAME_BULK_WRITER_COMMIT,async()=>{var G;const F=(G=K==null?void 0:K.requestTag)!==null&&G!==void 0?G:(0,h.requestTag)(),x=Error().stack;let z;try{(0,d.logger)("BulkCommitBatch.bulkCommit",F,`Sending next batch with ${this._opCount} writes`);const J=(0,h.getRetryCodes)("batchWrite");z=await this._commit({retryCodes:J,methodName:"batchWrite",requestTag:F})}catch(J){const Z=Array.from({length:this.pendingOps.length});z={writeResults:Z.map(()=>({})),status:Z.map(()=>J)}}for(let J=0;J<(z.writeResults||[]).length;++J){const Z=p.Timestamp.fromMillis(0),X=(z.status||[])[J];if(X.code===0){const te=p.Timestamp.fromProto(z.writeResults[J].updateTime||Z);this.pendingOps[J].onSuccess(new y.WriteResult(te))}else{const te=new(requireFallback()).GoogleError(X.message||void 0);te.code=X.code,this.pendingOps[J].onError((0,h.wrapError)(te,x))}}},{[m.ATTRIBUTE_KEY_DOC_COUNT]:this._opCount})}processLastOperation(K){e(!this.docPaths.has(K.ref.path),"Batch should not contain writes to the same document"),this.docPaths.add(K.ref.path),this.pendingOps.push(K)}}class ${constructor(K,G){this.operation=K,this.sendFn=G}}class j extends Error{constructor(K,G,F,x,z){super(G),this.code=K,this.message=G,this.documentRef=F,this.operationType=x,this.failedAttempts=z}}o.BulkWriterError=j;class M{_getBufferedOperationsCount(){return this._bufferedOperations.length}_setMaxBatchSize(K){e(this._bulkCommitBatch.pendingOps.length===0,"BulkCommitBatch should be empty"),this._maxBatchSize=K,this._bulkCommitBatch=new U(this.firestore,K)}_setMaxPendingOpCount(K){this._maxPendingOpCount=K}constructor(K,G){var F,x;if(this.firestore=K,this._maxBatchSize=P,this._bulkCommitBatch=new U(this.firestore,this._maxBatchSize),this._lastOp=Promise.resolve(),this._closing=!1,this._pendingOpsCount=0,this._bufferedOperations=[],this._errorHandlerSet=!1,this._maxPendingOpCount=k,this._successFn=()=>{},this._errorFn=z=>{const J=z.operationType==="delete"&&z.code===13;return((0,h.getRetryCodes)("batchWrite").includes(z.code)||J)&&z.failedAttempts<r.MAX_RETRY_ATTEMPTS},this.firestore._incrementBulkWritersCount(),q(G),(G==null?void 0:G.throttling)===!1)this._rateLimiter=new u.RateLimiter(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);else{let z=o.DEFAULT_INITIAL_OPS_PER_SECOND_LIMIT,J=o.DEFAULT_MAXIMUM_OPS_PER_SECOND_LIMIT;typeof(G==null?void 0:G.throttling)!="boolean"&&(((F=G==null?void 0:G.throttling)===null||F===void 0?void 0:F.maxOpsPerSecond)!==void 0&&(J=G.throttling.maxOpsPerSecond),((x=G==null?void 0:G.throttling)===null||x===void 0?void 0:x.initialOpsPerSecond)!==void 0&&(z=G.throttling.initialOpsPerSecond),J<z&&(z=J),z<this._maxBatchSize&&(this._maxBatchSize=z)),this._rateLimiter=new u.RateLimiter(z,N,L,J)}}create(K,G){return this._verifyNotClosed(),this._enqueue(K,"create",F=>F.create(K,G))}delete(K,G){return this._verifyNotClosed(),this._enqueue(K,"delete",F=>F.delete(K,G))}set(K,G,F){return this._verifyNotClosed(),this._enqueue(K,"set",x=>F?x.set(K,G,F):x.set(K,G))}update(K,G,...F){return this._verifyNotClosed(),this._enqueue(K,"update",x=>x.update(K,G,...F))}onWriteResult(K){this._successFn=K}onWriteError(K){this._errorHandlerSet=!0,this._errorFn=K}flush(){return this._verifyNotClosed(),this._scheduleCurrentBatch(!0),this._bufferedOperations.length>0&&this._bufferedOperations[this._bufferedOperations.length-1].operation.markFlushed(),this._lastOp}close(){this._verifyNotClosed(),this.firestore._decrementBulkWritersCount();const K=this.flush();return this._closing=!0,K}_verifyNotClosed(){if(this._closing)throw new Error("BulkWriter has already been closed.")}_scheduleCurrentBatch(K=!1){if(this._bulkCommitBatch._opCount===0)return;const G=this._bulkCommitBatch;this._bulkCommitBatch=new U(this.firestore,this._maxBatchSize);const F=G.pendingOps.reduce((J,Z)=>J.backoffDuration>Z.backoffDuration?J:Z).backoffDuration,x=M._applyJitter(F),z=new h.Deferred;x>0?(0,r.delayExecution)(()=>z.resolve(),x):z.resolve(),z.promise.then(()=>this._sendBatch(G,K))}async _sendBatch(K,G=!1){const F=(0,h.requestTag)();if(this._rateLimiter.tryMakeRequest(K._opCount))await K.bulkCommit({requestTag:F}),G&&this._scheduleCurrentBatch(G);else{const z=this._rateLimiter.getNextRequestDelayMs(K._opCount);(0,d.logger)("BulkWriter._sendBatch",F,`Backing off for ${z} seconds`),(0,r.delayExecution)(()=>this._sendBatch(K,G),z)}}static _applyJitter(K){if(K===0)return 0;const G=o.DEFAULT_JITTER_FACTOR*(Math.random()*2-1);return Math.min(r.DEFAULT_BACKOFF_MAX_DELAY_MS,K+G*K)}_enqueue(K,G,F){const x=new B(K,G,this._sendFn.bind(this,F),this._errorFn.bind(this),this._successFn.bind(this)),z=x.promise.catch(J=>{if(this._errorHandlerSet)return x.promise;throw J});return this._lastOp=this._lastOp.then(()=>(0,h.silencePromise)(z)),this._pendingOpsCount<this._maxPendingOpCount?(this._pendingOpsCount++,this._sendFn(F,x)):this._bufferedOperations.push(new $(x,()=>{this._pendingOpsCount++,this._sendFn(F,x)})),z.then(J=>(this._pendingOpsCount--,this._processBufferedOps(),J)).catch(J=>{throw this._pendingOpsCount--,this._processBufferedOps(),J})}_processBufferedOps(){this._pendingOpsCount<this._maxPendingOpCount&&this._bufferedOperations.length>0&&this._bufferedOperations.shift().sendFn()}_sendFn(K,G){G.backoffDuration>0&&(this._bulkCommitBatch.pendingOps.length>=o.RETRY_MAX_BATCH_SIZE&&this._scheduleCurrentBatch(!1),this._bulkCommitBatch.setMaxBatchSize(o.RETRY_MAX_BATCH_SIZE)),this._bulkCommitBatch.has(G.ref)&&this._scheduleCurrentBatch(),K(this._bulkCommitBatch),this._bulkCommitBatch.processLastOperation(G),this._bulkCommitBatch._opCount===this._bulkCommitBatch.maxBatchSize?this._scheduleCurrentBatch():G.flushed&&this._scheduleCurrentBatch(!0)}}o.BulkWriter=M;function q(Q){if((0,c.validateOptional)(Q,{optional:!0}))return;const K="options";if(!(0,h.isObject)(Q))throw new Error(`${(0,c.invalidArgumentMessage)(K,"bulkWriter() options argument")} Input is not an object.`);const G=Q;if(!(G.throttling===void 0||typeof G.throttling=="boolean")&&(G.throttling.initialOpsPerSecond!==void 0&&(0,c.validateInteger)("initialOpsPerSecond",G.throttling.initialOpsPerSecond,{minValue:1}),G.throttling.maxOpsPerSecond!==void 0&&((0,c.validateInteger)("maxOpsPerSecond",G.throttling.maxOpsPerSecond,{minValue:1}),G.throttling.initialOpsPerSecond!==void 0&&G.throttling.initialOpsPerSecond>G.throttling.maxOpsPerSecond)))throw new Error(`${(0,c.invalidArgumentMessage)(K,"bulkWriter() options argument")} "maxOpsPerSecond" cannot be less than "initialOpsPerSecond".`)}}(bulkWriter)),bulkWriter}var bundle={},firestore_v1_proto_api={exports:{}},hasRequiredFirestore_v1_proto_api;function requireFirestore_v1_proto_api(){return hasRequiredFirestore_v1_proto_api||(hasRequiredFirestore_v1_proto_api=1,function(o){(e=>{typeof commonjsRequire=="function"&&o&&o.exports&&(o.exports=e(requireMinimal()))})(function(e){var r,u,p,h,y,c=e.util,d=e.roots.firestore_v1||(e.roots.firestore_v1={});function m(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function P(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function N(t){if(this.queries=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function L(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function k(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function B(t){if(this.aggregateFields={},t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function U(t){if(this.fields={},t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function $(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function j(t){if(this.values=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function M(t){if(this.fields={},t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function q(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Q(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function K(t){if(this.fieldPaths=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function G(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function F(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function x(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function z(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function J(t,_,E){e.rpc.Service.call(this,t,_,E)}function Z(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function X(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function te(t){if(this.documents=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function be(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Ae(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Ne(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function ke(t){if(this.documents=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Ue(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function qe(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Ge(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Qe(t){if(this.writes=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Ke(t){if(this.writeResults=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Be(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Re(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function $e(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function xe(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Le(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function je(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Y(t){if(this.partitions=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function l(t){if(this.writes=[],this.labels={},t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function T(t){if(this.writeResults=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function O(t){if(this.labels={},t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function H(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function ae(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Oe(t){if(this.documents=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function ie(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function s(t){if(this.targetIds=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function A(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function I(t){if(this.collectionIds=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function n(t){if(this.writes=[],this.labels={},t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function R(t){if(this.writeResults=[],this.status=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function V(t){if(this.from=[],this.orderBy=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function ee(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Me(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function rt(t){if(this.filters=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function nt(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Ze(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function lt(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function ft(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function gt(t){if(this.fields=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Xe(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function We(t){if(this.aggregations=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function et(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function at(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function ot(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function pt(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function dt(t){if(this.values=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function jt(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Et(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Wt(t){if(this.indexesUsed=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Ht(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function qt(t){if(this.updateTransforms=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function rr(t){if(this.fieldTransforms=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function $t(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Lt(t){if(this.transformResults=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function wt(t){if(this.targetIds=[],this.removedTargetIds=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function kt(t){if(this.removedTargetIds=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Tt(t){if(this.removedTargetIds=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Ft(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function ht(t){if(this.rules=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function mt(t){if(this.additionalBindings=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Pt(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Rt(t){if(this.destinations=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function _t(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function bt(t){if(this.methodSettings=[],this.codeownerGithubTeams=[],this.librarySettings=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Ot(t){if(this.serviceClassNames={},t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function xt(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Mt(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function It(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Ut(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function wr(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function nr(t){if(this.renamedServices={},this.renamedResources={},this.ignoredResources=[],this.forcedNamespaceAliases=[],this.handwrittenSignatures=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function or(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function lr(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function yr(t){if(this.autoPopulatedFields=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function fr(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function er(t){if(this.pattern=[],this.style=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Pr(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Ir(t){if(this.file=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Xt(t){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Qt(t){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function br(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Er(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Bt(t){if(this.uninterpretedOption=[],this.declaration=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function tr(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function zt(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Cr(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function ur(t){if(this.value=[],this.reservedRange=[],this.reservedName=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Pe(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Ce(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Ve(t){if(this.method=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function He(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Je(t){if(this.uninterpretedOption=[],this[".google.api.resourceDefinition"]=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function tt(t){if(this.uninterpretedOption=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function it(t){if(this.targets=[],this.editionDefaults=[],this.uninterpretedOption=[],this[".google.api.fieldBehavior"]=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function st(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function vt(t){if(this.uninterpretedOption=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Ct(t){if(this.uninterpretedOption=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Kt(t){if(this.uninterpretedOption=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function St(t){if(this.uninterpretedOption=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function At(t){if(this.uninterpretedOption=[],this[".google.api.methodSignature"]=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Yt(t){if(this.name=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Jt(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Dt(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function yt(t){if(this.defaults=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Zt(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function ir(t){if(this.location=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function cr(t){if(this.path=[],this.span=[],this.leadingDetachedComments=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Fr(t){if(this.annotation=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function mr(t){if(this.path=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function $r(t){if(this.fields={},t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function vr(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Gr(t){if(this.values=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Vr(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Or(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function gr(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Lr(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Br(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Mr(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Tr(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Hr(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Qr(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function zr(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function hr(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Wr(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Ur(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Dr(t){if(this.paths=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Rr(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Nr(t){if(this.details=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function _r(t,_,E){e.rpc.Service.call(this,t,_,E)}function ar(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function qr(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Sr(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Vt(t){if(this.operations=[],t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Kr(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function Jr(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function jr(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}function kr(t){if(t)for(var _=Object.keys(t),E=0;E<_.length;++E)t[_[E]]!=null&&(this[_[E]]=t[_[E]])}return d.firestore=((p={}).BundledQuery=(m.prototype.parent="",m.prototype.structuredQuery=null,m.prototype.limitType=0,Object.defineProperty(m.prototype,"queryType",{get:c.oneOfGetter(u=["structuredQuery"]),set:c.oneOfSetter(u)}),m.fromObject=function(t){if(t instanceof d.firestore.BundledQuery)return t;var _=new d.firestore.BundledQuery;if(t.parent!=null&&(_.parent=String(t.parent)),t.structuredQuery!=null){if(typeof t.structuredQuery!="object")throw TypeError(".firestore.BundledQuery.structuredQuery: object expected");_.structuredQuery=d.google.firestore.v1.StructuredQuery.fromObject(t.structuredQuery)}switch(t.limitType){default:typeof t.limitType=="number"&&(_.limitType=t.limitType);break;case"FIRST":case 0:_.limitType=0;break;case"LAST":case 1:_.limitType=1}return _},m.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.parent="",E.limitType=_.enums===String?"FIRST":0),t.parent!=null&&t.hasOwnProperty("parent")&&(E.parent=t.parent),t.structuredQuery!=null&&t.hasOwnProperty("structuredQuery")&&(E.structuredQuery=d.google.firestore.v1.StructuredQuery.toObject(t.structuredQuery,_),_.oneofs)&&(E.queryType="structuredQuery"),t.limitType!=null&&t.hasOwnProperty("limitType")&&(E.limitType=_.enums!==String||d.firestore.BundledQuery.LimitType[t.limitType]===void 0?t.limitType:d.firestore.BundledQuery.LimitType[t.limitType]),E},m.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},m.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/firestore.BundledQuery"},m.LimitType=(u={},(y=Object.create(u))[u[0]="FIRST"]="FIRST",y[u[1]="LAST"]="LAST",y),m),p.NamedQuery=(P.prototype.name="",P.prototype.bundledQuery=null,P.prototype.readTime=null,P.fromObject=function(t){if(t instanceof d.firestore.NamedQuery)return t;var _=new d.firestore.NamedQuery;if(t.name!=null&&(_.name=String(t.name)),t.bundledQuery!=null){if(typeof t.bundledQuery!="object")throw TypeError(".firestore.NamedQuery.bundledQuery: object expected");_.bundledQuery=d.firestore.BundledQuery.fromObject(t.bundledQuery)}if(t.readTime!=null){if(typeof t.readTime!="object")throw TypeError(".firestore.NamedQuery.readTime: object expected");_.readTime=d.google.protobuf.Timestamp.fromObject(t.readTime)}return _},P.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.name="",E.bundledQuery=null,E.readTime=null),t.name!=null&&t.hasOwnProperty("name")&&(E.name=t.name),t.bundledQuery!=null&&t.hasOwnProperty("bundledQuery")&&(E.bundledQuery=d.firestore.BundledQuery.toObject(t.bundledQuery,_)),t.readTime!=null&&t.hasOwnProperty("readTime")&&(E.readTime=d.google.protobuf.Timestamp.toObject(t.readTime,_)),E},P.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},P.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/firestore.NamedQuery"},P),p.BundledDocumentMetadata=(N.prototype.name="",N.prototype.readTime=null,N.prototype.exists=!1,N.prototype.queries=c.emptyArray,N.fromObject=function(t){if(t instanceof d.firestore.BundledDocumentMetadata)return t;var _=new d.firestore.BundledDocumentMetadata;if(t.name!=null&&(_.name=String(t.name)),t.readTime!=null){if(typeof t.readTime!="object")throw TypeError(".firestore.BundledDocumentMetadata.readTime: object expected");_.readTime=d.google.protobuf.Timestamp.fromObject(t.readTime)}if(t.exists!=null&&(_.exists=!!t.exists),t.queries){if(!Array.isArray(t.queries))throw TypeError(".firestore.BundledDocumentMetadata.queries: array expected");_.queries=[];for(var E=0;E<t.queries.length;++E)_.queries[E]=String(t.queries[E])}return _},N.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.queries=[]),_.defaults&&(E.name="",E.readTime=null,E.exists=!1),t.name!=null&&t.hasOwnProperty("name")&&(E.name=t.name),t.readTime!=null&&t.hasOwnProperty("readTime")&&(E.readTime=d.google.protobuf.Timestamp.toObject(t.readTime,_)),t.exists!=null&&t.hasOwnProperty("exists")&&(E.exists=t.exists),t.queries&&t.queries.length){E.queries=[];for(var se=0;se<t.queries.length;++se)E.queries[se]=t.queries[se]}return E},N.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},N.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/firestore.BundledDocumentMetadata"},N),p.BundleMetadata=(L.prototype.id="",L.prototype.createTime=null,L.prototype.version=0,L.prototype.totalDocuments=0,L.prototype.totalBytes=c.Long?c.Long.fromBits(0,0,!0):0,L.fromObject=function(t){if(t instanceof d.firestore.BundleMetadata)return t;var _=new d.firestore.BundleMetadata;if(t.id!=null&&(_.id=String(t.id)),t.createTime!=null){if(typeof t.createTime!="object")throw TypeError(".firestore.BundleMetadata.createTime: object expected");_.createTime=d.google.protobuf.Timestamp.fromObject(t.createTime)}return t.version!=null&&(_.version=t.version>>>0),t.totalDocuments!=null&&(_.totalDocuments=t.totalDocuments>>>0),t.totalBytes!=null&&(c.Long?(_.totalBytes=c.Long.fromValue(t.totalBytes)).unsigned=!0:typeof t.totalBytes=="string"?_.totalBytes=parseInt(t.totalBytes,10):typeof t.totalBytes=="number"?_.totalBytes=t.totalBytes:typeof t.totalBytes=="object"&&(_.totalBytes=new c.LongBits(t.totalBytes.low>>>0,t.totalBytes.high>>>0).toNumber(!0))),_},L.toObject=function(t,_){var E,se={};return(_=_||{}).defaults&&(se.id="",se.createTime=null,se.version=0,se.totalDocuments=0,c.Long?(E=new c.Long(0,0,!0),se.totalBytes=_.longs===String?E.toString():_.longs===Number?E.toNumber():E):se.totalBytes=_.longs===String?"0":0),t.id!=null&&t.hasOwnProperty("id")&&(se.id=t.id),t.createTime!=null&&t.hasOwnProperty("createTime")&&(se.createTime=d.google.protobuf.Timestamp.toObject(t.createTime,_)),t.version!=null&&t.hasOwnProperty("version")&&(se.version=t.version),t.totalDocuments!=null&&t.hasOwnProperty("totalDocuments")&&(se.totalDocuments=t.totalDocuments),t.totalBytes!=null&&t.hasOwnProperty("totalBytes")&&(typeof t.totalBytes=="number"?se.totalBytes=_.longs===String?String(t.totalBytes):t.totalBytes:se.totalBytes=_.longs===String?c.Long.prototype.toString.call(t.totalBytes):_.longs===Number?new c.LongBits(t.totalBytes.low>>>0,t.totalBytes.high>>>0).toNumber(!0):t.totalBytes),se},L.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},L.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/firestore.BundleMetadata"},L),p.BundleElement=(k.prototype.metadata=null,k.prototype.namedQuery=null,k.prototype.documentMetadata=null,k.prototype.document=null,Object.defineProperty(k.prototype,"elementType",{get:c.oneOfGetter(u=["metadata","namedQuery","documentMetadata","document"]),set:c.oneOfSetter(u)}),k.fromObject=function(t){if(t instanceof d.firestore.BundleElement)return t;var _=new d.firestore.BundleElement;if(t.metadata!=null){if(typeof t.metadata!="object")throw TypeError(".firestore.BundleElement.metadata: object expected");_.metadata=d.firestore.BundleMetadata.fromObject(t.metadata)}if(t.namedQuery!=null){if(typeof t.namedQuery!="object")throw TypeError(".firestore.BundleElement.namedQuery: object expected");_.namedQuery=d.firestore.NamedQuery.fromObject(t.namedQuery)}if(t.documentMetadata!=null){if(typeof t.documentMetadata!="object")throw TypeError(".firestore.BundleElement.documentMetadata: object expected");_.documentMetadata=d.firestore.BundledDocumentMetadata.fromObject(t.documentMetadata)}if(t.document!=null){if(typeof t.document!="object")throw TypeError(".firestore.BundleElement.document: object expected");_.document=d.google.firestore.v1.Document.fromObject(t.document)}return _},k.toObject=function(t,_){_=_||{};var E={};return t.metadata!=null&&t.hasOwnProperty("metadata")&&(E.metadata=d.firestore.BundleMetadata.toObject(t.metadata,_),_.oneofs)&&(E.elementType="metadata"),t.namedQuery!=null&&t.hasOwnProperty("namedQuery")&&(E.namedQuery=d.firestore.NamedQuery.toObject(t.namedQuery,_),_.oneofs)&&(E.elementType="namedQuery"),t.documentMetadata!=null&&t.hasOwnProperty("documentMetadata")&&(E.documentMetadata=d.firestore.BundledDocumentMetadata.toObject(t.documentMetadata,_),_.oneofs)&&(E.elementType="documentMetadata"),t.document!=null&&t.hasOwnProperty("document")&&(E.document=d.google.firestore.v1.Document.toObject(t.document,_),_.oneofs)&&(E.elementType="document"),E},k.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},k.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/firestore.BundleElement"},k),p),d.google=((y={}).firestore=((u={}).v1=((p={}).AggregationResult=(B.prototype.aggregateFields=c.emptyObject,B.fromObject=function(t){if(t instanceof d.google.firestore.v1.AggregationResult)return t;var _=new d.google.firestore.v1.AggregationResult;if(t.aggregateFields){if(typeof t.aggregateFields!="object")throw TypeError(".google.firestore.v1.AggregationResult.aggregateFields: object expected");_.aggregateFields={};for(var E=Object.keys(t.aggregateFields),se=0;se<E.length;++se){if(typeof t.aggregateFields[E[se]]!="object")throw TypeError(".google.firestore.v1.AggregationResult.aggregateFields: object expected");_.aggregateFields[E[se]]=d.google.firestore.v1.Value.fromObject(t.aggregateFields[E[se]])}}return _},B.toObject=function(t,_){var E,se={};if(((_=_||{}).objects||_.defaults)&&(se.aggregateFields={}),t.aggregateFields&&(E=Object.keys(t.aggregateFields)).length){se.aggregateFields={};for(var ut=0;ut<E.length;++ut)se.aggregateFields[E[ut]]=d.google.firestore.v1.Value.toObject(t.aggregateFields[E[ut]],_)}return se},B.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},B.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.AggregationResult"},B),p.Document=(U.prototype.name="",U.prototype.fields=c.emptyObject,U.prototype.createTime=null,U.prototype.updateTime=null,U.fromObject=function(t){if(t instanceof d.google.firestore.v1.Document)return t;var _=new d.google.firestore.v1.Document;if(t.name!=null&&(_.name=String(t.name)),t.fields){if(typeof t.fields!="object")throw TypeError(".google.firestore.v1.Document.fields: object expected");_.fields={};for(var E=Object.keys(t.fields),se=0;se<E.length;++se){if(typeof t.fields[E[se]]!="object")throw TypeError(".google.firestore.v1.Document.fields: object expected");_.fields[E[se]]=d.google.firestore.v1.Value.fromObject(t.fields[E[se]])}}if(t.createTime!=null){if(typeof t.createTime!="object")throw TypeError(".google.firestore.v1.Document.createTime: object expected");_.createTime=d.google.protobuf.Timestamp.fromObject(t.createTime)}if(t.updateTime!=null){if(typeof t.updateTime!="object")throw TypeError(".google.firestore.v1.Document.updateTime: object expected");_.updateTime=d.google.protobuf.Timestamp.fromObject(t.updateTime)}return _},U.toObject=function(t,_){var E,se={};if(((_=_||{}).objects||_.defaults)&&(se.fields={}),_.defaults&&(se.name="",se.createTime=null,se.updateTime=null),t.name!=null&&t.hasOwnProperty("name")&&(se.name=t.name),t.fields&&(E=Object.keys(t.fields)).length){se.fields={};for(var ut=0;ut<E.length;++ut)se.fields[E[ut]]=d.google.firestore.v1.Value.toObject(t.fields[E[ut]],_)}return t.createTime!=null&&t.hasOwnProperty("createTime")&&(se.createTime=d.google.protobuf.Timestamp.toObject(t.createTime,_)),t.updateTime!=null&&t.hasOwnProperty("updateTime")&&(se.updateTime=d.google.protobuf.Timestamp.toObject(t.updateTime,_)),se},U.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},U.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.Document"},U),p.Value=($.prototype.nullValue=null,$.prototype.booleanValue=null,$.prototype.integerValue=null,$.prototype.doubleValue=null,$.prototype.timestampValue=null,$.prototype.stringValue=null,$.prototype.bytesValue=null,$.prototype.referenceValue=null,$.prototype.geoPointValue=null,$.prototype.arrayValue=null,$.prototype.mapValue=null,Object.defineProperty($.prototype,"valueType",{get:c.oneOfGetter(h=["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]),set:c.oneOfSetter(h)}),$.fromObject=function(t){if(t instanceof d.google.firestore.v1.Value)return t;var _=new d.google.firestore.v1.Value;switch(t.nullValue){default:typeof t.nullValue=="number"&&(_.nullValue=t.nullValue);break;case"NULL_VALUE":case 0:_.nullValue=0}if(t.booleanValue!=null&&(_.booleanValue=!!t.booleanValue),t.integerValue!=null&&(c.Long?(_.integerValue=c.Long.fromValue(t.integerValue)).unsigned=!1:typeof t.integerValue=="string"?_.integerValue=parseInt(t.integerValue,10):typeof t.integerValue=="number"?_.integerValue=t.integerValue:typeof t.integerValue=="object"&&(_.integerValue=new c.LongBits(t.integerValue.low>>>0,t.integerValue.high>>>0).toNumber())),t.doubleValue!=null&&(_.doubleValue=Number(t.doubleValue)),t.timestampValue!=null){if(typeof t.timestampValue!="object")throw TypeError(".google.firestore.v1.Value.timestampValue: object expected");_.timestampValue=d.google.protobuf.Timestamp.fromObject(t.timestampValue)}if(t.stringValue!=null&&(_.stringValue=String(t.stringValue)),t.bytesValue!=null&&(typeof t.bytesValue=="string"?c.base64.decode(t.bytesValue,_.bytesValue=c.newBuffer(c.base64.length(t.bytesValue)),0):0<=t.bytesValue.length&&(_.bytesValue=t.bytesValue)),t.referenceValue!=null&&(_.referenceValue=String(t.referenceValue)),t.geoPointValue!=null){if(typeof t.geoPointValue!="object")throw TypeError(".google.firestore.v1.Value.geoPointValue: object expected");_.geoPointValue=d.google.type.LatLng.fromObject(t.geoPointValue)}if(t.arrayValue!=null){if(typeof t.arrayValue!="object")throw TypeError(".google.firestore.v1.Value.arrayValue: object expected");_.arrayValue=d.google.firestore.v1.ArrayValue.fromObject(t.arrayValue)}if(t.mapValue!=null){if(typeof t.mapValue!="object")throw TypeError(".google.firestore.v1.Value.mapValue: object expected");_.mapValue=d.google.firestore.v1.MapValue.fromObject(t.mapValue)}return _},$.toObject=function(t,_){_=_||{};var E={};return t.booleanValue!=null&&t.hasOwnProperty("booleanValue")&&(E.booleanValue=t.booleanValue,_.oneofs)&&(E.valueType="booleanValue"),t.integerValue!=null&&t.hasOwnProperty("integerValue")&&(typeof t.integerValue=="number"?E.integerValue=_.longs===String?String(t.integerValue):t.integerValue:E.integerValue=_.longs===String?c.Long.prototype.toString.call(t.integerValue):_.longs===Number?new c.LongBits(t.integerValue.low>>>0,t.integerValue.high>>>0).toNumber():t.integerValue,_.oneofs)&&(E.valueType="integerValue"),t.doubleValue!=null&&t.hasOwnProperty("doubleValue")&&(E.doubleValue=_.json&&!isFinite(t.doubleValue)?String(t.doubleValue):t.doubleValue,_.oneofs)&&(E.valueType="doubleValue"),t.referenceValue!=null&&t.hasOwnProperty("referenceValue")&&(E.referenceValue=t.referenceValue,_.oneofs)&&(E.valueType="referenceValue"),t.mapValue!=null&&t.hasOwnProperty("mapValue")&&(E.mapValue=d.google.firestore.v1.MapValue.toObject(t.mapValue,_),_.oneofs)&&(E.valueType="mapValue"),t.geoPointValue!=null&&t.hasOwnProperty("geoPointValue")&&(E.geoPointValue=d.google.type.LatLng.toObject(t.geoPointValue,_),_.oneofs)&&(E.valueType="geoPointValue"),t.arrayValue!=null&&t.hasOwnProperty("arrayValue")&&(E.arrayValue=d.google.firestore.v1.ArrayValue.toObject(t.arrayValue,_),_.oneofs)&&(E.valueType="arrayValue"),t.timestampValue!=null&&t.hasOwnProperty("timestampValue")&&(E.timestampValue=d.google.protobuf.Timestamp.toObject(t.timestampValue,_),_.oneofs)&&(E.valueType="timestampValue"),t.nullValue!=null&&t.hasOwnProperty("nullValue")&&(E.nullValue=_.enums!==String||d.google.protobuf.NullValue[t.nullValue]===void 0?t.nullValue:d.google.protobuf.NullValue[t.nullValue],_.oneofs)&&(E.valueType="nullValue"),t.stringValue!=null&&t.hasOwnProperty("stringValue")&&(E.stringValue=t.stringValue,_.oneofs)&&(E.valueType="stringValue"),t.bytesValue!=null&&t.hasOwnProperty("bytesValue")&&(E.bytesValue=_.bytes===String?c.base64.encode(t.bytesValue,0,t.bytesValue.length):_.bytes===Array?Array.prototype.slice.call(t.bytesValue):t.bytesValue,_.oneofs)&&(E.valueType="bytesValue"),E},$.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},$.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.Value"},$),p.ArrayValue=(j.prototype.values=c.emptyArray,j.fromObject=function(t){if(t instanceof d.google.firestore.v1.ArrayValue)return t;var _=new d.google.firestore.v1.ArrayValue;if(t.values){if(!Array.isArray(t.values))throw TypeError(".google.firestore.v1.ArrayValue.values: array expected");_.values=[];for(var E=0;E<t.values.length;++E){if(typeof t.values[E]!="object")throw TypeError(".google.firestore.v1.ArrayValue.values: object expected");_.values[E]=d.google.firestore.v1.Value.fromObject(t.values[E])}}return _},j.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.values=[]),t.values&&t.values.length){E.values=[];for(var se=0;se<t.values.length;++se)E.values[se]=d.google.firestore.v1.Value.toObject(t.values[se],_)}return E},j.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},j.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.ArrayValue"},j),p.MapValue=(M.prototype.fields=c.emptyObject,M.fromObject=function(t){if(t instanceof d.google.firestore.v1.MapValue)return t;var _=new d.google.firestore.v1.MapValue;if(t.fields){if(typeof t.fields!="object")throw TypeError(".google.firestore.v1.MapValue.fields: object expected");_.fields={};for(var E=Object.keys(t.fields),se=0;se<E.length;++se){if(typeof t.fields[E[se]]!="object")throw TypeError(".google.firestore.v1.MapValue.fields: object expected");_.fields[E[se]]=d.google.firestore.v1.Value.fromObject(t.fields[E[se]])}}return _},M.toObject=function(t,_){var E,se={};if(((_=_||{}).objects||_.defaults)&&(se.fields={}),t.fields&&(E=Object.keys(t.fields)).length){se.fields={};for(var ut=0;ut<E.length;++ut)se.fields[E[ut]]=d.google.firestore.v1.Value.toObject(t.fields[E[ut]],_)}return se},M.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},M.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.MapValue"},M),p.BitSequence=(q.prototype.bitmap=c.newBuffer([]),q.prototype.padding=0,q.fromObject=function(t){var _;return t instanceof d.google.firestore.v1.BitSequence?t:(_=new d.google.firestore.v1.BitSequence,t.bitmap!=null&&(typeof t.bitmap=="string"?c.base64.decode(t.bitmap,_.bitmap=c.newBuffer(c.base64.length(t.bitmap)),0):0<=t.bitmap.length&&(_.bitmap=t.bitmap)),t.padding!=null&&(_.padding=0|t.padding),_)},q.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(_.bytes===String?E.bitmap="":(E.bitmap=[],_.bytes!==Array&&(E.bitmap=c.newBuffer(E.bitmap))),E.padding=0),t.bitmap!=null&&t.hasOwnProperty("bitmap")&&(E.bitmap=_.bytes===String?c.base64.encode(t.bitmap,0,t.bitmap.length):_.bytes===Array?Array.prototype.slice.call(t.bitmap):t.bitmap),t.padding!=null&&t.hasOwnProperty("padding")&&(E.padding=t.padding),E},q.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},q.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.BitSequence"},q),p.BloomFilter=(Q.prototype.bits=null,Q.prototype.hashCount=0,Q.fromObject=function(t){if(t instanceof d.google.firestore.v1.BloomFilter)return t;var _=new d.google.firestore.v1.BloomFilter;if(t.bits!=null){if(typeof t.bits!="object")throw TypeError(".google.firestore.v1.BloomFilter.bits: object expected");_.bits=d.google.firestore.v1.BitSequence.fromObject(t.bits)}return t.hashCount!=null&&(_.hashCount=0|t.hashCount),_},Q.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.bits=null,E.hashCount=0),t.bits!=null&&t.hasOwnProperty("bits")&&(E.bits=d.google.firestore.v1.BitSequence.toObject(t.bits,_)),t.hashCount!=null&&t.hasOwnProperty("hashCount")&&(E.hashCount=t.hashCount),E},Q.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Q.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.BloomFilter"},Q),p.DocumentMask=(K.prototype.fieldPaths=c.emptyArray,K.fromObject=function(t){if(t instanceof d.google.firestore.v1.DocumentMask)return t;var _=new d.google.firestore.v1.DocumentMask;if(t.fieldPaths){if(!Array.isArray(t.fieldPaths))throw TypeError(".google.firestore.v1.DocumentMask.fieldPaths: array expected");_.fieldPaths=[];for(var E=0;E<t.fieldPaths.length;++E)_.fieldPaths[E]=String(t.fieldPaths[E])}return _},K.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.fieldPaths=[]),t.fieldPaths&&t.fieldPaths.length){E.fieldPaths=[];for(var se=0;se<t.fieldPaths.length;++se)E.fieldPaths[se]=t.fieldPaths[se]}return E},K.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},K.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.DocumentMask"},K),p.Precondition=(G.prototype.exists=null,G.prototype.updateTime=null,Object.defineProperty(G.prototype,"conditionType",{get:c.oneOfGetter(h=["exists","updateTime"]),set:c.oneOfSetter(h)}),G.fromObject=function(t){if(t instanceof d.google.firestore.v1.Precondition)return t;var _=new d.google.firestore.v1.Precondition;if(t.exists!=null&&(_.exists=!!t.exists),t.updateTime!=null){if(typeof t.updateTime!="object")throw TypeError(".google.firestore.v1.Precondition.updateTime: object expected");_.updateTime=d.google.protobuf.Timestamp.fromObject(t.updateTime)}return _},G.toObject=function(t,_){_=_||{};var E={};return t.exists!=null&&t.hasOwnProperty("exists")&&(E.exists=t.exists,_.oneofs)&&(E.conditionType="exists"),t.updateTime!=null&&t.hasOwnProperty("updateTime")&&(E.updateTime=d.google.protobuf.Timestamp.toObject(t.updateTime,_),_.oneofs)&&(E.conditionType="updateTime"),E},G.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},G.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.Precondition"},G),p.TransactionOptions=(F.prototype.readOnly=null,F.prototype.readWrite=null,Object.defineProperty(F.prototype,"mode",{get:c.oneOfGetter(h=["readOnly","readWrite"]),set:c.oneOfSetter(h)}),F.fromObject=function(t){if(t instanceof d.google.firestore.v1.TransactionOptions)return t;var _=new d.google.firestore.v1.TransactionOptions;if(t.readOnly!=null){if(typeof t.readOnly!="object")throw TypeError(".google.firestore.v1.TransactionOptions.readOnly: object expected");_.readOnly=d.google.firestore.v1.TransactionOptions.ReadOnly.fromObject(t.readOnly)}if(t.readWrite!=null){if(typeof t.readWrite!="object")throw TypeError(".google.firestore.v1.TransactionOptions.readWrite: object expected");_.readWrite=d.google.firestore.v1.TransactionOptions.ReadWrite.fromObject(t.readWrite)}return _},F.toObject=function(t,_){_=_||{};var E={};return t.readOnly!=null&&t.hasOwnProperty("readOnly")&&(E.readOnly=d.google.firestore.v1.TransactionOptions.ReadOnly.toObject(t.readOnly,_),_.oneofs)&&(E.mode="readOnly"),t.readWrite!=null&&t.hasOwnProperty("readWrite")&&(E.readWrite=d.google.firestore.v1.TransactionOptions.ReadWrite.toObject(t.readWrite,_),_.oneofs)&&(E.mode="readWrite"),E},F.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},F.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.TransactionOptions"},F.ReadWrite=(x.prototype.retryTransaction=c.newBuffer([]),x.fromObject=function(t){var _;return t instanceof d.google.firestore.v1.TransactionOptions.ReadWrite?t:(_=new d.google.firestore.v1.TransactionOptions.ReadWrite,t.retryTransaction!=null&&(typeof t.retryTransaction=="string"?c.base64.decode(t.retryTransaction,_.retryTransaction=c.newBuffer(c.base64.length(t.retryTransaction)),0):0<=t.retryTransaction.length&&(_.retryTransaction=t.retryTransaction)),_)},x.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(_.bytes===String?E.retryTransaction="":(E.retryTransaction=[],_.bytes!==Array&&(E.retryTransaction=c.newBuffer(E.retryTransaction)))),t.retryTransaction!=null&&t.hasOwnProperty("retryTransaction")&&(E.retryTransaction=_.bytes===String?c.base64.encode(t.retryTransaction,0,t.retryTransaction.length):_.bytes===Array?Array.prototype.slice.call(t.retryTransaction):t.retryTransaction),E},x.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},x.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.TransactionOptions.ReadWrite"},x),F.ReadOnly=(z.prototype.readTime=null,Object.defineProperty(z.prototype,"consistencySelector",{get:c.oneOfGetter(h=["readTime"]),set:c.oneOfSetter(h)}),z.fromObject=function(t){if(t instanceof d.google.firestore.v1.TransactionOptions.ReadOnly)return t;var _=new d.google.firestore.v1.TransactionOptions.ReadOnly;if(t.readTime!=null){if(typeof t.readTime!="object")throw TypeError(".google.firestore.v1.TransactionOptions.ReadOnly.readTime: object expected");_.readTime=d.google.protobuf.Timestamp.fromObject(t.readTime)}return _},z.toObject=function(t,_){_=_||{};var E={};return t.readTime!=null&&t.hasOwnProperty("readTime")&&(E.readTime=d.google.protobuf.Timestamp.toObject(t.readTime,_),_.oneofs)&&(E.consistencySelector="readTime"),E},z.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},z.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.TransactionOptions.ReadOnly"},z),F),p.Firestore=((J.prototype=Object.create(e.rpc.Service.prototype)).constructor=J,Object.defineProperty(J.prototype.getDocument=function t(_,E){return this.rpcCall(t,d.google.firestore.v1.GetDocumentRequest,d.google.firestore.v1.Document,_,E)},"name",{value:"GetDocument"}),Object.defineProperty(J.prototype.listDocuments=function t(_,E){return this.rpcCall(t,d.google.firestore.v1.ListDocumentsRequest,d.google.firestore.v1.ListDocumentsResponse,_,E)},"name",{value:"ListDocuments"}),Object.defineProperty(J.prototype.updateDocument=function t(_,E){return this.rpcCall(t,d.google.firestore.v1.UpdateDocumentRequest,d.google.firestore.v1.Document,_,E)},"name",{value:"UpdateDocument"}),Object.defineProperty(J.prototype.deleteDocument=function t(_,E){return this.rpcCall(t,d.google.firestore.v1.DeleteDocumentRequest,d.google.protobuf.Empty,_,E)},"name",{value:"DeleteDocument"}),Object.defineProperty(J.prototype.batchGetDocuments=function t(_,E){return this.rpcCall(t,d.google.firestore.v1.BatchGetDocumentsRequest,d.google.firestore.v1.BatchGetDocumentsResponse,_,E)},"name",{value:"BatchGetDocuments"}),Object.defineProperty(J.prototype.beginTransaction=function t(_,E){return this.rpcCall(t,d.google.firestore.v1.BeginTransactionRequest,d.google.firestore.v1.BeginTransactionResponse,_,E)},"name",{value:"BeginTransaction"}),Object.defineProperty(J.prototype.commit=function t(_,E){return this.rpcCall(t,d.google.firestore.v1.CommitRequest,d.google.firestore.v1.CommitResponse,_,E)},"name",{value:"Commit"}),Object.defineProperty(J.prototype.rollback=function t(_,E){return this.rpcCall(t,d.google.firestore.v1.RollbackRequest,d.google.protobuf.Empty,_,E)},"name",{value:"Rollback"}),Object.defineProperty(J.prototype.runQuery=function t(_,E){return this.rpcCall(t,d.google.firestore.v1.RunQueryRequest,d.google.firestore.v1.RunQueryResponse,_,E)},"name",{value:"RunQuery"}),Object.defineProperty(J.prototype.runAggregationQuery=function t(_,E){return this.rpcCall(t,d.google.firestore.v1.RunAggregationQueryRequest,d.google.firestore.v1.RunAggregationQueryResponse,_,E)},"name",{value:"RunAggregationQuery"}),Object.defineProperty(J.prototype.partitionQuery=function t(_,E){return this.rpcCall(t,d.google.firestore.v1.PartitionQueryRequest,d.google.firestore.v1.PartitionQueryResponse,_,E)},"name",{value:"PartitionQuery"}),Object.defineProperty(J.prototype.write=function t(_,E){return this.rpcCall(t,d.google.firestore.v1.WriteRequest,d.google.firestore.v1.WriteResponse,_,E)},"name",{value:"Write"}),Object.defineProperty(J.prototype.listen=function t(_,E){return this.rpcCall(t,d.google.firestore.v1.ListenRequest,d.google.firestore.v1.ListenResponse,_,E)},"name",{value:"Listen"}),Object.defineProperty(J.prototype.listCollectionIds=function t(_,E){return this.rpcCall(t,d.google.firestore.v1.ListCollectionIdsRequest,d.google.firestore.v1.ListCollectionIdsResponse,_,E)},"name",{value:"ListCollectionIds"}),Object.defineProperty(J.prototype.batchWrite=function t(_,E){return this.rpcCall(t,d.google.firestore.v1.BatchWriteRequest,d.google.firestore.v1.BatchWriteResponse,_,E)},"name",{value:"BatchWrite"}),Object.defineProperty(J.prototype.createDocument=function t(_,E){return this.rpcCall(t,d.google.firestore.v1.CreateDocumentRequest,d.google.firestore.v1.Document,_,E)},"name",{value:"CreateDocument"}),J),p.GetDocumentRequest=(Z.prototype.name="",Z.prototype.mask=null,Z.prototype.transaction=null,Z.prototype.readTime=null,Object.defineProperty(Z.prototype,"consistencySelector",{get:c.oneOfGetter(h=["transaction","readTime"]),set:c.oneOfSetter(h)}),Z.fromObject=function(t){if(t instanceof d.google.firestore.v1.GetDocumentRequest)return t;var _=new d.google.firestore.v1.GetDocumentRequest;if(t.name!=null&&(_.name=String(t.name)),t.mask!=null){if(typeof t.mask!="object")throw TypeError(".google.firestore.v1.GetDocumentRequest.mask: object expected");_.mask=d.google.firestore.v1.DocumentMask.fromObject(t.mask)}if(t.transaction!=null&&(typeof t.transaction=="string"?c.base64.decode(t.transaction,_.transaction=c.newBuffer(c.base64.length(t.transaction)),0):0<=t.transaction.length&&(_.transaction=t.transaction)),t.readTime!=null){if(typeof t.readTime!="object")throw TypeError(".google.firestore.v1.GetDocumentRequest.readTime: object expected");_.readTime=d.google.protobuf.Timestamp.fromObject(t.readTime)}return _},Z.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.name="",E.mask=null),t.name!=null&&t.hasOwnProperty("name")&&(E.name=t.name),t.mask!=null&&t.hasOwnProperty("mask")&&(E.mask=d.google.firestore.v1.DocumentMask.toObject(t.mask,_)),t.transaction!=null&&t.hasOwnProperty("transaction")&&(E.transaction=_.bytes===String?c.base64.encode(t.transaction,0,t.transaction.length):_.bytes===Array?Array.prototype.slice.call(t.transaction):t.transaction,_.oneofs)&&(E.consistencySelector="transaction"),t.readTime!=null&&t.hasOwnProperty("readTime")&&(E.readTime=d.google.protobuf.Timestamp.toObject(t.readTime,_),_.oneofs)&&(E.consistencySelector="readTime"),E},Z.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Z.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.GetDocumentRequest"},Z),p.ListDocumentsRequest=(X.prototype.parent="",X.prototype.collectionId="",X.prototype.pageSize=0,X.prototype.pageToken="",X.prototype.orderBy="",X.prototype.mask=null,X.prototype.transaction=null,X.prototype.readTime=null,X.prototype.showMissing=!1,Object.defineProperty(X.prototype,"consistencySelector",{get:c.oneOfGetter(h=["transaction","readTime"]),set:c.oneOfSetter(h)}),X.fromObject=function(t){if(t instanceof d.google.firestore.v1.ListDocumentsRequest)return t;var _=new d.google.firestore.v1.ListDocumentsRequest;if(t.parent!=null&&(_.parent=String(t.parent)),t.collectionId!=null&&(_.collectionId=String(t.collectionId)),t.pageSize!=null&&(_.pageSize=0|t.pageSize),t.pageToken!=null&&(_.pageToken=String(t.pageToken)),t.orderBy!=null&&(_.orderBy=String(t.orderBy)),t.mask!=null){if(typeof t.mask!="object")throw TypeError(".google.firestore.v1.ListDocumentsRequest.mask: object expected");_.mask=d.google.firestore.v1.DocumentMask.fromObject(t.mask)}if(t.transaction!=null&&(typeof t.transaction=="string"?c.base64.decode(t.transaction,_.transaction=c.newBuffer(c.base64.length(t.transaction)),0):0<=t.transaction.length&&(_.transaction=t.transaction)),t.readTime!=null){if(typeof t.readTime!="object")throw TypeError(".google.firestore.v1.ListDocumentsRequest.readTime: object expected");_.readTime=d.google.protobuf.Timestamp.fromObject(t.readTime)}return t.showMissing!=null&&(_.showMissing=!!t.showMissing),_},X.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.parent="",E.collectionId="",E.pageSize=0,E.pageToken="",E.orderBy="",E.mask=null,E.showMissing=!1),t.parent!=null&&t.hasOwnProperty("parent")&&(E.parent=t.parent),t.collectionId!=null&&t.hasOwnProperty("collectionId")&&(E.collectionId=t.collectionId),t.pageSize!=null&&t.hasOwnProperty("pageSize")&&(E.pageSize=t.pageSize),t.pageToken!=null&&t.hasOwnProperty("pageToken")&&(E.pageToken=t.pageToken),t.orderBy!=null&&t.hasOwnProperty("orderBy")&&(E.orderBy=t.orderBy),t.mask!=null&&t.hasOwnProperty("mask")&&(E.mask=d.google.firestore.v1.DocumentMask.toObject(t.mask,_)),t.transaction!=null&&t.hasOwnProperty("transaction")&&(E.transaction=_.bytes===String?c.base64.encode(t.transaction,0,t.transaction.length):_.bytes===Array?Array.prototype.slice.call(t.transaction):t.transaction,_.oneofs)&&(E.consistencySelector="transaction"),t.readTime!=null&&t.hasOwnProperty("readTime")&&(E.readTime=d.google.protobuf.Timestamp.toObject(t.readTime,_),_.oneofs)&&(E.consistencySelector="readTime"),t.showMissing!=null&&t.hasOwnProperty("showMissing")&&(E.showMissing=t.showMissing),E},X.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},X.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.ListDocumentsRequest"},X),p.ListDocumentsResponse=(te.prototype.documents=c.emptyArray,te.prototype.nextPageToken="",te.fromObject=function(t){if(t instanceof d.google.firestore.v1.ListDocumentsResponse)return t;var _=new d.google.firestore.v1.ListDocumentsResponse;if(t.documents){if(!Array.isArray(t.documents))throw TypeError(".google.firestore.v1.ListDocumentsResponse.documents: array expected");_.documents=[];for(var E=0;E<t.documents.length;++E){if(typeof t.documents[E]!="object")throw TypeError(".google.firestore.v1.ListDocumentsResponse.documents: object expected");_.documents[E]=d.google.firestore.v1.Document.fromObject(t.documents[E])}}return t.nextPageToken!=null&&(_.nextPageToken=String(t.nextPageToken)),_},te.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.documents=[]),_.defaults&&(E.nextPageToken=""),t.documents&&t.documents.length){E.documents=[];for(var se=0;se<t.documents.length;++se)E.documents[se]=d.google.firestore.v1.Document.toObject(t.documents[se],_)}return t.nextPageToken!=null&&t.hasOwnProperty("nextPageToken")&&(E.nextPageToken=t.nextPageToken),E},te.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},te.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.ListDocumentsResponse"},te),p.CreateDocumentRequest=(be.prototype.parent="",be.prototype.collectionId="",be.prototype.documentId="",be.prototype.document=null,be.prototype.mask=null,be.fromObject=function(t){if(t instanceof d.google.firestore.v1.CreateDocumentRequest)return t;var _=new d.google.firestore.v1.CreateDocumentRequest;if(t.parent!=null&&(_.parent=String(t.parent)),t.collectionId!=null&&(_.collectionId=String(t.collectionId)),t.documentId!=null&&(_.documentId=String(t.documentId)),t.document!=null){if(typeof t.document!="object")throw TypeError(".google.firestore.v1.CreateDocumentRequest.document: object expected");_.document=d.google.firestore.v1.Document.fromObject(t.document)}if(t.mask!=null){if(typeof t.mask!="object")throw TypeError(".google.firestore.v1.CreateDocumentRequest.mask: object expected");_.mask=d.google.firestore.v1.DocumentMask.fromObject(t.mask)}return _},be.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.parent="",E.collectionId="",E.documentId="",E.document=null,E.mask=null),t.parent!=null&&t.hasOwnProperty("parent")&&(E.parent=t.parent),t.collectionId!=null&&t.hasOwnProperty("collectionId")&&(E.collectionId=t.collectionId),t.documentId!=null&&t.hasOwnProperty("documentId")&&(E.documentId=t.documentId),t.document!=null&&t.hasOwnProperty("document")&&(E.document=d.google.firestore.v1.Document.toObject(t.document,_)),t.mask!=null&&t.hasOwnProperty("mask")&&(E.mask=d.google.firestore.v1.DocumentMask.toObject(t.mask,_)),E},be.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},be.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.CreateDocumentRequest"},be),p.UpdateDocumentRequest=(Ae.prototype.document=null,Ae.prototype.updateMask=null,Ae.prototype.mask=null,Ae.prototype.currentDocument=null,Ae.fromObject=function(t){if(t instanceof d.google.firestore.v1.UpdateDocumentRequest)return t;var _=new d.google.firestore.v1.UpdateDocumentRequest;if(t.document!=null){if(typeof t.document!="object")throw TypeError(".google.firestore.v1.UpdateDocumentRequest.document: object expected");_.document=d.google.firestore.v1.Document.fromObject(t.document)}if(t.updateMask!=null){if(typeof t.updateMask!="object")throw TypeError(".google.firestore.v1.UpdateDocumentRequest.updateMask: object expected");_.updateMask=d.google.firestore.v1.DocumentMask.fromObject(t.updateMask)}if(t.mask!=null){if(typeof t.mask!="object")throw TypeError(".google.firestore.v1.UpdateDocumentRequest.mask: object expected");_.mask=d.google.firestore.v1.DocumentMask.fromObject(t.mask)}if(t.currentDocument!=null){if(typeof t.currentDocument!="object")throw TypeError(".google.firestore.v1.UpdateDocumentRequest.currentDocument: object expected");_.currentDocument=d.google.firestore.v1.Precondition.fromObject(t.currentDocument)}return _},Ae.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.document=null,E.updateMask=null,E.mask=null,E.currentDocument=null),t.document!=null&&t.hasOwnProperty("document")&&(E.document=d.google.firestore.v1.Document.toObject(t.document,_)),t.updateMask!=null&&t.hasOwnProperty("updateMask")&&(E.updateMask=d.google.firestore.v1.DocumentMask.toObject(t.updateMask,_)),t.mask!=null&&t.hasOwnProperty("mask")&&(E.mask=d.google.firestore.v1.DocumentMask.toObject(t.mask,_)),t.currentDocument!=null&&t.hasOwnProperty("currentDocument")&&(E.currentDocument=d.google.firestore.v1.Precondition.toObject(t.currentDocument,_)),E},Ae.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ae.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.UpdateDocumentRequest"},Ae),p.DeleteDocumentRequest=(Ne.prototype.name="",Ne.prototype.currentDocument=null,Ne.fromObject=function(t){if(t instanceof d.google.firestore.v1.DeleteDocumentRequest)return t;var _=new d.google.firestore.v1.DeleteDocumentRequest;if(t.name!=null&&(_.name=String(t.name)),t.currentDocument!=null){if(typeof t.currentDocument!="object")throw TypeError(".google.firestore.v1.DeleteDocumentRequest.currentDocument: object expected");_.currentDocument=d.google.firestore.v1.Precondition.fromObject(t.currentDocument)}return _},Ne.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.name="",E.currentDocument=null),t.name!=null&&t.hasOwnProperty("name")&&(E.name=t.name),t.currentDocument!=null&&t.hasOwnProperty("currentDocument")&&(E.currentDocument=d.google.firestore.v1.Precondition.toObject(t.currentDocument,_)),E},Ne.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ne.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.DeleteDocumentRequest"},Ne),p.BatchGetDocumentsRequest=(ke.prototype.database="",ke.prototype.documents=c.emptyArray,ke.prototype.mask=null,ke.prototype.transaction=null,ke.prototype.newTransaction=null,ke.prototype.readTime=null,Object.defineProperty(ke.prototype,"consistencySelector",{get:c.oneOfGetter(h=["transaction","newTransaction","readTime"]),set:c.oneOfSetter(h)}),ke.fromObject=function(t){if(t instanceof d.google.firestore.v1.BatchGetDocumentsRequest)return t;var _=new d.google.firestore.v1.BatchGetDocumentsRequest;if(t.database!=null&&(_.database=String(t.database)),t.documents){if(!Array.isArray(t.documents))throw TypeError(".google.firestore.v1.BatchGetDocumentsRequest.documents: array expected");_.documents=[];for(var E=0;E<t.documents.length;++E)_.documents[E]=String(t.documents[E])}if(t.mask!=null){if(typeof t.mask!="object")throw TypeError(".google.firestore.v1.BatchGetDocumentsRequest.mask: object expected");_.mask=d.google.firestore.v1.DocumentMask.fromObject(t.mask)}if(t.transaction!=null&&(typeof t.transaction=="string"?c.base64.decode(t.transaction,_.transaction=c.newBuffer(c.base64.length(t.transaction)),0):0<=t.transaction.length&&(_.transaction=t.transaction)),t.newTransaction!=null){if(typeof t.newTransaction!="object")throw TypeError(".google.firestore.v1.BatchGetDocumentsRequest.newTransaction: object expected");_.newTransaction=d.google.firestore.v1.TransactionOptions.fromObject(t.newTransaction)}if(t.readTime!=null){if(typeof t.readTime!="object")throw TypeError(".google.firestore.v1.BatchGetDocumentsRequest.readTime: object expected");_.readTime=d.google.protobuf.Timestamp.fromObject(t.readTime)}return _},ke.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.documents=[]),_.defaults&&(E.database="",E.mask=null),t.database!=null&&t.hasOwnProperty("database")&&(E.database=t.database),t.documents&&t.documents.length){E.documents=[];for(var se=0;se<t.documents.length;++se)E.documents[se]=t.documents[se]}return t.mask!=null&&t.hasOwnProperty("mask")&&(E.mask=d.google.firestore.v1.DocumentMask.toObject(t.mask,_)),t.transaction!=null&&t.hasOwnProperty("transaction")&&(E.transaction=_.bytes===String?c.base64.encode(t.transaction,0,t.transaction.length):_.bytes===Array?Array.prototype.slice.call(t.transaction):t.transaction,_.oneofs)&&(E.consistencySelector="transaction"),t.newTransaction!=null&&t.hasOwnProperty("newTransaction")&&(E.newTransaction=d.google.firestore.v1.TransactionOptions.toObject(t.newTransaction,_),_.oneofs)&&(E.consistencySelector="newTransaction"),t.readTime!=null&&t.hasOwnProperty("readTime")&&(E.readTime=d.google.protobuf.Timestamp.toObject(t.readTime,_),_.oneofs)&&(E.consistencySelector="readTime"),E},ke.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ke.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.BatchGetDocumentsRequest"},ke),p.BatchGetDocumentsResponse=(Ue.prototype.found=null,Ue.prototype.missing=null,Ue.prototype.transaction=c.newBuffer([]),Ue.prototype.readTime=null,Object.defineProperty(Ue.prototype,"result",{get:c.oneOfGetter(h=["found","missing"]),set:c.oneOfSetter(h)}),Ue.fromObject=function(t){if(t instanceof d.google.firestore.v1.BatchGetDocumentsResponse)return t;var _=new d.google.firestore.v1.BatchGetDocumentsResponse;if(t.found!=null){if(typeof t.found!="object")throw TypeError(".google.firestore.v1.BatchGetDocumentsResponse.found: object expected");_.found=d.google.firestore.v1.Document.fromObject(t.found)}if(t.missing!=null&&(_.missing=String(t.missing)),t.transaction!=null&&(typeof t.transaction=="string"?c.base64.decode(t.transaction,_.transaction=c.newBuffer(c.base64.length(t.transaction)),0):0<=t.transaction.length&&(_.transaction=t.transaction)),t.readTime!=null){if(typeof t.readTime!="object")throw TypeError(".google.firestore.v1.BatchGetDocumentsResponse.readTime: object expected");_.readTime=d.google.protobuf.Timestamp.fromObject(t.readTime)}return _},Ue.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(_.bytes===String?E.transaction="":(E.transaction=[],_.bytes!==Array&&(E.transaction=c.newBuffer(E.transaction))),E.readTime=null),t.found!=null&&t.hasOwnProperty("found")&&(E.found=d.google.firestore.v1.Document.toObject(t.found,_),_.oneofs)&&(E.result="found"),t.missing!=null&&t.hasOwnProperty("missing")&&(E.missing=t.missing,_.oneofs)&&(E.result="missing"),t.transaction!=null&&t.hasOwnProperty("transaction")&&(E.transaction=_.bytes===String?c.base64.encode(t.transaction,0,t.transaction.length):_.bytes===Array?Array.prototype.slice.call(t.transaction):t.transaction),t.readTime!=null&&t.hasOwnProperty("readTime")&&(E.readTime=d.google.protobuf.Timestamp.toObject(t.readTime,_)),E},Ue.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ue.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.BatchGetDocumentsResponse"},Ue),p.BeginTransactionRequest=(qe.prototype.database="",qe.prototype.options=null,qe.fromObject=function(t){if(t instanceof d.google.firestore.v1.BeginTransactionRequest)return t;var _=new d.google.firestore.v1.BeginTransactionRequest;if(t.database!=null&&(_.database=String(t.database)),t.options!=null){if(typeof t.options!="object")throw TypeError(".google.firestore.v1.BeginTransactionRequest.options: object expected");_.options=d.google.firestore.v1.TransactionOptions.fromObject(t.options)}return _},qe.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.database="",E.options=null),t.database!=null&&t.hasOwnProperty("database")&&(E.database=t.database),t.options!=null&&t.hasOwnProperty("options")&&(E.options=d.google.firestore.v1.TransactionOptions.toObject(t.options,_)),E},qe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},qe.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.BeginTransactionRequest"},qe),p.BeginTransactionResponse=(Ge.prototype.transaction=c.newBuffer([]),Ge.fromObject=function(t){var _;return t instanceof d.google.firestore.v1.BeginTransactionResponse?t:(_=new d.google.firestore.v1.BeginTransactionResponse,t.transaction!=null&&(typeof t.transaction=="string"?c.base64.decode(t.transaction,_.transaction=c.newBuffer(c.base64.length(t.transaction)),0):0<=t.transaction.length&&(_.transaction=t.transaction)),_)},Ge.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(_.bytes===String?E.transaction="":(E.transaction=[],_.bytes!==Array&&(E.transaction=c.newBuffer(E.transaction)))),t.transaction!=null&&t.hasOwnProperty("transaction")&&(E.transaction=_.bytes===String?c.base64.encode(t.transaction,0,t.transaction.length):_.bytes===Array?Array.prototype.slice.call(t.transaction):t.transaction),E},Ge.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ge.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.BeginTransactionResponse"},Ge),p.CommitRequest=(Qe.prototype.database="",Qe.prototype.writes=c.emptyArray,Qe.prototype.transaction=c.newBuffer([]),Qe.fromObject=function(t){if(t instanceof d.google.firestore.v1.CommitRequest)return t;var _=new d.google.firestore.v1.CommitRequest;if(t.database!=null&&(_.database=String(t.database)),t.writes){if(!Array.isArray(t.writes))throw TypeError(".google.firestore.v1.CommitRequest.writes: array expected");_.writes=[];for(var E=0;E<t.writes.length;++E){if(typeof t.writes[E]!="object")throw TypeError(".google.firestore.v1.CommitRequest.writes: object expected");_.writes[E]=d.google.firestore.v1.Write.fromObject(t.writes[E])}}return t.transaction!=null&&(typeof t.transaction=="string"?c.base64.decode(t.transaction,_.transaction=c.newBuffer(c.base64.length(t.transaction)),0):0<=t.transaction.length&&(_.transaction=t.transaction)),_},Qe.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.writes=[]),_.defaults&&(E.database="",_.bytes===String?E.transaction="":(E.transaction=[],_.bytes!==Array&&(E.transaction=c.newBuffer(E.transaction)))),t.database!=null&&t.hasOwnProperty("database")&&(E.database=t.database),t.writes&&t.writes.length){E.writes=[];for(var se=0;se<t.writes.length;++se)E.writes[se]=d.google.firestore.v1.Write.toObject(t.writes[se],_)}return t.transaction!=null&&t.hasOwnProperty("transaction")&&(E.transaction=_.bytes===String?c.base64.encode(t.transaction,0,t.transaction.length):_.bytes===Array?Array.prototype.slice.call(t.transaction):t.transaction),E},Qe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Qe.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.CommitRequest"},Qe),p.CommitResponse=(Ke.prototype.writeResults=c.emptyArray,Ke.prototype.commitTime=null,Ke.fromObject=function(t){if(t instanceof d.google.firestore.v1.CommitResponse)return t;var _=new d.google.firestore.v1.CommitResponse;if(t.writeResults){if(!Array.isArray(t.writeResults))throw TypeError(".google.firestore.v1.CommitResponse.writeResults: array expected");_.writeResults=[];for(var E=0;E<t.writeResults.length;++E){if(typeof t.writeResults[E]!="object")throw TypeError(".google.firestore.v1.CommitResponse.writeResults: object expected");_.writeResults[E]=d.google.firestore.v1.WriteResult.fromObject(t.writeResults[E])}}if(t.commitTime!=null){if(typeof t.commitTime!="object")throw TypeError(".google.firestore.v1.CommitResponse.commitTime: object expected");_.commitTime=d.google.protobuf.Timestamp.fromObject(t.commitTime)}return _},Ke.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.writeResults=[]),_.defaults&&(E.commitTime=null),t.writeResults&&t.writeResults.length){E.writeResults=[];for(var se=0;se<t.writeResults.length;++se)E.writeResults[se]=d.google.firestore.v1.WriteResult.toObject(t.writeResults[se],_)}return t.commitTime!=null&&t.hasOwnProperty("commitTime")&&(E.commitTime=d.google.protobuf.Timestamp.toObject(t.commitTime,_)),E},Ke.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ke.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.CommitResponse"},Ke),p.RollbackRequest=(Be.prototype.database="",Be.prototype.transaction=c.newBuffer([]),Be.fromObject=function(t){var _;return t instanceof d.google.firestore.v1.RollbackRequest?t:(_=new d.google.firestore.v1.RollbackRequest,t.database!=null&&(_.database=String(t.database)),t.transaction!=null&&(typeof t.transaction=="string"?c.base64.decode(t.transaction,_.transaction=c.newBuffer(c.base64.length(t.transaction)),0):0<=t.transaction.length&&(_.transaction=t.transaction)),_)},Be.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.database="",_.bytes===String?E.transaction="":(E.transaction=[],_.bytes!==Array&&(E.transaction=c.newBuffer(E.transaction)))),t.database!=null&&t.hasOwnProperty("database")&&(E.database=t.database),t.transaction!=null&&t.hasOwnProperty("transaction")&&(E.transaction=_.bytes===String?c.base64.encode(t.transaction,0,t.transaction.length):_.bytes===Array?Array.prototype.slice.call(t.transaction):t.transaction),E},Be.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Be.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.RollbackRequest"},Be),p.RunQueryRequest=(Re.prototype.parent="",Re.prototype.structuredQuery=null,Re.prototype.transaction=null,Re.prototype.newTransaction=null,Re.prototype.readTime=null,Re.prototype.explainOptions=null,Object.defineProperty(Re.prototype,"queryType",{get:c.oneOfGetter(h=["structuredQuery"]),set:c.oneOfSetter(h)}),Object.defineProperty(Re.prototype,"consistencySelector",{get:c.oneOfGetter(h=["transaction","newTransaction","readTime"]),set:c.oneOfSetter(h)}),Re.fromObject=function(t){if(t instanceof d.google.firestore.v1.RunQueryRequest)return t;var _=new d.google.firestore.v1.RunQueryRequest;if(t.parent!=null&&(_.parent=String(t.parent)),t.structuredQuery!=null){if(typeof t.structuredQuery!="object")throw TypeError(".google.firestore.v1.RunQueryRequest.structuredQuery: object expected");_.structuredQuery=d.google.firestore.v1.StructuredQuery.fromObject(t.structuredQuery)}if(t.transaction!=null&&(typeof t.transaction=="string"?c.base64.decode(t.transaction,_.transaction=c.newBuffer(c.base64.length(t.transaction)),0):0<=t.transaction.length&&(_.transaction=t.transaction)),t.newTransaction!=null){if(typeof t.newTransaction!="object")throw TypeError(".google.firestore.v1.RunQueryRequest.newTransaction: object expected");_.newTransaction=d.google.firestore.v1.TransactionOptions.fromObject(t.newTransaction)}if(t.readTime!=null){if(typeof t.readTime!="object")throw TypeError(".google.firestore.v1.RunQueryRequest.readTime: object expected");_.readTime=d.google.protobuf.Timestamp.fromObject(t.readTime)}if(t.explainOptions!=null){if(typeof t.explainOptions!="object")throw TypeError(".google.firestore.v1.RunQueryRequest.explainOptions: object expected");_.explainOptions=d.google.firestore.v1.ExplainOptions.fromObject(t.explainOptions)}return _},Re.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.parent="",E.explainOptions=null),t.parent!=null&&t.hasOwnProperty("parent")&&(E.parent=t.parent),t.structuredQuery!=null&&t.hasOwnProperty("structuredQuery")&&(E.structuredQuery=d.google.firestore.v1.StructuredQuery.toObject(t.structuredQuery,_),_.oneofs)&&(E.queryType="structuredQuery"),t.transaction!=null&&t.hasOwnProperty("transaction")&&(E.transaction=_.bytes===String?c.base64.encode(t.transaction,0,t.transaction.length):_.bytes===Array?Array.prototype.slice.call(t.transaction):t.transaction,_.oneofs)&&(E.consistencySelector="transaction"),t.newTransaction!=null&&t.hasOwnProperty("newTransaction")&&(E.newTransaction=d.google.firestore.v1.TransactionOptions.toObject(t.newTransaction,_),_.oneofs)&&(E.consistencySelector="newTransaction"),t.readTime!=null&&t.hasOwnProperty("readTime")&&(E.readTime=d.google.protobuf.Timestamp.toObject(t.readTime,_),_.oneofs)&&(E.consistencySelector="readTime"),t.explainOptions!=null&&t.hasOwnProperty("explainOptions")&&(E.explainOptions=d.google.firestore.v1.ExplainOptions.toObject(t.explainOptions,_)),E},Re.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Re.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.RunQueryRequest"},Re),p.RunQueryResponse=($e.prototype.transaction=c.newBuffer([]),$e.prototype.document=null,$e.prototype.readTime=null,$e.prototype.skippedResults=0,$e.prototype.done=null,$e.prototype.explainMetrics=null,Object.defineProperty($e.prototype,"continuationSelector",{get:c.oneOfGetter(h=["done"]),set:c.oneOfSetter(h)}),$e.fromObject=function(t){if(t instanceof d.google.firestore.v1.RunQueryResponse)return t;var _=new d.google.firestore.v1.RunQueryResponse;if(t.transaction!=null&&(typeof t.transaction=="string"?c.base64.decode(t.transaction,_.transaction=c.newBuffer(c.base64.length(t.transaction)),0):0<=t.transaction.length&&(_.transaction=t.transaction)),t.document!=null){if(typeof t.document!="object")throw TypeError(".google.firestore.v1.RunQueryResponse.document: object expected");_.document=d.google.firestore.v1.Document.fromObject(t.document)}if(t.readTime!=null){if(typeof t.readTime!="object")throw TypeError(".google.firestore.v1.RunQueryResponse.readTime: object expected");_.readTime=d.google.protobuf.Timestamp.fromObject(t.readTime)}if(t.skippedResults!=null&&(_.skippedResults=0|t.skippedResults),t.done!=null&&(_.done=!!t.done),t.explainMetrics!=null){if(typeof t.explainMetrics!="object")throw TypeError(".google.firestore.v1.RunQueryResponse.explainMetrics: object expected");_.explainMetrics=d.google.firestore.v1.ExplainMetrics.fromObject(t.explainMetrics)}return _},$e.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.document=null,_.bytes===String?E.transaction="":(E.transaction=[],_.bytes!==Array&&(E.transaction=c.newBuffer(E.transaction))),E.readTime=null,E.skippedResults=0,E.explainMetrics=null),t.document!=null&&t.hasOwnProperty("document")&&(E.document=d.google.firestore.v1.Document.toObject(t.document,_)),t.transaction!=null&&t.hasOwnProperty("transaction")&&(E.transaction=_.bytes===String?c.base64.encode(t.transaction,0,t.transaction.length):_.bytes===Array?Array.prototype.slice.call(t.transaction):t.transaction),t.readTime!=null&&t.hasOwnProperty("readTime")&&(E.readTime=d.google.protobuf.Timestamp.toObject(t.readTime,_)),t.skippedResults!=null&&t.hasOwnProperty("skippedResults")&&(E.skippedResults=t.skippedResults),t.done!=null&&t.hasOwnProperty("done")&&(E.done=t.done,_.oneofs)&&(E.continuationSelector="done"),t.explainMetrics!=null&&t.hasOwnProperty("explainMetrics")&&(E.explainMetrics=d.google.firestore.v1.ExplainMetrics.toObject(t.explainMetrics,_)),E},$e.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},$e.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.RunQueryResponse"},$e),p.RunAggregationQueryRequest=(xe.prototype.parent="",xe.prototype.structuredAggregationQuery=null,xe.prototype.transaction=null,xe.prototype.newTransaction=null,xe.prototype.readTime=null,xe.prototype.explainOptions=null,Object.defineProperty(xe.prototype,"queryType",{get:c.oneOfGetter(h=["structuredAggregationQuery"]),set:c.oneOfSetter(h)}),Object.defineProperty(xe.prototype,"consistencySelector",{get:c.oneOfGetter(h=["transaction","newTransaction","readTime"]),set:c.oneOfSetter(h)}),xe.fromObject=function(t){if(t instanceof d.google.firestore.v1.RunAggregationQueryRequest)return t;var _=new d.google.firestore.v1.RunAggregationQueryRequest;if(t.parent!=null&&(_.parent=String(t.parent)),t.structuredAggregationQuery!=null){if(typeof t.structuredAggregationQuery!="object")throw TypeError(".google.firestore.v1.RunAggregationQueryRequest.structuredAggregationQuery: object expected");_.structuredAggregationQuery=d.google.firestore.v1.StructuredAggregationQuery.fromObject(t.structuredAggregationQuery)}if(t.transaction!=null&&(typeof t.transaction=="string"?c.base64.decode(t.transaction,_.transaction=c.newBuffer(c.base64.length(t.transaction)),0):0<=t.transaction.length&&(_.transaction=t.transaction)),t.newTransaction!=null){if(typeof t.newTransaction!="object")throw TypeError(".google.firestore.v1.RunAggregationQueryRequest.newTransaction: object expected");_.newTransaction=d.google.firestore.v1.TransactionOptions.fromObject(t.newTransaction)}if(t.readTime!=null){if(typeof t.readTime!="object")throw TypeError(".google.firestore.v1.RunAggregationQueryRequest.readTime: object expected");_.readTime=d.google.protobuf.Timestamp.fromObject(t.readTime)}if(t.explainOptions!=null){if(typeof t.explainOptions!="object")throw TypeError(".google.firestore.v1.RunAggregationQueryRequest.explainOptions: object expected");_.explainOptions=d.google.firestore.v1.ExplainOptions.fromObject(t.explainOptions)}return _},xe.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.parent="",E.explainOptions=null),t.parent!=null&&t.hasOwnProperty("parent")&&(E.parent=t.parent),t.structuredAggregationQuery!=null&&t.hasOwnProperty("structuredAggregationQuery")&&(E.structuredAggregationQuery=d.google.firestore.v1.StructuredAggregationQuery.toObject(t.structuredAggregationQuery,_),_.oneofs)&&(E.queryType="structuredAggregationQuery"),t.transaction!=null&&t.hasOwnProperty("transaction")&&(E.transaction=_.bytes===String?c.base64.encode(t.transaction,0,t.transaction.length):_.bytes===Array?Array.prototype.slice.call(t.transaction):t.transaction,_.oneofs)&&(E.consistencySelector="transaction"),t.newTransaction!=null&&t.hasOwnProperty("newTransaction")&&(E.newTransaction=d.google.firestore.v1.TransactionOptions.toObject(t.newTransaction,_),_.oneofs)&&(E.consistencySelector="newTransaction"),t.readTime!=null&&t.hasOwnProperty("readTime")&&(E.readTime=d.google.protobuf.Timestamp.toObject(t.readTime,_),_.oneofs)&&(E.consistencySelector="readTime"),t.explainOptions!=null&&t.hasOwnProperty("explainOptions")&&(E.explainOptions=d.google.firestore.v1.ExplainOptions.toObject(t.explainOptions,_)),E},xe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},xe.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.RunAggregationQueryRequest"},xe),p.RunAggregationQueryResponse=(Le.prototype.result=null,Le.prototype.transaction=c.newBuffer([]),Le.prototype.readTime=null,Le.prototype.explainMetrics=null,Le.fromObject=function(t){if(t instanceof d.google.firestore.v1.RunAggregationQueryResponse)return t;var _=new d.google.firestore.v1.RunAggregationQueryResponse;if(t.result!=null){if(typeof t.result!="object")throw TypeError(".google.firestore.v1.RunAggregationQueryResponse.result: object expected");_.result=d.google.firestore.v1.AggregationResult.fromObject(t.result)}if(t.transaction!=null&&(typeof t.transaction=="string"?c.base64.decode(t.transaction,_.transaction=c.newBuffer(c.base64.length(t.transaction)),0):0<=t.transaction.length&&(_.transaction=t.transaction)),t.readTime!=null){if(typeof t.readTime!="object")throw TypeError(".google.firestore.v1.RunAggregationQueryResponse.readTime: object expected");_.readTime=d.google.protobuf.Timestamp.fromObject(t.readTime)}if(t.explainMetrics!=null){if(typeof t.explainMetrics!="object")throw TypeError(".google.firestore.v1.RunAggregationQueryResponse.explainMetrics: object expected");_.explainMetrics=d.google.firestore.v1.ExplainMetrics.fromObject(t.explainMetrics)}return _},Le.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.result=null,_.bytes===String?E.transaction="":(E.transaction=[],_.bytes!==Array&&(E.transaction=c.newBuffer(E.transaction))),E.readTime=null,E.explainMetrics=null),t.result!=null&&t.hasOwnProperty("result")&&(E.result=d.google.firestore.v1.AggregationResult.toObject(t.result,_)),t.transaction!=null&&t.hasOwnProperty("transaction")&&(E.transaction=_.bytes===String?c.base64.encode(t.transaction,0,t.transaction.length):_.bytes===Array?Array.prototype.slice.call(t.transaction):t.transaction),t.readTime!=null&&t.hasOwnProperty("readTime")&&(E.readTime=d.google.protobuf.Timestamp.toObject(t.readTime,_)),t.explainMetrics!=null&&t.hasOwnProperty("explainMetrics")&&(E.explainMetrics=d.google.firestore.v1.ExplainMetrics.toObject(t.explainMetrics,_)),E},Le.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Le.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.RunAggregationQueryResponse"},Le),p.PartitionQueryRequest=(je.prototype.parent="",je.prototype.structuredQuery=null,je.prototype.partitionCount=c.Long?c.Long.fromBits(0,0,!1):0,je.prototype.pageToken="",je.prototype.pageSize=0,je.prototype.readTime=null,Object.defineProperty(je.prototype,"queryType",{get:c.oneOfGetter(h=["structuredQuery"]),set:c.oneOfSetter(h)}),Object.defineProperty(je.prototype,"consistencySelector",{get:c.oneOfGetter(h=["readTime"]),set:c.oneOfSetter(h)}),je.fromObject=function(t){if(t instanceof d.google.firestore.v1.PartitionQueryRequest)return t;var _=new d.google.firestore.v1.PartitionQueryRequest;if(t.parent!=null&&(_.parent=String(t.parent)),t.structuredQuery!=null){if(typeof t.structuredQuery!="object")throw TypeError(".google.firestore.v1.PartitionQueryRequest.structuredQuery: object expected");_.structuredQuery=d.google.firestore.v1.StructuredQuery.fromObject(t.structuredQuery)}if(t.partitionCount!=null&&(c.Long?(_.partitionCount=c.Long.fromValue(t.partitionCount)).unsigned=!1:typeof t.partitionCount=="string"?_.partitionCount=parseInt(t.partitionCount,10):typeof t.partitionCount=="number"?_.partitionCount=t.partitionCount:typeof t.partitionCount=="object"&&(_.partitionCount=new c.LongBits(t.partitionCount.low>>>0,t.partitionCount.high>>>0).toNumber())),t.pageToken!=null&&(_.pageToken=String(t.pageToken)),t.pageSize!=null&&(_.pageSize=0|t.pageSize),t.readTime!=null){if(typeof t.readTime!="object")throw TypeError(".google.firestore.v1.PartitionQueryRequest.readTime: object expected");_.readTime=d.google.protobuf.Timestamp.fromObject(t.readTime)}return _},je.toObject=function(t,_){var E,se={};return(_=_||{}).defaults&&(se.parent="",c.Long?(E=new c.Long(0,0,!1),se.partitionCount=_.longs===String?E.toString():_.longs===Number?E.toNumber():E):se.partitionCount=_.longs===String?"0":0,se.pageToken="",se.pageSize=0),t.parent!=null&&t.hasOwnProperty("parent")&&(se.parent=t.parent),t.structuredQuery!=null&&t.hasOwnProperty("structuredQuery")&&(se.structuredQuery=d.google.firestore.v1.StructuredQuery.toObject(t.structuredQuery,_),_.oneofs)&&(se.queryType="structuredQuery"),t.partitionCount!=null&&t.hasOwnProperty("partitionCount")&&(typeof t.partitionCount=="number"?se.partitionCount=_.longs===String?String(t.partitionCount):t.partitionCount:se.partitionCount=_.longs===String?c.Long.prototype.toString.call(t.partitionCount):_.longs===Number?new c.LongBits(t.partitionCount.low>>>0,t.partitionCount.high>>>0).toNumber():t.partitionCount),t.pageToken!=null&&t.hasOwnProperty("pageToken")&&(se.pageToken=t.pageToken),t.pageSize!=null&&t.hasOwnProperty("pageSize")&&(se.pageSize=t.pageSize),t.readTime!=null&&t.hasOwnProperty("readTime")&&(se.readTime=d.google.protobuf.Timestamp.toObject(t.readTime,_),_.oneofs)&&(se.consistencySelector="readTime"),se},je.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},je.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.PartitionQueryRequest"},je),p.PartitionQueryResponse=(Y.prototype.partitions=c.emptyArray,Y.prototype.nextPageToken="",Y.fromObject=function(t){if(t instanceof d.google.firestore.v1.PartitionQueryResponse)return t;var _=new d.google.firestore.v1.PartitionQueryResponse;if(t.partitions){if(!Array.isArray(t.partitions))throw TypeError(".google.firestore.v1.PartitionQueryResponse.partitions: array expected");_.partitions=[];for(var E=0;E<t.partitions.length;++E){if(typeof t.partitions[E]!="object")throw TypeError(".google.firestore.v1.PartitionQueryResponse.partitions: object expected");_.partitions[E]=d.google.firestore.v1.Cursor.fromObject(t.partitions[E])}}return t.nextPageToken!=null&&(_.nextPageToken=String(t.nextPageToken)),_},Y.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.partitions=[]),_.defaults&&(E.nextPageToken=""),t.partitions&&t.partitions.length){E.partitions=[];for(var se=0;se<t.partitions.length;++se)E.partitions[se]=d.google.firestore.v1.Cursor.toObject(t.partitions[se],_)}return t.nextPageToken!=null&&t.hasOwnProperty("nextPageToken")&&(E.nextPageToken=t.nextPageToken),E},Y.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Y.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.PartitionQueryResponse"},Y),p.WriteRequest=(l.prototype.database="",l.prototype.streamId="",l.prototype.writes=c.emptyArray,l.prototype.streamToken=c.newBuffer([]),l.prototype.labels=c.emptyObject,l.fromObject=function(t){if(t instanceof d.google.firestore.v1.WriteRequest)return t;var _=new d.google.firestore.v1.WriteRequest;if(t.database!=null&&(_.database=String(t.database)),t.streamId!=null&&(_.streamId=String(t.streamId)),t.writes){if(!Array.isArray(t.writes))throw TypeError(".google.firestore.v1.WriteRequest.writes: array expected");_.writes=[];for(var E=0;E<t.writes.length;++E){if(typeof t.writes[E]!="object")throw TypeError(".google.firestore.v1.WriteRequest.writes: object expected");_.writes[E]=d.google.firestore.v1.Write.fromObject(t.writes[E])}}if(t.streamToken!=null&&(typeof t.streamToken=="string"?c.base64.decode(t.streamToken,_.streamToken=c.newBuffer(c.base64.length(t.streamToken)),0):0<=t.streamToken.length&&(_.streamToken=t.streamToken)),t.labels){if(typeof t.labels!="object")throw TypeError(".google.firestore.v1.WriteRequest.labels: object expected");_.labels={};for(var se=Object.keys(t.labels),E=0;E<se.length;++E)_.labels[se[E]]=String(t.labels[se[E]])}return _},l.toObject=function(t,_){var E,se={};if(((_=_||{}).arrays||_.defaults)&&(se.writes=[]),(_.objects||_.defaults)&&(se.labels={}),_.defaults&&(se.database="",se.streamId="",_.bytes===String?se.streamToken="":(se.streamToken=[],_.bytes!==Array&&(se.streamToken=c.newBuffer(se.streamToken)))),t.database!=null&&t.hasOwnProperty("database")&&(se.database=t.database),t.streamId!=null&&t.hasOwnProperty("streamId")&&(se.streamId=t.streamId),t.writes&&t.writes.length){se.writes=[];for(var ut=0;ut<t.writes.length;++ut)se.writes[ut]=d.google.firestore.v1.Write.toObject(t.writes[ut],_)}if(t.streamToken!=null&&t.hasOwnProperty("streamToken")&&(se.streamToken=_.bytes===String?c.base64.encode(t.streamToken,0,t.streamToken.length):_.bytes===Array?Array.prototype.slice.call(t.streamToken):t.streamToken),t.labels&&(E=Object.keys(t.labels)).length)for(se.labels={},ut=0;ut<E.length;++ut)se.labels[E[ut]]=t.labels[E[ut]];return se},l.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},l.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.WriteRequest"},l),p.WriteResponse=(T.prototype.streamId="",T.prototype.streamToken=c.newBuffer([]),T.prototype.writeResults=c.emptyArray,T.prototype.commitTime=null,T.fromObject=function(t){if(t instanceof d.google.firestore.v1.WriteResponse)return t;var _=new d.google.firestore.v1.WriteResponse;if(t.streamId!=null&&(_.streamId=String(t.streamId)),t.streamToken!=null&&(typeof t.streamToken=="string"?c.base64.decode(t.streamToken,_.streamToken=c.newBuffer(c.base64.length(t.streamToken)),0):0<=t.streamToken.length&&(_.streamToken=t.streamToken)),t.writeResults){if(!Array.isArray(t.writeResults))throw TypeError(".google.firestore.v1.WriteResponse.writeResults: array expected");_.writeResults=[];for(var E=0;E<t.writeResults.length;++E){if(typeof t.writeResults[E]!="object")throw TypeError(".google.firestore.v1.WriteResponse.writeResults: object expected");_.writeResults[E]=d.google.firestore.v1.WriteResult.fromObject(t.writeResults[E])}}if(t.commitTime!=null){if(typeof t.commitTime!="object")throw TypeError(".google.firestore.v1.WriteResponse.commitTime: object expected");_.commitTime=d.google.protobuf.Timestamp.fromObject(t.commitTime)}return _},T.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.writeResults=[]),_.defaults&&(E.streamId="",_.bytes===String?E.streamToken="":(E.streamToken=[],_.bytes!==Array&&(E.streamToken=c.newBuffer(E.streamToken))),E.commitTime=null),t.streamId!=null&&t.hasOwnProperty("streamId")&&(E.streamId=t.streamId),t.streamToken!=null&&t.hasOwnProperty("streamToken")&&(E.streamToken=_.bytes===String?c.base64.encode(t.streamToken,0,t.streamToken.length):_.bytes===Array?Array.prototype.slice.call(t.streamToken):t.streamToken),t.writeResults&&t.writeResults.length){E.writeResults=[];for(var se=0;se<t.writeResults.length;++se)E.writeResults[se]=d.google.firestore.v1.WriteResult.toObject(t.writeResults[se],_)}return t.commitTime!=null&&t.hasOwnProperty("commitTime")&&(E.commitTime=d.google.protobuf.Timestamp.toObject(t.commitTime,_)),E},T.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},T.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.WriteResponse"},T),p.ListenRequest=(O.prototype.database="",O.prototype.addTarget=null,O.prototype.removeTarget=null,O.prototype.labels=c.emptyObject,Object.defineProperty(O.prototype,"targetChange",{get:c.oneOfGetter(h=["addTarget","removeTarget"]),set:c.oneOfSetter(h)}),O.fromObject=function(t){if(t instanceof d.google.firestore.v1.ListenRequest)return t;var _=new d.google.firestore.v1.ListenRequest;if(t.database!=null&&(_.database=String(t.database)),t.addTarget!=null){if(typeof t.addTarget!="object")throw TypeError(".google.firestore.v1.ListenRequest.addTarget: object expected");_.addTarget=d.google.firestore.v1.Target.fromObject(t.addTarget)}if(t.removeTarget!=null&&(_.removeTarget=0|t.removeTarget),t.labels){if(typeof t.labels!="object")throw TypeError(".google.firestore.v1.ListenRequest.labels: object expected");_.labels={};for(var E=Object.keys(t.labels),se=0;se<E.length;++se)_.labels[E[se]]=String(t.labels[E[se]])}return _},O.toObject=function(t,_){var E,se={};if(((_=_||{}).objects||_.defaults)&&(se.labels={}),_.defaults&&(se.database=""),t.database!=null&&t.hasOwnProperty("database")&&(se.database=t.database),t.addTarget!=null&&t.hasOwnProperty("addTarget")&&(se.addTarget=d.google.firestore.v1.Target.toObject(t.addTarget,_),_.oneofs)&&(se.targetChange="addTarget"),t.removeTarget!=null&&t.hasOwnProperty("removeTarget")&&(se.removeTarget=t.removeTarget,_.oneofs)&&(se.targetChange="removeTarget"),t.labels&&(E=Object.keys(t.labels)).length){se.labels={};for(var ut=0;ut<E.length;++ut)se.labels[E[ut]]=t.labels[E[ut]]}return se},O.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},O.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.ListenRequest"},O),p.ListenResponse=(H.prototype.targetChange=null,H.prototype.documentChange=null,H.prototype.documentDelete=null,H.prototype.documentRemove=null,H.prototype.filter=null,Object.defineProperty(H.prototype,"responseType",{get:c.oneOfGetter(h=["targetChange","documentChange","documentDelete","documentRemove","filter"]),set:c.oneOfSetter(h)}),H.fromObject=function(t){if(t instanceof d.google.firestore.v1.ListenResponse)return t;var _=new d.google.firestore.v1.ListenResponse;if(t.targetChange!=null){if(typeof t.targetChange!="object")throw TypeError(".google.firestore.v1.ListenResponse.targetChange: object expected");_.targetChange=d.google.firestore.v1.TargetChange.fromObject(t.targetChange)}if(t.documentChange!=null){if(typeof t.documentChange!="object")throw TypeError(".google.firestore.v1.ListenResponse.documentChange: object expected");_.documentChange=d.google.firestore.v1.DocumentChange.fromObject(t.documentChange)}if(t.documentDelete!=null){if(typeof t.documentDelete!="object")throw TypeError(".google.firestore.v1.ListenResponse.documentDelete: object expected");_.documentDelete=d.google.firestore.v1.DocumentDelete.fromObject(t.documentDelete)}if(t.documentRemove!=null){if(typeof t.documentRemove!="object")throw TypeError(".google.firestore.v1.ListenResponse.documentRemove: object expected");_.documentRemove=d.google.firestore.v1.DocumentRemove.fromObject(t.documentRemove)}if(t.filter!=null){if(typeof t.filter!="object")throw TypeError(".google.firestore.v1.ListenResponse.filter: object expected");_.filter=d.google.firestore.v1.ExistenceFilter.fromObject(t.filter)}return _},H.toObject=function(t,_){_=_||{};var E={};return t.targetChange!=null&&t.hasOwnProperty("targetChange")&&(E.targetChange=d.google.firestore.v1.TargetChange.toObject(t.targetChange,_),_.oneofs)&&(E.responseType="targetChange"),t.documentChange!=null&&t.hasOwnProperty("documentChange")&&(E.documentChange=d.google.firestore.v1.DocumentChange.toObject(t.documentChange,_),_.oneofs)&&(E.responseType="documentChange"),t.documentDelete!=null&&t.hasOwnProperty("documentDelete")&&(E.documentDelete=d.google.firestore.v1.DocumentDelete.toObject(t.documentDelete,_),_.oneofs)&&(E.responseType="documentDelete"),t.filter!=null&&t.hasOwnProperty("filter")&&(E.filter=d.google.firestore.v1.ExistenceFilter.toObject(t.filter,_),_.oneofs)&&(E.responseType="filter"),t.documentRemove!=null&&t.hasOwnProperty("documentRemove")&&(E.documentRemove=d.google.firestore.v1.DocumentRemove.toObject(t.documentRemove,_),_.oneofs)&&(E.responseType="documentRemove"),E},H.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},H.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.ListenResponse"},H),p.Target=(ae.prototype.query=null,ae.prototype.documents=null,ae.prototype.resumeToken=null,ae.prototype.readTime=null,ae.prototype.targetId=0,ae.prototype.once=!1,ae.prototype.expectedCount=null,Object.defineProperty(ae.prototype,"targetType",{get:c.oneOfGetter(h=["query","documents"]),set:c.oneOfSetter(h)}),Object.defineProperty(ae.prototype,"resumeType",{get:c.oneOfGetter(h=["resumeToken","readTime"]),set:c.oneOfSetter(h)}),ae.fromObject=function(t){if(t instanceof d.google.firestore.v1.Target)return t;var _=new d.google.firestore.v1.Target;if(t.query!=null){if(typeof t.query!="object")throw TypeError(".google.firestore.v1.Target.query: object expected");_.query=d.google.firestore.v1.Target.QueryTarget.fromObject(t.query)}if(t.documents!=null){if(typeof t.documents!="object")throw TypeError(".google.firestore.v1.Target.documents: object expected");_.documents=d.google.firestore.v1.Target.DocumentsTarget.fromObject(t.documents)}if(t.resumeToken!=null&&(typeof t.resumeToken=="string"?c.base64.decode(t.resumeToken,_.resumeToken=c.newBuffer(c.base64.length(t.resumeToken)),0):0<=t.resumeToken.length&&(_.resumeToken=t.resumeToken)),t.readTime!=null){if(typeof t.readTime!="object")throw TypeError(".google.firestore.v1.Target.readTime: object expected");_.readTime=d.google.protobuf.Timestamp.fromObject(t.readTime)}if(t.targetId!=null&&(_.targetId=0|t.targetId),t.once!=null&&(_.once=!!t.once),t.expectedCount!=null){if(typeof t.expectedCount!="object")throw TypeError(".google.firestore.v1.Target.expectedCount: object expected");_.expectedCount=d.google.protobuf.Int32Value.fromObject(t.expectedCount)}return _},ae.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.targetId=0,E.once=!1,E.expectedCount=null),t.query!=null&&t.hasOwnProperty("query")&&(E.query=d.google.firestore.v1.Target.QueryTarget.toObject(t.query,_),_.oneofs)&&(E.targetType="query"),t.documents!=null&&t.hasOwnProperty("documents")&&(E.documents=d.google.firestore.v1.Target.DocumentsTarget.toObject(t.documents,_),_.oneofs)&&(E.targetType="documents"),t.resumeToken!=null&&t.hasOwnProperty("resumeToken")&&(E.resumeToken=_.bytes===String?c.base64.encode(t.resumeToken,0,t.resumeToken.length):_.bytes===Array?Array.prototype.slice.call(t.resumeToken):t.resumeToken,_.oneofs)&&(E.resumeType="resumeToken"),t.targetId!=null&&t.hasOwnProperty("targetId")&&(E.targetId=t.targetId),t.once!=null&&t.hasOwnProperty("once")&&(E.once=t.once),t.readTime!=null&&t.hasOwnProperty("readTime")&&(E.readTime=d.google.protobuf.Timestamp.toObject(t.readTime,_),_.oneofs)&&(E.resumeType="readTime"),t.expectedCount!=null&&t.hasOwnProperty("expectedCount")&&(E.expectedCount=d.google.protobuf.Int32Value.toObject(t.expectedCount,_)),E},ae.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ae.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.Target"},ae.DocumentsTarget=(Oe.prototype.documents=c.emptyArray,Oe.fromObject=function(t){if(t instanceof d.google.firestore.v1.Target.DocumentsTarget)return t;var _=new d.google.firestore.v1.Target.DocumentsTarget;if(t.documents){if(!Array.isArray(t.documents))throw TypeError(".google.firestore.v1.Target.DocumentsTarget.documents: array expected");_.documents=[];for(var E=0;E<t.documents.length;++E)_.documents[E]=String(t.documents[E])}return _},Oe.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.documents=[]),t.documents&&t.documents.length){E.documents=[];for(var se=0;se<t.documents.length;++se)E.documents[se]=t.documents[se]}return E},Oe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Oe.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.Target.DocumentsTarget"},Oe),ae.QueryTarget=(ie.prototype.parent="",ie.prototype.structuredQuery=null,Object.defineProperty(ie.prototype,"queryType",{get:c.oneOfGetter(h=["structuredQuery"]),set:c.oneOfSetter(h)}),ie.fromObject=function(t){if(t instanceof d.google.firestore.v1.Target.QueryTarget)return t;var _=new d.google.firestore.v1.Target.QueryTarget;if(t.parent!=null&&(_.parent=String(t.parent)),t.structuredQuery!=null){if(typeof t.structuredQuery!="object")throw TypeError(".google.firestore.v1.Target.QueryTarget.structuredQuery: object expected");_.structuredQuery=d.google.firestore.v1.StructuredQuery.fromObject(t.structuredQuery)}return _},ie.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.parent=""),t.parent!=null&&t.hasOwnProperty("parent")&&(E.parent=t.parent),t.structuredQuery!=null&&t.hasOwnProperty("structuredQuery")&&(E.structuredQuery=d.google.firestore.v1.StructuredQuery.toObject(t.structuredQuery,_),_.oneofs)&&(E.queryType="structuredQuery"),E},ie.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ie.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.Target.QueryTarget"},ie),ae),p.TargetChange=(s.prototype.targetChangeType=0,s.prototype.targetIds=c.emptyArray,s.prototype.cause=null,s.prototype.resumeToken=c.newBuffer([]),s.prototype.readTime=null,s.fromObject=function(t){if(t instanceof d.google.firestore.v1.TargetChange)return t;var _=new d.google.firestore.v1.TargetChange;switch(t.targetChangeType){default:typeof t.targetChangeType=="number"&&(_.targetChangeType=t.targetChangeType);break;case"NO_CHANGE":case 0:_.targetChangeType=0;break;case"ADD":case 1:_.targetChangeType=1;break;case"REMOVE":case 2:_.targetChangeType=2;break;case"CURRENT":case 3:_.targetChangeType=3;break;case"RESET":case 4:_.targetChangeType=4}if(t.targetIds){if(!Array.isArray(t.targetIds))throw TypeError(".google.firestore.v1.TargetChange.targetIds: array expected");_.targetIds=[];for(var E=0;E<t.targetIds.length;++E)_.targetIds[E]=0|t.targetIds[E]}if(t.cause!=null){if(typeof t.cause!="object")throw TypeError(".google.firestore.v1.TargetChange.cause: object expected");_.cause=d.google.rpc.Status.fromObject(t.cause)}if(t.resumeToken!=null&&(typeof t.resumeToken=="string"?c.base64.decode(t.resumeToken,_.resumeToken=c.newBuffer(c.base64.length(t.resumeToken)),0):0<=t.resumeToken.length&&(_.resumeToken=t.resumeToken)),t.readTime!=null){if(typeof t.readTime!="object")throw TypeError(".google.firestore.v1.TargetChange.readTime: object expected");_.readTime=d.google.protobuf.Timestamp.fromObject(t.readTime)}return _},s.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.targetIds=[]),_.defaults&&(E.targetChangeType=_.enums===String?"NO_CHANGE":0,E.cause=null,_.bytes===String?E.resumeToken="":(E.resumeToken=[],_.bytes!==Array&&(E.resumeToken=c.newBuffer(E.resumeToken))),E.readTime=null),t.targetChangeType!=null&&t.hasOwnProperty("targetChangeType")&&(E.targetChangeType=_.enums!==String||d.google.firestore.v1.TargetChange.TargetChangeType[t.targetChangeType]===void 0?t.targetChangeType:d.google.firestore.v1.TargetChange.TargetChangeType[t.targetChangeType]),t.targetIds&&t.targetIds.length){E.targetIds=[];for(var se=0;se<t.targetIds.length;++se)E.targetIds[se]=t.targetIds[se]}return t.cause!=null&&t.hasOwnProperty("cause")&&(E.cause=d.google.rpc.Status.toObject(t.cause,_)),t.resumeToken!=null&&t.hasOwnProperty("resumeToken")&&(E.resumeToken=_.bytes===String?c.base64.encode(t.resumeToken,0,t.resumeToken.length):_.bytes===Array?Array.prototype.slice.call(t.resumeToken):t.resumeToken),t.readTime!=null&&t.hasOwnProperty("readTime")&&(E.readTime=d.google.protobuf.Timestamp.toObject(t.readTime,_)),E},s.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},s.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.TargetChange"},s.TargetChangeType=(h={},(r=Object.create(h))[h[0]="NO_CHANGE"]="NO_CHANGE",r[h[1]="ADD"]="ADD",r[h[2]="REMOVE"]="REMOVE",r[h[3]="CURRENT"]="CURRENT",r[h[4]="RESET"]="RESET",r),s),p.ListCollectionIdsRequest=(A.prototype.parent="",A.prototype.pageSize=0,A.prototype.pageToken="",A.prototype.readTime=null,Object.defineProperty(A.prototype,"consistencySelector",{get:c.oneOfGetter(h=["readTime"]),set:c.oneOfSetter(h)}),A.fromObject=function(t){if(t instanceof d.google.firestore.v1.ListCollectionIdsRequest)return t;var _=new d.google.firestore.v1.ListCollectionIdsRequest;if(t.parent!=null&&(_.parent=String(t.parent)),t.pageSize!=null&&(_.pageSize=0|t.pageSize),t.pageToken!=null&&(_.pageToken=String(t.pageToken)),t.readTime!=null){if(typeof t.readTime!="object")throw TypeError(".google.firestore.v1.ListCollectionIdsRequest.readTime: object expected");_.readTime=d.google.protobuf.Timestamp.fromObject(t.readTime)}return _},A.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.parent="",E.pageSize=0,E.pageToken=""),t.parent!=null&&t.hasOwnProperty("parent")&&(E.parent=t.parent),t.pageSize!=null&&t.hasOwnProperty("pageSize")&&(E.pageSize=t.pageSize),t.pageToken!=null&&t.hasOwnProperty("pageToken")&&(E.pageToken=t.pageToken),t.readTime!=null&&t.hasOwnProperty("readTime")&&(E.readTime=d.google.protobuf.Timestamp.toObject(t.readTime,_),_.oneofs)&&(E.consistencySelector="readTime"),E},A.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},A.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.ListCollectionIdsRequest"},A),p.ListCollectionIdsResponse=(I.prototype.collectionIds=c.emptyArray,I.prototype.nextPageToken="",I.fromObject=function(t){if(t instanceof d.google.firestore.v1.ListCollectionIdsResponse)return t;var _=new d.google.firestore.v1.ListCollectionIdsResponse;if(t.collectionIds){if(!Array.isArray(t.collectionIds))throw TypeError(".google.firestore.v1.ListCollectionIdsResponse.collectionIds: array expected");_.collectionIds=[];for(var E=0;E<t.collectionIds.length;++E)_.collectionIds[E]=String(t.collectionIds[E])}return t.nextPageToken!=null&&(_.nextPageToken=String(t.nextPageToken)),_},I.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.collectionIds=[]),_.defaults&&(E.nextPageToken=""),t.collectionIds&&t.collectionIds.length){E.collectionIds=[];for(var se=0;se<t.collectionIds.length;++se)E.collectionIds[se]=t.collectionIds[se]}return t.nextPageToken!=null&&t.hasOwnProperty("nextPageToken")&&(E.nextPageToken=t.nextPageToken),E},I.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},I.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.ListCollectionIdsResponse"},I),p.BatchWriteRequest=(n.prototype.database="",n.prototype.writes=c.emptyArray,n.prototype.labels=c.emptyObject,n.fromObject=function(t){if(t instanceof d.google.firestore.v1.BatchWriteRequest)return t;var _=new d.google.firestore.v1.BatchWriteRequest;if(t.database!=null&&(_.database=String(t.database)),t.writes){if(!Array.isArray(t.writes))throw TypeError(".google.firestore.v1.BatchWriteRequest.writes: array expected");_.writes=[];for(var E=0;E<t.writes.length;++E){if(typeof t.writes[E]!="object")throw TypeError(".google.firestore.v1.BatchWriteRequest.writes: object expected");_.writes[E]=d.google.firestore.v1.Write.fromObject(t.writes[E])}}if(t.labels){if(typeof t.labels!="object")throw TypeError(".google.firestore.v1.BatchWriteRequest.labels: object expected");_.labels={};for(var se=Object.keys(t.labels),E=0;E<se.length;++E)_.labels[se[E]]=String(t.labels[se[E]])}return _},n.toObject=function(t,_){var E,se={};if(((_=_||{}).arrays||_.defaults)&&(se.writes=[]),(_.objects||_.defaults)&&(se.labels={}),_.defaults&&(se.database=""),t.database!=null&&t.hasOwnProperty("database")&&(se.database=t.database),t.writes&&t.writes.length){se.writes=[];for(var ut=0;ut<t.writes.length;++ut)se.writes[ut]=d.google.firestore.v1.Write.toObject(t.writes[ut],_)}if(t.labels&&(E=Object.keys(t.labels)).length)for(se.labels={},ut=0;ut<E.length;++ut)se.labels[E[ut]]=t.labels[E[ut]];return se},n.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},n.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.BatchWriteRequest"},n),p.BatchWriteResponse=(R.prototype.writeResults=c.emptyArray,R.prototype.status=c.emptyArray,R.fromObject=function(t){if(t instanceof d.google.firestore.v1.BatchWriteResponse)return t;var _=new d.google.firestore.v1.BatchWriteResponse;if(t.writeResults){if(!Array.isArray(t.writeResults))throw TypeError(".google.firestore.v1.BatchWriteResponse.writeResults: array expected");_.writeResults=[];for(var E=0;E<t.writeResults.length;++E){if(typeof t.writeResults[E]!="object")throw TypeError(".google.firestore.v1.BatchWriteResponse.writeResults: object expected");_.writeResults[E]=d.google.firestore.v1.WriteResult.fromObject(t.writeResults[E])}}if(t.status){if(!Array.isArray(t.status))throw TypeError(".google.firestore.v1.BatchWriteResponse.status: array expected");for(_.status=[],E=0;E<t.status.length;++E){if(typeof t.status[E]!="object")throw TypeError(".google.firestore.v1.BatchWriteResponse.status: object expected");_.status[E]=d.google.rpc.Status.fromObject(t.status[E])}}return _},R.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.writeResults=[],E.status=[]),t.writeResults&&t.writeResults.length){E.writeResults=[];for(var se=0;se<t.writeResults.length;++se)E.writeResults[se]=d.google.firestore.v1.WriteResult.toObject(t.writeResults[se],_)}if(t.status&&t.status.length)for(E.status=[],se=0;se<t.status.length;++se)E.status[se]=d.google.rpc.Status.toObject(t.status[se],_);return E},R.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},R.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.BatchWriteResponse"},R),p.StructuredQuery=(V.prototype.select=null,V.prototype.from=c.emptyArray,V.prototype.where=null,V.prototype.orderBy=c.emptyArray,V.prototype.startAt=null,V.prototype.endAt=null,V.prototype.offset=0,V.prototype.limit=null,V.prototype.findNearest=null,V.fromObject=function(t){if(t instanceof d.google.firestore.v1.StructuredQuery)return t;var _=new d.google.firestore.v1.StructuredQuery;if(t.select!=null){if(typeof t.select!="object")throw TypeError(".google.firestore.v1.StructuredQuery.select: object expected");_.select=d.google.firestore.v1.StructuredQuery.Projection.fromObject(t.select)}if(t.from){if(!Array.isArray(t.from))throw TypeError(".google.firestore.v1.StructuredQuery.from: array expected");_.from=[];for(var E=0;E<t.from.length;++E){if(typeof t.from[E]!="object")throw TypeError(".google.firestore.v1.StructuredQuery.from: object expected");_.from[E]=d.google.firestore.v1.StructuredQuery.CollectionSelector.fromObject(t.from[E])}}if(t.where!=null){if(typeof t.where!="object")throw TypeError(".google.firestore.v1.StructuredQuery.where: object expected");_.where=d.google.firestore.v1.StructuredQuery.Filter.fromObject(t.where)}if(t.orderBy){if(!Array.isArray(t.orderBy))throw TypeError(".google.firestore.v1.StructuredQuery.orderBy: array expected");for(_.orderBy=[],E=0;E<t.orderBy.length;++E){if(typeof t.orderBy[E]!="object")throw TypeError(".google.firestore.v1.StructuredQuery.orderBy: object expected");_.orderBy[E]=d.google.firestore.v1.StructuredQuery.Order.fromObject(t.orderBy[E])}}if(t.startAt!=null){if(typeof t.startAt!="object")throw TypeError(".google.firestore.v1.StructuredQuery.startAt: object expected");_.startAt=d.google.firestore.v1.Cursor.fromObject(t.startAt)}if(t.endAt!=null){if(typeof t.endAt!="object")throw TypeError(".google.firestore.v1.StructuredQuery.endAt: object expected");_.endAt=d.google.firestore.v1.Cursor.fromObject(t.endAt)}if(t.offset!=null&&(_.offset=0|t.offset),t.limit!=null){if(typeof t.limit!="object")throw TypeError(".google.firestore.v1.StructuredQuery.limit: object expected");_.limit=d.google.protobuf.Int32Value.fromObject(t.limit)}if(t.findNearest!=null){if(typeof t.findNearest!="object")throw TypeError(".google.firestore.v1.StructuredQuery.findNearest: object expected");_.findNearest=d.google.firestore.v1.StructuredQuery.FindNearest.fromObject(t.findNearest)}return _},V.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.from=[],E.orderBy=[]),_.defaults&&(E.select=null,E.where=null,E.limit=null,E.offset=0,E.startAt=null,E.endAt=null,E.findNearest=null),t.select!=null&&t.hasOwnProperty("select")&&(E.select=d.google.firestore.v1.StructuredQuery.Projection.toObject(t.select,_)),t.from&&t.from.length){E.from=[];for(var se=0;se<t.from.length;++se)E.from[se]=d.google.firestore.v1.StructuredQuery.CollectionSelector.toObject(t.from[se],_)}if(t.where!=null&&t.hasOwnProperty("where")&&(E.where=d.google.firestore.v1.StructuredQuery.Filter.toObject(t.where,_)),t.orderBy&&t.orderBy.length)for(E.orderBy=[],se=0;se<t.orderBy.length;++se)E.orderBy[se]=d.google.firestore.v1.StructuredQuery.Order.toObject(t.orderBy[se],_);return t.limit!=null&&t.hasOwnProperty("limit")&&(E.limit=d.google.protobuf.Int32Value.toObject(t.limit,_)),t.offset!=null&&t.hasOwnProperty("offset")&&(E.offset=t.offset),t.startAt!=null&&t.hasOwnProperty("startAt")&&(E.startAt=d.google.firestore.v1.Cursor.toObject(t.startAt,_)),t.endAt!=null&&t.hasOwnProperty("endAt")&&(E.endAt=d.google.firestore.v1.Cursor.toObject(t.endAt,_)),t.findNearest!=null&&t.hasOwnProperty("findNearest")&&(E.findNearest=d.google.firestore.v1.StructuredQuery.FindNearest.toObject(t.findNearest,_)),E},V.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},V.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.StructuredQuery"},V.CollectionSelector=(ee.prototype.collectionId="",ee.prototype.allDescendants=!1,ee.fromObject=function(t){var _;return t instanceof d.google.firestore.v1.StructuredQuery.CollectionSelector?t:(_=new d.google.firestore.v1.StructuredQuery.CollectionSelector,t.collectionId!=null&&(_.collectionId=String(t.collectionId)),t.allDescendants!=null&&(_.allDescendants=!!t.allDescendants),_)},ee.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.collectionId="",E.allDescendants=!1),t.collectionId!=null&&t.hasOwnProperty("collectionId")&&(E.collectionId=t.collectionId),t.allDescendants!=null&&t.hasOwnProperty("allDescendants")&&(E.allDescendants=t.allDescendants),E},ee.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ee.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.StructuredQuery.CollectionSelector"},ee),V.Filter=(Me.prototype.compositeFilter=null,Me.prototype.fieldFilter=null,Me.prototype.unaryFilter=null,Object.defineProperty(Me.prototype,"filterType",{get:c.oneOfGetter(r=["compositeFilter","fieldFilter","unaryFilter"]),set:c.oneOfSetter(r)}),Me.fromObject=function(t){if(t instanceof d.google.firestore.v1.StructuredQuery.Filter)return t;var _=new d.google.firestore.v1.StructuredQuery.Filter;if(t.compositeFilter!=null){if(typeof t.compositeFilter!="object")throw TypeError(".google.firestore.v1.StructuredQuery.Filter.compositeFilter: object expected");_.compositeFilter=d.google.firestore.v1.StructuredQuery.CompositeFilter.fromObject(t.compositeFilter)}if(t.fieldFilter!=null){if(typeof t.fieldFilter!="object")throw TypeError(".google.firestore.v1.StructuredQuery.Filter.fieldFilter: object expected");_.fieldFilter=d.google.firestore.v1.StructuredQuery.FieldFilter.fromObject(t.fieldFilter)}if(t.unaryFilter!=null){if(typeof t.unaryFilter!="object")throw TypeError(".google.firestore.v1.StructuredQuery.Filter.unaryFilter: object expected");_.unaryFilter=d.google.firestore.v1.StructuredQuery.UnaryFilter.fromObject(t.unaryFilter)}return _},Me.toObject=function(t,_){_=_||{};var E={};return t.compositeFilter!=null&&t.hasOwnProperty("compositeFilter")&&(E.compositeFilter=d.google.firestore.v1.StructuredQuery.CompositeFilter.toObject(t.compositeFilter,_),_.oneofs)&&(E.filterType="compositeFilter"),t.fieldFilter!=null&&t.hasOwnProperty("fieldFilter")&&(E.fieldFilter=d.google.firestore.v1.StructuredQuery.FieldFilter.toObject(t.fieldFilter,_),_.oneofs)&&(E.filterType="fieldFilter"),t.unaryFilter!=null&&t.hasOwnProperty("unaryFilter")&&(E.unaryFilter=d.google.firestore.v1.StructuredQuery.UnaryFilter.toObject(t.unaryFilter,_),_.oneofs)&&(E.filterType="unaryFilter"),E},Me.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Me.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.StructuredQuery.Filter"},Me),V.CompositeFilter=(rt.prototype.op=0,rt.prototype.filters=c.emptyArray,rt.fromObject=function(t){if(t instanceof d.google.firestore.v1.StructuredQuery.CompositeFilter)return t;var _=new d.google.firestore.v1.StructuredQuery.CompositeFilter;switch(t.op){default:typeof t.op=="number"&&(_.op=t.op);break;case"OPERATOR_UNSPECIFIED":case 0:_.op=0;break;case"AND":case 1:_.op=1;break;case"OR":case 2:_.op=2}if(t.filters){if(!Array.isArray(t.filters))throw TypeError(".google.firestore.v1.StructuredQuery.CompositeFilter.filters: array expected");_.filters=[];for(var E=0;E<t.filters.length;++E){if(typeof t.filters[E]!="object")throw TypeError(".google.firestore.v1.StructuredQuery.CompositeFilter.filters: object expected");_.filters[E]=d.google.firestore.v1.StructuredQuery.Filter.fromObject(t.filters[E])}}return _},rt.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.filters=[]),_.defaults&&(E.op=_.enums===String?"OPERATOR_UNSPECIFIED":0),t.op!=null&&t.hasOwnProperty("op")&&(E.op=_.enums!==String||d.google.firestore.v1.StructuredQuery.CompositeFilter.Operator[t.op]===void 0?t.op:d.google.firestore.v1.StructuredQuery.CompositeFilter.Operator[t.op]),t.filters&&t.filters.length){E.filters=[];for(var se=0;se<t.filters.length;++se)E.filters[se]=d.google.firestore.v1.StructuredQuery.Filter.toObject(t.filters[se],_)}return E},rt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},rt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.StructuredQuery.CompositeFilter"},rt.Operator=(r={},(h=Object.create(r))[r[0]="OPERATOR_UNSPECIFIED"]="OPERATOR_UNSPECIFIED",h[r[1]="AND"]="AND",h[r[2]="OR"]="OR",h),rt),V.FieldFilter=(nt.prototype.field=null,nt.prototype.op=0,nt.prototype.value=null,nt.fromObject=function(t){if(t instanceof d.google.firestore.v1.StructuredQuery.FieldFilter)return t;var _=new d.google.firestore.v1.StructuredQuery.FieldFilter;if(t.field!=null){if(typeof t.field!="object")throw TypeError(".google.firestore.v1.StructuredQuery.FieldFilter.field: object expected");_.field=d.google.firestore.v1.StructuredQuery.FieldReference.fromObject(t.field)}switch(t.op){default:typeof t.op=="number"&&(_.op=t.op);break;case"OPERATOR_UNSPECIFIED":case 0:_.op=0;break;case"LESS_THAN":case 1:_.op=1;break;case"LESS_THAN_OR_EQUAL":case 2:_.op=2;break;case"GREATER_THAN":case 3:_.op=3;break;case"GREATER_THAN_OR_EQUAL":case 4:_.op=4;break;case"EQUAL":case 5:_.op=5;break;case"NOT_EQUAL":case 6:_.op=6;break;case"ARRAY_CONTAINS":case 7:_.op=7;break;case"IN":case 8:_.op=8;break;case"ARRAY_CONTAINS_ANY":case 9:_.op=9;break;case"NOT_IN":case 10:_.op=10}if(t.value!=null){if(typeof t.value!="object")throw TypeError(".google.firestore.v1.StructuredQuery.FieldFilter.value: object expected");_.value=d.google.firestore.v1.Value.fromObject(t.value)}return _},nt.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.field=null,E.op=_.enums===String?"OPERATOR_UNSPECIFIED":0,E.value=null),t.field!=null&&t.hasOwnProperty("field")&&(E.field=d.google.firestore.v1.StructuredQuery.FieldReference.toObject(t.field,_)),t.op!=null&&t.hasOwnProperty("op")&&(E.op=_.enums!==String||d.google.firestore.v1.StructuredQuery.FieldFilter.Operator[t.op]===void 0?t.op:d.google.firestore.v1.StructuredQuery.FieldFilter.Operator[t.op]),t.value!=null&&t.hasOwnProperty("value")&&(E.value=d.google.firestore.v1.Value.toObject(t.value,_)),E},nt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},nt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.StructuredQuery.FieldFilter"},nt.Operator=(r={},(h=Object.create(r))[r[0]="OPERATOR_UNSPECIFIED"]="OPERATOR_UNSPECIFIED",h[r[1]="LESS_THAN"]="LESS_THAN",h[r[2]="LESS_THAN_OR_EQUAL"]="LESS_THAN_OR_EQUAL",h[r[3]="GREATER_THAN"]="GREATER_THAN",h[r[4]="GREATER_THAN_OR_EQUAL"]="GREATER_THAN_OR_EQUAL",h[r[5]="EQUAL"]="EQUAL",h[r[6]="NOT_EQUAL"]="NOT_EQUAL",h[r[7]="ARRAY_CONTAINS"]="ARRAY_CONTAINS",h[r[8]="IN"]="IN",h[r[9]="ARRAY_CONTAINS_ANY"]="ARRAY_CONTAINS_ANY",h[r[10]="NOT_IN"]="NOT_IN",h),nt),V.UnaryFilter=(Ze.prototype.op=0,Ze.prototype.field=null,Object.defineProperty(Ze.prototype,"operandType",{get:c.oneOfGetter(r=["field"]),set:c.oneOfSetter(r)}),Ze.fromObject=function(t){if(t instanceof d.google.firestore.v1.StructuredQuery.UnaryFilter)return t;var _=new d.google.firestore.v1.StructuredQuery.UnaryFilter;switch(t.op){default:typeof t.op=="number"&&(_.op=t.op);break;case"OPERATOR_UNSPECIFIED":case 0:_.op=0;break;case"IS_NAN":case 2:_.op=2;break;case"IS_NULL":case 3:_.op=3;break;case"IS_NOT_NAN":case 4:_.op=4;break;case"IS_NOT_NULL":case 5:_.op=5}if(t.field!=null){if(typeof t.field!="object")throw TypeError(".google.firestore.v1.StructuredQuery.UnaryFilter.field: object expected");_.field=d.google.firestore.v1.StructuredQuery.FieldReference.fromObject(t.field)}return _},Ze.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.op=_.enums===String?"OPERATOR_UNSPECIFIED":0),t.op!=null&&t.hasOwnProperty("op")&&(E.op=_.enums!==String||d.google.firestore.v1.StructuredQuery.UnaryFilter.Operator[t.op]===void 0?t.op:d.google.firestore.v1.StructuredQuery.UnaryFilter.Operator[t.op]),t.field!=null&&t.hasOwnProperty("field")&&(E.field=d.google.firestore.v1.StructuredQuery.FieldReference.toObject(t.field,_),_.oneofs)&&(E.operandType="field"),E},Ze.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ze.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.StructuredQuery.UnaryFilter"},Ze.Operator=(r={},(h=Object.create(r))[r[0]="OPERATOR_UNSPECIFIED"]="OPERATOR_UNSPECIFIED",h[r[2]="IS_NAN"]="IS_NAN",h[r[3]="IS_NULL"]="IS_NULL",h[r[4]="IS_NOT_NAN"]="IS_NOT_NAN",h[r[5]="IS_NOT_NULL"]="IS_NOT_NULL",h),Ze),V.Order=(lt.prototype.field=null,lt.prototype.direction=0,lt.fromObject=function(t){if(t instanceof d.google.firestore.v1.StructuredQuery.Order)return t;var _=new d.google.firestore.v1.StructuredQuery.Order;if(t.field!=null){if(typeof t.field!="object")throw TypeError(".google.firestore.v1.StructuredQuery.Order.field: object expected");_.field=d.google.firestore.v1.StructuredQuery.FieldReference.fromObject(t.field)}switch(t.direction){default:typeof t.direction=="number"&&(_.direction=t.direction);break;case"DIRECTION_UNSPECIFIED":case 0:_.direction=0;break;case"ASCENDING":case 1:_.direction=1;break;case"DESCENDING":case 2:_.direction=2}return _},lt.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.field=null,E.direction=_.enums===String?"DIRECTION_UNSPECIFIED":0),t.field!=null&&t.hasOwnProperty("field")&&(E.field=d.google.firestore.v1.StructuredQuery.FieldReference.toObject(t.field,_)),t.direction!=null&&t.hasOwnProperty("direction")&&(E.direction=_.enums!==String||d.google.firestore.v1.StructuredQuery.Direction[t.direction]===void 0?t.direction:d.google.firestore.v1.StructuredQuery.Direction[t.direction]),E},lt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},lt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.StructuredQuery.Order"},lt),V.Direction=(r={},(h=Object.create(r))[r[0]="DIRECTION_UNSPECIFIED"]="DIRECTION_UNSPECIFIED",h[r[1]="ASCENDING"]="ASCENDING",h[r[2]="DESCENDING"]="DESCENDING",h),V.FieldReference=(ft.prototype.fieldPath="",ft.fromObject=function(t){var _;return t instanceof d.google.firestore.v1.StructuredQuery.FieldReference?t:(_=new d.google.firestore.v1.StructuredQuery.FieldReference,t.fieldPath!=null&&(_.fieldPath=String(t.fieldPath)),_)},ft.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.fieldPath=""),t.fieldPath!=null&&t.hasOwnProperty("fieldPath")&&(E.fieldPath=t.fieldPath),E},ft.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ft.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.StructuredQuery.FieldReference"},ft),V.Projection=(gt.prototype.fields=c.emptyArray,gt.fromObject=function(t){if(t instanceof d.google.firestore.v1.StructuredQuery.Projection)return t;var _=new d.google.firestore.v1.StructuredQuery.Projection;if(t.fields){if(!Array.isArray(t.fields))throw TypeError(".google.firestore.v1.StructuredQuery.Projection.fields: array expected");_.fields=[];for(var E=0;E<t.fields.length;++E){if(typeof t.fields[E]!="object")throw TypeError(".google.firestore.v1.StructuredQuery.Projection.fields: object expected");_.fields[E]=d.google.firestore.v1.StructuredQuery.FieldReference.fromObject(t.fields[E])}}return _},gt.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.fields=[]),t.fields&&t.fields.length){E.fields=[];for(var se=0;se<t.fields.length;++se)E.fields[se]=d.google.firestore.v1.StructuredQuery.FieldReference.toObject(t.fields[se],_)}return E},gt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},gt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.StructuredQuery.Projection"},gt),V.FindNearest=(Xe.prototype.vectorField=null,Xe.prototype.queryVector=null,Xe.prototype.distanceMeasure=0,Xe.prototype.limit=null,Xe.prototype.distanceResultField="",Xe.prototype.distanceThreshold=null,Xe.fromObject=function(t){if(t instanceof d.google.firestore.v1.StructuredQuery.FindNearest)return t;var _=new d.google.firestore.v1.StructuredQuery.FindNearest;if(t.vectorField!=null){if(typeof t.vectorField!="object")throw TypeError(".google.firestore.v1.StructuredQuery.FindNearest.vectorField: object expected");_.vectorField=d.google.firestore.v1.StructuredQuery.FieldReference.fromObject(t.vectorField)}if(t.queryVector!=null){if(typeof t.queryVector!="object")throw TypeError(".google.firestore.v1.StructuredQuery.FindNearest.queryVector: object expected");_.queryVector=d.google.firestore.v1.Value.fromObject(t.queryVector)}switch(t.distanceMeasure){default:typeof t.distanceMeasure=="number"&&(_.distanceMeasure=t.distanceMeasure);break;case"DISTANCE_MEASURE_UNSPECIFIED":case 0:_.distanceMeasure=0;break;case"EUCLIDEAN":case 1:_.distanceMeasure=1;break;case"COSINE":case 2:_.distanceMeasure=2;break;case"DOT_PRODUCT":case 3:_.distanceMeasure=3}if(t.limit!=null){if(typeof t.limit!="object")throw TypeError(".google.firestore.v1.StructuredQuery.FindNearest.limit: object expected");_.limit=d.google.protobuf.Int32Value.fromObject(t.limit)}if(t.distanceResultField!=null&&(_.distanceResultField=String(t.distanceResultField)),t.distanceThreshold!=null){if(typeof t.distanceThreshold!="object")throw TypeError(".google.firestore.v1.StructuredQuery.FindNearest.distanceThreshold: object expected");_.distanceThreshold=d.google.protobuf.DoubleValue.fromObject(t.distanceThreshold)}return _},Xe.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.vectorField=null,E.queryVector=null,E.distanceMeasure=_.enums===String?"DISTANCE_MEASURE_UNSPECIFIED":0,E.limit=null,E.distanceResultField="",E.distanceThreshold=null),t.vectorField!=null&&t.hasOwnProperty("vectorField")&&(E.vectorField=d.google.firestore.v1.StructuredQuery.FieldReference.toObject(t.vectorField,_)),t.queryVector!=null&&t.hasOwnProperty("queryVector")&&(E.queryVector=d.google.firestore.v1.Value.toObject(t.queryVector,_)),t.distanceMeasure!=null&&t.hasOwnProperty("distanceMeasure")&&(E.distanceMeasure=_.enums!==String||d.google.firestore.v1.StructuredQuery.FindNearest.DistanceMeasure[t.distanceMeasure]===void 0?t.distanceMeasure:d.google.firestore.v1.StructuredQuery.FindNearest.DistanceMeasure[t.distanceMeasure]),t.limit!=null&&t.hasOwnProperty("limit")&&(E.limit=d.google.protobuf.Int32Value.toObject(t.limit,_)),t.distanceResultField!=null&&t.hasOwnProperty("distanceResultField")&&(E.distanceResultField=t.distanceResultField),t.distanceThreshold!=null&&t.hasOwnProperty("distanceThreshold")&&(E.distanceThreshold=d.google.protobuf.DoubleValue.toObject(t.distanceThreshold,_)),E},Xe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Xe.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.StructuredQuery.FindNearest"},Xe.DistanceMeasure=(r={},(h=Object.create(r))[r[0]="DISTANCE_MEASURE_UNSPECIFIED"]="DISTANCE_MEASURE_UNSPECIFIED",h[r[1]="EUCLIDEAN"]="EUCLIDEAN",h[r[2]="COSINE"]="COSINE",h[r[3]="DOT_PRODUCT"]="DOT_PRODUCT",h),Xe),V),p.StructuredAggregationQuery=(We.prototype.structuredQuery=null,We.prototype.aggregations=c.emptyArray,Object.defineProperty(We.prototype,"queryType",{get:c.oneOfGetter(r=["structuredQuery"]),set:c.oneOfSetter(r)}),We.fromObject=function(t){if(t instanceof d.google.firestore.v1.StructuredAggregationQuery)return t;var _=new d.google.firestore.v1.StructuredAggregationQuery;if(t.structuredQuery!=null){if(typeof t.structuredQuery!="object")throw TypeError(".google.firestore.v1.StructuredAggregationQuery.structuredQuery: object expected");_.structuredQuery=d.google.firestore.v1.StructuredQuery.fromObject(t.structuredQuery)}if(t.aggregations){if(!Array.isArray(t.aggregations))throw TypeError(".google.firestore.v1.StructuredAggregationQuery.aggregations: array expected");_.aggregations=[];for(var E=0;E<t.aggregations.length;++E){if(typeof t.aggregations[E]!="object")throw TypeError(".google.firestore.v1.StructuredAggregationQuery.aggregations: object expected");_.aggregations[E]=d.google.firestore.v1.StructuredAggregationQuery.Aggregation.fromObject(t.aggregations[E])}}return _},We.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.aggregations=[]),t.structuredQuery!=null&&t.hasOwnProperty("structuredQuery")&&(E.structuredQuery=d.google.firestore.v1.StructuredQuery.toObject(t.structuredQuery,_),_.oneofs)&&(E.queryType="structuredQuery"),t.aggregations&&t.aggregations.length){E.aggregations=[];for(var se=0;se<t.aggregations.length;++se)E.aggregations[se]=d.google.firestore.v1.StructuredAggregationQuery.Aggregation.toObject(t.aggregations[se],_)}return E},We.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},We.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.StructuredAggregationQuery"},We.Aggregation=(et.prototype.count=null,et.prototype.sum=null,et.prototype.avg=null,et.prototype.alias="",Object.defineProperty(et.prototype,"operator",{get:c.oneOfGetter(r=["count","sum","avg"]),set:c.oneOfSetter(r)}),et.fromObject=function(t){if(t instanceof d.google.firestore.v1.StructuredAggregationQuery.Aggregation)return t;var _=new d.google.firestore.v1.StructuredAggregationQuery.Aggregation;if(t.count!=null){if(typeof t.count!="object")throw TypeError(".google.firestore.v1.StructuredAggregationQuery.Aggregation.count: object expected");_.count=d.google.firestore.v1.StructuredAggregationQuery.Aggregation.Count.fromObject(t.count)}if(t.sum!=null){if(typeof t.sum!="object")throw TypeError(".google.firestore.v1.StructuredAggregationQuery.Aggregation.sum: object expected");_.sum=d.google.firestore.v1.StructuredAggregationQuery.Aggregation.Sum.fromObject(t.sum)}if(t.avg!=null){if(typeof t.avg!="object")throw TypeError(".google.firestore.v1.StructuredAggregationQuery.Aggregation.avg: object expected");_.avg=d.google.firestore.v1.StructuredAggregationQuery.Aggregation.Avg.fromObject(t.avg)}return t.alias!=null&&(_.alias=String(t.alias)),_},et.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.alias=""),t.count!=null&&t.hasOwnProperty("count")&&(E.count=d.google.firestore.v1.StructuredAggregationQuery.Aggregation.Count.toObject(t.count,_),_.oneofs)&&(E.operator="count"),t.sum!=null&&t.hasOwnProperty("sum")&&(E.sum=d.google.firestore.v1.StructuredAggregationQuery.Aggregation.Sum.toObject(t.sum,_),_.oneofs)&&(E.operator="sum"),t.avg!=null&&t.hasOwnProperty("avg")&&(E.avg=d.google.firestore.v1.StructuredAggregationQuery.Aggregation.Avg.toObject(t.avg,_),_.oneofs)&&(E.operator="avg"),t.alias!=null&&t.hasOwnProperty("alias")&&(E.alias=t.alias),E},et.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},et.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.StructuredAggregationQuery.Aggregation"},et.Count=(at.prototype.upTo=null,at.fromObject=function(t){if(t instanceof d.google.firestore.v1.StructuredAggregationQuery.Aggregation.Count)return t;var _=new d.google.firestore.v1.StructuredAggregationQuery.Aggregation.Count;if(t.upTo!=null){if(typeof t.upTo!="object")throw TypeError(".google.firestore.v1.StructuredAggregationQuery.Aggregation.Count.upTo: object expected");_.upTo=d.google.protobuf.Int64Value.fromObject(t.upTo)}return _},at.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.upTo=null),t.upTo!=null&&t.hasOwnProperty("upTo")&&(E.upTo=d.google.protobuf.Int64Value.toObject(t.upTo,_)),E},at.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},at.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.StructuredAggregationQuery.Aggregation.Count"},at),et.Sum=(ot.prototype.field=null,ot.fromObject=function(t){if(t instanceof d.google.firestore.v1.StructuredAggregationQuery.Aggregation.Sum)return t;var _=new d.google.firestore.v1.StructuredAggregationQuery.Aggregation.Sum;if(t.field!=null){if(typeof t.field!="object")throw TypeError(".google.firestore.v1.StructuredAggregationQuery.Aggregation.Sum.field: object expected");_.field=d.google.firestore.v1.StructuredQuery.FieldReference.fromObject(t.field)}return _},ot.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.field=null),t.field!=null&&t.hasOwnProperty("field")&&(E.field=d.google.firestore.v1.StructuredQuery.FieldReference.toObject(t.field,_)),E},ot.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ot.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.StructuredAggregationQuery.Aggregation.Sum"},ot),et.Avg=(pt.prototype.field=null,pt.fromObject=function(t){if(t instanceof d.google.firestore.v1.StructuredAggregationQuery.Aggregation.Avg)return t;var _=new d.google.firestore.v1.StructuredAggregationQuery.Aggregation.Avg;if(t.field!=null){if(typeof t.field!="object")throw TypeError(".google.firestore.v1.StructuredAggregationQuery.Aggregation.Avg.field: object expected");_.field=d.google.firestore.v1.StructuredQuery.FieldReference.fromObject(t.field)}return _},pt.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.field=null),t.field!=null&&t.hasOwnProperty("field")&&(E.field=d.google.firestore.v1.StructuredQuery.FieldReference.toObject(t.field,_)),E},pt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},pt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.StructuredAggregationQuery.Aggregation.Avg"},pt),et),We),p.Cursor=(dt.prototype.values=c.emptyArray,dt.prototype.before=!1,dt.fromObject=function(t){if(t instanceof d.google.firestore.v1.Cursor)return t;var _=new d.google.firestore.v1.Cursor;if(t.values){if(!Array.isArray(t.values))throw TypeError(".google.firestore.v1.Cursor.values: array expected");_.values=[];for(var E=0;E<t.values.length;++E){if(typeof t.values[E]!="object")throw TypeError(".google.firestore.v1.Cursor.values: object expected");_.values[E]=d.google.firestore.v1.Value.fromObject(t.values[E])}}return t.before!=null&&(_.before=!!t.before),_},dt.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.values=[]),_.defaults&&(E.before=!1),t.values&&t.values.length){E.values=[];for(var se=0;se<t.values.length;++se)E.values[se]=d.google.firestore.v1.Value.toObject(t.values[se],_)}return t.before!=null&&t.hasOwnProperty("before")&&(E.before=t.before),E},dt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},dt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.Cursor"},dt),p.ExplainOptions=(jt.prototype.analyze=!1,jt.fromObject=function(t){var _;return t instanceof d.google.firestore.v1.ExplainOptions?t:(_=new d.google.firestore.v1.ExplainOptions,t.analyze!=null&&(_.analyze=!!t.analyze),_)},jt.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.analyze=!1),t.analyze!=null&&t.hasOwnProperty("analyze")&&(E.analyze=t.analyze),E},jt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},jt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.ExplainOptions"},jt),p.ExplainMetrics=(Et.prototype.planSummary=null,Et.prototype.executionStats=null,Et.fromObject=function(t){if(t instanceof d.google.firestore.v1.ExplainMetrics)return t;var _=new d.google.firestore.v1.ExplainMetrics;if(t.planSummary!=null){if(typeof t.planSummary!="object")throw TypeError(".google.firestore.v1.ExplainMetrics.planSummary: object expected");_.planSummary=d.google.firestore.v1.PlanSummary.fromObject(t.planSummary)}if(t.executionStats!=null){if(typeof t.executionStats!="object")throw TypeError(".google.firestore.v1.ExplainMetrics.executionStats: object expected");_.executionStats=d.google.firestore.v1.ExecutionStats.fromObject(t.executionStats)}return _},Et.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.planSummary=null,E.executionStats=null),t.planSummary!=null&&t.hasOwnProperty("planSummary")&&(E.planSummary=d.google.firestore.v1.PlanSummary.toObject(t.planSummary,_)),t.executionStats!=null&&t.hasOwnProperty("executionStats")&&(E.executionStats=d.google.firestore.v1.ExecutionStats.toObject(t.executionStats,_)),E},Et.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Et.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.ExplainMetrics"},Et),p.PlanSummary=(Wt.prototype.indexesUsed=c.emptyArray,Wt.fromObject=function(t){if(t instanceof d.google.firestore.v1.PlanSummary)return t;var _=new d.google.firestore.v1.PlanSummary;if(t.indexesUsed){if(!Array.isArray(t.indexesUsed))throw TypeError(".google.firestore.v1.PlanSummary.indexesUsed: array expected");_.indexesUsed=[];for(var E=0;E<t.indexesUsed.length;++E){if(typeof t.indexesUsed[E]!="object")throw TypeError(".google.firestore.v1.PlanSummary.indexesUsed: object expected");_.indexesUsed[E]=d.google.protobuf.Struct.fromObject(t.indexesUsed[E])}}return _},Wt.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.indexesUsed=[]),t.indexesUsed&&t.indexesUsed.length){E.indexesUsed=[];for(var se=0;se<t.indexesUsed.length;++se)E.indexesUsed[se]=d.google.protobuf.Struct.toObject(t.indexesUsed[se],_)}return E},Wt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Wt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.PlanSummary"},Wt),p.ExecutionStats=(Ht.prototype.resultsReturned=c.Long?c.Long.fromBits(0,0,!1):0,Ht.prototype.executionDuration=null,Ht.prototype.readOperations=c.Long?c.Long.fromBits(0,0,!1):0,Ht.prototype.debugStats=null,Ht.fromObject=function(t){if(t instanceof d.google.firestore.v1.ExecutionStats)return t;var _=new d.google.firestore.v1.ExecutionStats;if(t.resultsReturned!=null&&(c.Long?(_.resultsReturned=c.Long.fromValue(t.resultsReturned)).unsigned=!1:typeof t.resultsReturned=="string"?_.resultsReturned=parseInt(t.resultsReturned,10):typeof t.resultsReturned=="number"?_.resultsReturned=t.resultsReturned:typeof t.resultsReturned=="object"&&(_.resultsReturned=new c.LongBits(t.resultsReturned.low>>>0,t.resultsReturned.high>>>0).toNumber())),t.executionDuration!=null){if(typeof t.executionDuration!="object")throw TypeError(".google.firestore.v1.ExecutionStats.executionDuration: object expected");_.executionDuration=d.google.protobuf.Duration.fromObject(t.executionDuration)}if(t.readOperations!=null&&(c.Long?(_.readOperations=c.Long.fromValue(t.readOperations)).unsigned=!1:typeof t.readOperations=="string"?_.readOperations=parseInt(t.readOperations,10):typeof t.readOperations=="number"?_.readOperations=t.readOperations:typeof t.readOperations=="object"&&(_.readOperations=new c.LongBits(t.readOperations.low>>>0,t.readOperations.high>>>0).toNumber())),t.debugStats!=null){if(typeof t.debugStats!="object")throw TypeError(".google.firestore.v1.ExecutionStats.debugStats: object expected");_.debugStats=d.google.protobuf.Struct.fromObject(t.debugStats)}return _},Ht.toObject=function(t,_){var E,se={};return(_=_||{}).defaults&&(c.Long?(E=new c.Long(0,0,!1),se.resultsReturned=_.longs===String?E.toString():_.longs===Number?E.toNumber():E):se.resultsReturned=_.longs===String?"0":0,se.executionDuration=null,c.Long?(E=new c.Long(0,0,!1),se.readOperations=_.longs===String?E.toString():_.longs===Number?E.toNumber():E):se.readOperations=_.longs===String?"0":0,se.debugStats=null),t.resultsReturned!=null&&t.hasOwnProperty("resultsReturned")&&(typeof t.resultsReturned=="number"?se.resultsReturned=_.longs===String?String(t.resultsReturned):t.resultsReturned:se.resultsReturned=_.longs===String?c.Long.prototype.toString.call(t.resultsReturned):_.longs===Number?new c.LongBits(t.resultsReturned.low>>>0,t.resultsReturned.high>>>0).toNumber():t.resultsReturned),t.executionDuration!=null&&t.hasOwnProperty("executionDuration")&&(se.executionDuration=d.google.protobuf.Duration.toObject(t.executionDuration,_)),t.readOperations!=null&&t.hasOwnProperty("readOperations")&&(typeof t.readOperations=="number"?se.readOperations=_.longs===String?String(t.readOperations):t.readOperations:se.readOperations=_.longs===String?c.Long.prototype.toString.call(t.readOperations):_.longs===Number?new c.LongBits(t.readOperations.low>>>0,t.readOperations.high>>>0).toNumber():t.readOperations),t.debugStats!=null&&t.hasOwnProperty("debugStats")&&(se.debugStats=d.google.protobuf.Struct.toObject(t.debugStats,_)),se},Ht.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ht.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.ExecutionStats"},Ht),p.Write=(qt.prototype.update=null,qt.prototype.delete=null,qt.prototype.transform=null,qt.prototype.updateMask=null,qt.prototype.updateTransforms=c.emptyArray,qt.prototype.currentDocument=null,Object.defineProperty(qt.prototype,"operation",{get:c.oneOfGetter(h=["update","delete","transform"]),set:c.oneOfSetter(h)}),qt.fromObject=function(t){if(t instanceof d.google.firestore.v1.Write)return t;var _=new d.google.firestore.v1.Write;if(t.update!=null){if(typeof t.update!="object")throw TypeError(".google.firestore.v1.Write.update: object expected");_.update=d.google.firestore.v1.Document.fromObject(t.update)}if(t.delete!=null&&(_.delete=String(t.delete)),t.transform!=null){if(typeof t.transform!="object")throw TypeError(".google.firestore.v1.Write.transform: object expected");_.transform=d.google.firestore.v1.DocumentTransform.fromObject(t.transform)}if(t.updateMask!=null){if(typeof t.updateMask!="object")throw TypeError(".google.firestore.v1.Write.updateMask: object expected");_.updateMask=d.google.firestore.v1.DocumentMask.fromObject(t.updateMask)}if(t.updateTransforms){if(!Array.isArray(t.updateTransforms))throw TypeError(".google.firestore.v1.Write.updateTransforms: array expected");_.updateTransforms=[];for(var E=0;E<t.updateTransforms.length;++E){if(typeof t.updateTransforms[E]!="object")throw TypeError(".google.firestore.v1.Write.updateTransforms: object expected");_.updateTransforms[E]=d.google.firestore.v1.DocumentTransform.FieldTransform.fromObject(t.updateTransforms[E])}}if(t.currentDocument!=null){if(typeof t.currentDocument!="object")throw TypeError(".google.firestore.v1.Write.currentDocument: object expected");_.currentDocument=d.google.firestore.v1.Precondition.fromObject(t.currentDocument)}return _},qt.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.updateTransforms=[]),_.defaults&&(E.updateMask=null,E.currentDocument=null),t.update!=null&&t.hasOwnProperty("update")&&(E.update=d.google.firestore.v1.Document.toObject(t.update,_),_.oneofs)&&(E.operation="update"),t.delete!=null&&t.hasOwnProperty("delete")&&(E.delete=t.delete,_.oneofs)&&(E.operation="delete"),t.updateMask!=null&&t.hasOwnProperty("updateMask")&&(E.updateMask=d.google.firestore.v1.DocumentMask.toObject(t.updateMask,_)),t.currentDocument!=null&&t.hasOwnProperty("currentDocument")&&(E.currentDocument=d.google.firestore.v1.Precondition.toObject(t.currentDocument,_)),t.transform!=null&&t.hasOwnProperty("transform")&&(E.transform=d.google.firestore.v1.DocumentTransform.toObject(t.transform,_),_.oneofs)&&(E.operation="transform"),t.updateTransforms&&t.updateTransforms.length){E.updateTransforms=[];for(var se=0;se<t.updateTransforms.length;++se)E.updateTransforms[se]=d.google.firestore.v1.DocumentTransform.FieldTransform.toObject(t.updateTransforms[se],_)}return E},qt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},qt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.Write"},qt),p.DocumentTransform=(rr.prototype.document="",rr.prototype.fieldTransforms=c.emptyArray,rr.fromObject=function(t){if(t instanceof d.google.firestore.v1.DocumentTransform)return t;var _=new d.google.firestore.v1.DocumentTransform;if(t.document!=null&&(_.document=String(t.document)),t.fieldTransforms){if(!Array.isArray(t.fieldTransforms))throw TypeError(".google.firestore.v1.DocumentTransform.fieldTransforms: array expected");_.fieldTransforms=[];for(var E=0;E<t.fieldTransforms.length;++E){if(typeof t.fieldTransforms[E]!="object")throw TypeError(".google.firestore.v1.DocumentTransform.fieldTransforms: object expected");_.fieldTransforms[E]=d.google.firestore.v1.DocumentTransform.FieldTransform.fromObject(t.fieldTransforms[E])}}return _},rr.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.fieldTransforms=[]),_.defaults&&(E.document=""),t.document!=null&&t.hasOwnProperty("document")&&(E.document=t.document),t.fieldTransforms&&t.fieldTransforms.length){E.fieldTransforms=[];for(var se=0;se<t.fieldTransforms.length;++se)E.fieldTransforms[se]=d.google.firestore.v1.DocumentTransform.FieldTransform.toObject(t.fieldTransforms[se],_)}return E},rr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},rr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.DocumentTransform"},rr.FieldTransform=($t.prototype.fieldPath="",$t.prototype.setToServerValue=null,$t.prototype.increment=null,$t.prototype.maximum=null,$t.prototype.minimum=null,$t.prototype.appendMissingElements=null,$t.prototype.removeAllFromArray=null,Object.defineProperty($t.prototype,"transformType",{get:c.oneOfGetter(r=["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]),set:c.oneOfSetter(r)}),$t.fromObject=function(t){if(t instanceof d.google.firestore.v1.DocumentTransform.FieldTransform)return t;var _=new d.google.firestore.v1.DocumentTransform.FieldTransform;switch(t.fieldPath!=null&&(_.fieldPath=String(t.fieldPath)),t.setToServerValue){default:typeof t.setToServerValue=="number"&&(_.setToServerValue=t.setToServerValue);break;case"SERVER_VALUE_UNSPECIFIED":case 0:_.setToServerValue=0;break;case"REQUEST_TIME":case 1:_.setToServerValue=1}if(t.increment!=null){if(typeof t.increment!="object")throw TypeError(".google.firestore.v1.DocumentTransform.FieldTransform.increment: object expected");_.increment=d.google.firestore.v1.Value.fromObject(t.increment)}if(t.maximum!=null){if(typeof t.maximum!="object")throw TypeError(".google.firestore.v1.DocumentTransform.FieldTransform.maximum: object expected");_.maximum=d.google.firestore.v1.Value.fromObject(t.maximum)}if(t.minimum!=null){if(typeof t.minimum!="object")throw TypeError(".google.firestore.v1.DocumentTransform.FieldTransform.minimum: object expected");_.minimum=d.google.firestore.v1.Value.fromObject(t.minimum)}if(t.appendMissingElements!=null){if(typeof t.appendMissingElements!="object")throw TypeError(".google.firestore.v1.DocumentTransform.FieldTransform.appendMissingElements: object expected");_.appendMissingElements=d.google.firestore.v1.ArrayValue.fromObject(t.appendMissingElements)}if(t.removeAllFromArray!=null){if(typeof t.removeAllFromArray!="object")throw TypeError(".google.firestore.v1.DocumentTransform.FieldTransform.removeAllFromArray: object expected");_.removeAllFromArray=d.google.firestore.v1.ArrayValue.fromObject(t.removeAllFromArray)}return _},$t.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.fieldPath=""),t.fieldPath!=null&&t.hasOwnProperty("fieldPath")&&(E.fieldPath=t.fieldPath),t.setToServerValue!=null&&t.hasOwnProperty("setToServerValue")&&(E.setToServerValue=_.enums!==String||d.google.firestore.v1.DocumentTransform.FieldTransform.ServerValue[t.setToServerValue]===void 0?t.setToServerValue:d.google.firestore.v1.DocumentTransform.FieldTransform.ServerValue[t.setToServerValue],_.oneofs)&&(E.transformType="setToServerValue"),t.increment!=null&&t.hasOwnProperty("increment")&&(E.increment=d.google.firestore.v1.Value.toObject(t.increment,_),_.oneofs)&&(E.transformType="increment"),t.maximum!=null&&t.hasOwnProperty("maximum")&&(E.maximum=d.google.firestore.v1.Value.toObject(t.maximum,_),_.oneofs)&&(E.transformType="maximum"),t.minimum!=null&&t.hasOwnProperty("minimum")&&(E.minimum=d.google.firestore.v1.Value.toObject(t.minimum,_),_.oneofs)&&(E.transformType="minimum"),t.appendMissingElements!=null&&t.hasOwnProperty("appendMissingElements")&&(E.appendMissingElements=d.google.firestore.v1.ArrayValue.toObject(t.appendMissingElements,_),_.oneofs)&&(E.transformType="appendMissingElements"),t.removeAllFromArray!=null&&t.hasOwnProperty("removeAllFromArray")&&(E.removeAllFromArray=d.google.firestore.v1.ArrayValue.toObject(t.removeAllFromArray,_),_.oneofs)&&(E.transformType="removeAllFromArray"),E},$t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},$t.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.DocumentTransform.FieldTransform"},$t.ServerValue=(r={},(h=Object.create(r))[r[0]="SERVER_VALUE_UNSPECIFIED"]="SERVER_VALUE_UNSPECIFIED",h[r[1]="REQUEST_TIME"]="REQUEST_TIME",h),$t),rr),p.WriteResult=(Lt.prototype.updateTime=null,Lt.prototype.transformResults=c.emptyArray,Lt.fromObject=function(t){if(t instanceof d.google.firestore.v1.WriteResult)return t;var _=new d.google.firestore.v1.WriteResult;if(t.updateTime!=null){if(typeof t.updateTime!="object")throw TypeError(".google.firestore.v1.WriteResult.updateTime: object expected");_.updateTime=d.google.protobuf.Timestamp.fromObject(t.updateTime)}if(t.transformResults){if(!Array.isArray(t.transformResults))throw TypeError(".google.firestore.v1.WriteResult.transformResults: array expected");_.transformResults=[];for(var E=0;E<t.transformResults.length;++E){if(typeof t.transformResults[E]!="object")throw TypeError(".google.firestore.v1.WriteResult.transformResults: object expected");_.transformResults[E]=d.google.firestore.v1.Value.fromObject(t.transformResults[E])}}return _},Lt.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.transformResults=[]),_.defaults&&(E.updateTime=null),t.updateTime!=null&&t.hasOwnProperty("updateTime")&&(E.updateTime=d.google.protobuf.Timestamp.toObject(t.updateTime,_)),t.transformResults&&t.transformResults.length){E.transformResults=[];for(var se=0;se<t.transformResults.length;++se)E.transformResults[se]=d.google.firestore.v1.Value.toObject(t.transformResults[se],_)}return E},Lt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Lt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.WriteResult"},Lt),p.DocumentChange=(wt.prototype.document=null,wt.prototype.targetIds=c.emptyArray,wt.prototype.removedTargetIds=c.emptyArray,wt.fromObject=function(t){if(t instanceof d.google.firestore.v1.DocumentChange)return t;var _=new d.google.firestore.v1.DocumentChange;if(t.document!=null){if(typeof t.document!="object")throw TypeError(".google.firestore.v1.DocumentChange.document: object expected");_.document=d.google.firestore.v1.Document.fromObject(t.document)}if(t.targetIds){if(!Array.isArray(t.targetIds))throw TypeError(".google.firestore.v1.DocumentChange.targetIds: array expected");_.targetIds=[];for(var E=0;E<t.targetIds.length;++E)_.targetIds[E]=0|t.targetIds[E]}if(t.removedTargetIds){if(!Array.isArray(t.removedTargetIds))throw TypeError(".google.firestore.v1.DocumentChange.removedTargetIds: array expected");for(_.removedTargetIds=[],E=0;E<t.removedTargetIds.length;++E)_.removedTargetIds[E]=0|t.removedTargetIds[E]}return _},wt.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.targetIds=[],E.removedTargetIds=[]),_.defaults&&(E.document=null),t.document!=null&&t.hasOwnProperty("document")&&(E.document=d.google.firestore.v1.Document.toObject(t.document,_)),t.targetIds&&t.targetIds.length){E.targetIds=[];for(var se=0;se<t.targetIds.length;++se)E.targetIds[se]=t.targetIds[se]}if(t.removedTargetIds&&t.removedTargetIds.length)for(E.removedTargetIds=[],se=0;se<t.removedTargetIds.length;++se)E.removedTargetIds[se]=t.removedTargetIds[se];return E},wt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},wt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.DocumentChange"},wt),p.DocumentDelete=(kt.prototype.document="",kt.prototype.removedTargetIds=c.emptyArray,kt.prototype.readTime=null,kt.fromObject=function(t){if(t instanceof d.google.firestore.v1.DocumentDelete)return t;var _=new d.google.firestore.v1.DocumentDelete;if(t.document!=null&&(_.document=String(t.document)),t.removedTargetIds){if(!Array.isArray(t.removedTargetIds))throw TypeError(".google.firestore.v1.DocumentDelete.removedTargetIds: array expected");_.removedTargetIds=[];for(var E=0;E<t.removedTargetIds.length;++E)_.removedTargetIds[E]=0|t.removedTargetIds[E]}if(t.readTime!=null){if(typeof t.readTime!="object")throw TypeError(".google.firestore.v1.DocumentDelete.readTime: object expected");_.readTime=d.google.protobuf.Timestamp.fromObject(t.readTime)}return _},kt.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.removedTargetIds=[]),_.defaults&&(E.document="",E.readTime=null),t.document!=null&&t.hasOwnProperty("document")&&(E.document=t.document),t.readTime!=null&&t.hasOwnProperty("readTime")&&(E.readTime=d.google.protobuf.Timestamp.toObject(t.readTime,_)),t.removedTargetIds&&t.removedTargetIds.length){E.removedTargetIds=[];for(var se=0;se<t.removedTargetIds.length;++se)E.removedTargetIds[se]=t.removedTargetIds[se]}return E},kt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},kt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.DocumentDelete"},kt),p.DocumentRemove=(Tt.prototype.document="",Tt.prototype.removedTargetIds=c.emptyArray,Tt.prototype.readTime=null,Tt.fromObject=function(t){if(t instanceof d.google.firestore.v1.DocumentRemove)return t;var _=new d.google.firestore.v1.DocumentRemove;if(t.document!=null&&(_.document=String(t.document)),t.removedTargetIds){if(!Array.isArray(t.removedTargetIds))throw TypeError(".google.firestore.v1.DocumentRemove.removedTargetIds: array expected");_.removedTargetIds=[];for(var E=0;E<t.removedTargetIds.length;++E)_.removedTargetIds[E]=0|t.removedTargetIds[E]}if(t.readTime!=null){if(typeof t.readTime!="object")throw TypeError(".google.firestore.v1.DocumentRemove.readTime: object expected");_.readTime=d.google.protobuf.Timestamp.fromObject(t.readTime)}return _},Tt.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.removedTargetIds=[]),_.defaults&&(E.document="",E.readTime=null),t.document!=null&&t.hasOwnProperty("document")&&(E.document=t.document),t.removedTargetIds&&t.removedTargetIds.length){E.removedTargetIds=[];for(var se=0;se<t.removedTargetIds.length;++se)E.removedTargetIds[se]=t.removedTargetIds[se]}return t.readTime!=null&&t.hasOwnProperty("readTime")&&(E.readTime=d.google.protobuf.Timestamp.toObject(t.readTime,_)),E},Tt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Tt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.DocumentRemove"},Tt),p.ExistenceFilter=(Ft.prototype.targetId=0,Ft.prototype.count=0,Ft.prototype.unchangedNames=null,Ft.fromObject=function(t){if(t instanceof d.google.firestore.v1.ExistenceFilter)return t;var _=new d.google.firestore.v1.ExistenceFilter;if(t.targetId!=null&&(_.targetId=0|t.targetId),t.count!=null&&(_.count=0|t.count),t.unchangedNames!=null){if(typeof t.unchangedNames!="object")throw TypeError(".google.firestore.v1.ExistenceFilter.unchangedNames: object expected");_.unchangedNames=d.google.firestore.v1.BloomFilter.fromObject(t.unchangedNames)}return _},Ft.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.targetId=0,E.count=0,E.unchangedNames=null),t.targetId!=null&&t.hasOwnProperty("targetId")&&(E.targetId=t.targetId),t.count!=null&&t.hasOwnProperty("count")&&(E.count=t.count),t.unchangedNames!=null&&t.hasOwnProperty("unchangedNames")&&(E.unchangedNames=d.google.firestore.v1.BloomFilter.toObject(t.unchangedNames,_)),E},Ft.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ft.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.firestore.v1.ExistenceFilter"},Ft),p),u),y.api=((r={}).FieldBehavior=(h={},(p=Object.create(h))[h[0]="FIELD_BEHAVIOR_UNSPECIFIED"]="FIELD_BEHAVIOR_UNSPECIFIED",p[h[1]="OPTIONAL"]="OPTIONAL",p[h[2]="REQUIRED"]="REQUIRED",p[h[3]="OUTPUT_ONLY"]="OUTPUT_ONLY",p[h[4]="INPUT_ONLY"]="INPUT_ONLY",p[h[5]="IMMUTABLE"]="IMMUTABLE",p[h[6]="UNORDERED_LIST"]="UNORDERED_LIST",p[h[7]="NON_EMPTY_DEFAULT"]="NON_EMPTY_DEFAULT",p[h[8]="IDENTIFIER"]="IDENTIFIER",p),r.Http=(ht.prototype.rules=c.emptyArray,ht.prototype.fullyDecodeReservedExpansion=!1,ht.fromObject=function(t){if(t instanceof d.google.api.Http)return t;var _=new d.google.api.Http;if(t.rules){if(!Array.isArray(t.rules))throw TypeError(".google.api.Http.rules: array expected");_.rules=[];for(var E=0;E<t.rules.length;++E){if(typeof t.rules[E]!="object")throw TypeError(".google.api.Http.rules: object expected");_.rules[E]=d.google.api.HttpRule.fromObject(t.rules[E])}}return t.fullyDecodeReservedExpansion!=null&&(_.fullyDecodeReservedExpansion=!!t.fullyDecodeReservedExpansion),_},ht.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.rules=[]),_.defaults&&(E.fullyDecodeReservedExpansion=!1),t.rules&&t.rules.length){E.rules=[];for(var se=0;se<t.rules.length;++se)E.rules[se]=d.google.api.HttpRule.toObject(t.rules[se],_)}return t.fullyDecodeReservedExpansion!=null&&t.hasOwnProperty("fullyDecodeReservedExpansion")&&(E.fullyDecodeReservedExpansion=t.fullyDecodeReservedExpansion),E},ht.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ht.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.api.Http"},ht),r.HttpRule=(mt.prototype.selector="",mt.prototype.get=null,mt.prototype.put=null,mt.prototype.post=null,mt.prototype.delete=null,mt.prototype.patch=null,mt.prototype.custom=null,mt.prototype.body="",mt.prototype.responseBody="",mt.prototype.additionalBindings=c.emptyArray,Object.defineProperty(mt.prototype,"pattern",{get:c.oneOfGetter(h=["get","put","post","delete","patch","custom"]),set:c.oneOfSetter(h)}),mt.fromObject=function(t){if(t instanceof d.google.api.HttpRule)return t;var _=new d.google.api.HttpRule;if(t.selector!=null&&(_.selector=String(t.selector)),t.get!=null&&(_.get=String(t.get)),t.put!=null&&(_.put=String(t.put)),t.post!=null&&(_.post=String(t.post)),t.delete!=null&&(_.delete=String(t.delete)),t.patch!=null&&(_.patch=String(t.patch)),t.custom!=null){if(typeof t.custom!="object")throw TypeError(".google.api.HttpRule.custom: object expected");_.custom=d.google.api.CustomHttpPattern.fromObject(t.custom)}if(t.body!=null&&(_.body=String(t.body)),t.responseBody!=null&&(_.responseBody=String(t.responseBody)),t.additionalBindings){if(!Array.isArray(t.additionalBindings))throw TypeError(".google.api.HttpRule.additionalBindings: array expected");_.additionalBindings=[];for(var E=0;E<t.additionalBindings.length;++E){if(typeof t.additionalBindings[E]!="object")throw TypeError(".google.api.HttpRule.additionalBindings: object expected");_.additionalBindings[E]=d.google.api.HttpRule.fromObject(t.additionalBindings[E])}}return _},mt.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.additionalBindings=[]),_.defaults&&(E.selector="",E.body="",E.responseBody=""),t.selector!=null&&t.hasOwnProperty("selector")&&(E.selector=t.selector),t.get!=null&&t.hasOwnProperty("get")&&(E.get=t.get,_.oneofs)&&(E.pattern="get"),t.put!=null&&t.hasOwnProperty("put")&&(E.put=t.put,_.oneofs)&&(E.pattern="put"),t.post!=null&&t.hasOwnProperty("post")&&(E.post=t.post,_.oneofs)&&(E.pattern="post"),t.delete!=null&&t.hasOwnProperty("delete")&&(E.delete=t.delete,_.oneofs)&&(E.pattern="delete"),t.patch!=null&&t.hasOwnProperty("patch")&&(E.patch=t.patch,_.oneofs)&&(E.pattern="patch"),t.body!=null&&t.hasOwnProperty("body")&&(E.body=t.body),t.custom!=null&&t.hasOwnProperty("custom")&&(E.custom=d.google.api.CustomHttpPattern.toObject(t.custom,_),_.oneofs)&&(E.pattern="custom"),t.additionalBindings&&t.additionalBindings.length){E.additionalBindings=[];for(var se=0;se<t.additionalBindings.length;++se)E.additionalBindings[se]=d.google.api.HttpRule.toObject(t.additionalBindings[se],_)}return t.responseBody!=null&&t.hasOwnProperty("responseBody")&&(E.responseBody=t.responseBody),E},mt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},mt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.api.HttpRule"},mt),r.CustomHttpPattern=(Pt.prototype.kind="",Pt.prototype.path="",Pt.fromObject=function(t){var _;return t instanceof d.google.api.CustomHttpPattern?t:(_=new d.google.api.CustomHttpPattern,t.kind!=null&&(_.kind=String(t.kind)),t.path!=null&&(_.path=String(t.path)),_)},Pt.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.kind="",E.path=""),t.kind!=null&&t.hasOwnProperty("kind")&&(E.kind=t.kind),t.path!=null&&t.hasOwnProperty("path")&&(E.path=t.path),E},Pt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Pt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.api.CustomHttpPattern"},Pt),r.CommonLanguageSettings=(Rt.prototype.referenceDocsUri="",Rt.prototype.destinations=c.emptyArray,Rt.fromObject=function(t){if(t instanceof d.google.api.CommonLanguageSettings)return t;var _=new d.google.api.CommonLanguageSettings;if(t.referenceDocsUri!=null&&(_.referenceDocsUri=String(t.referenceDocsUri)),t.destinations){if(!Array.isArray(t.destinations))throw TypeError(".google.api.CommonLanguageSettings.destinations: array expected");_.destinations=[];for(var E=0;E<t.destinations.length;++E)switch(t.destinations[E]){default:if(typeof t.destinations[E]=="number"){_.destinations[E]=t.destinations[E];break}case"CLIENT_LIBRARY_DESTINATION_UNSPECIFIED":case 0:_.destinations[E]=0;break;case"GITHUB":case 10:_.destinations[E]=10;break;case"PACKAGE_MANAGER":case 20:_.destinations[E]=20}}return _},Rt.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.destinations=[]),_.defaults&&(E.referenceDocsUri=""),t.referenceDocsUri!=null&&t.hasOwnProperty("referenceDocsUri")&&(E.referenceDocsUri=t.referenceDocsUri),t.destinations&&t.destinations.length){E.destinations=[];for(var se=0;se<t.destinations.length;++se)E.destinations[se]=_.enums!==String||d.google.api.ClientLibraryDestination[t.destinations[se]]===void 0?t.destinations[se]:d.google.api.ClientLibraryDestination[t.destinations[se]]}return E},Rt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Rt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.api.CommonLanguageSettings"},Rt),r.ClientLibrarySettings=(_t.prototype.version="",_t.prototype.launchStage=0,_t.prototype.restNumericEnums=!1,_t.prototype.javaSettings=null,_t.prototype.cppSettings=null,_t.prototype.phpSettings=null,_t.prototype.pythonSettings=null,_t.prototype.nodeSettings=null,_t.prototype.dotnetSettings=null,_t.prototype.rubySettings=null,_t.prototype.goSettings=null,_t.fromObject=function(t){if(t instanceof d.google.api.ClientLibrarySettings)return t;var _=new d.google.api.ClientLibrarySettings;switch(t.version!=null&&(_.version=String(t.version)),t.launchStage){default:typeof t.launchStage=="number"&&(_.launchStage=t.launchStage);break;case"LAUNCH_STAGE_UNSPECIFIED":case 0:_.launchStage=0;break;case"UNIMPLEMENTED":case 6:_.launchStage=6;break;case"PRELAUNCH":case 7:_.launchStage=7;break;case"EARLY_ACCESS":case 1:_.launchStage=1;break;case"ALPHA":case 2:_.launchStage=2;break;case"BETA":case 3:_.launchStage=3;break;case"GA":case 4:_.launchStage=4;break;case"DEPRECATED":case 5:_.launchStage=5}if(t.restNumericEnums!=null&&(_.restNumericEnums=!!t.restNumericEnums),t.javaSettings!=null){if(typeof t.javaSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.javaSettings: object expected");_.javaSettings=d.google.api.JavaSettings.fromObject(t.javaSettings)}if(t.cppSettings!=null){if(typeof t.cppSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.cppSettings: object expected");_.cppSettings=d.google.api.CppSettings.fromObject(t.cppSettings)}if(t.phpSettings!=null){if(typeof t.phpSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.phpSettings: object expected");_.phpSettings=d.google.api.PhpSettings.fromObject(t.phpSettings)}if(t.pythonSettings!=null){if(typeof t.pythonSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.pythonSettings: object expected");_.pythonSettings=d.google.api.PythonSettings.fromObject(t.pythonSettings)}if(t.nodeSettings!=null){if(typeof t.nodeSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.nodeSettings: object expected");_.nodeSettings=d.google.api.NodeSettings.fromObject(t.nodeSettings)}if(t.dotnetSettings!=null){if(typeof t.dotnetSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.dotnetSettings: object expected");_.dotnetSettings=d.google.api.DotnetSettings.fromObject(t.dotnetSettings)}if(t.rubySettings!=null){if(typeof t.rubySettings!="object")throw TypeError(".google.api.ClientLibrarySettings.rubySettings: object expected");_.rubySettings=d.google.api.RubySettings.fromObject(t.rubySettings)}if(t.goSettings!=null){if(typeof t.goSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.goSettings: object expected");_.goSettings=d.google.api.GoSettings.fromObject(t.goSettings)}return _},_t.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.version="",E.launchStage=_.enums===String?"LAUNCH_STAGE_UNSPECIFIED":0,E.restNumericEnums=!1,E.javaSettings=null,E.cppSettings=null,E.phpSettings=null,E.pythonSettings=null,E.nodeSettings=null,E.dotnetSettings=null,E.rubySettings=null,E.goSettings=null),t.version!=null&&t.hasOwnProperty("version")&&(E.version=t.version),t.launchStage!=null&&t.hasOwnProperty("launchStage")&&(E.launchStage=_.enums!==String||d.google.api.LaunchStage[t.launchStage]===void 0?t.launchStage:d.google.api.LaunchStage[t.launchStage]),t.restNumericEnums!=null&&t.hasOwnProperty("restNumericEnums")&&(E.restNumericEnums=t.restNumericEnums),t.javaSettings!=null&&t.hasOwnProperty("javaSettings")&&(E.javaSettings=d.google.api.JavaSettings.toObject(t.javaSettings,_)),t.cppSettings!=null&&t.hasOwnProperty("cppSettings")&&(E.cppSettings=d.google.api.CppSettings.toObject(t.cppSettings,_)),t.phpSettings!=null&&t.hasOwnProperty("phpSettings")&&(E.phpSettings=d.google.api.PhpSettings.toObject(t.phpSettings,_)),t.pythonSettings!=null&&t.hasOwnProperty("pythonSettings")&&(E.pythonSettings=d.google.api.PythonSettings.toObject(t.pythonSettings,_)),t.nodeSettings!=null&&t.hasOwnProperty("nodeSettings")&&(E.nodeSettings=d.google.api.NodeSettings.toObject(t.nodeSettings,_)),t.dotnetSettings!=null&&t.hasOwnProperty("dotnetSettings")&&(E.dotnetSettings=d.google.api.DotnetSettings.toObject(t.dotnetSettings,_)),t.rubySettings!=null&&t.hasOwnProperty("rubySettings")&&(E.rubySettings=d.google.api.RubySettings.toObject(t.rubySettings,_)),t.goSettings!=null&&t.hasOwnProperty("goSettings")&&(E.goSettings=d.google.api.GoSettings.toObject(t.goSettings,_)),E},_t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},_t.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.api.ClientLibrarySettings"},_t),r.Publishing=(bt.prototype.methodSettings=c.emptyArray,bt.prototype.newIssueUri="",bt.prototype.documentationUri="",bt.prototype.apiShortName="",bt.prototype.githubLabel="",bt.prototype.codeownerGithubTeams=c.emptyArray,bt.prototype.docTagPrefix="",bt.prototype.organization=0,bt.prototype.librarySettings=c.emptyArray,bt.prototype.protoReferenceDocumentationUri="",bt.prototype.restReferenceDocumentationUri="",bt.fromObject=function(t){if(t instanceof d.google.api.Publishing)return t;var _=new d.google.api.Publishing;if(t.methodSettings){if(!Array.isArray(t.methodSettings))throw TypeError(".google.api.Publishing.methodSettings: array expected");_.methodSettings=[];for(var E=0;E<t.methodSettings.length;++E){if(typeof t.methodSettings[E]!="object")throw TypeError(".google.api.Publishing.methodSettings: object expected");_.methodSettings[E]=d.google.api.MethodSettings.fromObject(t.methodSettings[E])}}if(t.newIssueUri!=null&&(_.newIssueUri=String(t.newIssueUri)),t.documentationUri!=null&&(_.documentationUri=String(t.documentationUri)),t.apiShortName!=null&&(_.apiShortName=String(t.apiShortName)),t.githubLabel!=null&&(_.githubLabel=String(t.githubLabel)),t.codeownerGithubTeams){if(!Array.isArray(t.codeownerGithubTeams))throw TypeError(".google.api.Publishing.codeownerGithubTeams: array expected");for(_.codeownerGithubTeams=[],E=0;E<t.codeownerGithubTeams.length;++E)_.codeownerGithubTeams[E]=String(t.codeownerGithubTeams[E])}switch(t.docTagPrefix!=null&&(_.docTagPrefix=String(t.docTagPrefix)),t.organization){default:typeof t.organization=="number"&&(_.organization=t.organization);break;case"CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED":case 0:_.organization=0;break;case"CLOUD":case 1:_.organization=1;break;case"ADS":case 2:_.organization=2;break;case"PHOTOS":case 3:_.organization=3;break;case"STREET_VIEW":case 4:_.organization=4;break;case"SHOPPING":case 5:_.organization=5;break;case"GEO":case 6:_.organization=6;break;case"GENERATIVE_AI":case 7:_.organization=7}if(t.librarySettings){if(!Array.isArray(t.librarySettings))throw TypeError(".google.api.Publishing.librarySettings: array expected");for(_.librarySettings=[],E=0;E<t.librarySettings.length;++E){if(typeof t.librarySettings[E]!="object")throw TypeError(".google.api.Publishing.librarySettings: object expected");_.librarySettings[E]=d.google.api.ClientLibrarySettings.fromObject(t.librarySettings[E])}}return t.protoReferenceDocumentationUri!=null&&(_.protoReferenceDocumentationUri=String(t.protoReferenceDocumentationUri)),t.restReferenceDocumentationUri!=null&&(_.restReferenceDocumentationUri=String(t.restReferenceDocumentationUri)),_},bt.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.methodSettings=[],E.codeownerGithubTeams=[],E.librarySettings=[]),_.defaults&&(E.newIssueUri="",E.documentationUri="",E.apiShortName="",E.githubLabel="",E.docTagPrefix="",E.organization=_.enums===String?"CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED":0,E.protoReferenceDocumentationUri="",E.restReferenceDocumentationUri=""),t.methodSettings&&t.methodSettings.length){E.methodSettings=[];for(var se=0;se<t.methodSettings.length;++se)E.methodSettings[se]=d.google.api.MethodSettings.toObject(t.methodSettings[se],_)}if(t.newIssueUri!=null&&t.hasOwnProperty("newIssueUri")&&(E.newIssueUri=t.newIssueUri),t.documentationUri!=null&&t.hasOwnProperty("documentationUri")&&(E.documentationUri=t.documentationUri),t.apiShortName!=null&&t.hasOwnProperty("apiShortName")&&(E.apiShortName=t.apiShortName),t.githubLabel!=null&&t.hasOwnProperty("githubLabel")&&(E.githubLabel=t.githubLabel),t.codeownerGithubTeams&&t.codeownerGithubTeams.length)for(E.codeownerGithubTeams=[],se=0;se<t.codeownerGithubTeams.length;++se)E.codeownerGithubTeams[se]=t.codeownerGithubTeams[se];if(t.docTagPrefix!=null&&t.hasOwnProperty("docTagPrefix")&&(E.docTagPrefix=t.docTagPrefix),t.organization!=null&&t.hasOwnProperty("organization")&&(E.organization=_.enums!==String||d.google.api.ClientLibraryOrganization[t.organization]===void 0?t.organization:d.google.api.ClientLibraryOrganization[t.organization]),t.librarySettings&&t.librarySettings.length)for(E.librarySettings=[],se=0;se<t.librarySettings.length;++se)E.librarySettings[se]=d.google.api.ClientLibrarySettings.toObject(t.librarySettings[se],_);return t.protoReferenceDocumentationUri!=null&&t.hasOwnProperty("protoReferenceDocumentationUri")&&(E.protoReferenceDocumentationUri=t.protoReferenceDocumentationUri),t.restReferenceDocumentationUri!=null&&t.hasOwnProperty("restReferenceDocumentationUri")&&(E.restReferenceDocumentationUri=t.restReferenceDocumentationUri),E},bt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},bt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.api.Publishing"},bt),r.JavaSettings=(Ot.prototype.libraryPackage="",Ot.prototype.serviceClassNames=c.emptyObject,Ot.prototype.common=null,Ot.fromObject=function(t){if(t instanceof d.google.api.JavaSettings)return t;var _=new d.google.api.JavaSettings;if(t.libraryPackage!=null&&(_.libraryPackage=String(t.libraryPackage)),t.serviceClassNames){if(typeof t.serviceClassNames!="object")throw TypeError(".google.api.JavaSettings.serviceClassNames: object expected");_.serviceClassNames={};for(var E=Object.keys(t.serviceClassNames),se=0;se<E.length;++se)_.serviceClassNames[E[se]]=String(t.serviceClassNames[E[se]])}if(t.common!=null){if(typeof t.common!="object")throw TypeError(".google.api.JavaSettings.common: object expected");_.common=d.google.api.CommonLanguageSettings.fromObject(t.common)}return _},Ot.toObject=function(t,_){var E,se={};if(((_=_||{}).objects||_.defaults)&&(se.serviceClassNames={}),_.defaults&&(se.libraryPackage="",se.common=null),t.libraryPackage!=null&&t.hasOwnProperty("libraryPackage")&&(se.libraryPackage=t.libraryPackage),t.serviceClassNames&&(E=Object.keys(t.serviceClassNames)).length){se.serviceClassNames={};for(var ut=0;ut<E.length;++ut)se.serviceClassNames[E[ut]]=t.serviceClassNames[E[ut]]}return t.common!=null&&t.hasOwnProperty("common")&&(se.common=d.google.api.CommonLanguageSettings.toObject(t.common,_)),se},Ot.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ot.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.api.JavaSettings"},Ot),r.CppSettings=(xt.prototype.common=null,xt.fromObject=function(t){if(t instanceof d.google.api.CppSettings)return t;var _=new d.google.api.CppSettings;if(t.common!=null){if(typeof t.common!="object")throw TypeError(".google.api.CppSettings.common: object expected");_.common=d.google.api.CommonLanguageSettings.fromObject(t.common)}return _},xt.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.common=null),t.common!=null&&t.hasOwnProperty("common")&&(E.common=d.google.api.CommonLanguageSettings.toObject(t.common,_)),E},xt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},xt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.api.CppSettings"},xt),r.PhpSettings=(Mt.prototype.common=null,Mt.fromObject=function(t){if(t instanceof d.google.api.PhpSettings)return t;var _=new d.google.api.PhpSettings;if(t.common!=null){if(typeof t.common!="object")throw TypeError(".google.api.PhpSettings.common: object expected");_.common=d.google.api.CommonLanguageSettings.fromObject(t.common)}return _},Mt.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.common=null),t.common!=null&&t.hasOwnProperty("common")&&(E.common=d.google.api.CommonLanguageSettings.toObject(t.common,_)),E},Mt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Mt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.api.PhpSettings"},Mt),r.PythonSettings=(It.prototype.common=null,It.prototype.experimentalFeatures=null,It.fromObject=function(t){if(t instanceof d.google.api.PythonSettings)return t;var _=new d.google.api.PythonSettings;if(t.common!=null){if(typeof t.common!="object")throw TypeError(".google.api.PythonSettings.common: object expected");_.common=d.google.api.CommonLanguageSettings.fromObject(t.common)}if(t.experimentalFeatures!=null){if(typeof t.experimentalFeatures!="object")throw TypeError(".google.api.PythonSettings.experimentalFeatures: object expected");_.experimentalFeatures=d.google.api.PythonSettings.ExperimentalFeatures.fromObject(t.experimentalFeatures)}return _},It.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.common=null,E.experimentalFeatures=null),t.common!=null&&t.hasOwnProperty("common")&&(E.common=d.google.api.CommonLanguageSettings.toObject(t.common,_)),t.experimentalFeatures!=null&&t.hasOwnProperty("experimentalFeatures")&&(E.experimentalFeatures=d.google.api.PythonSettings.ExperimentalFeatures.toObject(t.experimentalFeatures,_)),E},It.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},It.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.api.PythonSettings"},It.ExperimentalFeatures=(Ut.prototype.restAsyncIoEnabled=!1,Ut.fromObject=function(t){var _;return t instanceof d.google.api.PythonSettings.ExperimentalFeatures?t:(_=new d.google.api.PythonSettings.ExperimentalFeatures,t.restAsyncIoEnabled!=null&&(_.restAsyncIoEnabled=!!t.restAsyncIoEnabled),_)},Ut.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.restAsyncIoEnabled=!1),t.restAsyncIoEnabled!=null&&t.hasOwnProperty("restAsyncIoEnabled")&&(E.restAsyncIoEnabled=t.restAsyncIoEnabled),E},Ut.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ut.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.api.PythonSettings.ExperimentalFeatures"},Ut),It),r.NodeSettings=(wr.prototype.common=null,wr.fromObject=function(t){if(t instanceof d.google.api.NodeSettings)return t;var _=new d.google.api.NodeSettings;if(t.common!=null){if(typeof t.common!="object")throw TypeError(".google.api.NodeSettings.common: object expected");_.common=d.google.api.CommonLanguageSettings.fromObject(t.common)}return _},wr.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.common=null),t.common!=null&&t.hasOwnProperty("common")&&(E.common=d.google.api.CommonLanguageSettings.toObject(t.common,_)),E},wr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},wr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.api.NodeSettings"},wr),r.DotnetSettings=(nr.prototype.common=null,nr.prototype.renamedServices=c.emptyObject,nr.prototype.renamedResources=c.emptyObject,nr.prototype.ignoredResources=c.emptyArray,nr.prototype.forcedNamespaceAliases=c.emptyArray,nr.prototype.handwrittenSignatures=c.emptyArray,nr.fromObject=function(t){if(t instanceof d.google.api.DotnetSettings)return t;var _=new d.google.api.DotnetSettings;if(t.common!=null){if(typeof t.common!="object")throw TypeError(".google.api.DotnetSettings.common: object expected");_.common=d.google.api.CommonLanguageSettings.fromObject(t.common)}if(t.renamedServices){if(typeof t.renamedServices!="object")throw TypeError(".google.api.DotnetSettings.renamedServices: object expected");_.renamedServices={};for(var E=Object.keys(t.renamedServices),se=0;se<E.length;++se)_.renamedServices[E[se]]=String(t.renamedServices[E[se]])}if(t.renamedResources){if(typeof t.renamedResources!="object")throw TypeError(".google.api.DotnetSettings.renamedResources: object expected");for(_.renamedResources={},E=Object.keys(t.renamedResources),se=0;se<E.length;++se)_.renamedResources[E[se]]=String(t.renamedResources[E[se]])}if(t.ignoredResources){if(!Array.isArray(t.ignoredResources))throw TypeError(".google.api.DotnetSettings.ignoredResources: array expected");for(_.ignoredResources=[],se=0;se<t.ignoredResources.length;++se)_.ignoredResources[se]=String(t.ignoredResources[se])}if(t.forcedNamespaceAliases){if(!Array.isArray(t.forcedNamespaceAliases))throw TypeError(".google.api.DotnetSettings.forcedNamespaceAliases: array expected");for(_.forcedNamespaceAliases=[],se=0;se<t.forcedNamespaceAliases.length;++se)_.forcedNamespaceAliases[se]=String(t.forcedNamespaceAliases[se])}if(t.handwrittenSignatures){if(!Array.isArray(t.handwrittenSignatures))throw TypeError(".google.api.DotnetSettings.handwrittenSignatures: array expected");for(_.handwrittenSignatures=[],se=0;se<t.handwrittenSignatures.length;++se)_.handwrittenSignatures[se]=String(t.handwrittenSignatures[se])}return _},nr.toObject=function(t,_){var E,se={};if(((_=_||{}).arrays||_.defaults)&&(se.ignoredResources=[],se.forcedNamespaceAliases=[],se.handwrittenSignatures=[]),(_.objects||_.defaults)&&(se.renamedServices={},se.renamedResources={}),_.defaults&&(se.common=null),t.common!=null&&t.hasOwnProperty("common")&&(se.common=d.google.api.CommonLanguageSettings.toObject(t.common,_)),t.renamedServices&&(E=Object.keys(t.renamedServices)).length){se.renamedServices={};for(var ut=0;ut<E.length;++ut)se.renamedServices[E[ut]]=t.renamedServices[E[ut]]}if(t.renamedResources&&(E=Object.keys(t.renamedResources)).length)for(se.renamedResources={},ut=0;ut<E.length;++ut)se.renamedResources[E[ut]]=t.renamedResources[E[ut]];if(t.ignoredResources&&t.ignoredResources.length)for(se.ignoredResources=[],ut=0;ut<t.ignoredResources.length;++ut)se.ignoredResources[ut]=t.ignoredResources[ut];if(t.forcedNamespaceAliases&&t.forcedNamespaceAliases.length)for(se.forcedNamespaceAliases=[],ut=0;ut<t.forcedNamespaceAliases.length;++ut)se.forcedNamespaceAliases[ut]=t.forcedNamespaceAliases[ut];if(t.handwrittenSignatures&&t.handwrittenSignatures.length)for(se.handwrittenSignatures=[],ut=0;ut<t.handwrittenSignatures.length;++ut)se.handwrittenSignatures[ut]=t.handwrittenSignatures[ut];return se},nr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},nr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.api.DotnetSettings"},nr),r.RubySettings=(or.prototype.common=null,or.fromObject=function(t){if(t instanceof d.google.api.RubySettings)return t;var _=new d.google.api.RubySettings;if(t.common!=null){if(typeof t.common!="object")throw TypeError(".google.api.RubySettings.common: object expected");_.common=d.google.api.CommonLanguageSettings.fromObject(t.common)}return _},or.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.common=null),t.common!=null&&t.hasOwnProperty("common")&&(E.common=d.google.api.CommonLanguageSettings.toObject(t.common,_)),E},or.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},or.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.api.RubySettings"},or),r.GoSettings=(lr.prototype.common=null,lr.fromObject=function(t){if(t instanceof d.google.api.GoSettings)return t;var _=new d.google.api.GoSettings;if(t.common!=null){if(typeof t.common!="object")throw TypeError(".google.api.GoSettings.common: object expected");_.common=d.google.api.CommonLanguageSettings.fromObject(t.common)}return _},lr.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.common=null),t.common!=null&&t.hasOwnProperty("common")&&(E.common=d.google.api.CommonLanguageSettings.toObject(t.common,_)),E},lr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},lr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.api.GoSettings"},lr),r.MethodSettings=(yr.prototype.selector="",yr.prototype.longRunning=null,yr.prototype.autoPopulatedFields=c.emptyArray,yr.fromObject=function(t){if(t instanceof d.google.api.MethodSettings)return t;var _=new d.google.api.MethodSettings;if(t.selector!=null&&(_.selector=String(t.selector)),t.longRunning!=null){if(typeof t.longRunning!="object")throw TypeError(".google.api.MethodSettings.longRunning: object expected");_.longRunning=d.google.api.MethodSettings.LongRunning.fromObject(t.longRunning)}if(t.autoPopulatedFields){if(!Array.isArray(t.autoPopulatedFields))throw TypeError(".google.api.MethodSettings.autoPopulatedFields: array expected");_.autoPopulatedFields=[];for(var E=0;E<t.autoPopulatedFields.length;++E)_.autoPopulatedFields[E]=String(t.autoPopulatedFields[E])}return _},yr.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.autoPopulatedFields=[]),_.defaults&&(E.selector="",E.longRunning=null),t.selector!=null&&t.hasOwnProperty("selector")&&(E.selector=t.selector),t.longRunning!=null&&t.hasOwnProperty("longRunning")&&(E.longRunning=d.google.api.MethodSettings.LongRunning.toObject(t.longRunning,_)),t.autoPopulatedFields&&t.autoPopulatedFields.length){E.autoPopulatedFields=[];for(var se=0;se<t.autoPopulatedFields.length;++se)E.autoPopulatedFields[se]=t.autoPopulatedFields[se]}return E},yr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},yr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.api.MethodSettings"},yr.LongRunning=(fr.prototype.initialPollDelay=null,fr.prototype.pollDelayMultiplier=0,fr.prototype.maxPollDelay=null,fr.prototype.totalPollTimeout=null,fr.fromObject=function(t){if(t instanceof d.google.api.MethodSettings.LongRunning)return t;var _=new d.google.api.MethodSettings.LongRunning;if(t.initialPollDelay!=null){if(typeof t.initialPollDelay!="object")throw TypeError(".google.api.MethodSettings.LongRunning.initialPollDelay: object expected");_.initialPollDelay=d.google.protobuf.Duration.fromObject(t.initialPollDelay)}if(t.pollDelayMultiplier!=null&&(_.pollDelayMultiplier=Number(t.pollDelayMultiplier)),t.maxPollDelay!=null){if(typeof t.maxPollDelay!="object")throw TypeError(".google.api.MethodSettings.LongRunning.maxPollDelay: object expected");_.maxPollDelay=d.google.protobuf.Duration.fromObject(t.maxPollDelay)}if(t.totalPollTimeout!=null){if(typeof t.totalPollTimeout!="object")throw TypeError(".google.api.MethodSettings.LongRunning.totalPollTimeout: object expected");_.totalPollTimeout=d.google.protobuf.Duration.fromObject(t.totalPollTimeout)}return _},fr.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.initialPollDelay=null,E.pollDelayMultiplier=0,E.maxPollDelay=null,E.totalPollTimeout=null),t.initialPollDelay!=null&&t.hasOwnProperty("initialPollDelay")&&(E.initialPollDelay=d.google.protobuf.Duration.toObject(t.initialPollDelay,_)),t.pollDelayMultiplier!=null&&t.hasOwnProperty("pollDelayMultiplier")&&(E.pollDelayMultiplier=_.json&&!isFinite(t.pollDelayMultiplier)?String(t.pollDelayMultiplier):t.pollDelayMultiplier),t.maxPollDelay!=null&&t.hasOwnProperty("maxPollDelay")&&(E.maxPollDelay=d.google.protobuf.Duration.toObject(t.maxPollDelay,_)),t.totalPollTimeout!=null&&t.hasOwnProperty("totalPollTimeout")&&(E.totalPollTimeout=d.google.protobuf.Duration.toObject(t.totalPollTimeout,_)),E},fr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},fr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.api.MethodSettings.LongRunning"},fr),yr),r.ClientLibraryOrganization=(p={},(h=Object.create(p))[p[0]="CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED"]="CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED",h[p[1]="CLOUD"]="CLOUD",h[p[2]="ADS"]="ADS",h[p[3]="PHOTOS"]="PHOTOS",h[p[4]="STREET_VIEW"]="STREET_VIEW",h[p[5]="SHOPPING"]="SHOPPING",h[p[6]="GEO"]="GEO",h[p[7]="GENERATIVE_AI"]="GENERATIVE_AI",h),r.ClientLibraryDestination=(p={},(h=Object.create(p))[p[0]="CLIENT_LIBRARY_DESTINATION_UNSPECIFIED"]="CLIENT_LIBRARY_DESTINATION_UNSPECIFIED",h[p[10]="GITHUB"]="GITHUB",h[p[20]="PACKAGE_MANAGER"]="PACKAGE_MANAGER",h),r.LaunchStage=(p={},(h=Object.create(p))[p[0]="LAUNCH_STAGE_UNSPECIFIED"]="LAUNCH_STAGE_UNSPECIFIED",h[p[6]="UNIMPLEMENTED"]="UNIMPLEMENTED",h[p[7]="PRELAUNCH"]="PRELAUNCH",h[p[1]="EARLY_ACCESS"]="EARLY_ACCESS",h[p[2]="ALPHA"]="ALPHA",h[p[3]="BETA"]="BETA",h[p[4]="GA"]="GA",h[p[5]="DEPRECATED"]="DEPRECATED",h),r.ResourceDescriptor=(er.prototype.type="",er.prototype.pattern=c.emptyArray,er.prototype.nameField="",er.prototype.history=0,er.prototype.plural="",er.prototype.singular="",er.prototype.style=c.emptyArray,er.fromObject=function(t){if(t instanceof d.google.api.ResourceDescriptor)return t;var _=new d.google.api.ResourceDescriptor;if(t.type!=null&&(_.type=String(t.type)),t.pattern){if(!Array.isArray(t.pattern))throw TypeError(".google.api.ResourceDescriptor.pattern: array expected");_.pattern=[];for(var E=0;E<t.pattern.length;++E)_.pattern[E]=String(t.pattern[E])}switch(t.nameField!=null&&(_.nameField=String(t.nameField)),t.history){default:typeof t.history=="number"&&(_.history=t.history);break;case"HISTORY_UNSPECIFIED":case 0:_.history=0;break;case"ORIGINALLY_SINGLE_PATTERN":case 1:_.history=1;break;case"FUTURE_MULTI_PATTERN":case 2:_.history=2}if(t.plural!=null&&(_.plural=String(t.plural)),t.singular!=null&&(_.singular=String(t.singular)),t.style){if(!Array.isArray(t.style))throw TypeError(".google.api.ResourceDescriptor.style: array expected");for(_.style=[],E=0;E<t.style.length;++E)switch(t.style[E]){default:if(typeof t.style[E]=="number"){_.style[E]=t.style[E];break}case"STYLE_UNSPECIFIED":case 0:_.style[E]=0;break;case"DECLARATIVE_FRIENDLY":case 1:_.style[E]=1}}return _},er.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.pattern=[],E.style=[]),_.defaults&&(E.type="",E.nameField="",E.history=_.enums===String?"HISTORY_UNSPECIFIED":0,E.plural="",E.singular=""),t.type!=null&&t.hasOwnProperty("type")&&(E.type=t.type),t.pattern&&t.pattern.length){E.pattern=[];for(var se=0;se<t.pattern.length;++se)E.pattern[se]=t.pattern[se]}if(t.nameField!=null&&t.hasOwnProperty("nameField")&&(E.nameField=t.nameField),t.history!=null&&t.hasOwnProperty("history")&&(E.history=_.enums!==String||d.google.api.ResourceDescriptor.History[t.history]===void 0?t.history:d.google.api.ResourceDescriptor.History[t.history]),t.plural!=null&&t.hasOwnProperty("plural")&&(E.plural=t.plural),t.singular!=null&&t.hasOwnProperty("singular")&&(E.singular=t.singular),t.style&&t.style.length)for(E.style=[],se=0;se<t.style.length;++se)E.style[se]=_.enums!==String||d.google.api.ResourceDescriptor.Style[t.style[se]]===void 0?t.style[se]:d.google.api.ResourceDescriptor.Style[t.style[se]];return E},er.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},er.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.api.ResourceDescriptor"},er.History=(p={},(h=Object.create(p))[p[0]="HISTORY_UNSPECIFIED"]="HISTORY_UNSPECIFIED",h[p[1]="ORIGINALLY_SINGLE_PATTERN"]="ORIGINALLY_SINGLE_PATTERN",h[p[2]="FUTURE_MULTI_PATTERN"]="FUTURE_MULTI_PATTERN",h),er.Style=(p={},(h=Object.create(p))[p[0]="STYLE_UNSPECIFIED"]="STYLE_UNSPECIFIED",h[p[1]="DECLARATIVE_FRIENDLY"]="DECLARATIVE_FRIENDLY",h),er),r.ResourceReference=(Pr.prototype.type="",Pr.prototype.childType="",Pr.fromObject=function(t){var _;return t instanceof d.google.api.ResourceReference?t:(_=new d.google.api.ResourceReference,t.type!=null&&(_.type=String(t.type)),t.childType!=null&&(_.childType=String(t.childType)),_)},Pr.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.type="",E.childType=""),t.type!=null&&t.hasOwnProperty("type")&&(E.type=t.type),t.childType!=null&&t.hasOwnProperty("childType")&&(E.childType=t.childType),E},Pr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Pr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.api.ResourceReference"},Pr),r),y.protobuf=((u={}).FileDescriptorSet=(Ir.prototype.file=c.emptyArray,Ir.fromObject=function(t){if(t instanceof d.google.protobuf.FileDescriptorSet)return t;var _=new d.google.protobuf.FileDescriptorSet;if(t.file){if(!Array.isArray(t.file))throw TypeError(".google.protobuf.FileDescriptorSet.file: array expected");_.file=[];for(var E=0;E<t.file.length;++E){if(typeof t.file[E]!="object")throw TypeError(".google.protobuf.FileDescriptorSet.file: object expected");_.file[E]=d.google.protobuf.FileDescriptorProto.fromObject(t.file[E])}}return _},Ir.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.file=[]),t.file&&t.file.length){E.file=[];for(var se=0;se<t.file.length;++se)E.file[se]=d.google.protobuf.FileDescriptorProto.toObject(t.file[se],_)}return E},Ir.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ir.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.FileDescriptorSet"},Ir),u.Edition=(p={},(h=Object.create(p))[p[0]="EDITION_UNKNOWN"]="EDITION_UNKNOWN",h[p[998]="EDITION_PROTO2"]="EDITION_PROTO2",h[p[999]="EDITION_PROTO3"]="EDITION_PROTO3",h[p[1e3]="EDITION_2023"]="EDITION_2023",h[p[1001]="EDITION_2024"]="EDITION_2024",h[p[1]="EDITION_1_TEST_ONLY"]="EDITION_1_TEST_ONLY",h[p[2]="EDITION_2_TEST_ONLY"]="EDITION_2_TEST_ONLY",h[p[99997]="EDITION_99997_TEST_ONLY"]="EDITION_99997_TEST_ONLY",h[p[99998]="EDITION_99998_TEST_ONLY"]="EDITION_99998_TEST_ONLY",h[p[99999]="EDITION_99999_TEST_ONLY"]="EDITION_99999_TEST_ONLY",h[p[2147483647]="EDITION_MAX"]="EDITION_MAX",h),u.FileDescriptorProto=(Xt.prototype.name="",Xt.prototype.package="",Xt.prototype.dependency=c.emptyArray,Xt.prototype.publicDependency=c.emptyArray,Xt.prototype.weakDependency=c.emptyArray,Xt.prototype.messageType=c.emptyArray,Xt.prototype.enumType=c.emptyArray,Xt.prototype.service=c.emptyArray,Xt.prototype.extension=c.emptyArray,Xt.prototype.options=null,Xt.prototype.sourceCodeInfo=null,Xt.prototype.syntax="",Xt.prototype.edition=0,Xt.fromObject=function(t){if(t instanceof d.google.protobuf.FileDescriptorProto)return t;var _=new d.google.protobuf.FileDescriptorProto;if(t.name!=null&&(_.name=String(t.name)),t.package!=null&&(_.package=String(t.package)),t.dependency){if(!Array.isArray(t.dependency))throw TypeError(".google.protobuf.FileDescriptorProto.dependency: array expected");_.dependency=[];for(var E=0;E<t.dependency.length;++E)_.dependency[E]=String(t.dependency[E])}if(t.publicDependency){if(!Array.isArray(t.publicDependency))throw TypeError(".google.protobuf.FileDescriptorProto.publicDependency: array expected");for(_.publicDependency=[],E=0;E<t.publicDependency.length;++E)_.publicDependency[E]=0|t.publicDependency[E]}if(t.weakDependency){if(!Array.isArray(t.weakDependency))throw TypeError(".google.protobuf.FileDescriptorProto.weakDependency: array expected");for(_.weakDependency=[],E=0;E<t.weakDependency.length;++E)_.weakDependency[E]=0|t.weakDependency[E]}if(t.messageType){if(!Array.isArray(t.messageType))throw TypeError(".google.protobuf.FileDescriptorProto.messageType: array expected");for(_.messageType=[],E=0;E<t.messageType.length;++E){if(typeof t.messageType[E]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.messageType: object expected");_.messageType[E]=d.google.protobuf.DescriptorProto.fromObject(t.messageType[E])}}if(t.enumType){if(!Array.isArray(t.enumType))throw TypeError(".google.protobuf.FileDescriptorProto.enumType: array expected");for(_.enumType=[],E=0;E<t.enumType.length;++E){if(typeof t.enumType[E]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.enumType: object expected");_.enumType[E]=d.google.protobuf.EnumDescriptorProto.fromObject(t.enumType[E])}}if(t.service){if(!Array.isArray(t.service))throw TypeError(".google.protobuf.FileDescriptorProto.service: array expected");for(_.service=[],E=0;E<t.service.length;++E){if(typeof t.service[E]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.service: object expected");_.service[E]=d.google.protobuf.ServiceDescriptorProto.fromObject(t.service[E])}}if(t.extension){if(!Array.isArray(t.extension))throw TypeError(".google.protobuf.FileDescriptorProto.extension: array expected");for(_.extension=[],E=0;E<t.extension.length;++E){if(typeof t.extension[E]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.extension: object expected");_.extension[E]=d.google.protobuf.FieldDescriptorProto.fromObject(t.extension[E])}}if(t.options!=null){if(typeof t.options!="object")throw TypeError(".google.protobuf.FileDescriptorProto.options: object expected");_.options=d.google.protobuf.FileOptions.fromObject(t.options)}if(t.sourceCodeInfo!=null){if(typeof t.sourceCodeInfo!="object")throw TypeError(".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected");_.sourceCodeInfo=d.google.protobuf.SourceCodeInfo.fromObject(t.sourceCodeInfo)}switch(t.syntax!=null&&(_.syntax=String(t.syntax)),t.edition){default:typeof t.edition=="number"&&(_.edition=t.edition);break;case"EDITION_UNKNOWN":case 0:_.edition=0;break;case"EDITION_PROTO2":case 998:_.edition=998;break;case"EDITION_PROTO3":case 999:_.edition=999;break;case"EDITION_2023":case 1e3:_.edition=1e3;break;case"EDITION_2024":case 1001:_.edition=1001;break;case"EDITION_1_TEST_ONLY":case 1:_.edition=1;break;case"EDITION_2_TEST_ONLY":case 2:_.edition=2;break;case"EDITION_99997_TEST_ONLY":case 99997:_.edition=99997;break;case"EDITION_99998_TEST_ONLY":case 99998:_.edition=99998;break;case"EDITION_99999_TEST_ONLY":case 99999:_.edition=99999;break;case"EDITION_MAX":case 2147483647:_.edition=2147483647}return _},Xt.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.dependency=[],E.messageType=[],E.enumType=[],E.service=[],E.extension=[],E.publicDependency=[],E.weakDependency=[]),_.defaults&&(E.name="",E.package="",E.options=null,E.sourceCodeInfo=null,E.syntax="",E.edition=_.enums===String?"EDITION_UNKNOWN":0),t.name!=null&&t.hasOwnProperty("name")&&(E.name=t.name),t.package!=null&&t.hasOwnProperty("package")&&(E.package=t.package),t.dependency&&t.dependency.length){E.dependency=[];for(var se=0;se<t.dependency.length;++se)E.dependency[se]=t.dependency[se]}if(t.messageType&&t.messageType.length)for(E.messageType=[],se=0;se<t.messageType.length;++se)E.messageType[se]=d.google.protobuf.DescriptorProto.toObject(t.messageType[se],_);if(t.enumType&&t.enumType.length)for(E.enumType=[],se=0;se<t.enumType.length;++se)E.enumType[se]=d.google.protobuf.EnumDescriptorProto.toObject(t.enumType[se],_);if(t.service&&t.service.length)for(E.service=[],se=0;se<t.service.length;++se)E.service[se]=d.google.protobuf.ServiceDescriptorProto.toObject(t.service[se],_);if(t.extension&&t.extension.length)for(E.extension=[],se=0;se<t.extension.length;++se)E.extension[se]=d.google.protobuf.FieldDescriptorProto.toObject(t.extension[se],_);if(t.options!=null&&t.hasOwnProperty("options")&&(E.options=d.google.protobuf.FileOptions.toObject(t.options,_)),t.sourceCodeInfo!=null&&t.hasOwnProperty("sourceCodeInfo")&&(E.sourceCodeInfo=d.google.protobuf.SourceCodeInfo.toObject(t.sourceCodeInfo,_)),t.publicDependency&&t.publicDependency.length)for(E.publicDependency=[],se=0;se<t.publicDependency.length;++se)E.publicDependency[se]=t.publicDependency[se];if(t.weakDependency&&t.weakDependency.length)for(E.weakDependency=[],se=0;se<t.weakDependency.length;++se)E.weakDependency[se]=t.weakDependency[se];return t.syntax!=null&&t.hasOwnProperty("syntax")&&(E.syntax=t.syntax),t.edition!=null&&t.hasOwnProperty("edition")&&(E.edition=_.enums!==String||d.google.protobuf.Edition[t.edition]===void 0?t.edition:d.google.protobuf.Edition[t.edition]),E},Xt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Xt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.FileDescriptorProto"},Xt),u.DescriptorProto=(Qt.prototype.name="",Qt.prototype.field=c.emptyArray,Qt.prototype.extension=c.emptyArray,Qt.prototype.nestedType=c.emptyArray,Qt.prototype.enumType=c.emptyArray,Qt.prototype.extensionRange=c.emptyArray,Qt.prototype.oneofDecl=c.emptyArray,Qt.prototype.options=null,Qt.prototype.reservedRange=c.emptyArray,Qt.prototype.reservedName=c.emptyArray,Qt.fromObject=function(t){if(t instanceof d.google.protobuf.DescriptorProto)return t;var _=new d.google.protobuf.DescriptorProto;if(t.name!=null&&(_.name=String(t.name)),t.field){if(!Array.isArray(t.field))throw TypeError(".google.protobuf.DescriptorProto.field: array expected");_.field=[];for(var E=0;E<t.field.length;++E){if(typeof t.field[E]!="object")throw TypeError(".google.protobuf.DescriptorProto.field: object expected");_.field[E]=d.google.protobuf.FieldDescriptorProto.fromObject(t.field[E])}}if(t.extension){if(!Array.isArray(t.extension))throw TypeError(".google.protobuf.DescriptorProto.extension: array expected");for(_.extension=[],E=0;E<t.extension.length;++E){if(typeof t.extension[E]!="object")throw TypeError(".google.protobuf.DescriptorProto.extension: object expected");_.extension[E]=d.google.protobuf.FieldDescriptorProto.fromObject(t.extension[E])}}if(t.nestedType){if(!Array.isArray(t.nestedType))throw TypeError(".google.protobuf.DescriptorProto.nestedType: array expected");for(_.nestedType=[],E=0;E<t.nestedType.length;++E){if(typeof t.nestedType[E]!="object")throw TypeError(".google.protobuf.DescriptorProto.nestedType: object expected");_.nestedType[E]=d.google.protobuf.DescriptorProto.fromObject(t.nestedType[E])}}if(t.enumType){if(!Array.isArray(t.enumType))throw TypeError(".google.protobuf.DescriptorProto.enumType: array expected");for(_.enumType=[],E=0;E<t.enumType.length;++E){if(typeof t.enumType[E]!="object")throw TypeError(".google.protobuf.DescriptorProto.enumType: object expected");_.enumType[E]=d.google.protobuf.EnumDescriptorProto.fromObject(t.enumType[E])}}if(t.extensionRange){if(!Array.isArray(t.extensionRange))throw TypeError(".google.protobuf.DescriptorProto.extensionRange: array expected");for(_.extensionRange=[],E=0;E<t.extensionRange.length;++E){if(typeof t.extensionRange[E]!="object")throw TypeError(".google.protobuf.DescriptorProto.extensionRange: object expected");_.extensionRange[E]=d.google.protobuf.DescriptorProto.ExtensionRange.fromObject(t.extensionRange[E])}}if(t.oneofDecl){if(!Array.isArray(t.oneofDecl))throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: array expected");for(_.oneofDecl=[],E=0;E<t.oneofDecl.length;++E){if(typeof t.oneofDecl[E]!="object")throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: object expected");_.oneofDecl[E]=d.google.protobuf.OneofDescriptorProto.fromObject(t.oneofDecl[E])}}if(t.options!=null){if(typeof t.options!="object")throw TypeError(".google.protobuf.DescriptorProto.options: object expected");_.options=d.google.protobuf.MessageOptions.fromObject(t.options)}if(t.reservedRange){if(!Array.isArray(t.reservedRange))throw TypeError(".google.protobuf.DescriptorProto.reservedRange: array expected");for(_.reservedRange=[],E=0;E<t.reservedRange.length;++E){if(typeof t.reservedRange[E]!="object")throw TypeError(".google.protobuf.DescriptorProto.reservedRange: object expected");_.reservedRange[E]=d.google.protobuf.DescriptorProto.ReservedRange.fromObject(t.reservedRange[E])}}if(t.reservedName){if(!Array.isArray(t.reservedName))throw TypeError(".google.protobuf.DescriptorProto.reservedName: array expected");for(_.reservedName=[],E=0;E<t.reservedName.length;++E)_.reservedName[E]=String(t.reservedName[E])}return _},Qt.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.field=[],E.nestedType=[],E.enumType=[],E.extensionRange=[],E.extension=[],E.oneofDecl=[],E.reservedRange=[],E.reservedName=[]),_.defaults&&(E.name="",E.options=null),t.name!=null&&t.hasOwnProperty("name")&&(E.name=t.name),t.field&&t.field.length){E.field=[];for(var se=0;se<t.field.length;++se)E.field[se]=d.google.protobuf.FieldDescriptorProto.toObject(t.field[se],_)}if(t.nestedType&&t.nestedType.length)for(E.nestedType=[],se=0;se<t.nestedType.length;++se)E.nestedType[se]=d.google.protobuf.DescriptorProto.toObject(t.nestedType[se],_);if(t.enumType&&t.enumType.length)for(E.enumType=[],se=0;se<t.enumType.length;++se)E.enumType[se]=d.google.protobuf.EnumDescriptorProto.toObject(t.enumType[se],_);if(t.extensionRange&&t.extensionRange.length)for(E.extensionRange=[],se=0;se<t.extensionRange.length;++se)E.extensionRange[se]=d.google.protobuf.DescriptorProto.ExtensionRange.toObject(t.extensionRange[se],_);if(t.extension&&t.extension.length)for(E.extension=[],se=0;se<t.extension.length;++se)E.extension[se]=d.google.protobuf.FieldDescriptorProto.toObject(t.extension[se],_);if(t.options!=null&&t.hasOwnProperty("options")&&(E.options=d.google.protobuf.MessageOptions.toObject(t.options,_)),t.oneofDecl&&t.oneofDecl.length)for(E.oneofDecl=[],se=0;se<t.oneofDecl.length;++se)E.oneofDecl[se]=d.google.protobuf.OneofDescriptorProto.toObject(t.oneofDecl[se],_);if(t.reservedRange&&t.reservedRange.length)for(E.reservedRange=[],se=0;se<t.reservedRange.length;++se)E.reservedRange[se]=d.google.protobuf.DescriptorProto.ReservedRange.toObject(t.reservedRange[se],_);if(t.reservedName&&t.reservedName.length)for(E.reservedName=[],se=0;se<t.reservedName.length;++se)E.reservedName[se]=t.reservedName[se];return E},Qt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Qt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.DescriptorProto"},Qt.ExtensionRange=(br.prototype.start=0,br.prototype.end=0,br.prototype.options=null,br.fromObject=function(t){if(t instanceof d.google.protobuf.DescriptorProto.ExtensionRange)return t;var _=new d.google.protobuf.DescriptorProto.ExtensionRange;if(t.start!=null&&(_.start=0|t.start),t.end!=null&&(_.end=0|t.end),t.options!=null){if(typeof t.options!="object")throw TypeError(".google.protobuf.DescriptorProto.ExtensionRange.options: object expected");_.options=d.google.protobuf.ExtensionRangeOptions.fromObject(t.options)}return _},br.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.start=0,E.end=0,E.options=null),t.start!=null&&t.hasOwnProperty("start")&&(E.start=t.start),t.end!=null&&t.hasOwnProperty("end")&&(E.end=t.end),t.options!=null&&t.hasOwnProperty("options")&&(E.options=d.google.protobuf.ExtensionRangeOptions.toObject(t.options,_)),E},br.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},br.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.DescriptorProto.ExtensionRange"},br),Qt.ReservedRange=(Er.prototype.start=0,Er.prototype.end=0,Er.fromObject=function(t){var _;return t instanceof d.google.protobuf.DescriptorProto.ReservedRange?t:(_=new d.google.protobuf.DescriptorProto.ReservedRange,t.start!=null&&(_.start=0|t.start),t.end!=null&&(_.end=0|t.end),_)},Er.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.start=0,E.end=0),t.start!=null&&t.hasOwnProperty("start")&&(E.start=t.start),t.end!=null&&t.hasOwnProperty("end")&&(E.end=t.end),E},Er.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Er.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.DescriptorProto.ReservedRange"},Er),Qt),u.ExtensionRangeOptions=(Bt.prototype.uninterpretedOption=c.emptyArray,Bt.prototype.declaration=c.emptyArray,Bt.prototype.features=null,Bt.prototype.verification=1,Bt.fromObject=function(t){if(t instanceof d.google.protobuf.ExtensionRangeOptions)return t;var _=new d.google.protobuf.ExtensionRangeOptions;if(t.uninterpretedOption){if(!Array.isArray(t.uninterpretedOption))throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected");_.uninterpretedOption=[];for(var E=0;E<t.uninterpretedOption.length;++E){if(typeof t.uninterpretedOption[E]!="object")throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected");_.uninterpretedOption[E]=d.google.protobuf.UninterpretedOption.fromObject(t.uninterpretedOption[E])}}if(t.declaration){if(!Array.isArray(t.declaration))throw TypeError(".google.protobuf.ExtensionRangeOptions.declaration: array expected");for(_.declaration=[],E=0;E<t.declaration.length;++E){if(typeof t.declaration[E]!="object")throw TypeError(".google.protobuf.ExtensionRangeOptions.declaration: object expected");_.declaration[E]=d.google.protobuf.ExtensionRangeOptions.Declaration.fromObject(t.declaration[E])}}if(t.features!=null){if(typeof t.features!="object")throw TypeError(".google.protobuf.ExtensionRangeOptions.features: object expected");_.features=d.google.protobuf.FeatureSet.fromObject(t.features)}switch(t.verification){case"DECLARATION":case 0:_.verification=0;break;default:typeof t.verification=="number"&&(_.verification=t.verification);break;case"UNVERIFIED":case 1:_.verification=1}return _},Bt.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.declaration=[],E.uninterpretedOption=[]),_.defaults&&(E.verification=_.enums===String?"UNVERIFIED":1,E.features=null),t.declaration&&t.declaration.length){E.declaration=[];for(var se=0;se<t.declaration.length;++se)E.declaration[se]=d.google.protobuf.ExtensionRangeOptions.Declaration.toObject(t.declaration[se],_)}if(t.verification!=null&&t.hasOwnProperty("verification")&&(E.verification=_.enums!==String||d.google.protobuf.ExtensionRangeOptions.VerificationState[t.verification]===void 0?t.verification:d.google.protobuf.ExtensionRangeOptions.VerificationState[t.verification]),t.features!=null&&t.hasOwnProperty("features")&&(E.features=d.google.protobuf.FeatureSet.toObject(t.features,_)),t.uninterpretedOption&&t.uninterpretedOption.length)for(E.uninterpretedOption=[],se=0;se<t.uninterpretedOption.length;++se)E.uninterpretedOption[se]=d.google.protobuf.UninterpretedOption.toObject(t.uninterpretedOption[se],_);return E},Bt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Bt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.ExtensionRangeOptions"},Bt.Declaration=(tr.prototype.number=0,tr.prototype.fullName="",tr.prototype.type="",tr.prototype.reserved=!1,tr.prototype.repeated=!1,tr.fromObject=function(t){var _;return t instanceof d.google.protobuf.ExtensionRangeOptions.Declaration?t:(_=new d.google.protobuf.ExtensionRangeOptions.Declaration,t.number!=null&&(_.number=0|t.number),t.fullName!=null&&(_.fullName=String(t.fullName)),t.type!=null&&(_.type=String(t.type)),t.reserved!=null&&(_.reserved=!!t.reserved),t.repeated!=null&&(_.repeated=!!t.repeated),_)},tr.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.number=0,E.fullName="",E.type="",E.reserved=!1,E.repeated=!1),t.number!=null&&t.hasOwnProperty("number")&&(E.number=t.number),t.fullName!=null&&t.hasOwnProperty("fullName")&&(E.fullName=t.fullName),t.type!=null&&t.hasOwnProperty("type")&&(E.type=t.type),t.reserved!=null&&t.hasOwnProperty("reserved")&&(E.reserved=t.reserved),t.repeated!=null&&t.hasOwnProperty("repeated")&&(E.repeated=t.repeated),E},tr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},tr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.ExtensionRangeOptions.Declaration"},tr),Bt.VerificationState=(p={},(h=Object.create(p))[p[0]="DECLARATION"]="DECLARATION",h[p[1]="UNVERIFIED"]="UNVERIFIED",h),Bt),u.FieldDescriptorProto=(zt.prototype.name="",zt.prototype.number=0,zt.prototype.label=1,zt.prototype.type=1,zt.prototype.typeName="",zt.prototype.extendee="",zt.prototype.defaultValue="",zt.prototype.oneofIndex=0,zt.prototype.jsonName="",zt.prototype.options=null,zt.prototype.proto3Optional=!1,zt.fromObject=function(t){if(t instanceof d.google.protobuf.FieldDescriptorProto)return t;var _=new d.google.protobuf.FieldDescriptorProto;switch(t.name!=null&&(_.name=String(t.name)),t.number!=null&&(_.number=0|t.number),t.label){default:typeof t.label=="number"&&(_.label=t.label);break;case"LABEL_OPTIONAL":case 1:_.label=1;break;case"LABEL_REPEATED":case 3:_.label=3;break;case"LABEL_REQUIRED":case 2:_.label=2}switch(t.type){default:typeof t.type=="number"&&(_.type=t.type);break;case"TYPE_DOUBLE":case 1:_.type=1;break;case"TYPE_FLOAT":case 2:_.type=2;break;case"TYPE_INT64":case 3:_.type=3;break;case"TYPE_UINT64":case 4:_.type=4;break;case"TYPE_INT32":case 5:_.type=5;break;case"TYPE_FIXED64":case 6:_.type=6;break;case"TYPE_FIXED32":case 7:_.type=7;break;case"TYPE_BOOL":case 8:_.type=8;break;case"TYPE_STRING":case 9:_.type=9;break;case"TYPE_GROUP":case 10:_.type=10;break;case"TYPE_MESSAGE":case 11:_.type=11;break;case"TYPE_BYTES":case 12:_.type=12;break;case"TYPE_UINT32":case 13:_.type=13;break;case"TYPE_ENUM":case 14:_.type=14;break;case"TYPE_SFIXED32":case 15:_.type=15;break;case"TYPE_SFIXED64":case 16:_.type=16;break;case"TYPE_SINT32":case 17:_.type=17;break;case"TYPE_SINT64":case 18:_.type=18}if(t.typeName!=null&&(_.typeName=String(t.typeName)),t.extendee!=null&&(_.extendee=String(t.extendee)),t.defaultValue!=null&&(_.defaultValue=String(t.defaultValue)),t.oneofIndex!=null&&(_.oneofIndex=0|t.oneofIndex),t.jsonName!=null&&(_.jsonName=String(t.jsonName)),t.options!=null){if(typeof t.options!="object")throw TypeError(".google.protobuf.FieldDescriptorProto.options: object expected");_.options=d.google.protobuf.FieldOptions.fromObject(t.options)}return t.proto3Optional!=null&&(_.proto3Optional=!!t.proto3Optional),_},zt.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.name="",E.extendee="",E.number=0,E.label=_.enums===String?"LABEL_OPTIONAL":1,E.type=_.enums===String?"TYPE_DOUBLE":1,E.typeName="",E.defaultValue="",E.options=null,E.oneofIndex=0,E.jsonName="",E.proto3Optional=!1),t.name!=null&&t.hasOwnProperty("name")&&(E.name=t.name),t.extendee!=null&&t.hasOwnProperty("extendee")&&(E.extendee=t.extendee),t.number!=null&&t.hasOwnProperty("number")&&(E.number=t.number),t.label!=null&&t.hasOwnProperty("label")&&(E.label=_.enums!==String||d.google.protobuf.FieldDescriptorProto.Label[t.label]===void 0?t.label:d.google.protobuf.FieldDescriptorProto.Label[t.label]),t.type!=null&&t.hasOwnProperty("type")&&(E.type=_.enums!==String||d.google.protobuf.FieldDescriptorProto.Type[t.type]===void 0?t.type:d.google.protobuf.FieldDescriptorProto.Type[t.type]),t.typeName!=null&&t.hasOwnProperty("typeName")&&(E.typeName=t.typeName),t.defaultValue!=null&&t.hasOwnProperty("defaultValue")&&(E.defaultValue=t.defaultValue),t.options!=null&&t.hasOwnProperty("options")&&(E.options=d.google.protobuf.FieldOptions.toObject(t.options,_)),t.oneofIndex!=null&&t.hasOwnProperty("oneofIndex")&&(E.oneofIndex=t.oneofIndex),t.jsonName!=null&&t.hasOwnProperty("jsonName")&&(E.jsonName=t.jsonName),t.proto3Optional!=null&&t.hasOwnProperty("proto3Optional")&&(E.proto3Optional=t.proto3Optional),E},zt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},zt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.FieldDescriptorProto"},zt.Type=(p={},(h=Object.create(p))[p[1]="TYPE_DOUBLE"]="TYPE_DOUBLE",h[p[2]="TYPE_FLOAT"]="TYPE_FLOAT",h[p[3]="TYPE_INT64"]="TYPE_INT64",h[p[4]="TYPE_UINT64"]="TYPE_UINT64",h[p[5]="TYPE_INT32"]="TYPE_INT32",h[p[6]="TYPE_FIXED64"]="TYPE_FIXED64",h[p[7]="TYPE_FIXED32"]="TYPE_FIXED32",h[p[8]="TYPE_BOOL"]="TYPE_BOOL",h[p[9]="TYPE_STRING"]="TYPE_STRING",h[p[10]="TYPE_GROUP"]="TYPE_GROUP",h[p[11]="TYPE_MESSAGE"]="TYPE_MESSAGE",h[p[12]="TYPE_BYTES"]="TYPE_BYTES",h[p[13]="TYPE_UINT32"]="TYPE_UINT32",h[p[14]="TYPE_ENUM"]="TYPE_ENUM",h[p[15]="TYPE_SFIXED32"]="TYPE_SFIXED32",h[p[16]="TYPE_SFIXED64"]="TYPE_SFIXED64",h[p[17]="TYPE_SINT32"]="TYPE_SINT32",h[p[18]="TYPE_SINT64"]="TYPE_SINT64",h),zt.Label=(p={},(h=Object.create(p))[p[1]="LABEL_OPTIONAL"]="LABEL_OPTIONAL",h[p[3]="LABEL_REPEATED"]="LABEL_REPEATED",h[p[2]="LABEL_REQUIRED"]="LABEL_REQUIRED",h),zt),u.OneofDescriptorProto=(Cr.prototype.name="",Cr.prototype.options=null,Cr.fromObject=function(t){if(t instanceof d.google.protobuf.OneofDescriptorProto)return t;var _=new d.google.protobuf.OneofDescriptorProto;if(t.name!=null&&(_.name=String(t.name)),t.options!=null){if(typeof t.options!="object")throw TypeError(".google.protobuf.OneofDescriptorProto.options: object expected");_.options=d.google.protobuf.OneofOptions.fromObject(t.options)}return _},Cr.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.name="",E.options=null),t.name!=null&&t.hasOwnProperty("name")&&(E.name=t.name),t.options!=null&&t.hasOwnProperty("options")&&(E.options=d.google.protobuf.OneofOptions.toObject(t.options,_)),E},Cr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Cr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.OneofDescriptorProto"},Cr),u.EnumDescriptorProto=(ur.prototype.name="",ur.prototype.value=c.emptyArray,ur.prototype.options=null,ur.prototype.reservedRange=c.emptyArray,ur.prototype.reservedName=c.emptyArray,ur.fromObject=function(t){if(t instanceof d.google.protobuf.EnumDescriptorProto)return t;var _=new d.google.protobuf.EnumDescriptorProto;if(t.name!=null&&(_.name=String(t.name)),t.value){if(!Array.isArray(t.value))throw TypeError(".google.protobuf.EnumDescriptorProto.value: array expected");_.value=[];for(var E=0;E<t.value.length;++E){if(typeof t.value[E]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.value: object expected");_.value[E]=d.google.protobuf.EnumValueDescriptorProto.fromObject(t.value[E])}}if(t.options!=null){if(typeof t.options!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.options: object expected");_.options=d.google.protobuf.EnumOptions.fromObject(t.options)}if(t.reservedRange){if(!Array.isArray(t.reservedRange))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: array expected");for(_.reservedRange=[],E=0;E<t.reservedRange.length;++E){if(typeof t.reservedRange[E]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: object expected");_.reservedRange[E]=d.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(t.reservedRange[E])}}if(t.reservedName){if(!Array.isArray(t.reservedName))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedName: array expected");for(_.reservedName=[],E=0;E<t.reservedName.length;++E)_.reservedName[E]=String(t.reservedName[E])}return _},ur.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.value=[],E.reservedRange=[],E.reservedName=[]),_.defaults&&(E.name="",E.options=null),t.name!=null&&t.hasOwnProperty("name")&&(E.name=t.name),t.value&&t.value.length){E.value=[];for(var se=0;se<t.value.length;++se)E.value[se]=d.google.protobuf.EnumValueDescriptorProto.toObject(t.value[se],_)}if(t.options!=null&&t.hasOwnProperty("options")&&(E.options=d.google.protobuf.EnumOptions.toObject(t.options,_)),t.reservedRange&&t.reservedRange.length)for(E.reservedRange=[],se=0;se<t.reservedRange.length;++se)E.reservedRange[se]=d.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(t.reservedRange[se],_);if(t.reservedName&&t.reservedName.length)for(E.reservedName=[],se=0;se<t.reservedName.length;++se)E.reservedName[se]=t.reservedName[se];return E},ur.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ur.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.EnumDescriptorProto"},ur.EnumReservedRange=(Pe.prototype.start=0,Pe.prototype.end=0,Pe.fromObject=function(t){var _;return t instanceof d.google.protobuf.EnumDescriptorProto.EnumReservedRange?t:(_=new d.google.protobuf.EnumDescriptorProto.EnumReservedRange,t.start!=null&&(_.start=0|t.start),t.end!=null&&(_.end=0|t.end),_)},Pe.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.start=0,E.end=0),t.start!=null&&t.hasOwnProperty("start")&&(E.start=t.start),t.end!=null&&t.hasOwnProperty("end")&&(E.end=t.end),E},Pe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Pe.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.EnumDescriptorProto.EnumReservedRange"},Pe),ur),u.EnumValueDescriptorProto=(Ce.prototype.name="",Ce.prototype.number=0,Ce.prototype.options=null,Ce.fromObject=function(t){if(t instanceof d.google.protobuf.EnumValueDescriptorProto)return t;var _=new d.google.protobuf.EnumValueDescriptorProto;if(t.name!=null&&(_.name=String(t.name)),t.number!=null&&(_.number=0|t.number),t.options!=null){if(typeof t.options!="object")throw TypeError(".google.protobuf.EnumValueDescriptorProto.options: object expected");_.options=d.google.protobuf.EnumValueOptions.fromObject(t.options)}return _},Ce.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.name="",E.number=0,E.options=null),t.name!=null&&t.hasOwnProperty("name")&&(E.name=t.name),t.number!=null&&t.hasOwnProperty("number")&&(E.number=t.number),t.options!=null&&t.hasOwnProperty("options")&&(E.options=d.google.protobuf.EnumValueOptions.toObject(t.options,_)),E},Ce.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ce.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.EnumValueDescriptorProto"},Ce),u.ServiceDescriptorProto=(Ve.prototype.name="",Ve.prototype.method=c.emptyArray,Ve.prototype.options=null,Ve.fromObject=function(t){if(t instanceof d.google.protobuf.ServiceDescriptorProto)return t;var _=new d.google.protobuf.ServiceDescriptorProto;if(t.name!=null&&(_.name=String(t.name)),t.method){if(!Array.isArray(t.method))throw TypeError(".google.protobuf.ServiceDescriptorProto.method: array expected");_.method=[];for(var E=0;E<t.method.length;++E){if(typeof t.method[E]!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.method: object expected");_.method[E]=d.google.protobuf.MethodDescriptorProto.fromObject(t.method[E])}}if(t.options!=null){if(typeof t.options!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.options: object expected");_.options=d.google.protobuf.ServiceOptions.fromObject(t.options)}return _},Ve.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.method=[]),_.defaults&&(E.name="",E.options=null),t.name!=null&&t.hasOwnProperty("name")&&(E.name=t.name),t.method&&t.method.length){E.method=[];for(var se=0;se<t.method.length;++se)E.method[se]=d.google.protobuf.MethodDescriptorProto.toObject(t.method[se],_)}return t.options!=null&&t.hasOwnProperty("options")&&(E.options=d.google.protobuf.ServiceOptions.toObject(t.options,_)),E},Ve.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ve.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.ServiceDescriptorProto"},Ve),u.MethodDescriptorProto=(He.prototype.name="",He.prototype.inputType="",He.prototype.outputType="",He.prototype.options=null,He.prototype.clientStreaming=!1,He.prototype.serverStreaming=!1,He.fromObject=function(t){if(t instanceof d.google.protobuf.MethodDescriptorProto)return t;var _=new d.google.protobuf.MethodDescriptorProto;if(t.name!=null&&(_.name=String(t.name)),t.inputType!=null&&(_.inputType=String(t.inputType)),t.outputType!=null&&(_.outputType=String(t.outputType)),t.options!=null){if(typeof t.options!="object")throw TypeError(".google.protobuf.MethodDescriptorProto.options: object expected");_.options=d.google.protobuf.MethodOptions.fromObject(t.options)}return t.clientStreaming!=null&&(_.clientStreaming=!!t.clientStreaming),t.serverStreaming!=null&&(_.serverStreaming=!!t.serverStreaming),_},He.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.name="",E.inputType="",E.outputType="",E.options=null,E.clientStreaming=!1,E.serverStreaming=!1),t.name!=null&&t.hasOwnProperty("name")&&(E.name=t.name),t.inputType!=null&&t.hasOwnProperty("inputType")&&(E.inputType=t.inputType),t.outputType!=null&&t.hasOwnProperty("outputType")&&(E.outputType=t.outputType),t.options!=null&&t.hasOwnProperty("options")&&(E.options=d.google.protobuf.MethodOptions.toObject(t.options,_)),t.clientStreaming!=null&&t.hasOwnProperty("clientStreaming")&&(E.clientStreaming=t.clientStreaming),t.serverStreaming!=null&&t.hasOwnProperty("serverStreaming")&&(E.serverStreaming=t.serverStreaming),E},He.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},He.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.MethodDescriptorProto"},He),u.FileOptions=(Je.prototype.javaPackage="",Je.prototype.javaOuterClassname="",Je.prototype.javaMultipleFiles=!1,Je.prototype.javaGenerateEqualsAndHash=!1,Je.prototype.javaStringCheckUtf8=!1,Je.prototype.optimizeFor=1,Je.prototype.goPackage="",Je.prototype.ccGenericServices=!1,Je.prototype.javaGenericServices=!1,Je.prototype.pyGenericServices=!1,Je.prototype.deprecated=!1,Je.prototype.ccEnableArenas=!0,Je.prototype.objcClassPrefix="",Je.prototype.csharpNamespace="",Je.prototype.swiftPrefix="",Je.prototype.phpClassPrefix="",Je.prototype.phpNamespace="",Je.prototype.phpMetadataNamespace="",Je.prototype.rubyPackage="",Je.prototype.features=null,Je.prototype.uninterpretedOption=c.emptyArray,Je.prototype[".google.api.resourceDefinition"]=c.emptyArray,Je.fromObject=function(t){if(t instanceof d.google.protobuf.FileOptions)return t;var _=new d.google.protobuf.FileOptions;switch(t.javaPackage!=null&&(_.javaPackage=String(t.javaPackage)),t.javaOuterClassname!=null&&(_.javaOuterClassname=String(t.javaOuterClassname)),t.javaMultipleFiles!=null&&(_.javaMultipleFiles=!!t.javaMultipleFiles),t.javaGenerateEqualsAndHash!=null&&(_.javaGenerateEqualsAndHash=!!t.javaGenerateEqualsAndHash),t.javaStringCheckUtf8!=null&&(_.javaStringCheckUtf8=!!t.javaStringCheckUtf8),t.optimizeFor){default:typeof t.optimizeFor=="number"&&(_.optimizeFor=t.optimizeFor);break;case"SPEED":case 1:_.optimizeFor=1;break;case"CODE_SIZE":case 2:_.optimizeFor=2;break;case"LITE_RUNTIME":case 3:_.optimizeFor=3}if(t.goPackage!=null&&(_.goPackage=String(t.goPackage)),t.ccGenericServices!=null&&(_.ccGenericServices=!!t.ccGenericServices),t.javaGenericServices!=null&&(_.javaGenericServices=!!t.javaGenericServices),t.pyGenericServices!=null&&(_.pyGenericServices=!!t.pyGenericServices),t.deprecated!=null&&(_.deprecated=!!t.deprecated),t.ccEnableArenas!=null&&(_.ccEnableArenas=!!t.ccEnableArenas),t.objcClassPrefix!=null&&(_.objcClassPrefix=String(t.objcClassPrefix)),t.csharpNamespace!=null&&(_.csharpNamespace=String(t.csharpNamespace)),t.swiftPrefix!=null&&(_.swiftPrefix=String(t.swiftPrefix)),t.phpClassPrefix!=null&&(_.phpClassPrefix=String(t.phpClassPrefix)),t.phpNamespace!=null&&(_.phpNamespace=String(t.phpNamespace)),t.phpMetadataNamespace!=null&&(_.phpMetadataNamespace=String(t.phpMetadataNamespace)),t.rubyPackage!=null&&(_.rubyPackage=String(t.rubyPackage)),t.features!=null){if(typeof t.features!="object")throw TypeError(".google.protobuf.FileOptions.features: object expected");_.features=d.google.protobuf.FeatureSet.fromObject(t.features)}if(t.uninterpretedOption){if(!Array.isArray(t.uninterpretedOption))throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: array expected");_.uninterpretedOption=[];for(var E=0;E<t.uninterpretedOption.length;++E){if(typeof t.uninterpretedOption[E]!="object")throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: object expected");_.uninterpretedOption[E]=d.google.protobuf.UninterpretedOption.fromObject(t.uninterpretedOption[E])}}if(t[".google.api.resourceDefinition"]){if(!Array.isArray(t[".google.api.resourceDefinition"]))throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: array expected");for(_[".google.api.resourceDefinition"]=[],E=0;E<t[".google.api.resourceDefinition"].length;++E){if(typeof t[".google.api.resourceDefinition"][E]!="object")throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: object expected");_[".google.api.resourceDefinition"][E]=d.google.api.ResourceDescriptor.fromObject(t[".google.api.resourceDefinition"][E])}}return _},Je.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.uninterpretedOption=[],E[".google.api.resourceDefinition"]=[]),_.defaults&&(E.javaPackage="",E.javaOuterClassname="",E.optimizeFor=_.enums===String?"SPEED":1,E.javaMultipleFiles=!1,E.goPackage="",E.ccGenericServices=!1,E.javaGenericServices=!1,E.pyGenericServices=!1,E.javaGenerateEqualsAndHash=!1,E.deprecated=!1,E.javaStringCheckUtf8=!1,E.ccEnableArenas=!0,E.objcClassPrefix="",E.csharpNamespace="",E.swiftPrefix="",E.phpClassPrefix="",E.phpNamespace="",E.phpMetadataNamespace="",E.rubyPackage="",E.features=null),t.javaPackage!=null&&t.hasOwnProperty("javaPackage")&&(E.javaPackage=t.javaPackage),t.javaOuterClassname!=null&&t.hasOwnProperty("javaOuterClassname")&&(E.javaOuterClassname=t.javaOuterClassname),t.optimizeFor!=null&&t.hasOwnProperty("optimizeFor")&&(E.optimizeFor=_.enums!==String||d.google.protobuf.FileOptions.OptimizeMode[t.optimizeFor]===void 0?t.optimizeFor:d.google.protobuf.FileOptions.OptimizeMode[t.optimizeFor]),t.javaMultipleFiles!=null&&t.hasOwnProperty("javaMultipleFiles")&&(E.javaMultipleFiles=t.javaMultipleFiles),t.goPackage!=null&&t.hasOwnProperty("goPackage")&&(E.goPackage=t.goPackage),t.ccGenericServices!=null&&t.hasOwnProperty("ccGenericServices")&&(E.ccGenericServices=t.ccGenericServices),t.javaGenericServices!=null&&t.hasOwnProperty("javaGenericServices")&&(E.javaGenericServices=t.javaGenericServices),t.pyGenericServices!=null&&t.hasOwnProperty("pyGenericServices")&&(E.pyGenericServices=t.pyGenericServices),t.javaGenerateEqualsAndHash!=null&&t.hasOwnProperty("javaGenerateEqualsAndHash")&&(E.javaGenerateEqualsAndHash=t.javaGenerateEqualsAndHash),t.deprecated!=null&&t.hasOwnProperty("deprecated")&&(E.deprecated=t.deprecated),t.javaStringCheckUtf8!=null&&t.hasOwnProperty("javaStringCheckUtf8")&&(E.javaStringCheckUtf8=t.javaStringCheckUtf8),t.ccEnableArenas!=null&&t.hasOwnProperty("ccEnableArenas")&&(E.ccEnableArenas=t.ccEnableArenas),t.objcClassPrefix!=null&&t.hasOwnProperty("objcClassPrefix")&&(E.objcClassPrefix=t.objcClassPrefix),t.csharpNamespace!=null&&t.hasOwnProperty("csharpNamespace")&&(E.csharpNamespace=t.csharpNamespace),t.swiftPrefix!=null&&t.hasOwnProperty("swiftPrefix")&&(E.swiftPrefix=t.swiftPrefix),t.phpClassPrefix!=null&&t.hasOwnProperty("phpClassPrefix")&&(E.phpClassPrefix=t.phpClassPrefix),t.phpNamespace!=null&&t.hasOwnProperty("phpNamespace")&&(E.phpNamespace=t.phpNamespace),t.phpMetadataNamespace!=null&&t.hasOwnProperty("phpMetadataNamespace")&&(E.phpMetadataNamespace=t.phpMetadataNamespace),t.rubyPackage!=null&&t.hasOwnProperty("rubyPackage")&&(E.rubyPackage=t.rubyPackage),t.features!=null&&t.hasOwnProperty("features")&&(E.features=d.google.protobuf.FeatureSet.toObject(t.features,_)),t.uninterpretedOption&&t.uninterpretedOption.length){E.uninterpretedOption=[];for(var se=0;se<t.uninterpretedOption.length;++se)E.uninterpretedOption[se]=d.google.protobuf.UninterpretedOption.toObject(t.uninterpretedOption[se],_)}if(t[".google.api.resourceDefinition"]&&t[".google.api.resourceDefinition"].length)for(E[".google.api.resourceDefinition"]=[],se=0;se<t[".google.api.resourceDefinition"].length;++se)E[".google.api.resourceDefinition"][se]=d.google.api.ResourceDescriptor.toObject(t[".google.api.resourceDefinition"][se],_);return E},Je.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Je.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.FileOptions"},Je.OptimizeMode=(p={},(h=Object.create(p))[p[1]="SPEED"]="SPEED",h[p[2]="CODE_SIZE"]="CODE_SIZE",h[p[3]="LITE_RUNTIME"]="LITE_RUNTIME",h),Je),u.MessageOptions=(tt.prototype.messageSetWireFormat=!1,tt.prototype.noStandardDescriptorAccessor=!1,tt.prototype.deprecated=!1,tt.prototype.mapEntry=!1,tt.prototype.deprecatedLegacyJsonFieldConflicts=!1,tt.prototype.features=null,tt.prototype.uninterpretedOption=c.emptyArray,tt.prototype[".google.api.resource"]=null,tt.fromObject=function(t){if(t instanceof d.google.protobuf.MessageOptions)return t;var _=new d.google.protobuf.MessageOptions;if(t.messageSetWireFormat!=null&&(_.messageSetWireFormat=!!t.messageSetWireFormat),t.noStandardDescriptorAccessor!=null&&(_.noStandardDescriptorAccessor=!!t.noStandardDescriptorAccessor),t.deprecated!=null&&(_.deprecated=!!t.deprecated),t.mapEntry!=null&&(_.mapEntry=!!t.mapEntry),t.deprecatedLegacyJsonFieldConflicts!=null&&(_.deprecatedLegacyJsonFieldConflicts=!!t.deprecatedLegacyJsonFieldConflicts),t.features!=null){if(typeof t.features!="object")throw TypeError(".google.protobuf.MessageOptions.features: object expected");_.features=d.google.protobuf.FeatureSet.fromObject(t.features)}if(t.uninterpretedOption){if(!Array.isArray(t.uninterpretedOption))throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: array expected");_.uninterpretedOption=[];for(var E=0;E<t.uninterpretedOption.length;++E){if(typeof t.uninterpretedOption[E]!="object")throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: object expected");_.uninterpretedOption[E]=d.google.protobuf.UninterpretedOption.fromObject(t.uninterpretedOption[E])}}if(t[".google.api.resource"]!=null){if(typeof t[".google.api.resource"]!="object")throw TypeError(".google.protobuf.MessageOptions..google.api.resource: object expected");_[".google.api.resource"]=d.google.api.ResourceDescriptor.fromObject(t[".google.api.resource"])}return _},tt.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.uninterpretedOption=[]),_.defaults&&(E.messageSetWireFormat=!1,E.noStandardDescriptorAccessor=!1,E.deprecated=!1,E.mapEntry=!1,E.deprecatedLegacyJsonFieldConflicts=!1,E.features=null,E[".google.api.resource"]=null),t.messageSetWireFormat!=null&&t.hasOwnProperty("messageSetWireFormat")&&(E.messageSetWireFormat=t.messageSetWireFormat),t.noStandardDescriptorAccessor!=null&&t.hasOwnProperty("noStandardDescriptorAccessor")&&(E.noStandardDescriptorAccessor=t.noStandardDescriptorAccessor),t.deprecated!=null&&t.hasOwnProperty("deprecated")&&(E.deprecated=t.deprecated),t.mapEntry!=null&&t.hasOwnProperty("mapEntry")&&(E.mapEntry=t.mapEntry),t.deprecatedLegacyJsonFieldConflicts!=null&&t.hasOwnProperty("deprecatedLegacyJsonFieldConflicts")&&(E.deprecatedLegacyJsonFieldConflicts=t.deprecatedLegacyJsonFieldConflicts),t.features!=null&&t.hasOwnProperty("features")&&(E.features=d.google.protobuf.FeatureSet.toObject(t.features,_)),t.uninterpretedOption&&t.uninterpretedOption.length){E.uninterpretedOption=[];for(var se=0;se<t.uninterpretedOption.length;++se)E.uninterpretedOption[se]=d.google.protobuf.UninterpretedOption.toObject(t.uninterpretedOption[se],_)}return t[".google.api.resource"]!=null&&t.hasOwnProperty(".google.api.resource")&&(E[".google.api.resource"]=d.google.api.ResourceDescriptor.toObject(t[".google.api.resource"],_)),E},tt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},tt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.MessageOptions"},tt),u.FieldOptions=(it.prototype.ctype=0,it.prototype.packed=!1,it.prototype.jstype=0,it.prototype.lazy=!1,it.prototype.unverifiedLazy=!1,it.prototype.deprecated=!1,it.prototype.weak=!1,it.prototype.debugRedact=!1,it.prototype.retention=0,it.prototype.targets=c.emptyArray,it.prototype.editionDefaults=c.emptyArray,it.prototype.features=null,it.prototype.uninterpretedOption=c.emptyArray,it.prototype[".google.api.fieldBehavior"]=c.emptyArray,it.prototype[".google.api.resourceReference"]=null,it.fromObject=function(t){if(t instanceof d.google.protobuf.FieldOptions)return t;var _=new d.google.protobuf.FieldOptions;switch(t.ctype){default:typeof t.ctype=="number"&&(_.ctype=t.ctype);break;case"STRING":case 0:_.ctype=0;break;case"CORD":case 1:_.ctype=1;break;case"STRING_PIECE":case 2:_.ctype=2}switch(t.packed!=null&&(_.packed=!!t.packed),t.jstype){default:typeof t.jstype=="number"&&(_.jstype=t.jstype);break;case"JS_NORMAL":case 0:_.jstype=0;break;case"JS_STRING":case 1:_.jstype=1;break;case"JS_NUMBER":case 2:_.jstype=2}switch(t.lazy!=null&&(_.lazy=!!t.lazy),t.unverifiedLazy!=null&&(_.unverifiedLazy=!!t.unverifiedLazy),t.deprecated!=null&&(_.deprecated=!!t.deprecated),t.weak!=null&&(_.weak=!!t.weak),t.debugRedact!=null&&(_.debugRedact=!!t.debugRedact),t.retention){default:typeof t.retention=="number"&&(_.retention=t.retention);break;case"RETENTION_UNKNOWN":case 0:_.retention=0;break;case"RETENTION_RUNTIME":case 1:_.retention=1;break;case"RETENTION_SOURCE":case 2:_.retention=2}if(t.targets){if(!Array.isArray(t.targets))throw TypeError(".google.protobuf.FieldOptions.targets: array expected");_.targets=[];for(var E=0;E<t.targets.length;++E)switch(t.targets[E]){default:if(typeof t.targets[E]=="number"){_.targets[E]=t.targets[E];break}case"TARGET_TYPE_UNKNOWN":case 0:_.targets[E]=0;break;case"TARGET_TYPE_FILE":case 1:_.targets[E]=1;break;case"TARGET_TYPE_EXTENSION_RANGE":case 2:_.targets[E]=2;break;case"TARGET_TYPE_MESSAGE":case 3:_.targets[E]=3;break;case"TARGET_TYPE_FIELD":case 4:_.targets[E]=4;break;case"TARGET_TYPE_ONEOF":case 5:_.targets[E]=5;break;case"TARGET_TYPE_ENUM":case 6:_.targets[E]=6;break;case"TARGET_TYPE_ENUM_ENTRY":case 7:_.targets[E]=7;break;case"TARGET_TYPE_SERVICE":case 8:_.targets[E]=8;break;case"TARGET_TYPE_METHOD":case 9:_.targets[E]=9}}if(t.editionDefaults){if(!Array.isArray(t.editionDefaults))throw TypeError(".google.protobuf.FieldOptions.editionDefaults: array expected");for(_.editionDefaults=[],E=0;E<t.editionDefaults.length;++E){if(typeof t.editionDefaults[E]!="object")throw TypeError(".google.protobuf.FieldOptions.editionDefaults: object expected");_.editionDefaults[E]=d.google.protobuf.FieldOptions.EditionDefault.fromObject(t.editionDefaults[E])}}if(t.features!=null){if(typeof t.features!="object")throw TypeError(".google.protobuf.FieldOptions.features: object expected");_.features=d.google.protobuf.FeatureSet.fromObject(t.features)}if(t.uninterpretedOption){if(!Array.isArray(t.uninterpretedOption))throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: array expected");for(_.uninterpretedOption=[],E=0;E<t.uninterpretedOption.length;++E){if(typeof t.uninterpretedOption[E]!="object")throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: object expected");_.uninterpretedOption[E]=d.google.protobuf.UninterpretedOption.fromObject(t.uninterpretedOption[E])}}if(t[".google.api.fieldBehavior"]){if(!Array.isArray(t[".google.api.fieldBehavior"]))throw TypeError(".google.protobuf.FieldOptions..google.api.fieldBehavior: array expected");for(_[".google.api.fieldBehavior"]=[],E=0;E<t[".google.api.fieldBehavior"].length;++E)switch(t[".google.api.fieldBehavior"][E]){default:if(typeof t[".google.api.fieldBehavior"][E]=="number"){_[".google.api.fieldBehavior"][E]=t[".google.api.fieldBehavior"][E];break}case"FIELD_BEHAVIOR_UNSPECIFIED":case 0:_[".google.api.fieldBehavior"][E]=0;break;case"OPTIONAL":case 1:_[".google.api.fieldBehavior"][E]=1;break;case"REQUIRED":case 2:_[".google.api.fieldBehavior"][E]=2;break;case"OUTPUT_ONLY":case 3:_[".google.api.fieldBehavior"][E]=3;break;case"INPUT_ONLY":case 4:_[".google.api.fieldBehavior"][E]=4;break;case"IMMUTABLE":case 5:_[".google.api.fieldBehavior"][E]=5;break;case"UNORDERED_LIST":case 6:_[".google.api.fieldBehavior"][E]=6;break;case"NON_EMPTY_DEFAULT":case 7:_[".google.api.fieldBehavior"][E]=7;break;case"IDENTIFIER":case 8:_[".google.api.fieldBehavior"][E]=8}}if(t[".google.api.resourceReference"]!=null){if(typeof t[".google.api.resourceReference"]!="object")throw TypeError(".google.protobuf.FieldOptions..google.api.resourceReference: object expected");_[".google.api.resourceReference"]=d.google.api.ResourceReference.fromObject(t[".google.api.resourceReference"])}return _},it.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.targets=[],E.editionDefaults=[],E.uninterpretedOption=[],E[".google.api.fieldBehavior"]=[]),_.defaults&&(E.ctype=_.enums===String?"STRING":0,E.packed=!1,E.deprecated=!1,E.lazy=!1,E.jstype=_.enums===String?"JS_NORMAL":0,E.weak=!1,E.unverifiedLazy=!1,E.debugRedact=!1,E.retention=_.enums===String?"RETENTION_UNKNOWN":0,E.features=null,E[".google.api.resourceReference"]=null),t.ctype!=null&&t.hasOwnProperty("ctype")&&(E.ctype=_.enums!==String||d.google.protobuf.FieldOptions.CType[t.ctype]===void 0?t.ctype:d.google.protobuf.FieldOptions.CType[t.ctype]),t.packed!=null&&t.hasOwnProperty("packed")&&(E.packed=t.packed),t.deprecated!=null&&t.hasOwnProperty("deprecated")&&(E.deprecated=t.deprecated),t.lazy!=null&&t.hasOwnProperty("lazy")&&(E.lazy=t.lazy),t.jstype!=null&&t.hasOwnProperty("jstype")&&(E.jstype=_.enums!==String||d.google.protobuf.FieldOptions.JSType[t.jstype]===void 0?t.jstype:d.google.protobuf.FieldOptions.JSType[t.jstype]),t.weak!=null&&t.hasOwnProperty("weak")&&(E.weak=t.weak),t.unverifiedLazy!=null&&t.hasOwnProperty("unverifiedLazy")&&(E.unverifiedLazy=t.unverifiedLazy),t.debugRedact!=null&&t.hasOwnProperty("debugRedact")&&(E.debugRedact=t.debugRedact),t.retention!=null&&t.hasOwnProperty("retention")&&(E.retention=_.enums!==String||d.google.protobuf.FieldOptions.OptionRetention[t.retention]===void 0?t.retention:d.google.protobuf.FieldOptions.OptionRetention[t.retention]),t.targets&&t.targets.length){E.targets=[];for(var se=0;se<t.targets.length;++se)E.targets[se]=_.enums!==String||d.google.protobuf.FieldOptions.OptionTargetType[t.targets[se]]===void 0?t.targets[se]:d.google.protobuf.FieldOptions.OptionTargetType[t.targets[se]]}if(t.editionDefaults&&t.editionDefaults.length)for(E.editionDefaults=[],se=0;se<t.editionDefaults.length;++se)E.editionDefaults[se]=d.google.protobuf.FieldOptions.EditionDefault.toObject(t.editionDefaults[se],_);if(t.features!=null&&t.hasOwnProperty("features")&&(E.features=d.google.protobuf.FeatureSet.toObject(t.features,_)),t.uninterpretedOption&&t.uninterpretedOption.length)for(E.uninterpretedOption=[],se=0;se<t.uninterpretedOption.length;++se)E.uninterpretedOption[se]=d.google.protobuf.UninterpretedOption.toObject(t.uninterpretedOption[se],_);if(t[".google.api.fieldBehavior"]&&t[".google.api.fieldBehavior"].length)for(E[".google.api.fieldBehavior"]=[],se=0;se<t[".google.api.fieldBehavior"].length;++se)E[".google.api.fieldBehavior"][se]=_.enums!==String||d.google.api.FieldBehavior[t[".google.api.fieldBehavior"][se]]===void 0?t[".google.api.fieldBehavior"][se]:d.google.api.FieldBehavior[t[".google.api.fieldBehavior"][se]];return t[".google.api.resourceReference"]!=null&&t.hasOwnProperty(".google.api.resourceReference")&&(E[".google.api.resourceReference"]=d.google.api.ResourceReference.toObject(t[".google.api.resourceReference"],_)),E},it.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},it.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.FieldOptions"},it.CType=(p={},(h=Object.create(p))[p[0]="STRING"]="STRING",h[p[1]="CORD"]="CORD",h[p[2]="STRING_PIECE"]="STRING_PIECE",h),it.JSType=(p={},(h=Object.create(p))[p[0]="JS_NORMAL"]="JS_NORMAL",h[p[1]="JS_STRING"]="JS_STRING",h[p[2]="JS_NUMBER"]="JS_NUMBER",h),it.OptionRetention=(p={},(h=Object.create(p))[p[0]="RETENTION_UNKNOWN"]="RETENTION_UNKNOWN",h[p[1]="RETENTION_RUNTIME"]="RETENTION_RUNTIME",h[p[2]="RETENTION_SOURCE"]="RETENTION_SOURCE",h),it.OptionTargetType=(p={},(h=Object.create(p))[p[0]="TARGET_TYPE_UNKNOWN"]="TARGET_TYPE_UNKNOWN",h[p[1]="TARGET_TYPE_FILE"]="TARGET_TYPE_FILE",h[p[2]="TARGET_TYPE_EXTENSION_RANGE"]="TARGET_TYPE_EXTENSION_RANGE",h[p[3]="TARGET_TYPE_MESSAGE"]="TARGET_TYPE_MESSAGE",h[p[4]="TARGET_TYPE_FIELD"]="TARGET_TYPE_FIELD",h[p[5]="TARGET_TYPE_ONEOF"]="TARGET_TYPE_ONEOF",h[p[6]="TARGET_TYPE_ENUM"]="TARGET_TYPE_ENUM",h[p[7]="TARGET_TYPE_ENUM_ENTRY"]="TARGET_TYPE_ENUM_ENTRY",h[p[8]="TARGET_TYPE_SERVICE"]="TARGET_TYPE_SERVICE",h[p[9]="TARGET_TYPE_METHOD"]="TARGET_TYPE_METHOD",h),it.EditionDefault=(st.prototype.edition=0,st.prototype.value="",st.fromObject=function(t){if(t instanceof d.google.protobuf.FieldOptions.EditionDefault)return t;var _=new d.google.protobuf.FieldOptions.EditionDefault;switch(t.edition){default:typeof t.edition=="number"&&(_.edition=t.edition);break;case"EDITION_UNKNOWN":case 0:_.edition=0;break;case"EDITION_PROTO2":case 998:_.edition=998;break;case"EDITION_PROTO3":case 999:_.edition=999;break;case"EDITION_2023":case 1e3:_.edition=1e3;break;case"EDITION_2024":case 1001:_.edition=1001;break;case"EDITION_1_TEST_ONLY":case 1:_.edition=1;break;case"EDITION_2_TEST_ONLY":case 2:_.edition=2;break;case"EDITION_99997_TEST_ONLY":case 99997:_.edition=99997;break;case"EDITION_99998_TEST_ONLY":case 99998:_.edition=99998;break;case"EDITION_99999_TEST_ONLY":case 99999:_.edition=99999;break;case"EDITION_MAX":case 2147483647:_.edition=2147483647}return t.value!=null&&(_.value=String(t.value)),_},st.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.value="",E.edition=_.enums===String?"EDITION_UNKNOWN":0),t.value!=null&&t.hasOwnProperty("value")&&(E.value=t.value),t.edition!=null&&t.hasOwnProperty("edition")&&(E.edition=_.enums!==String||d.google.protobuf.Edition[t.edition]===void 0?t.edition:d.google.protobuf.Edition[t.edition]),E},st.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},st.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.FieldOptions.EditionDefault"},st),it),u.OneofOptions=(vt.prototype.features=null,vt.prototype.uninterpretedOption=c.emptyArray,vt.fromObject=function(t){if(t instanceof d.google.protobuf.OneofOptions)return t;var _=new d.google.protobuf.OneofOptions;if(t.features!=null){if(typeof t.features!="object")throw TypeError(".google.protobuf.OneofOptions.features: object expected");_.features=d.google.protobuf.FeatureSet.fromObject(t.features)}if(t.uninterpretedOption){if(!Array.isArray(t.uninterpretedOption))throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: array expected");_.uninterpretedOption=[];for(var E=0;E<t.uninterpretedOption.length;++E){if(typeof t.uninterpretedOption[E]!="object")throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: object expected");_.uninterpretedOption[E]=d.google.protobuf.UninterpretedOption.fromObject(t.uninterpretedOption[E])}}return _},vt.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.uninterpretedOption=[]),_.defaults&&(E.features=null),t.features!=null&&t.hasOwnProperty("features")&&(E.features=d.google.protobuf.FeatureSet.toObject(t.features,_)),t.uninterpretedOption&&t.uninterpretedOption.length){E.uninterpretedOption=[];for(var se=0;se<t.uninterpretedOption.length;++se)E.uninterpretedOption[se]=d.google.protobuf.UninterpretedOption.toObject(t.uninterpretedOption[se],_)}return E},vt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},vt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.OneofOptions"},vt),u.EnumOptions=(Ct.prototype.allowAlias=!1,Ct.prototype.deprecated=!1,Ct.prototype.deprecatedLegacyJsonFieldConflicts=!1,Ct.prototype.features=null,Ct.prototype.uninterpretedOption=c.emptyArray,Ct.fromObject=function(t){if(t instanceof d.google.protobuf.EnumOptions)return t;var _=new d.google.protobuf.EnumOptions;if(t.allowAlias!=null&&(_.allowAlias=!!t.allowAlias),t.deprecated!=null&&(_.deprecated=!!t.deprecated),t.deprecatedLegacyJsonFieldConflicts!=null&&(_.deprecatedLegacyJsonFieldConflicts=!!t.deprecatedLegacyJsonFieldConflicts),t.features!=null){if(typeof t.features!="object")throw TypeError(".google.protobuf.EnumOptions.features: object expected");_.features=d.google.protobuf.FeatureSet.fromObject(t.features)}if(t.uninterpretedOption){if(!Array.isArray(t.uninterpretedOption))throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: array expected");_.uninterpretedOption=[];for(var E=0;E<t.uninterpretedOption.length;++E){if(typeof t.uninterpretedOption[E]!="object")throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: object expected");_.uninterpretedOption[E]=d.google.protobuf.UninterpretedOption.fromObject(t.uninterpretedOption[E])}}return _},Ct.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.uninterpretedOption=[]),_.defaults&&(E.allowAlias=!1,E.deprecated=!1,E.deprecatedLegacyJsonFieldConflicts=!1,E.features=null),t.allowAlias!=null&&t.hasOwnProperty("allowAlias")&&(E.allowAlias=t.allowAlias),t.deprecated!=null&&t.hasOwnProperty("deprecated")&&(E.deprecated=t.deprecated),t.deprecatedLegacyJsonFieldConflicts!=null&&t.hasOwnProperty("deprecatedLegacyJsonFieldConflicts")&&(E.deprecatedLegacyJsonFieldConflicts=t.deprecatedLegacyJsonFieldConflicts),t.features!=null&&t.hasOwnProperty("features")&&(E.features=d.google.protobuf.FeatureSet.toObject(t.features,_)),t.uninterpretedOption&&t.uninterpretedOption.length){E.uninterpretedOption=[];for(var se=0;se<t.uninterpretedOption.length;++se)E.uninterpretedOption[se]=d.google.protobuf.UninterpretedOption.toObject(t.uninterpretedOption[se],_)}return E},Ct.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ct.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.EnumOptions"},Ct),u.EnumValueOptions=(Kt.prototype.deprecated=!1,Kt.prototype.features=null,Kt.prototype.debugRedact=!1,Kt.prototype.uninterpretedOption=c.emptyArray,Kt.fromObject=function(t){if(t instanceof d.google.protobuf.EnumValueOptions)return t;var _=new d.google.protobuf.EnumValueOptions;if(t.deprecated!=null&&(_.deprecated=!!t.deprecated),t.features!=null){if(typeof t.features!="object")throw TypeError(".google.protobuf.EnumValueOptions.features: object expected");_.features=d.google.protobuf.FeatureSet.fromObject(t.features)}if(t.debugRedact!=null&&(_.debugRedact=!!t.debugRedact),t.uninterpretedOption){if(!Array.isArray(t.uninterpretedOption))throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: array expected");_.uninterpretedOption=[];for(var E=0;E<t.uninterpretedOption.length;++E){if(typeof t.uninterpretedOption[E]!="object")throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: object expected");_.uninterpretedOption[E]=d.google.protobuf.UninterpretedOption.fromObject(t.uninterpretedOption[E])}}return _},Kt.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.uninterpretedOption=[]),_.defaults&&(E.deprecated=!1,E.features=null,E.debugRedact=!1),t.deprecated!=null&&t.hasOwnProperty("deprecated")&&(E.deprecated=t.deprecated),t.features!=null&&t.hasOwnProperty("features")&&(E.features=d.google.protobuf.FeatureSet.toObject(t.features,_)),t.debugRedact!=null&&t.hasOwnProperty("debugRedact")&&(E.debugRedact=t.debugRedact),t.uninterpretedOption&&t.uninterpretedOption.length){E.uninterpretedOption=[];for(var se=0;se<t.uninterpretedOption.length;++se)E.uninterpretedOption[se]=d.google.protobuf.UninterpretedOption.toObject(t.uninterpretedOption[se],_)}return E},Kt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Kt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.EnumValueOptions"},Kt),u.ServiceOptions=(St.prototype.features=null,St.prototype.deprecated=!1,St.prototype.uninterpretedOption=c.emptyArray,St.prototype[".google.api.defaultHost"]="",St.prototype[".google.api.oauthScopes"]="",St.prototype[".google.api.apiVersion"]="",St.fromObject=function(t){if(t instanceof d.google.protobuf.ServiceOptions)return t;var _=new d.google.protobuf.ServiceOptions;if(t.features!=null){if(typeof t.features!="object")throw TypeError(".google.protobuf.ServiceOptions.features: object expected");_.features=d.google.protobuf.FeatureSet.fromObject(t.features)}if(t.deprecated!=null&&(_.deprecated=!!t.deprecated),t.uninterpretedOption){if(!Array.isArray(t.uninterpretedOption))throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: array expected");_.uninterpretedOption=[];for(var E=0;E<t.uninterpretedOption.length;++E){if(typeof t.uninterpretedOption[E]!="object")throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: object expected");_.uninterpretedOption[E]=d.google.protobuf.UninterpretedOption.fromObject(t.uninterpretedOption[E])}}return t[".google.api.defaultHost"]!=null&&(_[".google.api.defaultHost"]=String(t[".google.api.defaultHost"])),t[".google.api.oauthScopes"]!=null&&(_[".google.api.oauthScopes"]=String(t[".google.api.oauthScopes"])),t[".google.api.apiVersion"]!=null&&(_[".google.api.apiVersion"]=String(t[".google.api.apiVersion"])),_},St.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.uninterpretedOption=[]),_.defaults&&(E.deprecated=!1,E.features=null,E[".google.api.defaultHost"]="",E[".google.api.oauthScopes"]="",E[".google.api.apiVersion"]=""),t.deprecated!=null&&t.hasOwnProperty("deprecated")&&(E.deprecated=t.deprecated),t.features!=null&&t.hasOwnProperty("features")&&(E.features=d.google.protobuf.FeatureSet.toObject(t.features,_)),t.uninterpretedOption&&t.uninterpretedOption.length){E.uninterpretedOption=[];for(var se=0;se<t.uninterpretedOption.length;++se)E.uninterpretedOption[se]=d.google.protobuf.UninterpretedOption.toObject(t.uninterpretedOption[se],_)}return t[".google.api.defaultHost"]!=null&&t.hasOwnProperty(".google.api.defaultHost")&&(E[".google.api.defaultHost"]=t[".google.api.defaultHost"]),t[".google.api.oauthScopes"]!=null&&t.hasOwnProperty(".google.api.oauthScopes")&&(E[".google.api.oauthScopes"]=t[".google.api.oauthScopes"]),t[".google.api.apiVersion"]!=null&&t.hasOwnProperty(".google.api.apiVersion")&&(E[".google.api.apiVersion"]=t[".google.api.apiVersion"]),E},St.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},St.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.ServiceOptions"},St),u.MethodOptions=(At.prototype.deprecated=!1,At.prototype.idempotencyLevel=0,At.prototype.features=null,At.prototype.uninterpretedOption=c.emptyArray,At.prototype[".google.api.http"]=null,At.prototype[".google.api.methodSignature"]=c.emptyArray,At.prototype[".google.longrunning.operationInfo"]=null,At.fromObject=function(t){if(t instanceof d.google.protobuf.MethodOptions)return t;var _=new d.google.protobuf.MethodOptions;switch(t.deprecated!=null&&(_.deprecated=!!t.deprecated),t.idempotencyLevel){default:typeof t.idempotencyLevel=="number"&&(_.idempotencyLevel=t.idempotencyLevel);break;case"IDEMPOTENCY_UNKNOWN":case 0:_.idempotencyLevel=0;break;case"NO_SIDE_EFFECTS":case 1:_.idempotencyLevel=1;break;case"IDEMPOTENT":case 2:_.idempotencyLevel=2}if(t.features!=null){if(typeof t.features!="object")throw TypeError(".google.protobuf.MethodOptions.features: object expected");_.features=d.google.protobuf.FeatureSet.fromObject(t.features)}if(t.uninterpretedOption){if(!Array.isArray(t.uninterpretedOption))throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: array expected");_.uninterpretedOption=[];for(var E=0;E<t.uninterpretedOption.length;++E){if(typeof t.uninterpretedOption[E]!="object")throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: object expected");_.uninterpretedOption[E]=d.google.protobuf.UninterpretedOption.fromObject(t.uninterpretedOption[E])}}if(t[".google.api.http"]!=null){if(typeof t[".google.api.http"]!="object")throw TypeError(".google.protobuf.MethodOptions..google.api.http: object expected");_[".google.api.http"]=d.google.api.HttpRule.fromObject(t[".google.api.http"])}if(t[".google.api.methodSignature"]){if(!Array.isArray(t[".google.api.methodSignature"]))throw TypeError(".google.protobuf.MethodOptions..google.api.methodSignature: array expected");for(_[".google.api.methodSignature"]=[],E=0;E<t[".google.api.methodSignature"].length;++E)_[".google.api.methodSignature"][E]=String(t[".google.api.methodSignature"][E])}if(t[".google.longrunning.operationInfo"]!=null){if(typeof t[".google.longrunning.operationInfo"]!="object")throw TypeError(".google.protobuf.MethodOptions..google.longrunning.operationInfo: object expected");_[".google.longrunning.operationInfo"]=d.google.longrunning.OperationInfo.fromObject(t[".google.longrunning.operationInfo"])}return _},At.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.uninterpretedOption=[],E[".google.api.methodSignature"]=[]),_.defaults&&(E.deprecated=!1,E.idempotencyLevel=_.enums===String?"IDEMPOTENCY_UNKNOWN":0,E.features=null,E[".google.longrunning.operationInfo"]=null,E[".google.api.http"]=null),t.deprecated!=null&&t.hasOwnProperty("deprecated")&&(E.deprecated=t.deprecated),t.idempotencyLevel!=null&&t.hasOwnProperty("idempotencyLevel")&&(E.idempotencyLevel=_.enums!==String||d.google.protobuf.MethodOptions.IdempotencyLevel[t.idempotencyLevel]===void 0?t.idempotencyLevel:d.google.protobuf.MethodOptions.IdempotencyLevel[t.idempotencyLevel]),t.features!=null&&t.hasOwnProperty("features")&&(E.features=d.google.protobuf.FeatureSet.toObject(t.features,_)),t.uninterpretedOption&&t.uninterpretedOption.length){E.uninterpretedOption=[];for(var se=0;se<t.uninterpretedOption.length;++se)E.uninterpretedOption[se]=d.google.protobuf.UninterpretedOption.toObject(t.uninterpretedOption[se],_)}if(t[".google.longrunning.operationInfo"]!=null&&t.hasOwnProperty(".google.longrunning.operationInfo")&&(E[".google.longrunning.operationInfo"]=d.google.longrunning.OperationInfo.toObject(t[".google.longrunning.operationInfo"],_)),t[".google.api.methodSignature"]&&t[".google.api.methodSignature"].length)for(E[".google.api.methodSignature"]=[],se=0;se<t[".google.api.methodSignature"].length;++se)E[".google.api.methodSignature"][se]=t[".google.api.methodSignature"][se];return t[".google.api.http"]!=null&&t.hasOwnProperty(".google.api.http")&&(E[".google.api.http"]=d.google.api.HttpRule.toObject(t[".google.api.http"],_)),E},At.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},At.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.MethodOptions"},At.IdempotencyLevel=(p={},(h=Object.create(p))[p[0]="IDEMPOTENCY_UNKNOWN"]="IDEMPOTENCY_UNKNOWN",h[p[1]="NO_SIDE_EFFECTS"]="NO_SIDE_EFFECTS",h[p[2]="IDEMPOTENT"]="IDEMPOTENT",h),At),u.UninterpretedOption=(Yt.prototype.name=c.emptyArray,Yt.prototype.identifierValue="",Yt.prototype.positiveIntValue=c.Long?c.Long.fromBits(0,0,!0):0,Yt.prototype.negativeIntValue=c.Long?c.Long.fromBits(0,0,!1):0,Yt.prototype.doubleValue=0,Yt.prototype.stringValue=c.newBuffer([]),Yt.prototype.aggregateValue="",Yt.fromObject=function(t){if(t instanceof d.google.protobuf.UninterpretedOption)return t;var _=new d.google.protobuf.UninterpretedOption;if(t.name){if(!Array.isArray(t.name))throw TypeError(".google.protobuf.UninterpretedOption.name: array expected");_.name=[];for(var E=0;E<t.name.length;++E){if(typeof t.name[E]!="object")throw TypeError(".google.protobuf.UninterpretedOption.name: object expected");_.name[E]=d.google.protobuf.UninterpretedOption.NamePart.fromObject(t.name[E])}}return t.identifierValue!=null&&(_.identifierValue=String(t.identifierValue)),t.positiveIntValue!=null&&(c.Long?(_.positiveIntValue=c.Long.fromValue(t.positiveIntValue)).unsigned=!0:typeof t.positiveIntValue=="string"?_.positiveIntValue=parseInt(t.positiveIntValue,10):typeof t.positiveIntValue=="number"?_.positiveIntValue=t.positiveIntValue:typeof t.positiveIntValue=="object"&&(_.positiveIntValue=new c.LongBits(t.positiveIntValue.low>>>0,t.positiveIntValue.high>>>0).toNumber(!0))),t.negativeIntValue!=null&&(c.Long?(_.negativeIntValue=c.Long.fromValue(t.negativeIntValue)).unsigned=!1:typeof t.negativeIntValue=="string"?_.negativeIntValue=parseInt(t.negativeIntValue,10):typeof t.negativeIntValue=="number"?_.negativeIntValue=t.negativeIntValue:typeof t.negativeIntValue=="object"&&(_.negativeIntValue=new c.LongBits(t.negativeIntValue.low>>>0,t.negativeIntValue.high>>>0).toNumber())),t.doubleValue!=null&&(_.doubleValue=Number(t.doubleValue)),t.stringValue!=null&&(typeof t.stringValue=="string"?c.base64.decode(t.stringValue,_.stringValue=c.newBuffer(c.base64.length(t.stringValue)),0):0<=t.stringValue.length&&(_.stringValue=t.stringValue)),t.aggregateValue!=null&&(_.aggregateValue=String(t.aggregateValue)),_},Yt.toObject=function(t,_){var E,se={};if(((_=_||{}).arrays||_.defaults)&&(se.name=[]),_.defaults&&(se.identifierValue="",c.Long?(E=new c.Long(0,0,!0),se.positiveIntValue=_.longs===String?E.toString():_.longs===Number?E.toNumber():E):se.positiveIntValue=_.longs===String?"0":0,c.Long?(E=new c.Long(0,0,!1),se.negativeIntValue=_.longs===String?E.toString():_.longs===Number?E.toNumber():E):se.negativeIntValue=_.longs===String?"0":0,se.doubleValue=0,_.bytes===String?se.stringValue="":(se.stringValue=[],_.bytes!==Array&&(se.stringValue=c.newBuffer(se.stringValue))),se.aggregateValue=""),t.name&&t.name.length){se.name=[];for(var ut=0;ut<t.name.length;++ut)se.name[ut]=d.google.protobuf.UninterpretedOption.NamePart.toObject(t.name[ut],_)}return t.identifierValue!=null&&t.hasOwnProperty("identifierValue")&&(se.identifierValue=t.identifierValue),t.positiveIntValue!=null&&t.hasOwnProperty("positiveIntValue")&&(typeof t.positiveIntValue=="number"?se.positiveIntValue=_.longs===String?String(t.positiveIntValue):t.positiveIntValue:se.positiveIntValue=_.longs===String?c.Long.prototype.toString.call(t.positiveIntValue):_.longs===Number?new c.LongBits(t.positiveIntValue.low>>>0,t.positiveIntValue.high>>>0).toNumber(!0):t.positiveIntValue),t.negativeIntValue!=null&&t.hasOwnProperty("negativeIntValue")&&(typeof t.negativeIntValue=="number"?se.negativeIntValue=_.longs===String?String(t.negativeIntValue):t.negativeIntValue:se.negativeIntValue=_.longs===String?c.Long.prototype.toString.call(t.negativeIntValue):_.longs===Number?new c.LongBits(t.negativeIntValue.low>>>0,t.negativeIntValue.high>>>0).toNumber():t.negativeIntValue),t.doubleValue!=null&&t.hasOwnProperty("doubleValue")&&(se.doubleValue=_.json&&!isFinite(t.doubleValue)?String(t.doubleValue):t.doubleValue),t.stringValue!=null&&t.hasOwnProperty("stringValue")&&(se.stringValue=_.bytes===String?c.base64.encode(t.stringValue,0,t.stringValue.length):_.bytes===Array?Array.prototype.slice.call(t.stringValue):t.stringValue),t.aggregateValue!=null&&t.hasOwnProperty("aggregateValue")&&(se.aggregateValue=t.aggregateValue),se},Yt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Yt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.UninterpretedOption"},Yt.NamePart=(Jt.prototype.namePart="",Jt.prototype.isExtension=!1,Jt.fromObject=function(t){var _;return t instanceof d.google.protobuf.UninterpretedOption.NamePart?t:(_=new d.google.protobuf.UninterpretedOption.NamePart,t.namePart!=null&&(_.namePart=String(t.namePart)),t.isExtension!=null&&(_.isExtension=!!t.isExtension),_)},Jt.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.namePart="",E.isExtension=!1),t.namePart!=null&&t.hasOwnProperty("namePart")&&(E.namePart=t.namePart),t.isExtension!=null&&t.hasOwnProperty("isExtension")&&(E.isExtension=t.isExtension),E},Jt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Jt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.UninterpretedOption.NamePart"},Jt),Yt),u.FeatureSet=(Dt.prototype.fieldPresence=0,Dt.prototype.enumType=0,Dt.prototype.repeatedFieldEncoding=0,Dt.prototype.utf8Validation=0,Dt.prototype.messageEncoding=0,Dt.prototype.jsonFormat=0,Dt.fromObject=function(t){if(t instanceof d.google.protobuf.FeatureSet)return t;var _=new d.google.protobuf.FeatureSet;switch(t.fieldPresence){default:typeof t.fieldPresence=="number"&&(_.fieldPresence=t.fieldPresence);break;case"FIELD_PRESENCE_UNKNOWN":case 0:_.fieldPresence=0;break;case"EXPLICIT":case 1:_.fieldPresence=1;break;case"IMPLICIT":case 2:_.fieldPresence=2;break;case"LEGACY_REQUIRED":case 3:_.fieldPresence=3}switch(t.enumType){default:typeof t.enumType=="number"&&(_.enumType=t.enumType);break;case"ENUM_TYPE_UNKNOWN":case 0:_.enumType=0;break;case"OPEN":case 1:_.enumType=1;break;case"CLOSED":case 2:_.enumType=2}switch(t.repeatedFieldEncoding){default:typeof t.repeatedFieldEncoding=="number"&&(_.repeatedFieldEncoding=t.repeatedFieldEncoding);break;case"REPEATED_FIELD_ENCODING_UNKNOWN":case 0:_.repeatedFieldEncoding=0;break;case"PACKED":case 1:_.repeatedFieldEncoding=1;break;case"EXPANDED":case 2:_.repeatedFieldEncoding=2}switch(t.utf8Validation){default:typeof t.utf8Validation=="number"&&(_.utf8Validation=t.utf8Validation);break;case"UTF8_VALIDATION_UNKNOWN":case 0:_.utf8Validation=0;break;case"VERIFY":case 2:_.utf8Validation=2;break;case"NONE":case 3:_.utf8Validation=3}switch(t.messageEncoding){default:typeof t.messageEncoding=="number"&&(_.messageEncoding=t.messageEncoding);break;case"MESSAGE_ENCODING_UNKNOWN":case 0:_.messageEncoding=0;break;case"LENGTH_PREFIXED":case 1:_.messageEncoding=1;break;case"DELIMITED":case 2:_.messageEncoding=2}switch(t.jsonFormat){default:typeof t.jsonFormat=="number"&&(_.jsonFormat=t.jsonFormat);break;case"JSON_FORMAT_UNKNOWN":case 0:_.jsonFormat=0;break;case"ALLOW":case 1:_.jsonFormat=1;break;case"LEGACY_BEST_EFFORT":case 2:_.jsonFormat=2}return _},Dt.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.fieldPresence=_.enums===String?"FIELD_PRESENCE_UNKNOWN":0,E.enumType=_.enums===String?"ENUM_TYPE_UNKNOWN":0,E.repeatedFieldEncoding=_.enums===String?"REPEATED_FIELD_ENCODING_UNKNOWN":0,E.utf8Validation=_.enums===String?"UTF8_VALIDATION_UNKNOWN":0,E.messageEncoding=_.enums===String?"MESSAGE_ENCODING_UNKNOWN":0,E.jsonFormat=_.enums===String?"JSON_FORMAT_UNKNOWN":0),t.fieldPresence!=null&&t.hasOwnProperty("fieldPresence")&&(E.fieldPresence=_.enums!==String||d.google.protobuf.FeatureSet.FieldPresence[t.fieldPresence]===void 0?t.fieldPresence:d.google.protobuf.FeatureSet.FieldPresence[t.fieldPresence]),t.enumType!=null&&t.hasOwnProperty("enumType")&&(E.enumType=_.enums!==String||d.google.protobuf.FeatureSet.EnumType[t.enumType]===void 0?t.enumType:d.google.protobuf.FeatureSet.EnumType[t.enumType]),t.repeatedFieldEncoding!=null&&t.hasOwnProperty("repeatedFieldEncoding")&&(E.repeatedFieldEncoding=_.enums!==String||d.google.protobuf.FeatureSet.RepeatedFieldEncoding[t.repeatedFieldEncoding]===void 0?t.repeatedFieldEncoding:d.google.protobuf.FeatureSet.RepeatedFieldEncoding[t.repeatedFieldEncoding]),t.utf8Validation!=null&&t.hasOwnProperty("utf8Validation")&&(E.utf8Validation=_.enums!==String||d.google.protobuf.FeatureSet.Utf8Validation[t.utf8Validation]===void 0?t.utf8Validation:d.google.protobuf.FeatureSet.Utf8Validation[t.utf8Validation]),t.messageEncoding!=null&&t.hasOwnProperty("messageEncoding")&&(E.messageEncoding=_.enums!==String||d.google.protobuf.FeatureSet.MessageEncoding[t.messageEncoding]===void 0?t.messageEncoding:d.google.protobuf.FeatureSet.MessageEncoding[t.messageEncoding]),t.jsonFormat!=null&&t.hasOwnProperty("jsonFormat")&&(E.jsonFormat=_.enums!==String||d.google.protobuf.FeatureSet.JsonFormat[t.jsonFormat]===void 0?t.jsonFormat:d.google.protobuf.FeatureSet.JsonFormat[t.jsonFormat]),E},Dt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Dt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.FeatureSet"},Dt.FieldPresence=(p={},(h=Object.create(p))[p[0]="FIELD_PRESENCE_UNKNOWN"]="FIELD_PRESENCE_UNKNOWN",h[p[1]="EXPLICIT"]="EXPLICIT",h[p[2]="IMPLICIT"]="IMPLICIT",h[p[3]="LEGACY_REQUIRED"]="LEGACY_REQUIRED",h),Dt.EnumType=(p={},(h=Object.create(p))[p[0]="ENUM_TYPE_UNKNOWN"]="ENUM_TYPE_UNKNOWN",h[p[1]="OPEN"]="OPEN",h[p[2]="CLOSED"]="CLOSED",h),Dt.RepeatedFieldEncoding=(p={},(h=Object.create(p))[p[0]="REPEATED_FIELD_ENCODING_UNKNOWN"]="REPEATED_FIELD_ENCODING_UNKNOWN",h[p[1]="PACKED"]="PACKED",h[p[2]="EXPANDED"]="EXPANDED",h),Dt.Utf8Validation=(p={},(h=Object.create(p))[p[0]="UTF8_VALIDATION_UNKNOWN"]="UTF8_VALIDATION_UNKNOWN",h[p[2]="VERIFY"]="VERIFY",h[p[3]="NONE"]="NONE",h),Dt.MessageEncoding=(p={},(h=Object.create(p))[p[0]="MESSAGE_ENCODING_UNKNOWN"]="MESSAGE_ENCODING_UNKNOWN",h[p[1]="LENGTH_PREFIXED"]="LENGTH_PREFIXED",h[p[2]="DELIMITED"]="DELIMITED",h),Dt.JsonFormat=(p={},(h=Object.create(p))[p[0]="JSON_FORMAT_UNKNOWN"]="JSON_FORMAT_UNKNOWN",h[p[1]="ALLOW"]="ALLOW",h[p[2]="LEGACY_BEST_EFFORT"]="LEGACY_BEST_EFFORT",h),Dt),u.FeatureSetDefaults=(yt.prototype.defaults=c.emptyArray,yt.prototype.minimumEdition=0,yt.prototype.maximumEdition=0,yt.fromObject=function(t){if(t instanceof d.google.protobuf.FeatureSetDefaults)return t;var _=new d.google.protobuf.FeatureSetDefaults;if(t.defaults){if(!Array.isArray(t.defaults))throw TypeError(".google.protobuf.FeatureSetDefaults.defaults: array expected");_.defaults=[];for(var E=0;E<t.defaults.length;++E){if(typeof t.defaults[E]!="object")throw TypeError(".google.protobuf.FeatureSetDefaults.defaults: object expected");_.defaults[E]=d.google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault.fromObject(t.defaults[E])}}switch(t.minimumEdition){default:typeof t.minimumEdition=="number"&&(_.minimumEdition=t.minimumEdition);break;case"EDITION_UNKNOWN":case 0:_.minimumEdition=0;break;case"EDITION_PROTO2":case 998:_.minimumEdition=998;break;case"EDITION_PROTO3":case 999:_.minimumEdition=999;break;case"EDITION_2023":case 1e3:_.minimumEdition=1e3;break;case"EDITION_2024":case 1001:_.minimumEdition=1001;break;case"EDITION_1_TEST_ONLY":case 1:_.minimumEdition=1;break;case"EDITION_2_TEST_ONLY":case 2:_.minimumEdition=2;break;case"EDITION_99997_TEST_ONLY":case 99997:_.minimumEdition=99997;break;case"EDITION_99998_TEST_ONLY":case 99998:_.minimumEdition=99998;break;case"EDITION_99999_TEST_ONLY":case 99999:_.minimumEdition=99999;break;case"EDITION_MAX":case 2147483647:_.minimumEdition=2147483647}switch(t.maximumEdition){default:typeof t.maximumEdition=="number"&&(_.maximumEdition=t.maximumEdition);break;case"EDITION_UNKNOWN":case 0:_.maximumEdition=0;break;case"EDITION_PROTO2":case 998:_.maximumEdition=998;break;case"EDITION_PROTO3":case 999:_.maximumEdition=999;break;case"EDITION_2023":case 1e3:_.maximumEdition=1e3;break;case"EDITION_2024":case 1001:_.maximumEdition=1001;break;case"EDITION_1_TEST_ONLY":case 1:_.maximumEdition=1;break;case"EDITION_2_TEST_ONLY":case 2:_.maximumEdition=2;break;case"EDITION_99997_TEST_ONLY":case 99997:_.maximumEdition=99997;break;case"EDITION_99998_TEST_ONLY":case 99998:_.maximumEdition=99998;break;case"EDITION_99999_TEST_ONLY":case 99999:_.maximumEdition=99999;break;case"EDITION_MAX":case 2147483647:_.maximumEdition=2147483647}return _},yt.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.defaults=[]),_.defaults&&(E.minimumEdition=_.enums===String?"EDITION_UNKNOWN":0,E.maximumEdition=_.enums===String?"EDITION_UNKNOWN":0),t.defaults&&t.defaults.length){E.defaults=[];for(var se=0;se<t.defaults.length;++se)E.defaults[se]=d.google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault.toObject(t.defaults[se],_)}return t.minimumEdition!=null&&t.hasOwnProperty("minimumEdition")&&(E.minimumEdition=_.enums!==String||d.google.protobuf.Edition[t.minimumEdition]===void 0?t.minimumEdition:d.google.protobuf.Edition[t.minimumEdition]),t.maximumEdition!=null&&t.hasOwnProperty("maximumEdition")&&(E.maximumEdition=_.enums!==String||d.google.protobuf.Edition[t.maximumEdition]===void 0?t.maximumEdition:d.google.protobuf.Edition[t.maximumEdition]),E},yt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},yt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.FeatureSetDefaults"},yt.FeatureSetEditionDefault=(Zt.prototype.edition=0,Zt.prototype.features=null,Zt.fromObject=function(t){if(t instanceof d.google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault)return t;var _=new d.google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault;switch(t.edition){default:typeof t.edition=="number"&&(_.edition=t.edition);break;case"EDITION_UNKNOWN":case 0:_.edition=0;break;case"EDITION_PROTO2":case 998:_.edition=998;break;case"EDITION_PROTO3":case 999:_.edition=999;break;case"EDITION_2023":case 1e3:_.edition=1e3;break;case"EDITION_2024":case 1001:_.edition=1001;break;case"EDITION_1_TEST_ONLY":case 1:_.edition=1;break;case"EDITION_2_TEST_ONLY":case 2:_.edition=2;break;case"EDITION_99997_TEST_ONLY":case 99997:_.edition=99997;break;case"EDITION_99998_TEST_ONLY":case 99998:_.edition=99998;break;case"EDITION_99999_TEST_ONLY":case 99999:_.edition=99999;break;case"EDITION_MAX":case 2147483647:_.edition=2147483647}if(t.features!=null){if(typeof t.features!="object")throw TypeError(".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault.features: object expected");_.features=d.google.protobuf.FeatureSet.fromObject(t.features)}return _},Zt.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.features=null,E.edition=_.enums===String?"EDITION_UNKNOWN":0),t.features!=null&&t.hasOwnProperty("features")&&(E.features=d.google.protobuf.FeatureSet.toObject(t.features,_)),t.edition!=null&&t.hasOwnProperty("edition")&&(E.edition=_.enums!==String||d.google.protobuf.Edition[t.edition]===void 0?t.edition:d.google.protobuf.Edition[t.edition]),E},Zt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Zt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},Zt),yt),u.SourceCodeInfo=(ir.prototype.location=c.emptyArray,ir.fromObject=function(t){if(t instanceof d.google.protobuf.SourceCodeInfo)return t;var _=new d.google.protobuf.SourceCodeInfo;if(t.location){if(!Array.isArray(t.location))throw TypeError(".google.protobuf.SourceCodeInfo.location: array expected");_.location=[];for(var E=0;E<t.location.length;++E){if(typeof t.location[E]!="object")throw TypeError(".google.protobuf.SourceCodeInfo.location: object expected");_.location[E]=d.google.protobuf.SourceCodeInfo.Location.fromObject(t.location[E])}}return _},ir.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.location=[]),t.location&&t.location.length){E.location=[];for(var se=0;se<t.location.length;++se)E.location[se]=d.google.protobuf.SourceCodeInfo.Location.toObject(t.location[se],_)}return E},ir.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ir.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.SourceCodeInfo"},ir.Location=(cr.prototype.path=c.emptyArray,cr.prototype.span=c.emptyArray,cr.prototype.leadingComments="",cr.prototype.trailingComments="",cr.prototype.leadingDetachedComments=c.emptyArray,cr.fromObject=function(t){if(t instanceof d.google.protobuf.SourceCodeInfo.Location)return t;var _=new d.google.protobuf.SourceCodeInfo.Location;if(t.path){if(!Array.isArray(t.path))throw TypeError(".google.protobuf.SourceCodeInfo.Location.path: array expected");_.path=[];for(var E=0;E<t.path.length;++E)_.path[E]=0|t.path[E]}if(t.span){if(!Array.isArray(t.span))throw TypeError(".google.protobuf.SourceCodeInfo.Location.span: array expected");for(_.span=[],E=0;E<t.span.length;++E)_.span[E]=0|t.span[E]}if(t.leadingComments!=null&&(_.leadingComments=String(t.leadingComments)),t.trailingComments!=null&&(_.trailingComments=String(t.trailingComments)),t.leadingDetachedComments){if(!Array.isArray(t.leadingDetachedComments))throw TypeError(".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected");for(_.leadingDetachedComments=[],E=0;E<t.leadingDetachedComments.length;++E)_.leadingDetachedComments[E]=String(t.leadingDetachedComments[E])}return _},cr.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.path=[],E.span=[],E.leadingDetachedComments=[]),_.defaults&&(E.leadingComments="",E.trailingComments=""),t.path&&t.path.length){E.path=[];for(var se=0;se<t.path.length;++se)E.path[se]=t.path[se]}if(t.span&&t.span.length)for(E.span=[],se=0;se<t.span.length;++se)E.span[se]=t.span[se];if(t.leadingComments!=null&&t.hasOwnProperty("leadingComments")&&(E.leadingComments=t.leadingComments),t.trailingComments!=null&&t.hasOwnProperty("trailingComments")&&(E.trailingComments=t.trailingComments),t.leadingDetachedComments&&t.leadingDetachedComments.length)for(E.leadingDetachedComments=[],se=0;se<t.leadingDetachedComments.length;++se)E.leadingDetachedComments[se]=t.leadingDetachedComments[se];return E},cr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},cr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.SourceCodeInfo.Location"},cr),ir),u.GeneratedCodeInfo=(Fr.prototype.annotation=c.emptyArray,Fr.fromObject=function(t){if(t instanceof d.google.protobuf.GeneratedCodeInfo)return t;var _=new d.google.protobuf.GeneratedCodeInfo;if(t.annotation){if(!Array.isArray(t.annotation))throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: array expected");_.annotation=[];for(var E=0;E<t.annotation.length;++E){if(typeof t.annotation[E]!="object")throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: object expected");_.annotation[E]=d.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(t.annotation[E])}}return _},Fr.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.annotation=[]),t.annotation&&t.annotation.length){E.annotation=[];for(var se=0;se<t.annotation.length;++se)E.annotation[se]=d.google.protobuf.GeneratedCodeInfo.Annotation.toObject(t.annotation[se],_)}return E},Fr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Fr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.GeneratedCodeInfo"},Fr.Annotation=(mr.prototype.path=c.emptyArray,mr.prototype.sourceFile="",mr.prototype.begin=0,mr.prototype.end=0,mr.prototype.semantic=0,mr.fromObject=function(t){if(t instanceof d.google.protobuf.GeneratedCodeInfo.Annotation)return t;var _=new d.google.protobuf.GeneratedCodeInfo.Annotation;if(t.path){if(!Array.isArray(t.path))throw TypeError(".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected");_.path=[];for(var E=0;E<t.path.length;++E)_.path[E]=0|t.path[E]}switch(t.sourceFile!=null&&(_.sourceFile=String(t.sourceFile)),t.begin!=null&&(_.begin=0|t.begin),t.end!=null&&(_.end=0|t.end),t.semantic){default:typeof t.semantic=="number"&&(_.semantic=t.semantic);break;case"NONE":case 0:_.semantic=0;break;case"SET":case 1:_.semantic=1;break;case"ALIAS":case 2:_.semantic=2}return _},mr.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.path=[]),_.defaults&&(E.sourceFile="",E.begin=0,E.end=0,E.semantic=_.enums===String?"NONE":0),t.path&&t.path.length){E.path=[];for(var se=0;se<t.path.length;++se)E.path[se]=t.path[se]}return t.sourceFile!=null&&t.hasOwnProperty("sourceFile")&&(E.sourceFile=t.sourceFile),t.begin!=null&&t.hasOwnProperty("begin")&&(E.begin=t.begin),t.end!=null&&t.hasOwnProperty("end")&&(E.end=t.end),t.semantic!=null&&t.hasOwnProperty("semantic")&&(E.semantic=_.enums!==String||d.google.protobuf.GeneratedCodeInfo.Annotation.Semantic[t.semantic]===void 0?t.semantic:d.google.protobuf.GeneratedCodeInfo.Annotation.Semantic[t.semantic]),E},mr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},mr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.GeneratedCodeInfo.Annotation"},mr.Semantic=(p={},(h=Object.create(p))[p[0]="NONE"]="NONE",h[p[1]="SET"]="SET",h[p[2]="ALIAS"]="ALIAS",h),mr),Fr),u.Struct=($r.prototype.fields=c.emptyObject,$r.fromObject=function(t){if(t instanceof d.google.protobuf.Struct)return t;var _=new d.google.protobuf.Struct;if(t.fields){if(typeof t.fields!="object")throw TypeError(".google.protobuf.Struct.fields: object expected");_.fields={};for(var E=Object.keys(t.fields),se=0;se<E.length;++se){if(typeof t.fields[E[se]]!="object")throw TypeError(".google.protobuf.Struct.fields: object expected");_.fields[E[se]]=d.google.protobuf.Value.fromObject(t.fields[E[se]])}}return _},$r.toObject=function(t,_){var E,se={};if(((_=_||{}).objects||_.defaults)&&(se.fields={}),t.fields&&(E=Object.keys(t.fields)).length){se.fields={};for(var ut=0;ut<E.length;++ut)se.fields[E[ut]]=d.google.protobuf.Value.toObject(t.fields[E[ut]],_)}return se},$r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},$r.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.Struct"},$r),u.Value=(vr.prototype.nullValue=null,vr.prototype.numberValue=null,vr.prototype.stringValue=null,vr.prototype.boolValue=null,vr.prototype.structValue=null,vr.prototype.listValue=null,Object.defineProperty(vr.prototype,"kind",{get:c.oneOfGetter(p=["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]),set:c.oneOfSetter(p)}),vr.fromObject=function(t){if(t instanceof d.google.protobuf.Value)return t;var _=new d.google.protobuf.Value;switch(t.nullValue){default:typeof t.nullValue=="number"&&(_.nullValue=t.nullValue);break;case"NULL_VALUE":case 0:_.nullValue=0}if(t.numberValue!=null&&(_.numberValue=Number(t.numberValue)),t.stringValue!=null&&(_.stringValue=String(t.stringValue)),t.boolValue!=null&&(_.boolValue=!!t.boolValue),t.structValue!=null){if(typeof t.structValue!="object")throw TypeError(".google.protobuf.Value.structValue: object expected");_.structValue=d.google.protobuf.Struct.fromObject(t.structValue)}if(t.listValue!=null){if(typeof t.listValue!="object")throw TypeError(".google.protobuf.Value.listValue: object expected");_.listValue=d.google.protobuf.ListValue.fromObject(t.listValue)}return _},vr.toObject=function(t,_){_=_||{};var E={};return t.nullValue!=null&&t.hasOwnProperty("nullValue")&&(E.nullValue=_.enums!==String||d.google.protobuf.NullValue[t.nullValue]===void 0?t.nullValue:d.google.protobuf.NullValue[t.nullValue],_.oneofs)&&(E.kind="nullValue"),t.numberValue!=null&&t.hasOwnProperty("numberValue")&&(E.numberValue=_.json&&!isFinite(t.numberValue)?String(t.numberValue):t.numberValue,_.oneofs)&&(E.kind="numberValue"),t.stringValue!=null&&t.hasOwnProperty("stringValue")&&(E.stringValue=t.stringValue,_.oneofs)&&(E.kind="stringValue"),t.boolValue!=null&&t.hasOwnProperty("boolValue")&&(E.boolValue=t.boolValue,_.oneofs)&&(E.kind="boolValue"),t.structValue!=null&&t.hasOwnProperty("structValue")&&(E.structValue=d.google.protobuf.Struct.toObject(t.structValue,_),_.oneofs)&&(E.kind="structValue"),t.listValue!=null&&t.hasOwnProperty("listValue")&&(E.listValue=d.google.protobuf.ListValue.toObject(t.listValue,_),_.oneofs)&&(E.kind="listValue"),E},vr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},vr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.Value"},vr),u.NullValue=(h={},(p=Object.create(h))[h[0]="NULL_VALUE"]="NULL_VALUE",p),u.ListValue=(Gr.prototype.values=c.emptyArray,Gr.fromObject=function(t){if(t instanceof d.google.protobuf.ListValue)return t;var _=new d.google.protobuf.ListValue;if(t.values){if(!Array.isArray(t.values))throw TypeError(".google.protobuf.ListValue.values: array expected");_.values=[];for(var E=0;E<t.values.length;++E){if(typeof t.values[E]!="object")throw TypeError(".google.protobuf.ListValue.values: object expected");_.values[E]=d.google.protobuf.Value.fromObject(t.values[E])}}return _},Gr.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.values=[]),t.values&&t.values.length){E.values=[];for(var se=0;se<t.values.length;++se)E.values[se]=d.google.protobuf.Value.toObject(t.values[se],_)}return E},Gr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Gr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.ListValue"},Gr),u.Timestamp=(Vr.prototype.seconds=c.Long?c.Long.fromBits(0,0,!1):0,Vr.prototype.nanos=0,Vr.fromObject=function(t){var _;return t instanceof d.google.protobuf.Timestamp?t:(_=new d.google.protobuf.Timestamp,t.seconds!=null&&(c.Long?(_.seconds=c.Long.fromValue(t.seconds)).unsigned=!1:typeof t.seconds=="string"?_.seconds=parseInt(t.seconds,10):typeof t.seconds=="number"?_.seconds=t.seconds:typeof t.seconds=="object"&&(_.seconds=new c.LongBits(t.seconds.low>>>0,t.seconds.high>>>0).toNumber())),t.nanos!=null&&(_.nanos=0|t.nanos),_)},Vr.toObject=function(t,_){var E,se={};return(_=_||{}).defaults&&(c.Long?(E=new c.Long(0,0,!1),se.seconds=_.longs===String?E.toString():_.longs===Number?E.toNumber():E):se.seconds=_.longs===String?"0":0,se.nanos=0),t.seconds!=null&&t.hasOwnProperty("seconds")&&(typeof t.seconds=="number"?se.seconds=_.longs===String?String(t.seconds):t.seconds:se.seconds=_.longs===String?c.Long.prototype.toString.call(t.seconds):_.longs===Number?new c.LongBits(t.seconds.low>>>0,t.seconds.high>>>0).toNumber():t.seconds),t.nanos!=null&&t.hasOwnProperty("nanos")&&(se.nanos=t.nanos),se},Vr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Vr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.Timestamp"},Vr),u.Duration=(Or.prototype.seconds=c.Long?c.Long.fromBits(0,0,!1):0,Or.prototype.nanos=0,Or.fromObject=function(t){var _;return t instanceof d.google.protobuf.Duration?t:(_=new d.google.protobuf.Duration,t.seconds!=null&&(c.Long?(_.seconds=c.Long.fromValue(t.seconds)).unsigned=!1:typeof t.seconds=="string"?_.seconds=parseInt(t.seconds,10):typeof t.seconds=="number"?_.seconds=t.seconds:typeof t.seconds=="object"&&(_.seconds=new c.LongBits(t.seconds.low>>>0,t.seconds.high>>>0).toNumber())),t.nanos!=null&&(_.nanos=0|t.nanos),_)},Or.toObject=function(t,_){var E,se={};return(_=_||{}).defaults&&(c.Long?(E=new c.Long(0,0,!1),se.seconds=_.longs===String?E.toString():_.longs===Number?E.toNumber():E):se.seconds=_.longs===String?"0":0,se.nanos=0),t.seconds!=null&&t.hasOwnProperty("seconds")&&(typeof t.seconds=="number"?se.seconds=_.longs===String?String(t.seconds):t.seconds:se.seconds=_.longs===String?c.Long.prototype.toString.call(t.seconds):_.longs===Number?new c.LongBits(t.seconds.low>>>0,t.seconds.high>>>0).toNumber():t.seconds),t.nanos!=null&&t.hasOwnProperty("nanos")&&(se.nanos=t.nanos),se},Or.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Or.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.Duration"},Or),u.DoubleValue=(gr.prototype.value=0,gr.fromObject=function(t){var _;return t instanceof d.google.protobuf.DoubleValue?t:(_=new d.google.protobuf.DoubleValue,t.value!=null&&(_.value=Number(t.value)),_)},gr.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.value=0),t.value!=null&&t.hasOwnProperty("value")&&(E.value=_.json&&!isFinite(t.value)?String(t.value):t.value),E},gr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},gr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.DoubleValue"},gr),u.FloatValue=(Lr.prototype.value=0,Lr.fromObject=function(t){var _;return t instanceof d.google.protobuf.FloatValue?t:(_=new d.google.protobuf.FloatValue,t.value!=null&&(_.value=Number(t.value)),_)},Lr.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.value=0),t.value!=null&&t.hasOwnProperty("value")&&(E.value=_.json&&!isFinite(t.value)?String(t.value):t.value),E},Lr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Lr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.FloatValue"},Lr),u.Int64Value=(Br.prototype.value=c.Long?c.Long.fromBits(0,0,!1):0,Br.fromObject=function(t){var _;return t instanceof d.google.protobuf.Int64Value?t:(_=new d.google.protobuf.Int64Value,t.value!=null&&(c.Long?(_.value=c.Long.fromValue(t.value)).unsigned=!1:typeof t.value=="string"?_.value=parseInt(t.value,10):typeof t.value=="number"?_.value=t.value:typeof t.value=="object"&&(_.value=new c.LongBits(t.value.low>>>0,t.value.high>>>0).toNumber())),_)},Br.toObject=function(t,_){var E,se={};return(_=_||{}).defaults&&(c.Long?(E=new c.Long(0,0,!1),se.value=_.longs===String?E.toString():_.longs===Number?E.toNumber():E):se.value=_.longs===String?"0":0),t.value!=null&&t.hasOwnProperty("value")&&(typeof t.value=="number"?se.value=_.longs===String?String(t.value):t.value:se.value=_.longs===String?c.Long.prototype.toString.call(t.value):_.longs===Number?new c.LongBits(t.value.low>>>0,t.value.high>>>0).toNumber():t.value),se},Br.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Br.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.Int64Value"},Br),u.UInt64Value=(Mr.prototype.value=c.Long?c.Long.fromBits(0,0,!0):0,Mr.fromObject=function(t){var _;return t instanceof d.google.protobuf.UInt64Value?t:(_=new d.google.protobuf.UInt64Value,t.value!=null&&(c.Long?(_.value=c.Long.fromValue(t.value)).unsigned=!0:typeof t.value=="string"?_.value=parseInt(t.value,10):typeof t.value=="number"?_.value=t.value:typeof t.value=="object"&&(_.value=new c.LongBits(t.value.low>>>0,t.value.high>>>0).toNumber(!0))),_)},Mr.toObject=function(t,_){var E,se={};return(_=_||{}).defaults&&(c.Long?(E=new c.Long(0,0,!0),se.value=_.longs===String?E.toString():_.longs===Number?E.toNumber():E):se.value=_.longs===String?"0":0),t.value!=null&&t.hasOwnProperty("value")&&(typeof t.value=="number"?se.value=_.longs===String?String(t.value):t.value:se.value=_.longs===String?c.Long.prototype.toString.call(t.value):_.longs===Number?new c.LongBits(t.value.low>>>0,t.value.high>>>0).toNumber(!0):t.value),se},Mr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Mr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.UInt64Value"},Mr),u.Int32Value=(Tr.prototype.value=0,Tr.fromObject=function(t){var _;return t instanceof d.google.protobuf.Int32Value?t:(_=new d.google.protobuf.Int32Value,t.value!=null&&(_.value=0|t.value),_)},Tr.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.value=0),t.value!=null&&t.hasOwnProperty("value")&&(E.value=t.value),E},Tr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Tr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.Int32Value"},Tr),u.UInt32Value=(Hr.prototype.value=0,Hr.fromObject=function(t){var _;return t instanceof d.google.protobuf.UInt32Value?t:(_=new d.google.protobuf.UInt32Value,t.value!=null&&(_.value=t.value>>>0),_)},Hr.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.value=0),t.value!=null&&t.hasOwnProperty("value")&&(E.value=t.value),E},Hr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Hr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.UInt32Value"},Hr),u.BoolValue=(Qr.prototype.value=!1,Qr.fromObject=function(t){var _;return t instanceof d.google.protobuf.BoolValue?t:(_=new d.google.protobuf.BoolValue,t.value!=null&&(_.value=!!t.value),_)},Qr.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.value=!1),t.value!=null&&t.hasOwnProperty("value")&&(E.value=t.value),E},Qr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Qr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.BoolValue"},Qr),u.StringValue=(zr.prototype.value="",zr.fromObject=function(t){var _;return t instanceof d.google.protobuf.StringValue?t:(_=new d.google.protobuf.StringValue,t.value!=null&&(_.value=String(t.value)),_)},zr.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.value=""),t.value!=null&&t.hasOwnProperty("value")&&(E.value=t.value),E},zr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},zr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.StringValue"},zr),u.BytesValue=(hr.prototype.value=c.newBuffer([]),hr.fromObject=function(t){var _;return t instanceof d.google.protobuf.BytesValue?t:(_=new d.google.protobuf.BytesValue,t.value!=null&&(typeof t.value=="string"?c.base64.decode(t.value,_.value=c.newBuffer(c.base64.length(t.value)),0):0<=t.value.length&&(_.value=t.value)),_)},hr.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(_.bytes===String?E.value="":(E.value=[],_.bytes!==Array&&(E.value=c.newBuffer(E.value)))),t.value!=null&&t.hasOwnProperty("value")&&(E.value=_.bytes===String?c.base64.encode(t.value,0,t.value.length):_.bytes===Array?Array.prototype.slice.call(t.value):t.value),E},hr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},hr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.BytesValue"},hr),u.Empty=(Wr.fromObject=function(t){return t instanceof d.google.protobuf.Empty?t:new d.google.protobuf.Empty},Wr.toObject=function(){return{}},Wr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Wr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.Empty"},Wr),u.Any=(Ur.prototype.type_url="",Ur.prototype.value=c.newBuffer([]),Ur.fromObject=function(t){var _;return t instanceof d.google.protobuf.Any?t:(_=new d.google.protobuf.Any,t.type_url!=null&&(_.type_url=String(t.type_url)),t.value!=null&&(typeof t.value=="string"?c.base64.decode(t.value,_.value=c.newBuffer(c.base64.length(t.value)),0):0<=t.value.length&&(_.value=t.value)),_)},Ur.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.type_url="",_.bytes===String?E.value="":(E.value=[],_.bytes!==Array&&(E.value=c.newBuffer(E.value)))),t.type_url!=null&&t.hasOwnProperty("type_url")&&(E.type_url=t.type_url),t.value!=null&&t.hasOwnProperty("value")&&(E.value=_.bytes===String?c.base64.encode(t.value,0,t.value.length):_.bytes===Array?Array.prototype.slice.call(t.value):t.value),E},Ur.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ur.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.Any"},Ur),u.FieldMask=(Dr.prototype.paths=c.emptyArray,Dr.fromObject=function(t){if(t instanceof d.google.protobuf.FieldMask)return t;var _=new d.google.protobuf.FieldMask;if(t.paths){if(!Array.isArray(t.paths))throw TypeError(".google.protobuf.FieldMask.paths: array expected");_.paths=[];for(var E=0;E<t.paths.length;++E)_.paths[E]=String(t.paths[E])}return _},Dr.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.paths=[]),t.paths&&t.paths.length){E.paths=[];for(var se=0;se<t.paths.length;++se)E.paths[se]=t.paths[se]}return E},Dr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Dr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.protobuf.FieldMask"},Dr),u),y.type=((r={}).LatLng=(Rr.prototype.latitude=0,Rr.prototype.longitude=0,Rr.fromObject=function(t){var _;return t instanceof d.google.type.LatLng?t:(_=new d.google.type.LatLng,t.latitude!=null&&(_.latitude=Number(t.latitude)),t.longitude!=null&&(_.longitude=Number(t.longitude)),_)},Rr.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.latitude=0,E.longitude=0),t.latitude!=null&&t.hasOwnProperty("latitude")&&(E.latitude=_.json&&!isFinite(t.latitude)?String(t.latitude):t.latitude),t.longitude!=null&&t.hasOwnProperty("longitude")&&(E.longitude=_.json&&!isFinite(t.longitude)?String(t.longitude):t.longitude),E},Rr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Rr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.type.LatLng"},Rr),r.DayOfWeek=(h={},(p=Object.create(h))[h[0]="DAY_OF_WEEK_UNSPECIFIED"]="DAY_OF_WEEK_UNSPECIFIED",p[h[1]="MONDAY"]="MONDAY",p[h[2]="TUESDAY"]="TUESDAY",p[h[3]="WEDNESDAY"]="WEDNESDAY",p[h[4]="THURSDAY"]="THURSDAY",p[h[5]="FRIDAY"]="FRIDAY",p[h[6]="SATURDAY"]="SATURDAY",p[h[7]="SUNDAY"]="SUNDAY",p),r),y.rpc=((u={}).Status=(Nr.prototype.code=0,Nr.prototype.message="",Nr.prototype.details=c.emptyArray,Nr.fromObject=function(t){if(t instanceof d.google.rpc.Status)return t;var _=new d.google.rpc.Status;if(t.code!=null&&(_.code=0|t.code),t.message!=null&&(_.message=String(t.message)),t.details){if(!Array.isArray(t.details))throw TypeError(".google.rpc.Status.details: array expected");_.details=[];for(var E=0;E<t.details.length;++E){if(typeof t.details[E]!="object")throw TypeError(".google.rpc.Status.details: object expected");_.details[E]=d.google.protobuf.Any.fromObject(t.details[E])}}return _},Nr.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.details=[]),_.defaults&&(E.code=0,E.message=""),t.code!=null&&t.hasOwnProperty("code")&&(E.code=t.code),t.message!=null&&t.hasOwnProperty("message")&&(E.message=t.message),t.details&&t.details.length){E.details=[];for(var se=0;se<t.details.length;++se)E.details[se]=d.google.protobuf.Any.toObject(t.details[se],_)}return E},Nr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Nr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.rpc.Status"},Nr),u),y.longrunning=((h={}).Operations=((_r.prototype=Object.create(e.rpc.Service.prototype)).constructor=_r,Object.defineProperty(_r.prototype.listOperations=function t(_,E){return this.rpcCall(t,d.google.longrunning.ListOperationsRequest,d.google.longrunning.ListOperationsResponse,_,E)},"name",{value:"ListOperations"}),Object.defineProperty(_r.prototype.getOperation=function t(_,E){return this.rpcCall(t,d.google.longrunning.GetOperationRequest,d.google.longrunning.Operation,_,E)},"name",{value:"GetOperation"}),Object.defineProperty(_r.prototype.deleteOperation=function t(_,E){return this.rpcCall(t,d.google.longrunning.DeleteOperationRequest,d.google.protobuf.Empty,_,E)},"name",{value:"DeleteOperation"}),Object.defineProperty(_r.prototype.cancelOperation=function t(_,E){return this.rpcCall(t,d.google.longrunning.CancelOperationRequest,d.google.protobuf.Empty,_,E)},"name",{value:"CancelOperation"}),Object.defineProperty(_r.prototype.waitOperation=function t(_,E){return this.rpcCall(t,d.google.longrunning.WaitOperationRequest,d.google.longrunning.Operation,_,E)},"name",{value:"WaitOperation"}),_r),h.Operation=(ar.prototype.name="",ar.prototype.metadata=null,ar.prototype.done=!1,ar.prototype.error=null,ar.prototype.response=null,Object.defineProperty(ar.prototype,"result",{get:c.oneOfGetter(p=["error","response"]),set:c.oneOfSetter(p)}),ar.fromObject=function(t){if(t instanceof d.google.longrunning.Operation)return t;var _=new d.google.longrunning.Operation;if(t.name!=null&&(_.name=String(t.name)),t.metadata!=null){if(typeof t.metadata!="object")throw TypeError(".google.longrunning.Operation.metadata: object expected");_.metadata=d.google.protobuf.Any.fromObject(t.metadata)}if(t.done!=null&&(_.done=!!t.done),t.error!=null){if(typeof t.error!="object")throw TypeError(".google.longrunning.Operation.error: object expected");_.error=d.google.rpc.Status.fromObject(t.error)}if(t.response!=null){if(typeof t.response!="object")throw TypeError(".google.longrunning.Operation.response: object expected");_.response=d.google.protobuf.Any.fromObject(t.response)}return _},ar.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.name="",E.metadata=null,E.done=!1),t.name!=null&&t.hasOwnProperty("name")&&(E.name=t.name),t.metadata!=null&&t.hasOwnProperty("metadata")&&(E.metadata=d.google.protobuf.Any.toObject(t.metadata,_)),t.done!=null&&t.hasOwnProperty("done")&&(E.done=t.done),t.error!=null&&t.hasOwnProperty("error")&&(E.error=d.google.rpc.Status.toObject(t.error,_),_.oneofs)&&(E.result="error"),t.response!=null&&t.hasOwnProperty("response")&&(E.response=d.google.protobuf.Any.toObject(t.response,_),_.oneofs)&&(E.result="response"),E},ar.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ar.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.longrunning.Operation"},ar),h.GetOperationRequest=(qr.prototype.name="",qr.fromObject=function(t){var _;return t instanceof d.google.longrunning.GetOperationRequest?t:(_=new d.google.longrunning.GetOperationRequest,t.name!=null&&(_.name=String(t.name)),_)},qr.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.name=""),t.name!=null&&t.hasOwnProperty("name")&&(E.name=t.name),E},qr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},qr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.longrunning.GetOperationRequest"},qr),h.ListOperationsRequest=(Sr.prototype.name="",Sr.prototype.filter="",Sr.prototype.pageSize=0,Sr.prototype.pageToken="",Sr.fromObject=function(t){var _;return t instanceof d.google.longrunning.ListOperationsRequest?t:(_=new d.google.longrunning.ListOperationsRequest,t.name!=null&&(_.name=String(t.name)),t.filter!=null&&(_.filter=String(t.filter)),t.pageSize!=null&&(_.pageSize=0|t.pageSize),t.pageToken!=null&&(_.pageToken=String(t.pageToken)),_)},Sr.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.filter="",E.pageSize=0,E.pageToken="",E.name=""),t.filter!=null&&t.hasOwnProperty("filter")&&(E.filter=t.filter),t.pageSize!=null&&t.hasOwnProperty("pageSize")&&(E.pageSize=t.pageSize),t.pageToken!=null&&t.hasOwnProperty("pageToken")&&(E.pageToken=t.pageToken),t.name!=null&&t.hasOwnProperty("name")&&(E.name=t.name),E},Sr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Sr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.longrunning.ListOperationsRequest"},Sr),h.ListOperationsResponse=(Vt.prototype.operations=c.emptyArray,Vt.prototype.nextPageToken="",Vt.fromObject=function(t){if(t instanceof d.google.longrunning.ListOperationsResponse)return t;var _=new d.google.longrunning.ListOperationsResponse;if(t.operations){if(!Array.isArray(t.operations))throw TypeError(".google.longrunning.ListOperationsResponse.operations: array expected");_.operations=[];for(var E=0;E<t.operations.length;++E){if(typeof t.operations[E]!="object")throw TypeError(".google.longrunning.ListOperationsResponse.operations: object expected");_.operations[E]=d.google.longrunning.Operation.fromObject(t.operations[E])}}return t.nextPageToken!=null&&(_.nextPageToken=String(t.nextPageToken)),_},Vt.toObject=function(t,_){var E={};if(((_=_||{}).arrays||_.defaults)&&(E.operations=[]),_.defaults&&(E.nextPageToken=""),t.operations&&t.operations.length){E.operations=[];for(var se=0;se<t.operations.length;++se)E.operations[se]=d.google.longrunning.Operation.toObject(t.operations[se],_)}return t.nextPageToken!=null&&t.hasOwnProperty("nextPageToken")&&(E.nextPageToken=t.nextPageToken),E},Vt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Vt.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.longrunning.ListOperationsResponse"},Vt),h.CancelOperationRequest=(Kr.prototype.name="",Kr.fromObject=function(t){var _;return t instanceof d.google.longrunning.CancelOperationRequest?t:(_=new d.google.longrunning.CancelOperationRequest,t.name!=null&&(_.name=String(t.name)),_)},Kr.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.name=""),t.name!=null&&t.hasOwnProperty("name")&&(E.name=t.name),E},Kr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Kr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.longrunning.CancelOperationRequest"},Kr),h.DeleteOperationRequest=(Jr.prototype.name="",Jr.fromObject=function(t){var _;return t instanceof d.google.longrunning.DeleteOperationRequest?t:(_=new d.google.longrunning.DeleteOperationRequest,t.name!=null&&(_.name=String(t.name)),_)},Jr.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.name=""),t.name!=null&&t.hasOwnProperty("name")&&(E.name=t.name),E},Jr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Jr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.longrunning.DeleteOperationRequest"},Jr),h.WaitOperationRequest=(jr.prototype.name="",jr.prototype.timeout=null,jr.fromObject=function(t){if(t instanceof d.google.longrunning.WaitOperationRequest)return t;var _=new d.google.longrunning.WaitOperationRequest;if(t.name!=null&&(_.name=String(t.name)),t.timeout!=null){if(typeof t.timeout!="object")throw TypeError(".google.longrunning.WaitOperationRequest.timeout: object expected");_.timeout=d.google.protobuf.Duration.fromObject(t.timeout)}return _},jr.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.name="",E.timeout=null),t.name!=null&&t.hasOwnProperty("name")&&(E.name=t.name),t.timeout!=null&&t.hasOwnProperty("timeout")&&(E.timeout=d.google.protobuf.Duration.toObject(t.timeout,_)),E},jr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},jr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.longrunning.WaitOperationRequest"},jr),h.OperationInfo=(kr.prototype.responseType="",kr.prototype.metadataType="",kr.fromObject=function(t){var _;return t instanceof d.google.longrunning.OperationInfo?t:(_=new d.google.longrunning.OperationInfo,t.responseType!=null&&(_.responseType=String(t.responseType)),t.metadataType!=null&&(_.metadataType=String(t.metadataType)),_)},kr.toObject=function(t,_){var E={};return(_=_||{}).defaults&&(E.responseType="",E.metadataType=""),t.responseType!=null&&t.hasOwnProperty("responseType")&&(E.responseType=t.responseType),t.metadataType!=null&&t.hasOwnProperty("metadataType")&&(E.metadataType=t.metadataType),E},kr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},kr.getTypeUrl=function(t){return(t=t===void 0?"type.googleapis.com":t)+"/google.longrunning.OperationInfo"},kr),h),y),d})}(firestore_v1_proto_api)),firestore_v1_proto_api.exports}var hasRequiredBundle;function requireBundle(){if(hasRequiredBundle)return bundle;hasRequiredBundle=1,Object.defineProperty(bundle,"__esModule",{value:!0}),bundle.BundleBuilder=void 0;const o=requireDocument(),e=querySnapshot,r=requireTimestamp(),u=requireValidate(),p=1;class h{constructor(m){this.bundleId=m,this.documents=new Map,this.namedQueries=new Map,this.latestReadTime=new r.Timestamp(0,0)}add(m,P){return(0,u.validateMinNumberOfArguments)("BundleBuilder.add",arguments,1),(0,u.validateMaxNumberOfArguments)("BundleBuilder.add",arguments,2),arguments.length===1?(y("documentOrName",m),this.addBundledDocument(m)):((0,u.validateString)("documentOrName",m),c("querySnapshot",P),this.addNamedQuery(m,P)),this}addBundledDocument(m,P){const N=this.documents.get(m.ref.path),L=N==null?void 0:N.metadata.queries;if(!N||r.Timestamp.fromProto(N.metadata.readTime)<m.readTime){const B=m.toDocumentProto();this.documents.set(m.ref.path,{document:m.exists?B:void 0,metadata:{name:B.name,readTime:m.readTime.toProto().timestampValue,exists:m.exists}})}const k=this.documents.get(m.ref.path);k.metadata.queries=L||[],P&&k.metadata.queries.push(P),m.readTime>this.latestReadTime&&(this.latestReadTime=m.readTime)}addNamedQuery(m,P){if(this.namedQueries.has(m))throw new Error(`Query name conflict: ${m} has already been added.`);this.namedQueries.set(m,{name:m,bundledQuery:P.query._toBundledQuery(),readTime:P.readTime.toProto().timestampValue});for(const N of P.docs)this.addBundledDocument(N,m);P.readTime>this.latestReadTime&&(this.latestReadTime=P.readTime)}elementToLengthPrefixedBuffer(m){const P=requireFirestore_v1_proto_api().firestore.BundleElement.fromObject(m).toJSON(),N=Buffer.from(JSON.stringify(P),"utf-8"),L=Buffer.from(N.length.toString());return Buffer.concat([L,N])}build(){let m=Buffer.alloc(0);for(const N of this.namedQueries.values())m=Buffer.concat([m,this.elementToLengthPrefixedBuffer({namedQuery:N})]);for(const N of this.documents.values()){const L=N.metadata;m=Buffer.concat([m,this.elementToLengthPrefixedBuffer({documentMetadata:L})]);const k=N.document;k&&(m=Buffer.concat([m,this.elementToLengthPrefixedBuffer({document:k})]))}const P={id:this.bundleId,createTime:this.latestReadTime.toProto().timestampValue,version:p,totalDocuments:this.documents.size,totalBytes:m.length};return m=Buffer.concat([this.elementToLengthPrefixedBuffer({metadata:P}),m]),m}}bundle.BundleBuilder=h;function y(d,m){if(!(m instanceof o.DocumentSnapshot))throw new Error((0,u.invalidArgumentMessage)(d,"DocumentSnapshot"))}function c(d,m){if(!(m instanceof e.QuerySnapshot))throw new Error((0,u.invalidArgumentMessage)(d,"QuerySnapshot"))}return bundle}var documentReader={},hasRequiredDocumentReader;function requireDocumentReader(){if(hasRequiredDocumentReader)return documentReader;hasRequiredDocumentReader=1;/*!
 * Copyright 2021 Google LLC. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(documentReader,"__esModule",{value:!0}),documentReader.DocumentReader=void 0;const o=requireDocument(),e=util$4,r=logger$1,u=requireTimestamp();class p{constructor(y,c,d,m){this.firestore=y,this.allDocuments=c,this.fieldMask=d,this.transactionOrReadTime=m,this.outstandingDocuments=new Set,this.retrievedDocuments=new Map;for(const P of this.allDocuments)this.outstandingDocuments.add(P.formattedName)}async get(y){const{result:c}=await this._get(y);return c}async _get(y){await this.fetchDocuments(y);const c=[];for(const d of this.allDocuments){const m=this.retrievedDocuments.get(d.formattedName);if(m!==void 0){const P=new o.DocumentSnapshotBuilder(d);P.fieldsProto=m._fieldsProto,P.readTime=m.readTime,P.createTime=m.createTime,P.updateTime=m.updateTime,c.push(P.build())}else throw new Error(`Did not receive document for "${d.path}".`)}return{result:c,transaction:this.retrievedTransactionId}}async fetchDocuments(y){var c;if(!this.outstandingDocuments.size)return;const d={database:this.firestore.formattedName,documents:Array.from(this.outstandingDocuments)};if(this.transactionOrReadTime instanceof Uint8Array?d.transaction=this.transactionOrReadTime:this.transactionOrReadTime instanceof u.Timestamp?d.readTime=this.transactionOrReadTime.toProto().timestampValue:this.transactionOrReadTime&&(d.newTransaction=this.transactionOrReadTime),this.fieldMask){const P=this.fieldMask.map(N=>N.formattedName);d.mask={fieldPaths:P}}let m=0;try{const P=await this.firestore.requestStream("batchGetDocuments",!1,d,y);P.resume();for await(const N of P){!((c=N.transaction)===null||c===void 0)&&c.length&&(this.retrievedTransactionId=N.transaction);let L;if(N.found?((0,r.logger)("DocumentReader.fetchDocuments",y,"Received document: %s",N.found.name),L=this.firestore.snapshot_(N.found,N.readTime)):N.missing&&((0,r.logger)("DocumentReader.fetchDocuments",y,"Document missing: %s",N.missing),L=this.firestore.snapshot_(N.missing,N.readTime)),L){const k=L.ref.formattedName;this.outstandingDocuments.delete(k),this.retrievedDocuments.set(k,L),++m}}}catch(P){const N=!d.transaction&&!d.newTransaction&&m>0&&P.code!==void 0&&!(0,e.isPermanentRpcError)(P,"batchGetDocuments");if((0,r.logger)("DocumentReader.fetchDocuments",y,"BatchGetDocuments failed with error: %s. Retrying: %s",P,N),N)return this.fetchDocuments(y);throw P}finally{(0,r.logger)("DocumentReader.fetchDocuments",y,"Received %d results",m)}}}return documentReader.DocumentReader=p,documentReader}var pool={};(function(o){/*!
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(o,"__esModule",{value:!0}),o.ClientPool=o.CLIENT_TERMINATED_ERROR_MSG=void 0;const e=require$$1$3,r=logger$1,u=util$4;o.CLIENT_TERMINATED_ERROR_MSG="The client has already been terminated";class p{constructor(y,c,d,m=()=>Promise.resolve()){this.concurrentOperationLimit=y,this.maxIdleClients=c,this.clientFactory=d,this.clientDestructor=m,this.grpcEnabled=!1,this.activeClients=new Map,this.failedClients=new Set,this.terminated=!1,this.terminateDeferred=new u.Deferred}acquire(y,c){let d=null,m=-1;this.grpcEnabled=this.grpcEnabled||c,c=c||this.grpcEnabled;for(const[P,N]of this.activeClients)!this.failedClients.has(P)&&N.activeRequestCount>m&&N.activeRequestCount<this.concurrentOperationLimit&&(N.grpcEnabled||!c)&&(d=P,m=N.activeRequestCount);return d?(0,r.logger)("ClientPool.acquire",y,"Re-using existing client with %s remaining operations",this.concurrentOperationLimit-m):((0,r.logger)("ClientPool.acquire",y,"Creating a new client (requiresGrpc: %s)",c),d=this.clientFactory(c),m=0,e(!this.activeClients.has(d),"The provided client factory returned an existing instance")),this.activeClients.set(d,{grpcEnabled:c,activeRequestCount:m+1}),d}async release(y,c){const d=this.activeClients.get(c);e(d&&d.activeRequestCount>0,"No active requests"),this.activeClients.set(c,{grpcEnabled:d.grpcEnabled,activeRequestCount:d.activeRequestCount-1}),this.terminated&&this.opCount===0&&this.terminateDeferred.resolve(),this.shouldGarbageCollectClient(c)&&(this.activeClients.delete(c),this.failedClients.delete(c),await this.clientDestructor(c),(0,r.logger)("ClientPool.release",y,"Garbage collected 1 client"))}shouldGarbageCollectClient(y){const c=this.activeClients.get(y);if(c.activeRequestCount!==0)return!1;if(this.grpcEnabled!==c.grpcEnabled||this.failedClients.has(y))return!0;let d=0;for(const[,m]of this.activeClients)d+=this.concurrentOperationLimit-m.activeRequestCount;return d>this.maxIdleClients*this.concurrentOperationLimit}get size(){return this.activeClients.size}get opCount(){let y=0;return this.activeClients.forEach(c=>y+=c.activeRequestCount),y}get _activeClients(){return this.activeClients}run(y,c,d){if(this.terminated)return Promise.reject(new Error(o.CLIENT_TERMINATED_ERROR_MSG));const m=this.acquire(y,c);return d(m).catch(async P=>{var N;return!((N=P.message)===null||N===void 0)&&N.match(/RST_STREAM/)&&this.failedClients.add(m),await this.release(y,m),Promise.reject(P)}).then(async P=>(await this.release(y,m),P))}async terminate(){this.terminated=!0,this.opCount>0&&((0,r.logger)("ClientPool.terminate",null,"Waiting for %s pending operations to complete before terminating",this.opCount),await this.terminateDeferred.promise);for(const[y]of this.activeClients)this.activeClients.delete(y),await this.clientDestructor(y)}}o.ClientPool=p})(pool);var transaction={},hasRequiredTransaction;function requireTransaction(){if(hasRequiredTransaction)return transaction;hasRequiredTransaction=1;/*!
 * Copyright 2017 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(transaction,"__esModule",{value:!0}),transaction.Transaction=void 0,transaction.parseGetAllArguments=U;const o=backoff,e=requireSrc(),r=logger$1,u=path,p=aggregateQuery,h=requireDocumentReference(),y=requireQuery(),c=requireHelpers(),d=util$4,m=requireValidate(),P=requireDocumentReader(),N=traceUtil;/*!
 * Error message for transactional reads that were executed after performing
 * writes.
 */const L="Firestore transactions require all reads to be executed before all writes.",k="Firestore read-only transactions cannot execute writes.";class B{constructor(Q,K,G){this._maxAttempts=e.DEFAULT_MAX_TRANSACTION_ATTEMPTS,this._firestore=Q,this._requestTag=K,G!=null&&G.readOnly?(this._maxAttempts=1,this._readOnlyReadTime=G.readTime):(this._maxAttempts=(G==null?void 0:G.maxAttempts)||e.DEFAULT_MAX_TRANSACTION_ATTEMPTS,this._writeBatch=Q.batch(),this._backoff=new o.ExponentialBackoff)}get(Q){if(this._writeBatch&&!this._writeBatch.isEmpty)throw new Error(L);if(Q instanceof h.DocumentReference)return this._firestore._traceUtil.startActiveSpan(N.SPAN_NAME_TRANSACTION_GET_DOCUMENT,()=>this.withLazyStartedTransaction(Q,this.getSingleFn));if(Q instanceof y.Query||Q instanceof p.AggregateQuery)return this._firestore._traceUtil.startActiveSpan(Q instanceof y.Query?N.SPAN_NAME_TRANSACTION_GET_QUERY:N.SPAN_NAME_TRANSACTION_GET_AGGREGATION_QUERY,()=>this.withLazyStartedTransaction(Q,this.getQueryFn));throw new Error('Value for argument "refOrQuery" must be a DocumentReference, Query, or AggregateQuery.')}getAll(...Q){if(this._writeBatch&&!this._writeBatch.isEmpty)throw new Error(L);return(0,m.validateMinNumberOfArguments)("Transaction.getAll",Q,1),this.withLazyStartedTransaction(U(Q),this.getBatchFn)}create(Q,K){if(!this._writeBatch)throw new Error(k);return this._writeBatch.create(Q,K),this}set(Q,K,G){if(!this._writeBatch)throw new Error(k);return G?this._writeBatch.set(Q,K,G):this._writeBatch.set(Q,K),this}update(Q,K,...G){if(!this._writeBatch)throw new Error(k);return(0,m.validateMinNumberOfArguments)("Transaction.update",arguments,2),this._writeBatch.update(Q,K,...G),this}delete(Q,K){if(!this._writeBatch)throw new Error(k);return this._writeBatch.delete(Q,K),this}async commit(){var Q;return this._firestore._traceUtil.startActiveSpan(N.SPAN_NAME_TRANSACTION_COMMIT,async()=>{if(!this._writeBatch)throw new Error(k);let K;if(this._transactionIdPromise)K=await this._transactionIdPromise;else if(this._writeBatch.isEmpty)return;await this._writeBatch._commit({transactionId:K,requestTag:this._requestTag}),this._transactionIdPromise=void 0,this._prevTransactionId=K},{[N.ATTRIBUTE_KEY_IS_TRANSACTIONAL]:!0,[N.ATTRIBUTE_KEY_DOC_COUNT]:(Q=this._writeBatch)===null||Q===void 0?void 0:Q._opCount})}async rollback(){return this._firestore._traceUtil.startActiveSpan(N.SPAN_NAME_TRANSACTION_ROLLBACK,async()=>{if(!this._transactionIdPromise||!this._writeBatch)return;let Q;try{Q=await this._transactionIdPromise}catch{this._transactionIdPromise=void 0;return}const K={database:this._firestore.formattedName,transaction:Q};this._transactionIdPromise=void 0,this._prevTransactionId=Q,this._firestore.request("rollback",K,this._requestTag).catch(G=>{(0,r.logger)("Firestore.runTransaction",this._requestTag,"Best effort to rollback failed with error:",G)})})}async runTransaction(Q){return this._firestore._traceUtil.startActiveSpan(N.SPAN_NAME_TRANSACTION_RUN,async K=>{if(!this._writeBatch)return this.runTransactionOnce(Q);let G;for(let F=0;F<this._maxAttempts;++F){K.setAttributes({[N.ATTRIBUTE_KEY_TRANSACTION_TYPE]:this._writeBatch?"READ_WRITE":"READ_ONLY",[N.ATTRIBUTE_KEY_ATTEMPTS_ALLOWED]:this._maxAttempts,[N.ATTRIBUTE_KEY_ATTEMPTS_REMAINING]:this._maxAttempts-F-1});try{return G&&((0,r.logger)("Firestore.runTransaction",this._requestTag,"Retrying transaction after error:",G),K.addEvent("Initiate transaction retry")),this._writeBatch._reset(),await M(this._backoff,G),await this.runTransactionOnce(Q)}catch(x){if(G=x,!j(x))break}}return(0,r.logger)("Firestore.runTransaction",this._requestTag,"Transaction not eligible for retry, returning error: %s",G),Promise.reject(G)})}async runTransactionOnce(Q){try{const K=Q(this);if(!(K instanceof Promise))throw new Error("You must return a Promise in your transaction()-callback.");const G=await K;return this._writeBatch&&await this.commit(),G}catch(K){return(0,r.logger)("Firestore.runTransaction",this._requestTag,"Rolling back transaction after callback error:",K),await this.rollback(),Promise.reject(K)}}withLazyStartedTransaction(Q,K){if(this._transactionIdPromise)return this._transactionIdPromise.then(G=>K.call(this,Q,G)).then(G=>G.result);if(this._readOnlyReadTime)return K.call(this,Q,this._readOnlyReadTime).then(G=>G.result);{const G={};this._writeBatch?G.readWrite=this._prevTransactionId?{retryTransaction:this._prevTransactionId}:{}:G.readOnly={};const F=K.call(this,Q,G);return this._transactionIdPromise=F.then(x=>{if(!x.transaction)throw new Error("Transaction ID was missing from server response");return x.transaction}),F.then(x=>x.result)}}async getSingleFn(Q,K){const G=new P.DocumentReader(this._firestore,[Q],void 0,K),{transaction:F,result:[x]}=await G._get(this._requestTag);return{transaction:F,result:x}}async getBatchFn({documents:Q,fieldMask:K},G){return this._firestore._traceUtil.startActiveSpan(N.SPAN_NAME_TRANSACTION_GET_DOCUMENTS,async()=>new P.DocumentReader(this._firestore,Q,K,G)._get(this._requestTag))}async getQueryFn(Q,K){return Q._get(K)}}transaction.Transaction=B;function U(q){let Q,K;if(Array.isArray(q[0]))throw new Error("getAll() no longer accepts an array as its first argument. Please unpack your array and call getAll() with individual arguments.");q.length>0&&(0,d.isPlainObject)(q[q.length-1])&&(K=q.pop()),Q=q;for(let F=0;F<Q.length;++F)(0,c.validateDocumentReference)(F,Q[F]);return $("options",K,{optional:!0}),{fieldMask:K&&K.fieldMask?K.fieldMask.map(F=>u.FieldPath.fromArgument(F)):void 0,documents:Q}}function $(q,Q,K){if(!(0,m.validateOptional)(Q,K)){if(!(0,d.isObject)(Q))throw new Error(`${(0,m.invalidArgumentMessage)(q,"read option")} Input is not an object.'`);const G=Q;if(G.fieldMask!==void 0){if(!Array.isArray(G.fieldMask))throw new Error(`${(0,m.invalidArgumentMessage)(q,"read option")} "fieldMask" is not an array.`);for(let F=0;F<G.fieldMask.length;++F)try{(0,u.validateFieldPath)(F,G.fieldMask[F])}catch(x){throw new Error(`${(0,m.invalidArgumentMessage)(q,"read option")} "fieldMask" is not valid: ${x.message}`)}}}}function j(q){if(q.code!==void 0)switch(q.code){case 10:case 1:case 2:case 4:case 13:case 14:case 16:case 8:return!0;case 3:return!!q.message.match(/transaction has expired/);default:return!1}return!1}async function M(q,Q){(Q==null?void 0:Q.code)===8&&q.resetToMax(),await q.backoffAndWait()}return transaction}var collectionGroup={},queryPartition={},hasRequiredQueryPartition;function requireQueryPartition(){if(hasRequiredQueryPartition)return queryPartition;hasRequiredQueryPartition=1,Object.defineProperty(queryPartition,"__esModule",{value:!0}),queryPartition.QueryPartition=void 0;const o=fieldOrder,e=requireQuery(),r=requireQueryOptions(),u=path,p=requireSerializer();class h{constructor(c,d,m,P,N){this._firestore=c,this._collectionId=d,this._converter=m,this._startAt=P,this._endBefore=N,this._serializer=new p.Serializer(c)}get startAt(){return this._startAt&&!this._memoizedStartAt&&(this._memoizedStartAt=this._startAt.map(c=>this._serializer.decodeValue(c))),this._memoizedStartAt}get endBefore(){return this._endBefore&&!this._memoizedEndBefore&&(this._memoizedEndBefore=this._endBefore.map(c=>this._serializer.decodeValue(c))),this._memoizedEndBefore}toQuery(){let c=r.QueryOptions.forCollectionGroupQuery(this._collectionId,this._converter);return c=c.with({fieldOrders:[new o.FieldOrder(u.FieldPath.documentId())]}),this._startAt!==void 0&&(c=c.with({startAt:{before:!0,values:this._startAt}})),this._endBefore!==void 0&&(c=c.with({endAt:{before:!0,values:this._endBefore}})),new e.Query(this._firestore,c)}}return queryPartition.QueryPartition=h,queryPartition}var hasRequiredCollectionGroup;function requireCollectionGroup(){if(hasRequiredCollectionGroup)return collectionGroup;hasRequiredCollectionGroup=1,Object.defineProperty(collectionGroup,"__esModule",{value:!0}),collectionGroup.CollectionGroup=void 0;const o=requireQueryPartition(),e=util$4,r=logger$1,u=requireQuery(),p=requireQueryOptions(),h=path,y=requireValidate(),c=types$1,d=order,m=traceUtil;class P extends u.Query{constructor(L,k,B){super(L,p.QueryOptions.forCollectionGroupQuery(k,B))}async*getPartitions(L){const k=[];await this._firestore._traceUtil.startActiveSpan(m.SPAN_NAME_PARTITION_QUERY,async()=>{var B;(0,y.validateInteger)("desiredPartitionCount",L,{minValue:1});const U=(0,e.requestTag)();if(await this.firestore.initializeIfNeeded(U),L>1){const j=this.orderBy(h.FieldPath.documentId()).toProto();j.partitionCount=L-1;const M=await this.firestore.requestStream("partitionQueryStream",!1,j,U);M.resume();for await(const q of M)k.push((B=q.values)!==null&&B!==void 0?B:[])}(0,r.logger)("Firestore.getPartitions",U,"Received %d partitions",k.length),k.sort(($,j)=>(0,d.compareArrays)($,j))});for(let B=0;B<k.length;++B)yield new o.QueryPartition(this._firestore,this._queryOptions.collectionId,this._queryOptions.converter,B>0?k[B-1]:void 0,k[B]);yield new o.QueryPartition(this._firestore,this._queryOptions.collectionId,this._queryOptions.converter,k.pop(),void 0)}withConverter(L){return new P(this.firestore,this._queryOptions.collectionId,L??(0,c.defaultConverter)())}}return collectionGroup.CollectionGroup=P,collectionGroup}var recursiveDelete={},hasRequiredRecursiveDelete;function requireRecursiveDelete(){return hasRequiredRecursiveDelete||(hasRequiredRecursiveDelete=1,function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.RecursiveDelete=o.RECURSIVE_DELETE_MIN_PENDING_OPS=o.RECURSIVE_DELETE_MAX_PENDING_OPS=o.REFERENCE_NAME_MIN_ID=void 0;const e=require$$1$3,r=requireSrc(),u=util$4,p=requireQueryOptions();/*!
 * Datastore allowed numeric IDs where Firestore only allows strings. Numeric
 * IDs are exposed to Firestore as __idNUM__, so this is the lowest possible
 * negative numeric value expressed in that format.
 *
 * This constant is used to specify startAt/endAt values when querying for all
 * descendants in a single collection.
 */o.REFERENCE_NAME_MIN_ID="__id-9223372036854775808__";/*!
 * The query limit used for recursive deletes when fetching all descendants of
 * the specified reference to delete. This is done to prevent the query stream
 * from streaming documents faster than Firestore can delete.
 */o.RECURSIVE_DELETE_MAX_PENDING_OPS=5e3;/*!
 * The number of pending BulkWriter operations at which RecursiveDelete
 * starts the next limit query to fetch descendants. By starting the query
 * while there are pending operations, Firestore can improve BulkWriter
 * throughput. This helps prevent BulkWriter from idling while Firestore
 * fetches the next query.
 */o.RECURSIVE_DELETE_MIN_PENDING_OPS=1e3;class h{constructor(c,d,m,P,N){this.firestore=c,this.writer=d,this.ref=m,this.maxLimit=P,this.minLimit=N,this.errorCount=0,this.documentsPending=!0,this.started=!1,this.completionDeferred=new u.Deferred,this.streamInProgress=!1,this.pendingOpsCount=0,this.errorStack="",this.maxPendingOps=P,this.minPendingOps=N}run(){return e(!this.started,"RecursiveDelete.run() should only be called once."),this.errorStack=Error().stack,this.writer._verifyNotClosed(),this.setupStream(),this.completionDeferred.promise}setupStream(){const c=this.getAllDescendants(this.ref instanceof r.CollectionReference?this.ref:this.ref);this.streamInProgress=!0;let d=0;c.on("error",m=>{m.code=14,m.stack="Failed to fetch children documents: "+m.stack,this.lastError=m,this.onQueryEnd()}).on("data",m=>{d++,this.lastDocumentSnap=m,this.deleteRef(m.ref)}).on("end",()=>{this.streamInProgress=!1,d<this.minPendingOps?this.onQueryEnd():this.pendingOpsCount===0&&this.setupStream()})}getAllDescendants(c){let d=c._resourcePath;c instanceof r.CollectionReference&&(d=d.popLast());const m=c instanceof r.CollectionReference?c.id:c.parent.id;let P=new r.Query(this.firestore,p.QueryOptions.forKindlessAllDescendants(d,m,!1));if(P=P.select(r.FieldPath.documentId()).limit(this.maxPendingOps),c instanceof r.CollectionReference){const N="\0",L=m+"/"+o.REFERENCE_NAME_MIN_ID,k=m+N+"/"+o.REFERENCE_NAME_MIN_ID;P=P.where(r.FieldPath.documentId(),">=",L).where(r.FieldPath.documentId(),"<",k)}return this.lastDocumentSnap&&(P=P.startAfter(this.lastDocumentSnap)),P.stream()}onQueryEnd(){this.documentsPending=!1,this.ref instanceof r.DocumentReference&&this.writer.delete(this.ref).catch(c=>this.incrementErrorCount(c)),this.writer.flush().then(async()=>{var c;if(this.lastError===void 0)this.completionDeferred.resolve();else{let d=new(requireFallback()).GoogleError(`${this.errorCount} ${this.errorCount!==1?"deletes":"delete"} failed. The last delete failed with: `);this.lastError.code!==void 0&&(d.code=this.lastError.code),d=(0,u.wrapError)(d,this.errorStack),this.completionDeferred.reject(this.lastError.stack?(0,u.wrapError)(d,(c=this.lastError.stack)!==null&&c!==void 0?c:""):d)}})}deleteRef(c){this.pendingOpsCount++,this.writer.delete(c).catch(d=>{this.incrementErrorCount(d)}).then(()=>{this.pendingOpsCount--,this.documentsPending&&!this.streamInProgress&&this.pendingOpsCount<this.minPendingOps&&this.setupStream()})}incrementErrorCount(c){this.errorCount++,this.lastError=c}}o.RecursiveDelete=h}(recursiveDelete)),recursiveDelete}var disabledTraceUtil={},span={};Object.defineProperty(span,"__esModule",{value:!0});span.Span=void 0;class Span{constructor(e){this.span=e}end(){var e;(e=this.span)===null||e===void 0||e.end()}addEvent(e,r){var u;return this.span=(u=this.span)===null||u===void 0?void 0:u.addEvent(e,r),this}setAttributes(e){var r;return this.span=(r=this.span)===null||r===void 0?void 0:r.setAttributes(e),this}}span.Span=Span;Object.defineProperty(disabledTraceUtil,"__esModule",{value:!0});disabledTraceUtil.DisabledTraceUtil=void 0;const span_1=span;class DisabledTraceUtil{startSpan(e){return new span_1.Span}startActiveSpan(e,r,u){const p=new span_1.Span;return r(p)}currentSpan(){return new span_1.Span}recordProjectId(e){}}disabledTraceUtil.DisabledTraceUtil=DisabledTraceUtil;var enabledTraceUtil={},_globalThis=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},VERSION="1.9.0",re=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function _makeCompatibilityCheck(o){var e=new Set([o]),r=new Set,u=o.match(re);if(!u)return function(){return!1};var p={major:+u[1],minor:+u[2],patch:+u[3],prerelease:u[4]};if(p.prerelease!=null)return function(d){return d===o};function h(c){return r.add(c),!1}function y(c){return e.add(c),!0}return function(d){if(e.has(d))return!0;if(r.has(d))return!1;var m=d.match(re);if(!m)return h(d);var P={major:+m[1],minor:+m[2],patch:+m[3],prerelease:m[4]};return P.prerelease!=null||p.major!==P.major?h(d):p.major===0?p.minor===P.minor&&p.patch<=P.patch?y(d):h(d):p.minor<=P.minor?y(d):h(d)}}var isCompatible=_makeCompatibilityCheck(VERSION),major=VERSION.split(".")[0],GLOBAL_OPENTELEMETRY_API_KEY=Symbol.for("opentelemetry.js.api."+major),_global=_globalThis;function registerGlobal(o,e,r,u){var p;u===void 0&&(u=!1);var h=_global[GLOBAL_OPENTELEMETRY_API_KEY]=(p=_global[GLOBAL_OPENTELEMETRY_API_KEY])!==null&&p!==void 0?p:{version:VERSION};if(!u&&h[o]){var y=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+o);return r.error(y.stack||y.message),!1}if(h.version!==VERSION){var y=new Error("@opentelemetry/api: Registration of version v"+h.version+" for "+o+" does not match previously registered API v"+VERSION);return r.error(y.stack||y.message),!1}return h[o]=e,r.debug("@opentelemetry/api: Registered a global for "+o+" v"+VERSION+"."),!0}function getGlobal(o){var e,r,u=(e=_global[GLOBAL_OPENTELEMETRY_API_KEY])===null||e===void 0?void 0:e.version;if(!(!u||!isCompatible(u)))return(r=_global[GLOBAL_OPENTELEMETRY_API_KEY])===null||r===void 0?void 0:r[o]}function unregisterGlobal(o,e){e.debug("@opentelemetry/api: Unregistering a global for "+o+" v"+VERSION+".");var r=_global[GLOBAL_OPENTELEMETRY_API_KEY];r&&delete r[o]}var __read$4=function(o,e){var r=typeof Symbol=="function"&&o[Symbol.iterator];if(!r)return o;var u=r.call(o),p,h=[],y;try{for(;(e===void 0||e-- >0)&&!(p=u.next()).done;)h.push(p.value)}catch(c){y={error:c}}finally{try{p&&!p.done&&(r=u.return)&&r.call(u)}finally{if(y)throw y.error}}return h},__spreadArray$3=function(o,e,r){if(r||arguments.length===2)for(var u=0,p=e.length,h;u<p;u++)(h||!(u in e))&&(h||(h=Array.prototype.slice.call(e,0,u)),h[u]=e[u]);return o.concat(h||Array.prototype.slice.call(e))},DiagComponentLogger=function(){function o(e){this._namespace=e.namespace||"DiagComponentLogger"}return o.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return logProxy("debug",this._namespace,e)},o.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return logProxy("error",this._namespace,e)},o.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return logProxy("info",this._namespace,e)},o.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return logProxy("warn",this._namespace,e)},o.prototype.verbose=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return logProxy("verbose",this._namespace,e)},o}();function logProxy(o,e,r){var u=getGlobal("diag");if(u)return r.unshift(e),u[o].apply(u,__spreadArray$3([],__read$4(r),!1))}var DiagLogLevel;(function(o){o[o.NONE=0]="NONE",o[o.ERROR=30]="ERROR",o[o.WARN=50]="WARN",o[o.INFO=60]="INFO",o[o.DEBUG=70]="DEBUG",o[o.VERBOSE=80]="VERBOSE",o[o.ALL=9999]="ALL"})(DiagLogLevel||(DiagLogLevel={}));function createLogLevelDiagLogger(o,e){o<DiagLogLevel.NONE?o=DiagLogLevel.NONE:o>DiagLogLevel.ALL&&(o=DiagLogLevel.ALL),e=e||{};function r(u,p){var h=e[u];return typeof h=="function"&&o>=p?h.bind(e):function(){}}return{error:r("error",DiagLogLevel.ERROR),warn:r("warn",DiagLogLevel.WARN),info:r("info",DiagLogLevel.INFO),debug:r("debug",DiagLogLevel.DEBUG),verbose:r("verbose",DiagLogLevel.VERBOSE)}}var __read$3=function(o,e){var r=typeof Symbol=="function"&&o[Symbol.iterator];if(!r)return o;var u=r.call(o),p,h=[],y;try{for(;(e===void 0||e-- >0)&&!(p=u.next()).done;)h.push(p.value)}catch(c){y={error:c}}finally{try{p&&!p.done&&(r=u.return)&&r.call(u)}finally{if(y)throw y.error}}return h},__spreadArray$2=function(o,e,r){if(r||arguments.length===2)for(var u=0,p=e.length,h;u<p;u++)(h||!(u in e))&&(h||(h=Array.prototype.slice.call(e,0,u)),h[u]=e[u]);return o.concat(h||Array.prototype.slice.call(e))},API_NAME$4="diag",DiagAPI=function(){function o(){function e(p){return function(){for(var h=[],y=0;y<arguments.length;y++)h[y]=arguments[y];var c=getGlobal("diag");if(c)return c[p].apply(c,__spreadArray$2([],__read$3(h),!1))}}var r=this,u=function(p,h){var y,c,d;if(h===void 0&&(h={logLevel:DiagLogLevel.INFO}),p===r){var m=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((y=m.stack)!==null&&y!==void 0?y:m.message),!1}typeof h=="number"&&(h={logLevel:h});var P=getGlobal("diag"),N=createLogLevelDiagLogger((c=h.logLevel)!==null&&c!==void 0?c:DiagLogLevel.INFO,p);if(P&&!h.suppressOverrideMessage){var L=(d=new Error().stack)!==null&&d!==void 0?d:"<failed to generate stacktrace>";P.warn("Current logger will be overwritten from "+L),N.warn("Current logger will overwrite one already registered from "+L)}return registerGlobal("diag",N,r,!0)};r.setLogger=u,r.disable=function(){unregisterGlobal(API_NAME$4,r)},r.createComponentLogger=function(p){return new DiagComponentLogger(p)},r.verbose=e("verbose"),r.debug=e("debug"),r.info=e("info"),r.warn=e("warn"),r.error=e("error")}return o.instance=function(){return this._instance||(this._instance=new o),this._instance},o}(),__read$2=function(o,e){var r=typeof Symbol=="function"&&o[Symbol.iterator];if(!r)return o;var u=r.call(o),p,h=[],y;try{for(;(e===void 0||e-- >0)&&!(p=u.next()).done;)h.push(p.value)}catch(c){y={error:c}}finally{try{p&&!p.done&&(r=u.return)&&r.call(u)}finally{if(y)throw y.error}}return h},__values=function(o){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&o[e],u=0;if(r)return r.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&u>=o.length&&(o=void 0),{value:o&&o[u++],done:!o}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},BaggageImpl=function(){function o(e){this._entries=e?new Map(e):new Map}return o.prototype.getEntry=function(e){var r=this._entries.get(e);if(r)return Object.assign({},r)},o.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var r=__read$2(e,2),u=r[0],p=r[1];return[u,p]})},o.prototype.setEntry=function(e,r){var u=new o(this._entries);return u._entries.set(e,r),u},o.prototype.removeEntry=function(e){var r=new o(this._entries);return r._entries.delete(e),r},o.prototype.removeEntries=function(){for(var e,r,u=[],p=0;p<arguments.length;p++)u[p]=arguments[p];var h=new o(this._entries);try{for(var y=__values(u),c=y.next();!c.done;c=y.next()){var d=c.value;h._entries.delete(d)}}catch(m){e={error:m}}finally{try{c&&!c.done&&(r=y.return)&&r.call(y)}finally{if(e)throw e.error}}return h},o.prototype.clear=function(){return new o},o}(),baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata"),diag$1=DiagAPI.instance();function createBaggage(o){return o===void 0&&(o={}),new BaggageImpl(new Map(Object.entries(o)))}function baggageEntryMetadataFromString(o){return typeof o!="string"&&(diag$1.error("Cannot create baggage metadata from unknown type: "+typeof o),o=""),{__TYPE__:baggageEntryMetadataSymbol,toString:function(){return o}}}function createContextKey(o){return Symbol.for(o)}var BaseContext=function(){function o(e){var r=this;r._currentContext=e?new Map(e):new Map,r.getValue=function(u){return r._currentContext.get(u)},r.setValue=function(u,p){var h=new o(r._currentContext);return h._currentContext.set(u,p),h},r.deleteValue=function(u){var p=new o(r._currentContext);return p._currentContext.delete(u),p}}return o}(),ROOT_CONTEXT=new BaseContext,consoleMap=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],DiagConsoleLogger=function(){function o(){function e(u){return function(){for(var p=[],h=0;h<arguments.length;h++)p[h]=arguments[h];if(console){var y=console[u];if(typeof y!="function"&&(y=console.log),typeof y=="function")return y.apply(console,p)}}}for(var r=0;r<consoleMap.length;r++)this[consoleMap[r].n]=e(consoleMap[r].c)}return o}(),__extends=function(){var o=function(e,r){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(u[h]=p[h])},o(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");o(e,r);function u(){this.constructor=e}e.prototype=r===null?Object.create(r):(u.prototype=r.prototype,new u)}}(),NoopMeter=function(){function o(){}return o.prototype.createGauge=function(e,r){return NOOP_GAUGE_METRIC},o.prototype.createHistogram=function(e,r){return NOOP_HISTOGRAM_METRIC},o.prototype.createCounter=function(e,r){return NOOP_COUNTER_METRIC},o.prototype.createUpDownCounter=function(e,r){return NOOP_UP_DOWN_COUNTER_METRIC},o.prototype.createObservableGauge=function(e,r){return NOOP_OBSERVABLE_GAUGE_METRIC},o.prototype.createObservableCounter=function(e,r){return NOOP_OBSERVABLE_COUNTER_METRIC},o.prototype.createObservableUpDownCounter=function(e,r){return NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC},o.prototype.addBatchObservableCallback=function(e,r){},o.prototype.removeBatchObservableCallback=function(e){},o}(),NoopMetric=function(){function o(){}return o}(),NoopCounterMetric=function(o){__extends(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.add=function(r,u){},e}(NoopMetric),NoopUpDownCounterMetric=function(o){__extends(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.add=function(r,u){},e}(NoopMetric),NoopGaugeMetric=function(o){__extends(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.record=function(r,u){},e}(NoopMetric),NoopHistogramMetric=function(o){__extends(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.record=function(r,u){},e}(NoopMetric),NoopObservableMetric=function(){function o(){}return o.prototype.addCallback=function(e){},o.prototype.removeCallback=function(e){},o}(),NoopObservableCounterMetric=function(o){__extends(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e}(NoopObservableMetric),NoopObservableGaugeMetric=function(o){__extends(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e}(NoopObservableMetric),NoopObservableUpDownCounterMetric=function(o){__extends(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e}(NoopObservableMetric),NOOP_METER=new NoopMeter,NOOP_COUNTER_METRIC=new NoopCounterMetric,NOOP_GAUGE_METRIC=new NoopGaugeMetric,NOOP_HISTOGRAM_METRIC=new NoopHistogramMetric,NOOP_UP_DOWN_COUNTER_METRIC=new NoopUpDownCounterMetric,NOOP_OBSERVABLE_COUNTER_METRIC=new NoopObservableCounterMetric,NOOP_OBSERVABLE_GAUGE_METRIC=new NoopObservableGaugeMetric,NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new NoopObservableUpDownCounterMetric;function createNoopMeter(){return NOOP_METER}var ValueType;(function(o){o[o.INT=0]="INT",o[o.DOUBLE=1]="DOUBLE"})(ValueType||(ValueType={}));var defaultTextMapGetter={get:function(o,e){if(o!=null)return o[e]},keys:function(o){return o==null?[]:Object.keys(o)}},defaultTextMapSetter={set:function(o,e,r){o!=null&&(o[e]=r)}},__read$1=function(o,e){var r=typeof Symbol=="function"&&o[Symbol.iterator];if(!r)return o;var u=r.call(o),p,h=[],y;try{for(;(e===void 0||e-- >0)&&!(p=u.next()).done;)h.push(p.value)}catch(c){y={error:c}}finally{try{p&&!p.done&&(r=u.return)&&r.call(u)}finally{if(y)throw y.error}}return h},__spreadArray$1=function(o,e,r){if(r||arguments.length===2)for(var u=0,p=e.length,h;u<p;u++)(h||!(u in e))&&(h||(h=Array.prototype.slice.call(e,0,u)),h[u]=e[u]);return o.concat(h||Array.prototype.slice.call(e))},NoopContextManager=function(){function o(){}return o.prototype.active=function(){return ROOT_CONTEXT},o.prototype.with=function(e,r,u){for(var p=[],h=3;h<arguments.length;h++)p[h-3]=arguments[h];return r.call.apply(r,__spreadArray$1([u],__read$1(p),!1))},o.prototype.bind=function(e,r){return r},o.prototype.enable=function(){return this},o.prototype.disable=function(){return this},o}(),__read=function(o,e){var r=typeof Symbol=="function"&&o[Symbol.iterator];if(!r)return o;var u=r.call(o),p,h=[],y;try{for(;(e===void 0||e-- >0)&&!(p=u.next()).done;)h.push(p.value)}catch(c){y={error:c}}finally{try{p&&!p.done&&(r=u.return)&&r.call(u)}finally{if(y)throw y.error}}return h},__spreadArray=function(o,e,r){if(r||arguments.length===2)for(var u=0,p=e.length,h;u<p;u++)(h||!(u in e))&&(h||(h=Array.prototype.slice.call(e,0,u)),h[u]=e[u]);return o.concat(h||Array.prototype.slice.call(e))},API_NAME$3="context",NOOP_CONTEXT_MANAGER=new NoopContextManager,ContextAPI=function(){function o(){}return o.getInstance=function(){return this._instance||(this._instance=new o),this._instance},o.prototype.setGlobalContextManager=function(e){return registerGlobal(API_NAME$3,e,DiagAPI.instance())},o.prototype.active=function(){return this._getContextManager().active()},o.prototype.with=function(e,r,u){for(var p,h=[],y=3;y<arguments.length;y++)h[y-3]=arguments[y];return(p=this._getContextManager()).with.apply(p,__spreadArray([e,r,u],__read(h),!1))},o.prototype.bind=function(e,r){return this._getContextManager().bind(e,r)},o.prototype._getContextManager=function(){return getGlobal(API_NAME$3)||NOOP_CONTEXT_MANAGER},o.prototype.disable=function(){this._getContextManager().disable(),unregisterGlobal(API_NAME$3,DiagAPI.instance())},o}(),TraceFlags;(function(o){o[o.NONE=0]="NONE",o[o.SAMPLED=1]="SAMPLED"})(TraceFlags||(TraceFlags={}));var INVALID_SPANID="0000000000000000",INVALID_TRACEID="00000000000000000000000000000000",INVALID_SPAN_CONTEXT={traceId:INVALID_TRACEID,spanId:INVALID_SPANID,traceFlags:TraceFlags.NONE},NonRecordingSpan=function(){function o(e){e===void 0&&(e=INVALID_SPAN_CONTEXT),this._spanContext=e}return o.prototype.spanContext=function(){return this._spanContext},o.prototype.setAttribute=function(e,r){return this},o.prototype.setAttributes=function(e){return this},o.prototype.addEvent=function(e,r){return this},o.prototype.addLink=function(e){return this},o.prototype.addLinks=function(e){return this},o.prototype.setStatus=function(e){return this},o.prototype.updateName=function(e){return this},o.prototype.end=function(e){},o.prototype.isRecording=function(){return!1},o.prototype.recordException=function(e,r){},o}(),SPAN_KEY=createContextKey("OpenTelemetry Context Key SPAN");function getSpan(o){return o.getValue(SPAN_KEY)||void 0}function getActiveSpan(){return getSpan(ContextAPI.getInstance().active())}function setSpan(o,e){return o.setValue(SPAN_KEY,e)}function deleteSpan(o){return o.deleteValue(SPAN_KEY)}function setSpanContext(o,e){return setSpan(o,new NonRecordingSpan(e))}function getSpanContext(o){var e;return(e=getSpan(o))===null||e===void 0?void 0:e.spanContext()}var VALID_TRACEID_REGEX=/^([0-9a-f]{32})$/i,VALID_SPANID_REGEX=/^[0-9a-f]{16}$/i;function isValidTraceId(o){return VALID_TRACEID_REGEX.test(o)&&o!==INVALID_TRACEID}function isValidSpanId(o){return VALID_SPANID_REGEX.test(o)&&o!==INVALID_SPANID}function isSpanContextValid(o){return isValidTraceId(o.traceId)&&isValidSpanId(o.spanId)}function wrapSpanContext(o){return new NonRecordingSpan(o)}var contextApi=ContextAPI.getInstance(),NoopTracer=function(){function o(){}return o.prototype.startSpan=function(e,r,u){u===void 0&&(u=contextApi.active());var p=!!(r!=null&&r.root);if(p)return new NonRecordingSpan;var h=u&&getSpanContext(u);return isSpanContext(h)&&isSpanContextValid(h)?new NonRecordingSpan(h):new NonRecordingSpan},o.prototype.startActiveSpan=function(e,r,u,p){var h,y,c;if(!(arguments.length<2)){arguments.length===2?c=r:arguments.length===3?(h=r,c=u):(h=r,y=u,c=p);var d=y??contextApi.active(),m=this.startSpan(e,h,d),P=setSpan(d,m);return contextApi.with(P,c,void 0,m)}},o}();function isSpanContext(o){return typeof o=="object"&&typeof o.spanId=="string"&&typeof o.traceId=="string"&&typeof o.traceFlags=="number"}var NOOP_TRACER=new NoopTracer,ProxyTracer=function(){function o(e,r,u,p){this._provider=e,this.name=r,this.version=u,this.options=p}return o.prototype.startSpan=function(e,r,u){return this._getTracer().startSpan(e,r,u)},o.prototype.startActiveSpan=function(e,r,u,p){var h=this._getTracer();return Reflect.apply(h.startActiveSpan,h,arguments)},o.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):NOOP_TRACER},o}(),NoopTracerProvider=function(){function o(){}return o.prototype.getTracer=function(e,r,u){return new NoopTracer},o}(),NOOP_TRACER_PROVIDER=new NoopTracerProvider,ProxyTracerProvider=function(){function o(){}return o.prototype.getTracer=function(e,r,u){var p;return(p=this.getDelegateTracer(e,r,u))!==null&&p!==void 0?p:new ProxyTracer(this,e,r,u)},o.prototype.getDelegate=function(){var e;return(e=this._delegate)!==null&&e!==void 0?e:NOOP_TRACER_PROVIDER},o.prototype.setDelegate=function(e){this._delegate=e},o.prototype.getDelegateTracer=function(e,r,u){var p;return(p=this._delegate)===null||p===void 0?void 0:p.getTracer(e,r,u)},o}(),SamplingDecision;(function(o){o[o.NOT_RECORD=0]="NOT_RECORD",o[o.RECORD=1]="RECORD",o[o.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(SamplingDecision||(SamplingDecision={}));var SpanKind;(function(o){o[o.INTERNAL=0]="INTERNAL",o[o.SERVER=1]="SERVER",o[o.CLIENT=2]="CLIENT",o[o.PRODUCER=3]="PRODUCER",o[o.CONSUMER=4]="CONSUMER"})(SpanKind||(SpanKind={}));var SpanStatusCode;(function(o){o[o.UNSET=0]="UNSET",o[o.OK=1]="OK",o[o.ERROR=2]="ERROR"})(SpanStatusCode||(SpanStatusCode={}));var VALID_KEY_CHAR_RANGE="[_0-9a-z-*/]",VALID_KEY="[a-z]"+VALID_KEY_CHAR_RANGE+"{0,255}",VALID_VENDOR_KEY="[a-z0-9]"+VALID_KEY_CHAR_RANGE+"{0,240}@[a-z]"+VALID_KEY_CHAR_RANGE+"{0,13}",VALID_KEY_REGEX=new RegExp("^(?:"+VALID_KEY+"|"+VALID_VENDOR_KEY+")$"),VALID_VALUE_BASE_REGEX=/^[ -~]{0,255}[!-~]$/,INVALID_VALUE_COMMA_EQUAL_REGEX=/,|=/;function validateKey(o){return VALID_KEY_REGEX.test(o)}function validateValue(o){return VALID_VALUE_BASE_REGEX.test(o)&&!INVALID_VALUE_COMMA_EQUAL_REGEX.test(o)}var MAX_TRACE_STATE_ITEMS=32,MAX_TRACE_STATE_LEN=512,LIST_MEMBERS_SEPARATOR=",",LIST_MEMBER_KEY_VALUE_SPLITTER="=",TraceStateImpl=function(){function o(e){this._internalState=new Map,e&&this._parse(e)}return o.prototype.set=function(e,r){var u=this._clone();return u._internalState.has(e)&&u._internalState.delete(e),u._internalState.set(e,r),u},o.prototype.unset=function(e){var r=this._clone();return r._internalState.delete(e),r},o.prototype.get=function(e){return this._internalState.get(e)},o.prototype.serialize=function(){var e=this;return this._keys().reduce(function(r,u){return r.push(u+LIST_MEMBER_KEY_VALUE_SPLITTER+e.get(u)),r},[]).join(LIST_MEMBERS_SEPARATOR)},o.prototype._parse=function(e){e.length>MAX_TRACE_STATE_LEN||(this._internalState=e.split(LIST_MEMBERS_SEPARATOR).reverse().reduce(function(r,u){var p=u.trim(),h=p.indexOf(LIST_MEMBER_KEY_VALUE_SPLITTER);if(h!==-1){var y=p.slice(0,h),c=p.slice(h+1,u.length);validateKey(y)&&validateValue(c)&&r.set(y,c)}return r},new Map),this._internalState.size>MAX_TRACE_STATE_ITEMS&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,MAX_TRACE_STATE_ITEMS))))},o.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},o.prototype._clone=function(){var e=new o;return e._internalState=new Map(this._internalState),e},o}();function createTraceState(o){return new TraceStateImpl(o)}var context=ContextAPI.getInstance(),diag=DiagAPI.instance(),NoopMeterProvider=function(){function o(){}return o.prototype.getMeter=function(e,r,u){return NOOP_METER},o}(),NOOP_METER_PROVIDER=new NoopMeterProvider,API_NAME$2="metrics",MetricsAPI=function(){function o(){}return o.getInstance=function(){return this._instance||(this._instance=new o),this._instance},o.prototype.setGlobalMeterProvider=function(e){return registerGlobal(API_NAME$2,e,DiagAPI.instance())},o.prototype.getMeterProvider=function(){return getGlobal(API_NAME$2)||NOOP_METER_PROVIDER},o.prototype.getMeter=function(e,r,u){return this.getMeterProvider().getMeter(e,r,u)},o.prototype.disable=function(){unregisterGlobal(API_NAME$2,DiagAPI.instance())},o}(),metrics=MetricsAPI.getInstance(),NoopTextMapPropagator=function(){function o(){}return o.prototype.inject=function(e,r){},o.prototype.extract=function(e,r){return e},o.prototype.fields=function(){return[]},o}(),BAGGAGE_KEY=createContextKey("OpenTelemetry Baggage Key");function getBaggage(o){return o.getValue(BAGGAGE_KEY)||void 0}function getActiveBaggage(){return getBaggage(ContextAPI.getInstance().active())}function setBaggage(o,e){return o.setValue(BAGGAGE_KEY,e)}function deleteBaggage(o){return o.deleteValue(BAGGAGE_KEY)}var API_NAME$1="propagation",NOOP_TEXT_MAP_PROPAGATOR=new NoopTextMapPropagator,PropagationAPI=function(){function o(){this.createBaggage=createBaggage,this.getBaggage=getBaggage,this.getActiveBaggage=getActiveBaggage,this.setBaggage=setBaggage,this.deleteBaggage=deleteBaggage}return o.getInstance=function(){return this._instance||(this._instance=new o),this._instance},o.prototype.setGlobalPropagator=function(e){return registerGlobal(API_NAME$1,e,DiagAPI.instance())},o.prototype.inject=function(e,r,u){return u===void 0&&(u=defaultTextMapSetter),this._getGlobalPropagator().inject(e,r,u)},o.prototype.extract=function(e,r,u){return u===void 0&&(u=defaultTextMapGetter),this._getGlobalPropagator().extract(e,r,u)},o.prototype.fields=function(){return this._getGlobalPropagator().fields()},o.prototype.disable=function(){unregisterGlobal(API_NAME$1,DiagAPI.instance())},o.prototype._getGlobalPropagator=function(){return getGlobal(API_NAME$1)||NOOP_TEXT_MAP_PROPAGATOR},o}(),propagation=PropagationAPI.getInstance(),API_NAME="trace",TraceAPI=function(){function o(){this._proxyTracerProvider=new ProxyTracerProvider,this.wrapSpanContext=wrapSpanContext,this.isSpanContextValid=isSpanContextValid,this.deleteSpan=deleteSpan,this.getSpan=getSpan,this.getActiveSpan=getActiveSpan,this.getSpanContext=getSpanContext,this.setSpan=setSpan,this.setSpanContext=setSpanContext}return o.getInstance=function(){return this._instance||(this._instance=new o),this._instance},o.prototype.setGlobalTracerProvider=function(e){var r=registerGlobal(API_NAME,this._proxyTracerProvider,DiagAPI.instance());return r&&this._proxyTracerProvider.setDelegate(e),r},o.prototype.getTracerProvider=function(){return getGlobal(API_NAME)||this._proxyTracerProvider},o.prototype.getTracer=function(e,r){return this.getTracerProvider().getTracer(e,r)},o.prototype.disable=function(){unregisterGlobal(API_NAME,DiagAPI.instance()),this._proxyTracerProvider=new ProxyTracerProvider},o}(),trace=TraceAPI.getInstance();const index={context,diag,metrics,propagation,trace},esm=Object.freeze(Object.defineProperty({__proto__:null,DiagConsoleLogger,get DiagLogLevel(){return DiagLogLevel},INVALID_SPANID,INVALID_SPAN_CONTEXT,INVALID_TRACEID,ProxyTracer,ProxyTracerProvider,ROOT_CONTEXT,get SamplingDecision(){return SamplingDecision},get SpanKind(){return SpanKind},get SpanStatusCode(){return SpanStatusCode},get TraceFlags(){return TraceFlags},get ValueType(){return ValueType},baggageEntryMetadataFromString,context,createContextKey,createNoopMeter,createTraceState,default:index,defaultTextMapGetter,defaultTextMapSetter,diag,isSpanContextValid,isValidSpanId,isValidTraceId,metrics,propagation,trace},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(esm);var v1={exports:{}},firestore_admin_client={};const options$2={syntax:"proto3"},nested$2={google:{nested:{firestore:{nested:{admin:{nested:{v1:{options:{csharp_namespace:"Google.Cloud.Firestore.Admin.V1",go_package:"cloud.google.com/go/firestore/apiv1/admin/adminpb;adminpb",java_multiple_files:!0,java_outer_classname:"LocationProto",java_package:"com.google.firestore.admin.v1",objc_class_prefix:"GCFS",php_namespace:"Google\\Cloud\\Firestore\\Admin\\V1",ruby_package:"Google::Cloud::Firestore::Admin::V1","(google.api.resource_definition).type":"firestore.googleapis.com/CollectionGroup","(google.api.resource_definition).pattern":"projects/{project}/databases/{database}/collectionGroups/{collection}"},nested:{Backup:{options:{"(google.api.resource).type":"firestore.googleapis.com/Backup","(google.api.resource).pattern":"projects/{project}/locations/{location}/backups/{backup}"},fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"OUTPUT_ONLY"}},database:{type:"string",id:2,options:{"(google.api.field_behavior)":"OUTPUT_ONLY","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},databaseUid:{type:"string",id:7,options:{"(google.api.field_behavior)":"OUTPUT_ONLY"}},snapshotTime:{type:"google.protobuf.Timestamp",id:3,options:{"(google.api.field_behavior)":"OUTPUT_ONLY"}},expireTime:{type:"google.protobuf.Timestamp",id:4,options:{"(google.api.field_behavior)":"OUTPUT_ONLY"}},stats:{type:"Stats",id:6,options:{"(google.api.field_behavior)":"OUTPUT_ONLY"}},state:{type:"State",id:8,options:{"(google.api.field_behavior)":"OUTPUT_ONLY"}}},nested:{Stats:{fields:{sizeBytes:{type:"int64",id:1,options:{"(google.api.field_behavior)":"OUTPUT_ONLY"}},documentCount:{type:"int64",id:2,options:{"(google.api.field_behavior)":"OUTPUT_ONLY"}},indexCount:{type:"int64",id:3,options:{"(google.api.field_behavior)":"OUTPUT_ONLY"}}}},State:{values:{STATE_UNSPECIFIED:0,CREATING:1,READY:2,NOT_AVAILABLE:3}}}},Database:{options:{"(google.api.resource).type":"firestore.googleapis.com/Database","(google.api.resource).pattern":"projects/{project}/databases/{database}","(google.api.resource).style":"DECLARATIVE_FRIENDLY"},fields:{name:{type:"string",id:1},uid:{type:"string",id:3,options:{"(google.api.field_behavior)":"OUTPUT_ONLY"}},createTime:{type:"google.protobuf.Timestamp",id:5,options:{"(google.api.field_behavior)":"OUTPUT_ONLY"}},updateTime:{type:"google.protobuf.Timestamp",id:6,options:{"(google.api.field_behavior)":"OUTPUT_ONLY"}},deleteTime:{type:"google.protobuf.Timestamp",id:7,options:{"(google.api.field_behavior)":"OUTPUT_ONLY"}},locationId:{type:"string",id:9},type:{type:"DatabaseType",id:10},concurrencyMode:{type:"ConcurrencyMode",id:15},versionRetentionPeriod:{type:"google.protobuf.Duration",id:17,options:{"(google.api.field_behavior)":"OUTPUT_ONLY"}},earliestVersionTime:{type:"google.protobuf.Timestamp",id:18,options:{"(google.api.field_behavior)":"OUTPUT_ONLY"}},pointInTimeRecoveryEnablement:{type:"PointInTimeRecoveryEnablement",id:21},appEngineIntegrationMode:{type:"AppEngineIntegrationMode",id:19},keyPrefix:{type:"string",id:20,options:{"(google.api.field_behavior)":"OUTPUT_ONLY"}},deleteProtectionState:{type:"DeleteProtectionState",id:22},cmekConfig:{type:"CmekConfig",id:23,options:{"(google.api.field_behavior)":"OPTIONAL"}},previousId:{type:"string",id:25,options:{"(google.api.field_behavior)":"OUTPUT_ONLY"}},sourceInfo:{type:"SourceInfo",id:26,options:{"(google.api.field_behavior)":"OUTPUT_ONLY"}},etag:{type:"string",id:99}},nested:{DatabaseType:{values:{DATABASE_TYPE_UNSPECIFIED:0,FIRESTORE_NATIVE:1,DATASTORE_MODE:2}},ConcurrencyMode:{values:{CONCURRENCY_MODE_UNSPECIFIED:0,OPTIMISTIC:1,PESSIMISTIC:2,OPTIMISTIC_WITH_ENTITY_GROUPS:3}},PointInTimeRecoveryEnablement:{values:{POINT_IN_TIME_RECOVERY_ENABLEMENT_UNSPECIFIED:0,POINT_IN_TIME_RECOVERY_ENABLED:1,POINT_IN_TIME_RECOVERY_DISABLED:2}},AppEngineIntegrationMode:{values:{APP_ENGINE_INTEGRATION_MODE_UNSPECIFIED:0,ENABLED:1,DISABLED:2}},DeleteProtectionState:{values:{DELETE_PROTECTION_STATE_UNSPECIFIED:0,DELETE_PROTECTION_DISABLED:1,DELETE_PROTECTION_ENABLED:2}},CmekConfig:{fields:{kmsKeyName:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},activeKeyVersion:{rule:"repeated",type:"string",id:2,options:{"(google.api.field_behavior)":"OUTPUT_ONLY"}}}},SourceInfo:{oneofs:{source:{oneof:["backup"]}},fields:{backup:{type:"BackupSource",id:1},operation:{type:"string",id:3,options:{"(google.api.resource_reference).type":"firestore.googleapis.com/Operation"}}},nested:{BackupSource:{fields:{backup:{type:"string",id:1,options:{"(google.api.resource_reference).type":"firestore.googleapis.com/Backup"}}}}}},EncryptionConfig:{oneofs:{encryptionType:{oneof:["googleDefaultEncryption","useSourceEncryption","customerManagedEncryption"]}},fields:{googleDefaultEncryption:{type:"GoogleDefaultEncryptionOptions",id:1},useSourceEncryption:{type:"SourceEncryptionOptions",id:2},customerManagedEncryption:{type:"CustomerManagedEncryptionOptions",id:3}},nested:{GoogleDefaultEncryptionOptions:{fields:{}},SourceEncryptionOptions:{fields:{}},CustomerManagedEncryptionOptions:{fields:{kmsKeyName:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}}}}}}}},Field:{options:{"(google.api.resource).type":"firestore.googleapis.com/Field","(google.api.resource).pattern":"projects/{project}/databases/{database}/collectionGroups/{collection}/fields/{field}"},fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},indexConfig:{type:"IndexConfig",id:2},ttlConfig:{type:"TtlConfig",id:3}},nested:{IndexConfig:{fields:{indexes:{rule:"repeated",type:"Index",id:1},usesAncestorConfig:{type:"bool",id:2},ancestorField:{type:"string",id:3},reverting:{type:"bool",id:4}}},TtlConfig:{fields:{state:{type:"State",id:1,options:{"(google.api.field_behavior)":"OUTPUT_ONLY"}}},nested:{State:{values:{STATE_UNSPECIFIED:0,CREATING:1,ACTIVE:2,NEEDS_REPAIR:3}}}}}},Index:{options:{"(google.api.resource).type":"firestore.googleapis.com/Index","(google.api.resource).pattern":"projects/{project}/databases/{database}/collectionGroups/{collection}/indexes/{index}"},fields:{name:{type:"string",id:1},queryScope:{type:"QueryScope",id:2},apiScope:{type:"ApiScope",id:5},fields:{rule:"repeated",type:"IndexField",id:3},state:{type:"State",id:4}},nested:{QueryScope:{values:{QUERY_SCOPE_UNSPECIFIED:0,COLLECTION:1,COLLECTION_GROUP:2,COLLECTION_RECURSIVE:3}},ApiScope:{values:{ANY_API:0,DATASTORE_MODE_API:1}},IndexField:{oneofs:{valueMode:{oneof:["order","arrayConfig","vectorConfig"]}},fields:{fieldPath:{type:"string",id:1},order:{type:"Order",id:2},arrayConfig:{type:"ArrayConfig",id:3},vectorConfig:{type:"VectorConfig",id:4}},nested:{Order:{values:{ORDER_UNSPECIFIED:0,ASCENDING:1,DESCENDING:2}},ArrayConfig:{values:{ARRAY_CONFIG_UNSPECIFIED:0,CONTAINS:1}},VectorConfig:{oneofs:{type:{oneof:["flat"]}},fields:{dimension:{type:"int32",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},flat:{type:"FlatIndex",id:2}},nested:{FlatIndex:{fields:{}}}}}},State:{values:{STATE_UNSPECIFIED:0,CREATING:1,READY:2,NEEDS_REPAIR:3}}}},FirestoreAdmin:{options:{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},methods:{CreateIndex:{requestType:"CreateIndexRequest",responseType:"google.longrunning.Operation",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/indexes","(google.api.http).body":"index","(google.api.method_signature)":"parent,index","(google.longrunning.operation_info).response_type":"Index","(google.longrunning.operation_info).metadata_type":"IndexOperationMetadata"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/collectionGroups/*}/indexes",body:"index"}},{"(google.api.method_signature)":"parent,index"},{"(google.longrunning.operation_info)":{response_type:"Index",metadata_type:"IndexOperationMetadata"}}]},ListIndexes:{requestType:"ListIndexesRequest",responseType:"ListIndexesResponse",options:{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/indexes","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{get:"/v1/{parent=projects/*/databases/*/collectionGroups/*}/indexes"}},{"(google.api.method_signature)":"parent"}]},GetIndex:{requestType:"GetIndexRequest",responseType:"Index",options:{"(google.api.http).get":"/v1/{name=projects/*/databases/*/collectionGroups/*/indexes/*}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=projects/*/databases/*/collectionGroups/*/indexes/*}"}},{"(google.api.method_signature)":"name"}]},DeleteIndex:{requestType:"DeleteIndexRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/collectionGroups/*/indexes/*}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=projects/*/databases/*/collectionGroups/*/indexes/*}"}},{"(google.api.method_signature)":"name"}]},GetField:{requestType:"GetFieldRequest",responseType:"Field",options:{"(google.api.http).get":"/v1/{name=projects/*/databases/*/collectionGroups/*/fields/*}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=projects/*/databases/*/collectionGroups/*/fields/*}"}},{"(google.api.method_signature)":"name"}]},UpdateField:{requestType:"UpdateFieldRequest",responseType:"google.longrunning.Operation",options:{"(google.api.http).patch":"/v1/{field.name=projects/*/databases/*/collectionGroups/*/fields/*}","(google.api.http).body":"field","(google.api.method_signature)":"field","(google.longrunning.operation_info).response_type":"Field","(google.longrunning.operation_info).metadata_type":"FieldOperationMetadata"},parsedOptions:[{"(google.api.http)":{patch:"/v1/{field.name=projects/*/databases/*/collectionGroups/*/fields/*}",body:"field"}},{"(google.api.method_signature)":"field"},{"(google.longrunning.operation_info)":{response_type:"Field",metadata_type:"FieldOperationMetadata"}}]},ListFields:{requestType:"ListFieldsRequest",responseType:"ListFieldsResponse",options:{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/fields","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{get:"/v1/{parent=projects/*/databases/*/collectionGroups/*}/fields"}},{"(google.api.method_signature)":"parent"}]},ExportDocuments:{requestType:"ExportDocumentsRequest",responseType:"google.longrunning.Operation",options:{"(google.api.http).post":"/v1/{name=projects/*/databases/*}:exportDocuments","(google.api.http).body":"*","(google.api.method_signature)":"name","(google.longrunning.operation_info).response_type":"ExportDocumentsResponse","(google.longrunning.operation_info).metadata_type":"ExportDocumentsMetadata"},parsedOptions:[{"(google.api.http)":{post:"/v1/{name=projects/*/databases/*}:exportDocuments",body:"*"}},{"(google.api.method_signature)":"name"},{"(google.longrunning.operation_info)":{response_type:"ExportDocumentsResponse",metadata_type:"ExportDocumentsMetadata"}}]},ImportDocuments:{requestType:"ImportDocumentsRequest",responseType:"google.longrunning.Operation",options:{"(google.api.http).post":"/v1/{name=projects/*/databases/*}:importDocuments","(google.api.http).body":"*","(google.api.method_signature)":"name","(google.longrunning.operation_info).response_type":"google.protobuf.Empty","(google.longrunning.operation_info).metadata_type":"ImportDocumentsMetadata"},parsedOptions:[{"(google.api.http)":{post:"/v1/{name=projects/*/databases/*}:importDocuments",body:"*"}},{"(google.api.method_signature)":"name"},{"(google.longrunning.operation_info)":{response_type:"google.protobuf.Empty",metadata_type:"ImportDocumentsMetadata"}}]},BulkDeleteDocuments:{requestType:"BulkDeleteDocumentsRequest",responseType:"google.longrunning.Operation",options:{"(google.api.http).post":"/v1/{name=projects/*/databases/*}:bulkDeleteDocuments","(google.api.http).body":"*","(google.api.method_signature)":"name","(google.longrunning.operation_info).response_type":"BulkDeleteDocumentsResponse","(google.longrunning.operation_info).metadata_type":"BulkDeleteDocumentsMetadata"},parsedOptions:[{"(google.api.http)":{post:"/v1/{name=projects/*/databases/*}:bulkDeleteDocuments",body:"*"}},{"(google.api.method_signature)":"name"},{"(google.longrunning.operation_info)":{response_type:"BulkDeleteDocumentsResponse",metadata_type:"BulkDeleteDocumentsMetadata"}}]},CreateDatabase:{requestType:"CreateDatabaseRequest",responseType:"google.longrunning.Operation",options:{"(google.api.http).post":"/v1/{parent=projects/*}/databases","(google.api.http).body":"database","(google.api.method_signature)":"parent,database,database_id","(google.longrunning.operation_info).response_type":"Database","(google.longrunning.operation_info).metadata_type":"CreateDatabaseMetadata"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*}/databases",body:"database"}},{"(google.api.method_signature)":"parent,database,database_id"},{"(google.longrunning.operation_info)":{response_type:"Database",metadata_type:"CreateDatabaseMetadata"}}]},GetDatabase:{requestType:"GetDatabaseRequest",responseType:"Database",options:{"(google.api.http).get":"/v1/{name=projects/*/databases/*}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=projects/*/databases/*}"}},{"(google.api.method_signature)":"name"}]},ListDatabases:{requestType:"ListDatabasesRequest",responseType:"ListDatabasesResponse",options:{"(google.api.http).get":"/v1/{parent=projects/*}/databases","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{get:"/v1/{parent=projects/*}/databases"}},{"(google.api.method_signature)":"parent"}]},UpdateDatabase:{requestType:"UpdateDatabaseRequest",responseType:"google.longrunning.Operation",options:{"(google.api.http).patch":"/v1/{database.name=projects/*/databases/*}","(google.api.http).body":"database","(google.api.method_signature)":"database,update_mask","(google.longrunning.operation_info).response_type":"Database","(google.longrunning.operation_info).metadata_type":"UpdateDatabaseMetadata"},parsedOptions:[{"(google.api.http)":{patch:"/v1/{database.name=projects/*/databases/*}",body:"database"}},{"(google.api.method_signature)":"database,update_mask"},{"(google.longrunning.operation_info)":{response_type:"Database",metadata_type:"UpdateDatabaseMetadata"}}]},DeleteDatabase:{requestType:"DeleteDatabaseRequest",responseType:"google.longrunning.Operation",options:{"(google.api.http).delete":"/v1/{name=projects/*/databases/*}","(google.api.method_signature)":"name","(google.longrunning.operation_info).response_type":"Database","(google.longrunning.operation_info).metadata_type":"DeleteDatabaseMetadata"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=projects/*/databases/*}"}},{"(google.api.method_signature)":"name"},{"(google.longrunning.operation_info)":{response_type:"Database",metadata_type:"DeleteDatabaseMetadata"}}]},GetBackup:{requestType:"GetBackupRequest",responseType:"Backup",options:{"(google.api.http).get":"/v1/{name=projects/*/locations/*/backups/*}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=projects/*/locations/*/backups/*}"}},{"(google.api.method_signature)":"name"}]},ListBackups:{requestType:"ListBackupsRequest",responseType:"ListBackupsResponse",options:{"(google.api.http).get":"/v1/{parent=projects/*/locations/*}/backups","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{get:"/v1/{parent=projects/*/locations/*}/backups"}},{"(google.api.method_signature)":"parent"}]},DeleteBackup:{requestType:"DeleteBackupRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=projects/*/locations/*/backups/*}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=projects/*/locations/*/backups/*}"}},{"(google.api.method_signature)":"name"}]},RestoreDatabase:{requestType:"RestoreDatabaseRequest",responseType:"google.longrunning.Operation",options:{"(google.api.http).post":"/v1/{parent=projects/*}/databases:restore","(google.api.http).body":"*","(google.longrunning.operation_info).response_type":"Database","(google.longrunning.operation_info).metadata_type":"RestoreDatabaseMetadata"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*}/databases:restore",body:"*"}},{"(google.longrunning.operation_info)":{response_type:"Database",metadata_type:"RestoreDatabaseMetadata"}}]},CreateBackupSchedule:{requestType:"CreateBackupScheduleRequest",responseType:"BackupSchedule",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*}/backupSchedules","(google.api.http).body":"backup_schedule","(google.api.method_signature)":"parent,backup_schedule"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*}/backupSchedules",body:"backup_schedule"}},{"(google.api.method_signature)":"parent,backup_schedule"}]},GetBackupSchedule:{requestType:"GetBackupScheduleRequest",responseType:"BackupSchedule",options:{"(google.api.http).get":"/v1/{name=projects/*/databases/*/backupSchedules/*}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=projects/*/databases/*/backupSchedules/*}"}},{"(google.api.method_signature)":"name"}]},ListBackupSchedules:{requestType:"ListBackupSchedulesRequest",responseType:"ListBackupSchedulesResponse",options:{"(google.api.http).get":"/v1/{parent=projects/*/databases/*}/backupSchedules","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{get:"/v1/{parent=projects/*/databases/*}/backupSchedules"}},{"(google.api.method_signature)":"parent"}]},UpdateBackupSchedule:{requestType:"UpdateBackupScheduleRequest",responseType:"BackupSchedule",options:{"(google.api.http).patch":"/v1/{backup_schedule.name=projects/*/databases/*/backupSchedules/*}","(google.api.http).body":"backup_schedule","(google.api.method_signature)":"backup_schedule,update_mask"},parsedOptions:[{"(google.api.http)":{patch:"/v1/{backup_schedule.name=projects/*/databases/*/backupSchedules/*}",body:"backup_schedule"}},{"(google.api.method_signature)":"backup_schedule,update_mask"}]},DeleteBackupSchedule:{requestType:"DeleteBackupScheduleRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/backupSchedules/*}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=projects/*/databases/*/backupSchedules/*}"}},{"(google.api.method_signature)":"name"}]}}},ListDatabasesRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).child_type":"firestore.googleapis.com/Database"}},showDeleted:{type:"bool",id:4}}},CreateDatabaseRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).child_type":"firestore.googleapis.com/Database"}},database:{type:"Database",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},databaseId:{type:"string",id:3,options:{"(google.api.field_behavior)":"REQUIRED"}}}},CreateDatabaseMetadata:{fields:{}},ListDatabasesResponse:{fields:{databases:{rule:"repeated",type:"Database",id:1},unreachable:{rule:"repeated",type:"string",id:3}}},GetDatabaseRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}}}},UpdateDatabaseRequest:{fields:{database:{type:"Database",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},updateMask:{type:"google.protobuf.FieldMask",id:2}}},UpdateDatabaseMetadata:{fields:{}},DeleteDatabaseRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},etag:{type:"string",id:3}}},DeleteDatabaseMetadata:{fields:{}},CreateBackupScheduleRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},backupSchedule:{type:"BackupSchedule",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},GetBackupScheduleRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/BackupSchedule"}}}},UpdateBackupScheduleRequest:{fields:{backupSchedule:{type:"BackupSchedule",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},updateMask:{type:"google.protobuf.FieldMask",id:2}}},ListBackupSchedulesRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}}}},ListBackupSchedulesResponse:{fields:{backupSchedules:{rule:"repeated",type:"BackupSchedule",id:1}}},DeleteBackupScheduleRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/BackupSchedule"}}}},CreateIndexRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/CollectionGroup"}},index:{type:"Index",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},ListIndexesRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/CollectionGroup"}},filter:{type:"string",id:2},pageSize:{type:"int32",id:3},pageToken:{type:"string",id:4}}},ListIndexesResponse:{fields:{indexes:{rule:"repeated",type:"Index",id:1},nextPageToken:{type:"string",id:2}}},GetIndexRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Index"}}}},DeleteIndexRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Index"}}}},UpdateFieldRequest:{fields:{field:{type:"Field",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},updateMask:{type:"google.protobuf.FieldMask",id:2}}},GetFieldRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Field"}}}},ListFieldsRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/CollectionGroup"}},filter:{type:"string",id:2},pageSize:{type:"int32",id:3},pageToken:{type:"string",id:4}}},ListFieldsResponse:{fields:{fields:{rule:"repeated",type:"Field",id:1},nextPageToken:{type:"string",id:2}}},ExportDocumentsRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},collectionIds:{rule:"repeated",type:"string",id:2},outputUriPrefix:{type:"string",id:3},namespaceIds:{rule:"repeated",type:"string",id:4},snapshotTime:{type:"google.protobuf.Timestamp",id:5}}},ImportDocumentsRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},collectionIds:{rule:"repeated",type:"string",id:2},inputUriPrefix:{type:"string",id:3},namespaceIds:{rule:"repeated",type:"string",id:4}}},BulkDeleteDocumentsRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},collectionIds:{rule:"repeated",type:"string",id:2,options:{"(google.api.field_behavior)":"OPTIONAL"}},namespaceIds:{rule:"repeated",type:"string",id:3,options:{"(google.api.field_behavior)":"OPTIONAL"}}}},BulkDeleteDocumentsResponse:{fields:{}},GetBackupRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Backup"}}}},ListBackupsRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Location"}}}},ListBackupsResponse:{fields:{backups:{rule:"repeated",type:"Backup",id:1},unreachable:{rule:"repeated",type:"string",id:3}}},DeleteBackupRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Backup"}}}},RestoreDatabaseRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).child_type":"firestore.googleapis.com/Database"}},databaseId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},backup:{type:"string",id:3,options:{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Backup"}},encryptionConfig:{type:"Database.EncryptionConfig",id:9,options:{"(google.api.field_behavior)":"OPTIONAL"}}}},IndexOperationMetadata:{fields:{startTime:{type:"google.protobuf.Timestamp",id:1},endTime:{type:"google.protobuf.Timestamp",id:2},index:{type:"string",id:3},state:{type:"OperationState",id:4},progressDocuments:{type:"Progress",id:5},progressBytes:{type:"Progress",id:6}}},FieldOperationMetadata:{fields:{startTime:{type:"google.protobuf.Timestamp",id:1},endTime:{type:"google.protobuf.Timestamp",id:2},field:{type:"string",id:3},indexConfigDeltas:{rule:"repeated",type:"IndexConfigDelta",id:4},state:{type:"OperationState",id:5},progressDocuments:{type:"Progress",id:6},progressBytes:{type:"Progress",id:7},ttlConfigDelta:{type:"TtlConfigDelta",id:8}},nested:{IndexConfigDelta:{fields:{changeType:{type:"ChangeType",id:1},index:{type:"Index",id:2}},nested:{ChangeType:{values:{CHANGE_TYPE_UNSPECIFIED:0,ADD:1,REMOVE:2}}}},TtlConfigDelta:{fields:{changeType:{type:"ChangeType",id:1}},nested:{ChangeType:{values:{CHANGE_TYPE_UNSPECIFIED:0,ADD:1,REMOVE:2}}}}}},ExportDocumentsMetadata:{fields:{startTime:{type:"google.protobuf.Timestamp",id:1},endTime:{type:"google.protobuf.Timestamp",id:2},operationState:{type:"OperationState",id:3},progressDocuments:{type:"Progress",id:4},progressBytes:{type:"Progress",id:5},collectionIds:{rule:"repeated",type:"string",id:6},outputUriPrefix:{type:"string",id:7},namespaceIds:{rule:"repeated",type:"string",id:8},snapshotTime:{type:"google.protobuf.Timestamp",id:9}}},ImportDocumentsMetadata:{fields:{startTime:{type:"google.protobuf.Timestamp",id:1},endTime:{type:"google.protobuf.Timestamp",id:2},operationState:{type:"OperationState",id:3},progressDocuments:{type:"Progress",id:4},progressBytes:{type:"Progress",id:5},collectionIds:{rule:"repeated",type:"string",id:6},inputUriPrefix:{type:"string",id:7},namespaceIds:{rule:"repeated",type:"string",id:8}}},BulkDeleteDocumentsMetadata:{fields:{startTime:{type:"google.protobuf.Timestamp",id:1},endTime:{type:"google.protobuf.Timestamp",id:2},operationState:{type:"OperationState",id:3},progressDocuments:{type:"Progress",id:4},progressBytes:{type:"Progress",id:5},collectionIds:{rule:"repeated",type:"string",id:6},namespaceIds:{rule:"repeated",type:"string",id:7},snapshotTime:{type:"google.protobuf.Timestamp",id:8}}},ExportDocumentsResponse:{fields:{outputUriPrefix:{type:"string",id:1}}},RestoreDatabaseMetadata:{fields:{startTime:{type:"google.protobuf.Timestamp",id:1},endTime:{type:"google.protobuf.Timestamp",id:2},operationState:{type:"OperationState",id:3},database:{type:"string",id:4,options:{"(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},backup:{type:"string",id:5,options:{"(google.api.resource_reference).type":"firestore.googleapis.com/Backup"}},progressPercentage:{type:"Progress",id:8}}},Progress:{fields:{estimatedWork:{type:"int64",id:1},completedWork:{type:"int64",id:2}}},OperationState:{values:{OPERATION_STATE_UNSPECIFIED:0,INITIALIZING:1,PROCESSING:2,CANCELLING:3,FINALIZING:4,SUCCESSFUL:5,FAILED:6,CANCELLED:7}},BackupSchedule:{options:{"(google.api.resource).type":"firestore.googleapis.com/BackupSchedule","(google.api.resource).pattern":"projects/{project}/databases/{database}/backupSchedules/{backup_schedule}"},oneofs:{recurrence:{oneof:["dailyRecurrence","weeklyRecurrence"]}},fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"OUTPUT_ONLY"}},createTime:{type:"google.protobuf.Timestamp",id:3,options:{"(google.api.field_behavior)":"OUTPUT_ONLY"}},updateTime:{type:"google.protobuf.Timestamp",id:10,options:{"(google.api.field_behavior)":"OUTPUT_ONLY"}},retention:{type:"google.protobuf.Duration",id:6},dailyRecurrence:{type:"DailyRecurrence",id:7},weeklyRecurrence:{type:"WeeklyRecurrence",id:8}}},DailyRecurrence:{fields:{}},WeeklyRecurrence:{fields:{day:{type:"google.type.DayOfWeek",id:2}}},LocationMetadata:{fields:{}}}}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api;api",java_multiple_files:!0,java_outer_classname:"LaunchStageProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{fieldBehavior:{rule:"repeated",type:"google.api.FieldBehavior",id:1052,extend:"google.protobuf.FieldOptions",options:{packed:!1}},FieldBehavior:{values:{FIELD_BEHAVIOR_UNSPECIFIED:0,OPTIONAL:1,REQUIRED:2,OUTPUT_ONLY:3,INPUT_ONLY:4,IMMUTABLE:5,UNORDERED_LIST:6,NON_EMPTY_DEFAULT:7,IDENTIFIER:8}},resourceReference:{type:"google.api.ResourceReference",id:1055,extend:"google.protobuf.FieldOptions"},resourceDefinition:{rule:"repeated",type:"google.api.ResourceDescriptor",id:1053,extend:"google.protobuf.FileOptions"},resource:{type:"google.api.ResourceDescriptor",id:1053,extend:"google.protobuf.MessageOptions"},ResourceDescriptor:{fields:{type:{type:"string",id:1},pattern:{rule:"repeated",type:"string",id:2},nameField:{type:"string",id:3},history:{type:"History",id:4},plural:{type:"string",id:5},singular:{type:"string",id:6},style:{rule:"repeated",type:"Style",id:10}},nested:{History:{values:{HISTORY_UNSPECIFIED:0,ORIGINALLY_SINGLE_PATTERN:1,FUTURE_MULTI_PATTERN:2}},Style:{values:{STYLE_UNSPECIFIED:0,DECLARATIVE_FRIENDLY:1}}}},ResourceReference:{fields:{type:{type:"string",id:1},childType:{type:"string",id:2}}},http:{type:"HttpRule",id:72295728,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1},fullyDecodeReservedExpansion:{type:"bool",id:2}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{selector:{type:"string",id:1},get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},body:{type:"string",id:7},responseBody:{type:"string",id:12},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"},apiVersion:{type:"string",id:525000001,extend:"google.protobuf.ServiceOptions"},CommonLanguageSettings:{fields:{referenceDocsUri:{type:"string",id:1,options:{deprecated:!0}},destinations:{rule:"repeated",type:"ClientLibraryDestination",id:2}}},ClientLibrarySettings:{fields:{version:{type:"string",id:1},launchStage:{type:"LaunchStage",id:2},restNumericEnums:{type:"bool",id:3},javaSettings:{type:"JavaSettings",id:21},cppSettings:{type:"CppSettings",id:22},phpSettings:{type:"PhpSettings",id:23},pythonSettings:{type:"PythonSettings",id:24},nodeSettings:{type:"NodeSettings",id:25},dotnetSettings:{type:"DotnetSettings",id:26},rubySettings:{type:"RubySettings",id:27},goSettings:{type:"GoSettings",id:28}}},Publishing:{fields:{methodSettings:{rule:"repeated",type:"MethodSettings",id:2},newIssueUri:{type:"string",id:101},documentationUri:{type:"string",id:102},apiShortName:{type:"string",id:103},githubLabel:{type:"string",id:104},codeownerGithubTeams:{rule:"repeated",type:"string",id:105},docTagPrefix:{type:"string",id:106},organization:{type:"ClientLibraryOrganization",id:107},librarySettings:{rule:"repeated",type:"ClientLibrarySettings",id:109},protoReferenceDocumentationUri:{type:"string",id:110},restReferenceDocumentationUri:{type:"string",id:111}}},JavaSettings:{fields:{libraryPackage:{type:"string",id:1},serviceClassNames:{keyType:"string",type:"string",id:2},common:{type:"CommonLanguageSettings",id:3}}},CppSettings:{fields:{common:{type:"CommonLanguageSettings",id:1}}},PhpSettings:{fields:{common:{type:"CommonLanguageSettings",id:1}}},PythonSettings:{fields:{common:{type:"CommonLanguageSettings",id:1},experimentalFeatures:{type:"ExperimentalFeatures",id:2}},nested:{ExperimentalFeatures:{fields:{restAsyncIoEnabled:{type:"bool",id:1}}}}},NodeSettings:{fields:{common:{type:"CommonLanguageSettings",id:1}}},DotnetSettings:{fields:{common:{type:"CommonLanguageSettings",id:1},renamedServices:{keyType:"string",type:"string",id:2},renamedResources:{keyType:"string",type:"string",id:3},ignoredResources:{rule:"repeated",type:"string",id:4},forcedNamespaceAliases:{rule:"repeated",type:"string",id:5},handwrittenSignatures:{rule:"repeated",type:"string",id:6}}},RubySettings:{fields:{common:{type:"CommonLanguageSettings",id:1}}},GoSettings:{fields:{common:{type:"CommonLanguageSettings",id:1}}},MethodSettings:{fields:{selector:{type:"string",id:1},longRunning:{type:"LongRunning",id:2},autoPopulatedFields:{rule:"repeated",type:"string",id:3}},nested:{LongRunning:{fields:{initialPollDelay:{type:"google.protobuf.Duration",id:1},pollDelayMultiplier:{type:"float",id:2},maxPollDelay:{type:"google.protobuf.Duration",id:3},totalPollTimeout:{type:"google.protobuf.Duration",id:4}}}}},ClientLibraryOrganization:{values:{CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED:0,CLOUD:1,ADS:2,PHOTOS:3,STREET_VIEW:4,SHOPPING:5,GEO:6,GENERATIVE_AI:7}},ClientLibraryDestination:{values:{CLIENT_LIBRARY_DESTINATION_UNSPECIFIED:0,GITHUB:10,PACKAGE_MANAGER:20}},LaunchStage:{values:{LAUNCH_STAGE_UNSPECIFIED:0,UNIMPLEMENTED:6,PRELAUNCH:7,EARLY_ACCESS:1,ALPHA:2,BETA:3,GA:4,DEPRECATED:5}}}},protobuf:{options:{go_package:"google.golang.org/protobuf/types/descriptorpb",java_package:"com.google.protobuf",java_outer_classname:"DescriptorProtos",csharp_namespace:"Google.Protobuf.Reflection",objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},Edition:{values:{EDITION_UNKNOWN:0,EDITION_PROTO2:998,EDITION_PROTO3:999,EDITION_2023:1e3,EDITION_2024:1001,EDITION_1_TEST_ONLY:1,EDITION_2_TEST_ONLY:2,EDITION_99997_TEST_ONLY:99997,EDITION_99998_TEST_ONLY:99998,EDITION_99999_TEST_ONLY:99999,EDITION_MAX:2147483647}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12},edition:{type:"Edition",id:14}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2},options:{type:"ExtensionRangeOptions",id:3}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},ExtensionRangeOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999},declaration:{rule:"repeated",type:"Declaration",id:2,options:{retention:"RETENTION_SOURCE"}},features:{type:"FeatureSet",id:50},verification:{type:"VerificationState",id:3,options:{default:"UNVERIFIED",retention:"RETENTION_SOURCE"}}},extensions:[[1e3,536870911]],nested:{Declaration:{fields:{number:{type:"int32",id:1},fullName:{type:"string",id:2},type:{type:"string",id:3},reserved:{type:"bool",id:5},repeated:{type:"bool",id:6}},reserved:[[4,4]]},VerificationState:{values:{DECLARATION:0,UNVERIFIED:1}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8},proto3Optional:{type:"bool",id:17}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REPEATED:3,LABEL_REQUIRED:2}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3},reservedRange:{rule:"repeated",type:"EnumReservedRange",id:4},reservedName:{rule:"repeated",type:"string",id:5}},nested:{EnumReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5,options:{default:!1}},serverStreaming:{type:"bool",id:6,options:{default:!1}}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10,options:{default:!1}},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27,options:{default:!1}},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16,options:{default:!1}},javaGenericServices:{type:"bool",id:17,options:{default:!1}},pyGenericServices:{type:"bool",id:18,options:{default:!1}},deprecated:{type:"bool",id:23,options:{default:!1}},ccEnableArenas:{type:"bool",id:31,options:{default:!0}},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},swiftPrefix:{type:"string",id:39},phpClassPrefix:{type:"string",id:40},phpNamespace:{type:"string",id:41},phpMetadataNamespace:{type:"string",id:44},rubyPackage:{type:"string",id:45},features:{type:"FeatureSet",id:50},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[42,42],[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1,options:{default:!1}},noStandardDescriptorAccessor:{type:"bool",id:2,options:{default:!1}},deprecated:{type:"bool",id:3,options:{default:!1}},mapEntry:{type:"bool",id:7},deprecatedLegacyJsonFieldConflicts:{type:"bool",id:11,options:{deprecated:!0}},features:{type:"FeatureSet",id:12},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4],[5,5],[6,6],[8,8],[9,9]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5,options:{default:!1}},unverifiedLazy:{type:"bool",id:15,options:{default:!1}},deprecated:{type:"bool",id:3,options:{default:!1}},weak:{type:"bool",id:10,options:{default:!1}},debugRedact:{type:"bool",id:16,options:{default:!1}},retention:{type:"OptionRetention",id:17},targets:{rule:"repeated",type:"OptionTargetType",id:19,options:{packed:!1}},editionDefaults:{rule:"repeated",type:"EditionDefault",id:20},features:{type:"FeatureSet",id:21},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4],[18,18]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}},OptionRetention:{values:{RETENTION_UNKNOWN:0,RETENTION_RUNTIME:1,RETENTION_SOURCE:2}},OptionTargetType:{values:{TARGET_TYPE_UNKNOWN:0,TARGET_TYPE_FILE:1,TARGET_TYPE_EXTENSION_RANGE:2,TARGET_TYPE_MESSAGE:3,TARGET_TYPE_FIELD:4,TARGET_TYPE_ONEOF:5,TARGET_TYPE_ENUM:6,TARGET_TYPE_ENUM_ENTRY:7,TARGET_TYPE_SERVICE:8,TARGET_TYPE_METHOD:9}},EditionDefault:{fields:{edition:{type:"Edition",id:3},value:{type:"string",id:2}}}}},OneofOptions:{fields:{features:{type:"FeatureSet",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3,options:{default:!1}},deprecatedLegacyJsonFieldConflicts:{type:"bool",id:6,options:{deprecated:!0}},features:{type:"FeatureSet",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[5,5]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1,options:{default:!1}},features:{type:"FeatureSet",id:2},debugRedact:{type:"bool",id:3,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{features:{type:"FeatureSet",id:34},deprecated:{type:"bool",id:33,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33,options:{default:!1}},idempotencyLevel:{type:"IdempotencyLevel",id:34,options:{default:"IDEMPOTENCY_UNKNOWN"}},features:{type:"FeatureSet",id:35},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],nested:{IdempotencyLevel:{values:{IDEMPOTENCY_UNKNOWN:0,NO_SIDE_EFFECTS:1,IDEMPOTENT:2}}}},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},FeatureSet:{fields:{fieldPresence:{type:"FieldPresence",id:1,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},enumType:{type:"EnumType",id:2,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},repeatedFieldEncoding:{type:"RepeatedFieldEncoding",id:3,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},utf8Validation:{type:"Utf8Validation",id:4,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},messageEncoding:{type:"MessageEncoding",id:5,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO2","edition_defaults.value":"LENGTH_PREFIXED"}},jsonFormat:{type:"JsonFormat",id:6,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}}},extensions:[[1e3,1e3],[1001,1001],[1002,1002],[9995,9999],[1e4,1e4]],reserved:[[999,999]],nested:{FieldPresence:{values:{FIELD_PRESENCE_UNKNOWN:0,EXPLICIT:1,IMPLICIT:2,LEGACY_REQUIRED:3}},EnumType:{values:{ENUM_TYPE_UNKNOWN:0,OPEN:1,CLOSED:2}},RepeatedFieldEncoding:{values:{REPEATED_FIELD_ENCODING_UNKNOWN:0,PACKED:1,EXPANDED:2}},Utf8Validation:{values:{UTF8_VALIDATION_UNKNOWN:0,VERIFY:2,NONE:3}},MessageEncoding:{values:{MESSAGE_ENCODING_UNKNOWN:0,LENGTH_PREFIXED:1,DELIMITED:2}},JsonFormat:{values:{JSON_FORMAT_UNKNOWN:0,ALLOW:1,LEGACY_BEST_EFFORT:2}}}},FeatureSetDefaults:{fields:{defaults:{rule:"repeated",type:"FeatureSetEditionDefault",id:1},minimumEdition:{type:"Edition",id:4},maximumEdition:{type:"Edition",id:5}},nested:{FeatureSetEditionDefault:{fields:{edition:{type:"Edition",id:3},features:{type:"FeatureSet",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4},semantic:{type:"Semantic",id:5}},nested:{Semantic:{values:{NONE:0,SET:1,ALIAS:2}}}}}},Timestamp:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},Duration:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},Empty:{fields:{}},FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}},Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}},type:{options:{go_package:"google.golang.org/genproto/googleapis/type/latlng;latlng",java_multiple_files:!0,java_outer_classname:"LatLngProto",java_package:"com.google.type",objc_class_prefix:"GTP",cc_enable_arenas:!0},nested:{DayOfWeek:{values:{DAY_OF_WEEK_UNSPECIFIED:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6,SUNDAY:7}},LatLng:{fields:{latitude:{type:"double",id:1},longitude:{type:"double",id:2}}}}},longrunning:{options:{cc_enable_arenas:!0,csharp_namespace:"Google.LongRunning",go_package:"cloud.google.com/go/longrunning/autogen/longrunningpb;longrunningpb",java_multiple_files:!0,java_outer_classname:"OperationsProto",java_package:"com.google.longrunning",php_namespace:"Google\\LongRunning"},nested:{operationInfo:{type:"google.longrunning.OperationInfo",id:1049,extend:"google.protobuf.MethodOptions"},Operations:{options:{"(google.api.default_host)":"longrunning.googleapis.com"},methods:{ListOperations:{requestType:"ListOperationsRequest",responseType:"ListOperationsResponse",options:{"(google.api.http).get":"/v1/{name=operations}","(google.api.method_signature)":"name,filter"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=operations}"}},{"(google.api.method_signature)":"name,filter"}]},GetOperation:{requestType:"GetOperationRequest",responseType:"Operation",options:{"(google.api.http).get":"/v1/{name=operations/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=operations/**}"}},{"(google.api.method_signature)":"name"}]},DeleteOperation:{requestType:"DeleteOperationRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=operations/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=operations/**}"}},{"(google.api.method_signature)":"name"}]},CancelOperation:{requestType:"CancelOperationRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).post":"/v1/{name=operations/**}:cancel","(google.api.http).body":"*","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{post:"/v1/{name=operations/**}:cancel",body:"*"}},{"(google.api.method_signature)":"name"}]},WaitOperation:{requestType:"WaitOperationRequest",responseType:"Operation"}}},Operation:{oneofs:{result:{oneof:["error","response"]}},fields:{name:{type:"string",id:1},metadata:{type:"google.protobuf.Any",id:2},done:{type:"bool",id:3},error:{type:"google.rpc.Status",id:4},response:{type:"google.protobuf.Any",id:5}}},GetOperationRequest:{fields:{name:{type:"string",id:1}}},ListOperationsRequest:{fields:{name:{type:"string",id:4},filter:{type:"string",id:1},pageSize:{type:"int32",id:2},pageToken:{type:"string",id:3}}},ListOperationsResponse:{fields:{operations:{rule:"repeated",type:"Operation",id:1},nextPageToken:{type:"string",id:2}}},CancelOperationRequest:{fields:{name:{type:"string",id:1}}},DeleteOperationRequest:{fields:{name:{type:"string",id:1}}},WaitOperationRequest:{fields:{name:{type:"string",id:1},timeout:{type:"google.protobuf.Duration",id:2}}},OperationInfo:{fields:{responseType:{type:"string",id:1},metadataType:{type:"string",id:2}}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/status;status",java_multiple_files:!0,java_outer_classname:"StatusProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}}}}}}},require$$0={options:options$2,nested:nested$2},interfaces$1={"google.firestore.admin.v1.FirestoreAdmin":{retry_codes:{non_idempotent:[],idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"],deadline_exceeded_internal_unavailable:["DEADLINE_EXCEEDED","INTERNAL","UNAVAILABLE"]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:6e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:6e4,total_timeout_millis:6e5}},methods:{CreateIndex:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},ListIndexes:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_internal_unavailable",retry_params_name:"default"},GetIndex:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_internal_unavailable",retry_params_name:"default"},DeleteIndex:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_internal_unavailable",retry_params_name:"default"},GetField:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_internal_unavailable",retry_params_name:"default"},UpdateField:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},ListFields:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_internal_unavailable",retry_params_name:"default"},ExportDocuments:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},ImportDocuments:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},BulkDeleteDocuments:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},CreateDatabase:{retry_codes_name:"non_idempotent",retry_params_name:"default"},GetDatabase:{retry_codes_name:"non_idempotent",retry_params_name:"default"},ListDatabases:{retry_codes_name:"non_idempotent",retry_params_name:"default"},UpdateDatabase:{retry_codes_name:"non_idempotent",retry_params_name:"default"},DeleteDatabase:{retry_codes_name:"non_idempotent",retry_params_name:"default"},GetBackup:{retry_codes_name:"non_idempotent",retry_params_name:"default"},ListBackups:{retry_codes_name:"non_idempotent",retry_params_name:"default"},DeleteBackup:{retry_codes_name:"non_idempotent",retry_params_name:"default"},RestoreDatabase:{retry_codes_name:"non_idempotent",retry_params_name:"default"},CreateBackupSchedule:{retry_codes_name:"non_idempotent",retry_params_name:"default"},GetBackupSchedule:{retry_codes_name:"non_idempotent",retry_params_name:"default"},ListBackupSchedules:{retry_codes_name:"non_idempotent",retry_params_name:"default"},UpdateBackupSchedule:{retry_codes_name:"non_idempotent",retry_params_name:"default"},DeleteBackupSchedule:{retry_codes_name:"non_idempotent",retry_params_name:"default"}}}},require$$1$2={interfaces:interfaces$1},name="@google-cloud/firestore",version$2="7.11.0",require$$33={name,version:version$2};var define_process_env_default$2={};Object.defineProperty(firestore_admin_client,"__esModule",{value:!0});firestore_admin_client.FirestoreAdminClient=void 0;const jsonProtos$1=require$$0,gapicConfig$1=require$$1$2,version$1=require$$33.version;class FirestoreAdminClient{constructor(e,r){var u,p,h,y,c;this._terminated=!1,this.descriptors={page:{},stream:{},longrunning:{},batching:{}};const d=this.constructor;if(e!=null&&e.universe_domain&&(e!=null&&e.universeDomain)&&(e==null?void 0:e.universe_domain)!==(e==null?void 0:e.universeDomain))throw new Error("Please set either universe_domain or universeDomain, but not both.");const m=typeof process=="object"&&typeof define_process_env_default$2=="object"?define_process_env_default$2.GOOGLE_CLOUD_UNIVERSE_DOMAIN:void 0;this._universeDomain=(h=(p=(u=e==null?void 0:e.universeDomain)!==null&&u!==void 0?u:e==null?void 0:e.universe_domain)!==null&&p!==void 0?p:m)!==null&&h!==void 0?h:"googleapis.com",this._servicePath="firestore."+this._universeDomain;const P=(e==null?void 0:e.servicePath)||(e==null?void 0:e.apiEndpoint)||this._servicePath;this._providedCustomServicePath=!!(e!=null&&e.servicePath||e!=null&&e.apiEndpoint);const N=(e==null?void 0:e.port)||d.port,L=(y=e==null?void 0:e.clientConfig)!==null&&y!==void 0?y:{},k=(c=e==null?void 0:e.fallback)!==null&&c!==void 0?c:typeof window<"u"&&typeof(window==null?void 0:window.fetch)=="function";e=Object.assign({servicePath:P,port:N,clientConfig:L,fallback:k},e),e.numericEnums=!0,P!==this._servicePath&&!("scopes"in e)&&(e.scopes=d.scopes),r||(r=requireFallback()),this._gaxModule=e.fallback?r.fallback:r,this._gaxGrpc=new this._gaxModule.GrpcClient(e),this._opts=e,this.auth=this._gaxGrpc.auth,this.auth.useJWTAccessWithScope=!0,this.auth.defaultServicePath=this._servicePath,P===this._servicePath&&(this.auth.defaultScopes=d.scopes),this.locationsClient=new this._gaxModule.LocationsClient(this._gaxGrpc,e);const B=[`gax/${this._gaxModule.version}`,`gapic/${version$1}`];typeof process=="object"&&"versions"in process?B.push(`gl-node/${process.versions.node}`):B.push(`gl-web/${this._gaxModule.version}`),e.fallback?B.push(`rest/${this._gaxGrpc.grpcVersion}`):B.push(`grpc/${this._gaxGrpc.grpcVersion}`),e.libName&&e.libVersion&&B.push(`${e.libName}/${e.libVersion}`),this._protos=this._gaxGrpc.loadProtoJSON(jsonProtos$1),this.pathTemplates={backupPathTemplate:new this._gaxModule.PathTemplate("projects/{project}/locations/{location}/backups/{backup}"),backupSchedulePathTemplate:new this._gaxModule.PathTemplate("projects/{project}/databases/{database}/backupSchedules/{backup_schedule}"),collectionGroupPathTemplate:new this._gaxModule.PathTemplate("projects/{project}/databases/{database}/collectionGroups/{collection}"),databasePathTemplate:new this._gaxModule.PathTemplate("projects/{project}/databases/{database}"),fieldPathTemplate:new this._gaxModule.PathTemplate("projects/{project}/databases/{database}/collectionGroups/{collection}/fields/{field}"),indexPathTemplate:new this._gaxModule.PathTemplate("projects/{project}/databases/{database}/collectionGroups/{collection}/indexes/{index}"),locationPathTemplate:new this._gaxModule.PathTemplate("projects/{project}/locations/{location}"),projectPathTemplate:new this._gaxModule.PathTemplate("projects/{project}")},this.descriptors.page={listIndexes:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","indexes"),listFields:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","fields")};const U=this._gaxModule.protobuf.Root.fromJSON(jsonProtos$1),$={auth:this.auth,grpc:"grpc"in this._gaxGrpc?this._gaxGrpc.grpc:void 0};e.fallback&&($.protoJson=U,$.httpRules=[{selector:"google.longrunning.Operations.CancelOperation",post:"/v1/{name=projects/*/databases/*/operations/*}:cancel",body:"*"},{selector:"google.longrunning.Operations.DeleteOperation",delete:"/v1/{name=projects/*/databases/*/operations/*}"},{selector:"google.longrunning.Operations.GetOperation",get:"/v1/{name=projects/*/databases/*/operations/*}"},{selector:"google.longrunning.Operations.ListOperations",get:"/v1/{name=projects/*/databases/*}/operations"}]),this.operationsClient=this._gaxModule.lro($).operationsClient(e);const j=U.lookup(".google.firestore.admin.v1.Index"),M=U.lookup(".google.firestore.admin.v1.IndexOperationMetadata"),q=U.lookup(".google.firestore.admin.v1.Field"),Q=U.lookup(".google.firestore.admin.v1.FieldOperationMetadata"),K=U.lookup(".google.firestore.admin.v1.ExportDocumentsResponse"),G=U.lookup(".google.firestore.admin.v1.ExportDocumentsMetadata"),F=U.lookup(".google.protobuf.Empty"),x=U.lookup(".google.firestore.admin.v1.ImportDocumentsMetadata"),z=U.lookup(".google.firestore.admin.v1.BulkDeleteDocumentsResponse"),J=U.lookup(".google.firestore.admin.v1.BulkDeleteDocumentsMetadata"),Z=U.lookup(".google.firestore.admin.v1.Database"),X=U.lookup(".google.firestore.admin.v1.CreateDatabaseMetadata"),te=U.lookup(".google.firestore.admin.v1.Database"),be=U.lookup(".google.firestore.admin.v1.UpdateDatabaseMetadata"),Ae=U.lookup(".google.firestore.admin.v1.Database"),Ne=U.lookup(".google.firestore.admin.v1.DeleteDatabaseMetadata"),ke=U.lookup(".google.firestore.admin.v1.Database"),Ue=U.lookup(".google.firestore.admin.v1.RestoreDatabaseMetadata");this.descriptors.longrunning={createIndex:new this._gaxModule.LongrunningDescriptor(this.operationsClient,j.decode.bind(j),M.decode.bind(M)),updateField:new this._gaxModule.LongrunningDescriptor(this.operationsClient,q.decode.bind(q),Q.decode.bind(Q)),exportDocuments:new this._gaxModule.LongrunningDescriptor(this.operationsClient,K.decode.bind(K),G.decode.bind(G)),importDocuments:new this._gaxModule.LongrunningDescriptor(this.operationsClient,F.decode.bind(F),x.decode.bind(x)),bulkDeleteDocuments:new this._gaxModule.LongrunningDescriptor(this.operationsClient,z.decode.bind(z),J.decode.bind(J)),createDatabase:new this._gaxModule.LongrunningDescriptor(this.operationsClient,Z.decode.bind(Z),X.decode.bind(X)),updateDatabase:new this._gaxModule.LongrunningDescriptor(this.operationsClient,te.decode.bind(te),be.decode.bind(be)),deleteDatabase:new this._gaxModule.LongrunningDescriptor(this.operationsClient,Ae.decode.bind(Ae),Ne.decode.bind(Ne)),restoreDatabase:new this._gaxModule.LongrunningDescriptor(this.operationsClient,ke.decode.bind(ke),Ue.decode.bind(Ue))},this._defaults=this._gaxGrpc.constructSettings("google.firestore.admin.v1.FirestoreAdmin",gapicConfig$1,e.clientConfig||{},{"x-goog-api-client":B.join(" ")}),this.innerApiCalls={},this.warn=this._gaxModule.warn}initialize(){if(this.firestoreAdminStub)return this.firestoreAdminStub;this.firestoreAdminStub=this._gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.firestore.admin.v1.FirestoreAdmin"):this._protos.google.firestore.admin.v1.FirestoreAdmin,this._opts,this._providedCustomServicePath);const e=["createIndex","listIndexes","getIndex","deleteIndex","getField","updateField","listFields","exportDocuments","importDocuments","bulkDeleteDocuments","createDatabase","getDatabase","listDatabases","updateDatabase","deleteDatabase","getBackup","listBackups","deleteBackup","restoreDatabase","createBackupSchedule","getBackupSchedule","listBackupSchedules","updateBackupSchedule","deleteBackupSchedule"];for(const r of e){const u=this.firestoreAdminStub.then(y=>(...c)=>this._terminated?Promise.reject("The client has already been closed."):y[r].apply(y,c),y=>()=>{throw y}),p=this.descriptors.page[r]||this.descriptors.longrunning[r]||void 0,h=this._gaxModule.createApiCall(u,this._defaults[r],p,this._opts.fallback);this.innerApiCalls[r]=h}return this.firestoreAdminStub}static get servicePath(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static servicePath is deprecated, please use the instance method instead.","DeprecationWarning"),"firestore.googleapis.com"}static get apiEndpoint(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static apiEndpoint is deprecated, please use the instance method instead.","DeprecationWarning"),"firestore.googleapis.com"}get apiEndpoint(){return this._servicePath}get universeDomain(){return this._universeDomain}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/datastore"]}getProjectId(e){if(e){this.auth.getProjectId(e);return}return this.auth.getProjectId()}getIndex(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(p=e.name)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.getIndex(e,h,u)}deleteIndex(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(p=e.name)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.deleteIndex(e,h,u)}getField(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(p=e.name)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.getField(e,h,u)}getDatabase(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(p=e.name)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.getDatabase(e,h,u)}listDatabases(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(p=e.parent)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.listDatabases(e,h,u)}getBackup(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(p=e.name)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.getBackup(e,h,u)}listBackups(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(p=e.parent)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.listBackups(e,h,u)}deleteBackup(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(p=e.name)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.deleteBackup(e,h,u)}createBackupSchedule(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(p=e.parent)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.createBackupSchedule(e,h,u)}getBackupSchedule(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(p=e.name)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.getBackupSchedule(e,h,u)}listBackupSchedules(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(p=e.parent)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.listBackupSchedules(e,h,u)}updateBackupSchedule(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({"backup_schedule.name":(p=e.backupSchedule.name)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.updateBackupSchedule(e,h,u)}deleteBackupSchedule(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(p=e.name)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.deleteBackupSchedule(e,h,u)}createIndex(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(p=e.parent)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.createIndex(e,h,u)}async checkCreateIndexProgress(e){const r=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:e}),[u]=await this.operationsClient.getOperation(r);return new this._gaxModule.Operation(u,this.descriptors.longrunning.createIndex,this._gaxModule.createDefaultBackoffSettings())}updateField(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({"field.name":(p=e.field.name)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.updateField(e,h,u)}async checkUpdateFieldProgress(e){const r=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:e}),[u]=await this.operationsClient.getOperation(r);return new this._gaxModule.Operation(u,this.descriptors.longrunning.updateField,this._gaxModule.createDefaultBackoffSettings())}exportDocuments(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(p=e.name)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.exportDocuments(e,h,u)}async checkExportDocumentsProgress(e){const r=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:e}),[u]=await this.operationsClient.getOperation(r);return new this._gaxModule.Operation(u,this.descriptors.longrunning.exportDocuments,this._gaxModule.createDefaultBackoffSettings())}importDocuments(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(p=e.name)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.importDocuments(e,h,u)}async checkImportDocumentsProgress(e){const r=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:e}),[u]=await this.operationsClient.getOperation(r);return new this._gaxModule.Operation(u,this.descriptors.longrunning.importDocuments,this._gaxModule.createDefaultBackoffSettings())}bulkDeleteDocuments(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(p=e.name)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.bulkDeleteDocuments(e,h,u)}async checkBulkDeleteDocumentsProgress(e){const r=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:e}),[u]=await this.operationsClient.getOperation(r);return new this._gaxModule.Operation(u,this.descriptors.longrunning.bulkDeleteDocuments,this._gaxModule.createDefaultBackoffSettings())}createDatabase(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(p=e.parent)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.createDatabase(e,h,u)}async checkCreateDatabaseProgress(e){const r=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:e}),[u]=await this.operationsClient.getOperation(r);return new this._gaxModule.Operation(u,this.descriptors.longrunning.createDatabase,this._gaxModule.createDefaultBackoffSettings())}updateDatabase(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({"database.name":(p=e.database.name)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.updateDatabase(e,h,u)}async checkUpdateDatabaseProgress(e){const r=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:e}),[u]=await this.operationsClient.getOperation(r);return new this._gaxModule.Operation(u,this.descriptors.longrunning.updateDatabase,this._gaxModule.createDefaultBackoffSettings())}deleteDatabase(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(p=e.name)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.deleteDatabase(e,h,u)}async checkDeleteDatabaseProgress(e){const r=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:e}),[u]=await this.operationsClient.getOperation(r);return new this._gaxModule.Operation(u,this.descriptors.longrunning.deleteDatabase,this._gaxModule.createDefaultBackoffSettings())}restoreDatabase(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(p=e.parent)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.restoreDatabase(e,h,u)}async checkRestoreDatabaseProgress(e){const r=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:e}),[u]=await this.operationsClient.getOperation(r);return new this._gaxModule.Operation(u,this.descriptors.longrunning.restoreDatabase,this._gaxModule.createDefaultBackoffSettings())}listIndexes(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(p=e.parent)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.listIndexes(e,h,u)}listIndexesStream(e,r){var u;e=e||{},r=r||{},r.otherArgs=r.otherArgs||{},r.otherArgs.headers=r.otherArgs.headers||{},r.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(u=e.parent)!==null&&u!==void 0?u:""});const h=this._defaults.listIndexes.merge(r);return this.initialize(),this.descriptors.page.listIndexes.createStream(this.innerApiCalls.listIndexes,e,h)}listIndexesAsync(e,r){var u;e=e||{},r=r||{},r.otherArgs=r.otherArgs||{},r.otherArgs.headers=r.otherArgs.headers||{},r.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(u=e.parent)!==null&&u!==void 0?u:""});const h=this._defaults.listIndexes.merge(r);return this.initialize(),this.descriptors.page.listIndexes.asyncIterate(this.innerApiCalls.listIndexes,e,h)}listFields(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(p=e.parent)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.listFields(e,h,u)}listFieldsStream(e,r){var u;e=e||{},r=r||{},r.otherArgs=r.otherArgs||{},r.otherArgs.headers=r.otherArgs.headers||{},r.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(u=e.parent)!==null&&u!==void 0?u:""});const h=this._defaults.listFields.merge(r);return this.initialize(),this.descriptors.page.listFields.createStream(this.innerApiCalls.listFields,e,h)}listFieldsAsync(e,r){var u;e=e||{},r=r||{},r.otherArgs=r.otherArgs||{},r.otherArgs.headers=r.otherArgs.headers||{},r.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(u=e.parent)!==null&&u!==void 0?u:""});const h=this._defaults.listFields.merge(r);return this.initialize(),this.descriptors.page.listFields.asyncIterate(this.innerApiCalls.listFields,e,h)}getLocation(e,r,u){return this.locationsClient.getLocation(e,r,u)}listLocationsAsync(e,r){return this.locationsClient.listLocationsAsync(e,r)}getOperation(e,r,u){return this.operationsClient.getOperation(e,r,u)}listOperationsAsync(e,r){return this.operationsClient.listOperationsAsync(e,r)}cancelOperation(e,r,u){return this.operationsClient.cancelOperation(e,r,u)}deleteOperation(e,r,u){return this.operationsClient.deleteOperation(e,r,u)}backupPath(e,r,u){return this.pathTemplates.backupPathTemplate.render({project:e,location:r,backup:u})}matchProjectFromBackupName(e){return this.pathTemplates.backupPathTemplate.match(e).project}matchLocationFromBackupName(e){return this.pathTemplates.backupPathTemplate.match(e).location}matchBackupFromBackupName(e){return this.pathTemplates.backupPathTemplate.match(e).backup}backupSchedulePath(e,r,u){return this.pathTemplates.backupSchedulePathTemplate.render({project:e,database:r,backup_schedule:u})}matchProjectFromBackupScheduleName(e){return this.pathTemplates.backupSchedulePathTemplate.match(e).project}matchDatabaseFromBackupScheduleName(e){return this.pathTemplates.backupSchedulePathTemplate.match(e).database}matchBackupScheduleFromBackupScheduleName(e){return this.pathTemplates.backupSchedulePathTemplate.match(e).backup_schedule}collectionGroupPath(e,r,u){return this.pathTemplates.collectionGroupPathTemplate.render({project:e,database:r,collection:u})}matchProjectFromCollectionGroupName(e){return this.pathTemplates.collectionGroupPathTemplate.match(e).project}matchDatabaseFromCollectionGroupName(e){return this.pathTemplates.collectionGroupPathTemplate.match(e).database}matchCollectionFromCollectionGroupName(e){return this.pathTemplates.collectionGroupPathTemplate.match(e).collection}databasePath(e,r){return this.pathTemplates.databasePathTemplate.render({project:e,database:r})}matchProjectFromDatabaseName(e){return this.pathTemplates.databasePathTemplate.match(e).project}matchDatabaseFromDatabaseName(e){return this.pathTemplates.databasePathTemplate.match(e).database}fieldPath(e,r,u,p){return this.pathTemplates.fieldPathTemplate.render({project:e,database:r,collection:u,field:p})}matchProjectFromFieldName(e){return this.pathTemplates.fieldPathTemplate.match(e).project}matchDatabaseFromFieldName(e){return this.pathTemplates.fieldPathTemplate.match(e).database}matchCollectionFromFieldName(e){return this.pathTemplates.fieldPathTemplate.match(e).collection}matchFieldFromFieldName(e){return this.pathTemplates.fieldPathTemplate.match(e).field}indexPath(e,r,u,p){return this.pathTemplates.indexPathTemplate.render({project:e,database:r,collection:u,index:p})}matchProjectFromIndexName(e){return this.pathTemplates.indexPathTemplate.match(e).project}matchDatabaseFromIndexName(e){return this.pathTemplates.indexPathTemplate.match(e).database}matchCollectionFromIndexName(e){return this.pathTemplates.indexPathTemplate.match(e).collection}matchIndexFromIndexName(e){return this.pathTemplates.indexPathTemplate.match(e).index}locationPath(e,r){return this.pathTemplates.locationPathTemplate.render({project:e,location:r})}matchProjectFromLocationName(e){return this.pathTemplates.locationPathTemplate.match(e).project}matchLocationFromLocationName(e){return this.pathTemplates.locationPathTemplate.match(e).location}projectPath(e){return this.pathTemplates.projectPathTemplate.render({project:e})}matchProjectFromProjectName(e){return this.pathTemplates.projectPathTemplate.match(e).project}close(){return this.firestoreAdminStub&&!this._terminated?this.firestoreAdminStub.then(e=>{this._terminated=!0,e.close(),this.locationsClient.close(),this.operationsClient.close()}):Promise.resolve()}}firestore_admin_client.FirestoreAdminClient=FirestoreAdminClient;var firestore_client$1={};const options$1={syntax:"proto3"},nested$1={google:{nested:{firestore:{nested:{v1:{options:{csharp_namespace:"Google.Cloud.Firestore.V1",go_package:"cloud.google.com/go/firestore/apiv1/firestorepb;firestorepb",java_multiple_files:!0,java_outer_classname:"WriteProto",java_package:"com.google.firestore.v1",objc_class_prefix:"GCFS",php_namespace:"Google\\Cloud\\Firestore\\V1",ruby_package:"Google::Cloud::Firestore::V1"},nested:{AggregationResult:{fields:{aggregateFields:{keyType:"string",type:"Value",id:2}}},Document:{fields:{name:{type:"string",id:1},fields:{keyType:"string",type:"Value",id:2},createTime:{type:"google.protobuf.Timestamp",id:3},updateTime:{type:"google.protobuf.Timestamp",id:4}}},Value:{oneofs:{valueType:{oneof:["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},fields:{nullValue:{type:"google.protobuf.NullValue",id:11},booleanValue:{type:"bool",id:1},integerValue:{type:"int64",id:2},doubleValue:{type:"double",id:3},timestampValue:{type:"google.protobuf.Timestamp",id:10},stringValue:{type:"string",id:17},bytesValue:{type:"bytes",id:18},referenceValue:{type:"string",id:5},geoPointValue:{type:"google.type.LatLng",id:8},arrayValue:{type:"ArrayValue",id:9},mapValue:{type:"MapValue",id:6}}},ArrayValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},MapValue:{fields:{fields:{keyType:"string",type:"Value",id:1}}},BitSequence:{fields:{bitmap:{type:"bytes",id:1},padding:{type:"int32",id:2}}},BloomFilter:{fields:{bits:{type:"BitSequence",id:1},hashCount:{type:"int32",id:2}}},DocumentMask:{fields:{fieldPaths:{rule:"repeated",type:"string",id:1}}},Precondition:{oneofs:{conditionType:{oneof:["exists","updateTime"]}},fields:{exists:{type:"bool",id:1},updateTime:{type:"google.protobuf.Timestamp",id:2}}},TransactionOptions:{oneofs:{mode:{oneof:["readOnly","readWrite"]}},fields:{readOnly:{type:"ReadOnly",id:2},readWrite:{type:"ReadWrite",id:3}},nested:{ReadWrite:{fields:{retryTransaction:{type:"bytes",id:1}}},ReadOnly:{oneofs:{consistencySelector:{oneof:["readTime"]}},fields:{readTime:{type:"google.protobuf.Timestamp",id:2}}}}},Firestore:{options:{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},methods:{GetDocument:{requestType:"GetDocumentRequest",responseType:"Document",options:{"(google.api.http).get":"/v1/{name=projects/*/databases/*/documents/*/**}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=projects/*/databases/*/documents/*/**}"}}]},ListDocuments:{requestType:"ListDocumentsRequest",responseType:"ListDocumentsResponse",options:{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}","(google.api.http).additional_bindings.get":"/v1/{parent=projects/*/databases/*/documents}/{collection_id}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}",additional_bindings:{get:"/v1/{parent=projects/*/databases/*/documents}/{collection_id}"}}}]},UpdateDocument:{requestType:"UpdateDocumentRequest",responseType:"Document",options:{"(google.api.http).patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},parsedOptions:[{"(google.api.http)":{patch:"/v1/{document.name=projects/*/databases/*/documents/*/**}",body:"document"}},{"(google.api.method_signature)":"document,update_mask"}]},DeleteDocument:{requestType:"DeleteDocumentRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},BatchGetDocuments:{requestType:"BatchGetDocumentsRequest",responseType:"BatchGetDocumentsResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchGet",body:"*"}}]},BeginTransaction:{requestType:"BeginTransactionRequest",responseType:"BeginTransactionResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:beginTransaction",body:"*"}},{"(google.api.method_signature)":"database"}]},Commit:{requestType:"CommitRequest",responseType:"CommitResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:commit",body:"*"}},{"(google.api.method_signature)":"database,writes"}]},Rollback:{requestType:"RollbackRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:rollback",body:"*"}},{"(google.api.method_signature)":"database,transaction"}]},RunQuery:{requestType:"RunQueryRequest",responseType:"RunQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery",body:"*"}}}]},RunAggregationQuery:{requestType:"RunAggregationQueryRequest",responseType:"RunAggregationQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery",body:"*"}}}]},PartitionQuery:{requestType:"PartitionQueryRequest",responseType:"PartitionQueryResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:partitionQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery",body:"*"}}}]},Write:{requestType:"WriteRequest",requestStream:!0,responseType:"WriteResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:write",body:"*"}}]},Listen:{requestType:"ListenRequest",requestStream:!0,responseType:"ListenResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:listen",body:"*"}}]},ListCollectionIds:{requestType:"ListCollectionIdsRequest",responseType:"ListCollectionIdsResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds",body:"*"}}},{"(google.api.method_signature)":"parent"}]},BatchWrite:{requestType:"BatchWriteRequest",responseType:"BatchWriteResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchWrite",body:"*"}}]},CreateDocument:{requestType:"CreateDocumentRequest",responseType:"Document",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}",body:"document"}}]}}},GetDocumentRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:5}}},ListDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"OPTIONAL"}},pageSize:{type:"int32",id:3,options:{"(google.api.field_behavior)":"OPTIONAL"}},pageToken:{type:"string",id:4,options:{"(google.api.field_behavior)":"OPTIONAL"}},orderBy:{type:"string",id:6,options:{"(google.api.field_behavior)":"OPTIONAL"}},mask:{type:"DocumentMask",id:7,options:{"(google.api.field_behavior)":"OPTIONAL"}},transaction:{type:"bytes",id:8},readTime:{type:"google.protobuf.Timestamp",id:10},showMissing:{type:"bool",id:12}}},ListDocumentsResponse:{fields:{documents:{rule:"repeated",type:"Document",id:1},nextPageToken:{type:"string",id:2}}},CreateDocumentRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},documentId:{type:"string",id:3},document:{type:"Document",id:4,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:5}}},UpdateDocumentRequest:{fields:{document:{type:"Document",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},updateMask:{type:"DocumentMask",id:2},mask:{type:"DocumentMask",id:3},currentDocument:{type:"Precondition",id:4}}},DeleteDocumentRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},currentDocument:{type:"Precondition",id:2}}},BatchGetDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},documents:{rule:"repeated",type:"string",id:2},mask:{type:"DocumentMask",id:3},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:7}}},BatchGetDocumentsResponse:{oneofs:{result:{oneof:["found","missing"]}},fields:{found:{type:"Document",id:1},missing:{type:"string",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:4}}},BeginTransactionRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},options:{type:"TransactionOptions",id:2}}},BeginTransactionResponse:{fields:{transaction:{type:"bytes",id:1}}},CommitRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},transaction:{type:"bytes",id:3}}},CommitResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},commitTime:{type:"google.protobuf.Timestamp",id:2}}},RollbackRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},transaction:{type:"bytes",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},RunQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},transaction:{type:"bytes",id:5},newTransaction:{type:"TransactionOptions",id:6},readTime:{type:"google.protobuf.Timestamp",id:7},explainOptions:{type:"ExplainOptions",id:10,options:{"(google.api.field_behavior)":"OPTIONAL"}}}},RunQueryResponse:{oneofs:{continuationSelector:{oneof:["done"]}},fields:{transaction:{type:"bytes",id:2},document:{type:"Document",id:1},readTime:{type:"google.protobuf.Timestamp",id:3},skippedResults:{type:"int32",id:4},done:{type:"bool",id:6},explainMetrics:{type:"ExplainMetrics",id:11}}},RunAggregationQueryRequest:{oneofs:{queryType:{oneof:["structuredAggregationQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredAggregationQuery:{type:"StructuredAggregationQuery",id:2},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:6},explainOptions:{type:"ExplainOptions",id:8,options:{"(google.api.field_behavior)":"OPTIONAL"}}}},RunAggregationQueryResponse:{fields:{result:{type:"AggregationResult",id:1},transaction:{type:"bytes",id:2},readTime:{type:"google.protobuf.Timestamp",id:3},explainMetrics:{type:"ExplainMetrics",id:10}}},PartitionQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]},consistencySelector:{oneof:["readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},partitionCount:{type:"int64",id:3},pageToken:{type:"string",id:4},pageSize:{type:"int32",id:5},readTime:{type:"google.protobuf.Timestamp",id:6}}},PartitionQueryResponse:{fields:{partitions:{rule:"repeated",type:"Cursor",id:1},nextPageToken:{type:"string",id:2}}},WriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},streamId:{type:"string",id:2},writes:{rule:"repeated",type:"Write",id:3},streamToken:{type:"bytes",id:4},labels:{keyType:"string",type:"string",id:5}}},WriteResponse:{fields:{streamId:{type:"string",id:1},streamToken:{type:"bytes",id:2},writeResults:{rule:"repeated",type:"WriteResult",id:3},commitTime:{type:"google.protobuf.Timestamp",id:4}}},ListenRequest:{oneofs:{targetChange:{oneof:["addTarget","removeTarget"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},addTarget:{type:"Target",id:2},removeTarget:{type:"int32",id:3},labels:{keyType:"string",type:"string",id:4}}},ListenResponse:{oneofs:{responseType:{oneof:["targetChange","documentChange","documentDelete","documentRemove","filter"]}},fields:{targetChange:{type:"TargetChange",id:2},documentChange:{type:"DocumentChange",id:3},documentDelete:{type:"DocumentDelete",id:4},documentRemove:{type:"DocumentRemove",id:6},filter:{type:"ExistenceFilter",id:5}}},Target:{oneofs:{targetType:{oneof:["query","documents"]},resumeType:{oneof:["resumeToken","readTime"]}},fields:{query:{type:"QueryTarget",id:2},documents:{type:"DocumentsTarget",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:11},targetId:{type:"int32",id:5},once:{type:"bool",id:6},expectedCount:{type:"google.protobuf.Int32Value",id:12}},nested:{DocumentsTarget:{fields:{documents:{rule:"repeated",type:"string",id:2}}},QueryTarget:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1},structuredQuery:{type:"StructuredQuery",id:2}}}}},TargetChange:{fields:{targetChangeType:{type:"TargetChangeType",id:1},targetIds:{rule:"repeated",type:"int32",id:2},cause:{type:"google.rpc.Status",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:6}},nested:{TargetChangeType:{values:{NO_CHANGE:0,ADD:1,REMOVE:2,CURRENT:3,RESET:4}}}},ListCollectionIdsRequest:{oneofs:{consistencySelector:{oneof:["readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:2},pageToken:{type:"string",id:3},readTime:{type:"google.protobuf.Timestamp",id:4}}},ListCollectionIdsResponse:{fields:{collectionIds:{rule:"repeated",type:"string",id:1},nextPageToken:{type:"string",id:2}}},BatchWriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},labels:{keyType:"string",type:"string",id:3}}},BatchWriteResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},status:{rule:"repeated",type:"google.rpc.Status",id:2}}},StructuredQuery:{fields:{select:{type:"Projection",id:1},from:{rule:"repeated",type:"CollectionSelector",id:2},where:{type:"Filter",id:3},orderBy:{rule:"repeated",type:"Order",id:4},startAt:{type:"Cursor",id:7},endAt:{type:"Cursor",id:8},offset:{type:"int32",id:6},limit:{type:"google.protobuf.Int32Value",id:5},findNearest:{type:"FindNearest",id:9,options:{"(google.api.field_behavior)":"OPTIONAL"}}},nested:{CollectionSelector:{fields:{collectionId:{type:"string",id:2},allDescendants:{type:"bool",id:3}}},Filter:{oneofs:{filterType:{oneof:["compositeFilter","fieldFilter","unaryFilter"]}},fields:{compositeFilter:{type:"CompositeFilter",id:1},fieldFilter:{type:"FieldFilter",id:2},unaryFilter:{type:"UnaryFilter",id:3}}},CompositeFilter:{fields:{op:{type:"Operator",id:1},filters:{rule:"repeated",type:"Filter",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,AND:1,OR:2}}}},FieldFilter:{fields:{field:{type:"FieldReference",id:1},op:{type:"Operator",id:2},value:{type:"Value",id:3}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,LESS_THAN:1,LESS_THAN_OR_EQUAL:2,GREATER_THAN:3,GREATER_THAN_OR_EQUAL:4,EQUAL:5,NOT_EQUAL:6,ARRAY_CONTAINS:7,IN:8,ARRAY_CONTAINS_ANY:9,NOT_IN:10}}}},UnaryFilter:{oneofs:{operandType:{oneof:["field"]}},fields:{op:{type:"Operator",id:1},field:{type:"FieldReference",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,IS_NAN:2,IS_NULL:3,IS_NOT_NAN:4,IS_NOT_NULL:5}}}},Order:{fields:{field:{type:"FieldReference",id:1},direction:{type:"Direction",id:2}}},Direction:{values:{DIRECTION_UNSPECIFIED:0,ASCENDING:1,DESCENDING:2}},FieldReference:{fields:{fieldPath:{type:"string",id:2}}},Projection:{fields:{fields:{rule:"repeated",type:"FieldReference",id:2}}},FindNearest:{fields:{vectorField:{type:"FieldReference",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},queryVector:{type:"Value",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},distanceMeasure:{type:"DistanceMeasure",id:3,options:{"(google.api.field_behavior)":"REQUIRED"}},limit:{type:"google.protobuf.Int32Value",id:4,options:{"(google.api.field_behavior)":"REQUIRED"}},distanceResultField:{type:"string",id:5,options:{"(google.api.field_behavior)":"OPTIONAL"}},distanceThreshold:{type:"google.protobuf.DoubleValue",id:6,options:{"(google.api.field_behavior)":"OPTIONAL"}}},nested:{DistanceMeasure:{values:{DISTANCE_MEASURE_UNSPECIFIED:0,EUCLIDEAN:1,COSINE:2,DOT_PRODUCT:3}}}}}},StructuredAggregationQuery:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{structuredQuery:{type:"StructuredQuery",id:1},aggregations:{rule:"repeated",type:"Aggregation",id:3,options:{"(google.api.field_behavior)":"OPTIONAL"}}},nested:{Aggregation:{oneofs:{operator:{oneof:["count","sum","avg"]}},fields:{count:{type:"Count",id:1},sum:{type:"Sum",id:2},avg:{type:"Avg",id:3},alias:{type:"string",id:7,options:{"(google.api.field_behavior)":"OPTIONAL"}}},nested:{Count:{fields:{upTo:{type:"google.protobuf.Int64Value",id:1,options:{"(google.api.field_behavior)":"OPTIONAL"}}}},Sum:{fields:{field:{type:"StructuredQuery.FieldReference",id:1}}},Avg:{fields:{field:{type:"StructuredQuery.FieldReference",id:1}}}}}}},Cursor:{fields:{values:{rule:"repeated",type:"Value",id:1},before:{type:"bool",id:2}}},ExplainOptions:{fields:{analyze:{type:"bool",id:1,options:{"(google.api.field_behavior)":"OPTIONAL"}}}},ExplainMetrics:{fields:{planSummary:{type:"PlanSummary",id:1},executionStats:{type:"ExecutionStats",id:2}}},PlanSummary:{fields:{indexesUsed:{rule:"repeated",type:"google.protobuf.Struct",id:1}}},ExecutionStats:{fields:{resultsReturned:{type:"int64",id:1},executionDuration:{type:"google.protobuf.Duration",id:3},readOperations:{type:"int64",id:4},debugStats:{type:"google.protobuf.Struct",id:5}}},Write:{oneofs:{operation:{oneof:["update","delete","transform"]}},fields:{update:{type:"Document",id:1},delete:{type:"string",id:2},transform:{type:"DocumentTransform",id:6},updateMask:{type:"DocumentMask",id:3},updateTransforms:{rule:"repeated",type:"DocumentTransform.FieldTransform",id:7},currentDocument:{type:"Precondition",id:4}}},DocumentTransform:{fields:{document:{type:"string",id:1},fieldTransforms:{rule:"repeated",type:"FieldTransform",id:2}},nested:{FieldTransform:{oneofs:{transformType:{oneof:["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},fields:{fieldPath:{type:"string",id:1},setToServerValue:{type:"ServerValue",id:2},increment:{type:"Value",id:3},maximum:{type:"Value",id:4},minimum:{type:"Value",id:5},appendMissingElements:{type:"ArrayValue",id:6},removeAllFromArray:{type:"ArrayValue",id:7}},nested:{ServerValue:{values:{SERVER_VALUE_UNSPECIFIED:0,REQUEST_TIME:1}}}}}},WriteResult:{fields:{updateTime:{type:"google.protobuf.Timestamp",id:1},transformResults:{rule:"repeated",type:"Value",id:2}}},DocumentChange:{fields:{document:{type:"Document",id:1},targetIds:{rule:"repeated",type:"int32",id:5},removedTargetIds:{rule:"repeated",type:"int32",id:6}}},DocumentDelete:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:6},readTime:{type:"google.protobuf.Timestamp",id:4}}},DocumentRemove:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:2},readTime:{type:"google.protobuf.Timestamp",id:4}}},ExistenceFilter:{fields:{targetId:{type:"int32",id:1},count:{type:"int32",id:2},unchangedNames:{type:"BloomFilter",id:3}}}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:!0,java_outer_classname:"ResourceProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{fieldBehavior:{rule:"repeated",type:"google.api.FieldBehavior",id:1052,extend:"google.protobuf.FieldOptions",options:{packed:!1}},FieldBehavior:{values:{FIELD_BEHAVIOR_UNSPECIFIED:0,OPTIONAL:1,REQUIRED:2,OUTPUT_ONLY:3,INPUT_ONLY:4,IMMUTABLE:5,UNORDERED_LIST:6,NON_EMPTY_DEFAULT:7,IDENTIFIER:8}},http:{type:"HttpRule",id:72295728,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1},fullyDecodeReservedExpansion:{type:"bool",id:2}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{selector:{type:"string",id:1},get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},body:{type:"string",id:7},responseBody:{type:"string",id:12},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"},apiVersion:{type:"string",id:525000001,extend:"google.protobuf.ServiceOptions"},CommonLanguageSettings:{fields:{referenceDocsUri:{type:"string",id:1,options:{deprecated:!0}},destinations:{rule:"repeated",type:"ClientLibraryDestination",id:2}}},ClientLibrarySettings:{fields:{version:{type:"string",id:1},launchStage:{type:"LaunchStage",id:2},restNumericEnums:{type:"bool",id:3},javaSettings:{type:"JavaSettings",id:21},cppSettings:{type:"CppSettings",id:22},phpSettings:{type:"PhpSettings",id:23},pythonSettings:{type:"PythonSettings",id:24},nodeSettings:{type:"NodeSettings",id:25},dotnetSettings:{type:"DotnetSettings",id:26},rubySettings:{type:"RubySettings",id:27},goSettings:{type:"GoSettings",id:28}}},Publishing:{fields:{methodSettings:{rule:"repeated",type:"MethodSettings",id:2},newIssueUri:{type:"string",id:101},documentationUri:{type:"string",id:102},apiShortName:{type:"string",id:103},githubLabel:{type:"string",id:104},codeownerGithubTeams:{rule:"repeated",type:"string",id:105},docTagPrefix:{type:"string",id:106},organization:{type:"ClientLibraryOrganization",id:107},librarySettings:{rule:"repeated",type:"ClientLibrarySettings",id:109},protoReferenceDocumentationUri:{type:"string",id:110},restReferenceDocumentationUri:{type:"string",id:111}}},JavaSettings:{fields:{libraryPackage:{type:"string",id:1},serviceClassNames:{keyType:"string",type:"string",id:2},common:{type:"CommonLanguageSettings",id:3}}},CppSettings:{fields:{common:{type:"CommonLanguageSettings",id:1}}},PhpSettings:{fields:{common:{type:"CommonLanguageSettings",id:1}}},PythonSettings:{fields:{common:{type:"CommonLanguageSettings",id:1},experimentalFeatures:{type:"ExperimentalFeatures",id:2}},nested:{ExperimentalFeatures:{fields:{restAsyncIoEnabled:{type:"bool",id:1}}}}},NodeSettings:{fields:{common:{type:"CommonLanguageSettings",id:1}}},DotnetSettings:{fields:{common:{type:"CommonLanguageSettings",id:1},renamedServices:{keyType:"string",type:"string",id:2},renamedResources:{keyType:"string",type:"string",id:3},ignoredResources:{rule:"repeated",type:"string",id:4},forcedNamespaceAliases:{rule:"repeated",type:"string",id:5},handwrittenSignatures:{rule:"repeated",type:"string",id:6}}},RubySettings:{fields:{common:{type:"CommonLanguageSettings",id:1}}},GoSettings:{fields:{common:{type:"CommonLanguageSettings",id:1}}},MethodSettings:{fields:{selector:{type:"string",id:1},longRunning:{type:"LongRunning",id:2},autoPopulatedFields:{rule:"repeated",type:"string",id:3}},nested:{LongRunning:{fields:{initialPollDelay:{type:"google.protobuf.Duration",id:1},pollDelayMultiplier:{type:"float",id:2},maxPollDelay:{type:"google.protobuf.Duration",id:3},totalPollTimeout:{type:"google.protobuf.Duration",id:4}}}}},ClientLibraryOrganization:{values:{CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED:0,CLOUD:1,ADS:2,PHOTOS:3,STREET_VIEW:4,SHOPPING:5,GEO:6,GENERATIVE_AI:7}},ClientLibraryDestination:{values:{CLIENT_LIBRARY_DESTINATION_UNSPECIFIED:0,GITHUB:10,PACKAGE_MANAGER:20}},LaunchStage:{values:{LAUNCH_STAGE_UNSPECIFIED:0,UNIMPLEMENTED:6,PRELAUNCH:7,EARLY_ACCESS:1,ALPHA:2,BETA:3,GA:4,DEPRECATED:5}},resourceReference:{type:"google.api.ResourceReference",id:1055,extend:"google.protobuf.FieldOptions"},resourceDefinition:{rule:"repeated",type:"google.api.ResourceDescriptor",id:1053,extend:"google.protobuf.FileOptions"},resource:{type:"google.api.ResourceDescriptor",id:1053,extend:"google.protobuf.MessageOptions"},ResourceDescriptor:{fields:{type:{type:"string",id:1},pattern:{rule:"repeated",type:"string",id:2},nameField:{type:"string",id:3},history:{type:"History",id:4},plural:{type:"string",id:5},singular:{type:"string",id:6},style:{rule:"repeated",type:"Style",id:10}},nested:{History:{values:{HISTORY_UNSPECIFIED:0,ORIGINALLY_SINGLE_PATTERN:1,FUTURE_MULTI_PATTERN:2}},Style:{values:{STYLE_UNSPECIFIED:0,DECLARATIVE_FRIENDLY:1}}}},ResourceReference:{fields:{type:{type:"string",id:1},childType:{type:"string",id:2}}}}},protobuf:{options:{go_package:"google.golang.org/protobuf/types/descriptorpb",java_package:"com.google.protobuf",java_outer_classname:"DescriptorProtos",csharp_namespace:"Google.Protobuf.Reflection",objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},Edition:{values:{EDITION_UNKNOWN:0,EDITION_PROTO2:998,EDITION_PROTO3:999,EDITION_2023:1e3,EDITION_2024:1001,EDITION_1_TEST_ONLY:1,EDITION_2_TEST_ONLY:2,EDITION_99997_TEST_ONLY:99997,EDITION_99998_TEST_ONLY:99998,EDITION_99999_TEST_ONLY:99999,EDITION_MAX:2147483647}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12},edition:{type:"Edition",id:14}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2},options:{type:"ExtensionRangeOptions",id:3}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},ExtensionRangeOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999},declaration:{rule:"repeated",type:"Declaration",id:2,options:{retention:"RETENTION_SOURCE"}},features:{type:"FeatureSet",id:50},verification:{type:"VerificationState",id:3,options:{default:"UNVERIFIED",retention:"RETENTION_SOURCE"}}},extensions:[[1e3,536870911]],nested:{Declaration:{fields:{number:{type:"int32",id:1},fullName:{type:"string",id:2},type:{type:"string",id:3},reserved:{type:"bool",id:5},repeated:{type:"bool",id:6}},reserved:[[4,4]]},VerificationState:{values:{DECLARATION:0,UNVERIFIED:1}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8},proto3Optional:{type:"bool",id:17}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REPEATED:3,LABEL_REQUIRED:2}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3},reservedRange:{rule:"repeated",type:"EnumReservedRange",id:4},reservedName:{rule:"repeated",type:"string",id:5}},nested:{EnumReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5,options:{default:!1}},serverStreaming:{type:"bool",id:6,options:{default:!1}}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10,options:{default:!1}},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27,options:{default:!1}},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16,options:{default:!1}},javaGenericServices:{type:"bool",id:17,options:{default:!1}},pyGenericServices:{type:"bool",id:18,options:{default:!1}},deprecated:{type:"bool",id:23,options:{default:!1}},ccEnableArenas:{type:"bool",id:31,options:{default:!0}},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},swiftPrefix:{type:"string",id:39},phpClassPrefix:{type:"string",id:40},phpNamespace:{type:"string",id:41},phpMetadataNamespace:{type:"string",id:44},rubyPackage:{type:"string",id:45},features:{type:"FeatureSet",id:50},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[42,42],[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1,options:{default:!1}},noStandardDescriptorAccessor:{type:"bool",id:2,options:{default:!1}},deprecated:{type:"bool",id:3,options:{default:!1}},mapEntry:{type:"bool",id:7},deprecatedLegacyJsonFieldConflicts:{type:"bool",id:11,options:{deprecated:!0}},features:{type:"FeatureSet",id:12},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4],[5,5],[6,6],[8,8],[9,9]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5,options:{default:!1}},unverifiedLazy:{type:"bool",id:15,options:{default:!1}},deprecated:{type:"bool",id:3,options:{default:!1}},weak:{type:"bool",id:10,options:{default:!1}},debugRedact:{type:"bool",id:16,options:{default:!1}},retention:{type:"OptionRetention",id:17},targets:{rule:"repeated",type:"OptionTargetType",id:19,options:{packed:!1}},editionDefaults:{rule:"repeated",type:"EditionDefault",id:20},features:{type:"FeatureSet",id:21},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4],[18,18]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}},OptionRetention:{values:{RETENTION_UNKNOWN:0,RETENTION_RUNTIME:1,RETENTION_SOURCE:2}},OptionTargetType:{values:{TARGET_TYPE_UNKNOWN:0,TARGET_TYPE_FILE:1,TARGET_TYPE_EXTENSION_RANGE:2,TARGET_TYPE_MESSAGE:3,TARGET_TYPE_FIELD:4,TARGET_TYPE_ONEOF:5,TARGET_TYPE_ENUM:6,TARGET_TYPE_ENUM_ENTRY:7,TARGET_TYPE_SERVICE:8,TARGET_TYPE_METHOD:9}},EditionDefault:{fields:{edition:{type:"Edition",id:3},value:{type:"string",id:2}}}}},OneofOptions:{fields:{features:{type:"FeatureSet",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3,options:{default:!1}},deprecatedLegacyJsonFieldConflicts:{type:"bool",id:6,options:{deprecated:!0}},features:{type:"FeatureSet",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[5,5]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1,options:{default:!1}},features:{type:"FeatureSet",id:2},debugRedact:{type:"bool",id:3,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{features:{type:"FeatureSet",id:34},deprecated:{type:"bool",id:33,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33,options:{default:!1}},idempotencyLevel:{type:"IdempotencyLevel",id:34,options:{default:"IDEMPOTENCY_UNKNOWN"}},features:{type:"FeatureSet",id:35},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],nested:{IdempotencyLevel:{values:{IDEMPOTENCY_UNKNOWN:0,NO_SIDE_EFFECTS:1,IDEMPOTENT:2}}}},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},FeatureSet:{fields:{fieldPresence:{type:"FieldPresence",id:1,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},enumType:{type:"EnumType",id:2,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},repeatedFieldEncoding:{type:"RepeatedFieldEncoding",id:3,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},utf8Validation:{type:"Utf8Validation",id:4,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},messageEncoding:{type:"MessageEncoding",id:5,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO2","edition_defaults.value":"LENGTH_PREFIXED"}},jsonFormat:{type:"JsonFormat",id:6,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}}},extensions:[[1e3,1e3],[1001,1001],[1002,1002],[9995,9999],[1e4,1e4]],reserved:[[999,999]],nested:{FieldPresence:{values:{FIELD_PRESENCE_UNKNOWN:0,EXPLICIT:1,IMPLICIT:2,LEGACY_REQUIRED:3}},EnumType:{values:{ENUM_TYPE_UNKNOWN:0,OPEN:1,CLOSED:2}},RepeatedFieldEncoding:{values:{REPEATED_FIELD_ENCODING_UNKNOWN:0,PACKED:1,EXPANDED:2}},Utf8Validation:{values:{UTF8_VALIDATION_UNKNOWN:0,VERIFY:2,NONE:3}},MessageEncoding:{values:{MESSAGE_ENCODING_UNKNOWN:0,LENGTH_PREFIXED:1,DELIMITED:2}},JsonFormat:{values:{JSON_FORMAT_UNKNOWN:0,ALLOW:1,LEGACY_BEST_EFFORT:2}}}},FeatureSetDefaults:{fields:{defaults:{rule:"repeated",type:"FeatureSetEditionDefault",id:1},minimumEdition:{type:"Edition",id:4},maximumEdition:{type:"Edition",id:5}},nested:{FeatureSetEditionDefault:{fields:{edition:{type:"Edition",id:3},features:{type:"FeatureSet",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4},semantic:{type:"Semantic",id:5}},nested:{Semantic:{values:{NONE:0,SET:1,ALIAS:2}}}}}},Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},Timestamp:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},Duration:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}},Empty:{fields:{}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}},type:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/type/dayofweek;dayofweek",java_multiple_files:!0,java_outer_classname:"DayOfWeekProto",java_package:"com.google.type",objc_class_prefix:"GTP"},nested:{LatLng:{fields:{latitude:{type:"double",id:1},longitude:{type:"double",id:2}}},DayOfWeek:{values:{DAY_OF_WEEK_UNSPECIFIED:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6,SUNDAY:7}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/status;status",java_multiple_files:!0,java_outer_classname:"StatusProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}}}}}}},require$$1$1={options:options$1,nested:nested$1};var define_process_env_default$1={};Object.defineProperty(firestore_client$1,"__esModule",{value:!0});firestore_client$1.FirestoreClient=void 0;const stream_1=require$$1$3,jsonProtos=require$$1$1,gapicConfig=require$$19,version=require$$33.version;class FirestoreClient{constructor(e,r){var u,p,h,y,c;this._terminated=!1,this.descriptors={page:{},stream:{},longrunning:{},batching:{}};const d=this.constructor;if(e!=null&&e.universe_domain&&(e!=null&&e.universeDomain)&&(e==null?void 0:e.universe_domain)!==(e==null?void 0:e.universeDomain))throw new Error("Please set either universe_domain or universeDomain, but not both.");const m=typeof process=="object"&&typeof define_process_env_default$1=="object"?define_process_env_default$1.GOOGLE_CLOUD_UNIVERSE_DOMAIN:void 0;this._universeDomain=(h=(p=(u=e==null?void 0:e.universeDomain)!==null&&u!==void 0?u:e==null?void 0:e.universe_domain)!==null&&p!==void 0?p:m)!==null&&h!==void 0?h:"googleapis.com",this._servicePath="firestore."+this._universeDomain;const P=(e==null?void 0:e.servicePath)||(e==null?void 0:e.apiEndpoint)||this._servicePath;this._providedCustomServicePath=!!(e!=null&&e.servicePath||e!=null&&e.apiEndpoint);const N=(e==null?void 0:e.port)||d.port,L=(y=e==null?void 0:e.clientConfig)!==null&&y!==void 0?y:{},k=(c=e==null?void 0:e.fallback)!==null&&c!==void 0?c:typeof window<"u"&&typeof(window==null?void 0:window.fetch)=="function";e=Object.assign({servicePath:P,port:N,clientConfig:L,fallback:k},e),e.numericEnums=!0,P!==this._servicePath&&!("scopes"in e)&&(e.scopes=d.scopes),r||(r=requireFallback()),this._gaxModule=e.fallback?r.fallback:r,this._gaxGrpc=new this._gaxModule.GrpcClient(e),this._opts=e,this.auth=this._gaxGrpc.auth,this.auth.useJWTAccessWithScope=!0,this.auth.defaultServicePath=this._servicePath,P===this._servicePath&&(this.auth.defaultScopes=d.scopes),this.locationsClient=new this._gaxModule.LocationsClient(this._gaxGrpc,e);const B=[`gax/${this._gaxModule.version}`,`gapic/${version}`];typeof process=="object"&&"versions"in process?B.push(`gl-node/${process.versions.node}`):B.push(`gl-web/${this._gaxModule.version}`),e.fallback?B.push(`rest/${this._gaxGrpc.grpcVersion}`):B.push(`grpc/${this._gaxGrpc.grpcVersion}`),e.libName&&e.libVersion&&B.push(`${e.libName}/${e.libVersion}`),this._protos=this._gaxGrpc.loadProtoJSON(jsonProtos),this.descriptors.page={listDocuments:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","documents"),partitionQuery:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","partitions"),listCollectionIds:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","collectionIds")},this.descriptors.stream={batchGetDocuments:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.SERVER_STREAMING,!!e.fallback,!!e.gaxServerStreamingRetries),runQuery:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.SERVER_STREAMING,!!e.fallback,!!e.gaxServerStreamingRetries),runAggregationQuery:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.SERVER_STREAMING,!!e.fallback,!!e.gaxServerStreamingRetries),write:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.BIDI_STREAMING,!!e.fallback,!!e.gaxServerStreamingRetries),listen:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.BIDI_STREAMING,!!e.fallback,!!e.gaxServerStreamingRetries)},this._defaults=this._gaxGrpc.constructSettings("google.firestore.v1.Firestore",gapicConfig,e.clientConfig||{},{"x-goog-api-client":B.join(" ")}),this.innerApiCalls={},this.warn=this._gaxModule.warn}initialize(){if(this.firestoreStub)return this.firestoreStub;this.firestoreStub=this._gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.firestore.v1.Firestore"):this._protos.google.firestore.v1.Firestore,this._opts,this._providedCustomServicePath);const e=["getDocument","listDocuments","updateDocument","deleteDocument","batchGetDocuments","beginTransaction","commit","rollback","runQuery","runAggregationQuery","partitionQuery","write","listen","listCollectionIds","batchWrite","createDocument"];for(const r of e){const u=this.firestoreStub.then(y=>(...c)=>{if(this._terminated){if(r in this.descriptors.stream){const m=new stream_1.PassThrough;return setImmediate(()=>{m.emit("error",new this._gaxModule.GoogleError("The client has already been closed."))}),m}return Promise.reject("The client has already been closed.")}return y[r].apply(y,c)},y=>()=>{throw y}),p=this.descriptors.page[r]||this.descriptors.stream[r]||void 0,h=this._gaxModule.createApiCall(u,this._defaults[r],p,this._opts.fallback);this.innerApiCalls[r]=h}return this.firestoreStub}static get servicePath(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static servicePath is deprecated, please use the instance method instead.","DeprecationWarning"),"firestore.googleapis.com"}static get apiEndpoint(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static apiEndpoint is deprecated, please use the instance method instead.","DeprecationWarning"),"firestore.googleapis.com"}get apiEndpoint(){return this._servicePath}get universeDomain(){return this._universeDomain}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/datastore"]}getProjectId(e){if(e){this.auth.getProjectId(e);return}return this.auth.getProjectId()}getDocument(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(p=e.name)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.getDocument(e,h,u)}updateDocument(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({"document.name":(p=e.document.name)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.updateDocument(e,h,u)}deleteDocument(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(p=e.name)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.deleteDocument(e,h,u)}beginTransaction(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:(p=e.database)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.beginTransaction(e,h,u)}commit(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:(p=e.database)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.commit(e,h,u)}rollback(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:(p=e.database)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.rollback(e,h,u)}batchWrite(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:(p=e.database)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.batchWrite(e,h,u)}createDocument(e,r,u){var p,h;e=e||{};let y;return typeof r=="function"&&u===void 0?(u=r,y={}):y=r,y=y||{},y.otherArgs=y.otherArgs||{},y.otherArgs.headers=y.otherArgs.headers||{},y.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(p=e.parent)!==null&&p!==void 0?p:"",collection_id:(h=e.collectionId)!==null&&h!==void 0?h:""}),this.initialize(),this.innerApiCalls.createDocument(e,y,u)}batchGetDocuments(e,r){var u;return e=e||{},r=r||{},r.otherArgs=r.otherArgs||{},r.otherArgs.headers=r.otherArgs.headers||{},r.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:(u=e.database)!==null&&u!==void 0?u:""}),this.initialize(),this.innerApiCalls.batchGetDocuments(e,r)}runQuery(e,r){var u;return e=e||{},r=r||{},r.otherArgs=r.otherArgs||{},r.otherArgs.headers=r.otherArgs.headers||{},r.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(u=e.parent)!==null&&u!==void 0?u:""}),this.initialize(),this.innerApiCalls.runQuery(e,r)}runAggregationQuery(e,r){var u;return e=e||{},r=r||{},r.otherArgs=r.otherArgs||{},r.otherArgs.headers=r.otherArgs.headers||{},r.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(u=e.parent)!==null&&u!==void 0?u:""}),this.initialize(),this.innerApiCalls.runAggregationQuery(e,r)}write(e){return this.initialize(),this.innerApiCalls.write(null,e)}listen(e){return this.initialize(),this.innerApiCalls.listen(null,e)}listDocuments(e,r,u){var p,h;e=e||{};let y;return typeof r=="function"&&u===void 0?(u=r,y={}):y=r,y=y||{},y.otherArgs=y.otherArgs||{},y.otherArgs.headers=y.otherArgs.headers||{},y.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(p=e.parent)!==null&&p!==void 0?p:"",collection_id:(h=e.collectionId)!==null&&h!==void 0?h:""}),this.initialize(),this.innerApiCalls.listDocuments(e,y,u)}listDocumentsStream(e,r){var u,p;e=e||{},r=r||{},r.otherArgs=r.otherArgs||{},r.otherArgs.headers=r.otherArgs.headers||{},r.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(u=e.parent)!==null&&u!==void 0?u:"",collection_id:(p=e.collectionId)!==null&&p!==void 0?p:""});const y=this._defaults.listDocuments.merge(r);return this.initialize(),this.descriptors.page.listDocuments.createStream(this.innerApiCalls.listDocuments,e,y)}listDocumentsAsync(e,r){var u,p;e=e||{},r=r||{},r.otherArgs=r.otherArgs||{},r.otherArgs.headers=r.otherArgs.headers||{},r.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(u=e.parent)!==null&&u!==void 0?u:"",collection_id:(p=e.collectionId)!==null&&p!==void 0?p:""});const y=this._defaults.listDocuments.merge(r);return this.initialize(),this.descriptors.page.listDocuments.asyncIterate(this.innerApiCalls.listDocuments,e,y)}partitionQuery(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(p=e.parent)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.partitionQuery(e,h,u)}partitionQueryStream(e,r){var u;e=e||{},r=r||{},r.otherArgs=r.otherArgs||{},r.otherArgs.headers=r.otherArgs.headers||{},r.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(u=e.parent)!==null&&u!==void 0?u:""});const h=this._defaults.partitionQuery.merge(r);return this.initialize(),this.descriptors.page.partitionQuery.createStream(this.innerApiCalls.partitionQuery,e,h)}partitionQueryAsync(e,r){var u;e=e||{},r=r||{},r.otherArgs=r.otherArgs||{},r.otherArgs.headers=r.otherArgs.headers||{},r.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(u=e.parent)!==null&&u!==void 0?u:""});const h=this._defaults.partitionQuery.merge(r);return this.initialize(),this.descriptors.page.partitionQuery.asyncIterate(this.innerApiCalls.partitionQuery,e,h)}listCollectionIds(e,r,u){var p;e=e||{};let h;return typeof r=="function"&&u===void 0?(u=r,h={}):h=r,h=h||{},h.otherArgs=h.otherArgs||{},h.otherArgs.headers=h.otherArgs.headers||{},h.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(p=e.parent)!==null&&p!==void 0?p:""}),this.initialize(),this.innerApiCalls.listCollectionIds(e,h,u)}listCollectionIdsStream(e,r){var u;e=e||{},r=r||{},r.otherArgs=r.otherArgs||{},r.otherArgs.headers=r.otherArgs.headers||{},r.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(u=e.parent)!==null&&u!==void 0?u:""});const h=this._defaults.listCollectionIds.merge(r);return this.initialize(),this.descriptors.page.listCollectionIds.createStream(this.innerApiCalls.listCollectionIds,e,h)}listCollectionIdsAsync(e,r){var u;e=e||{},r=r||{},r.otherArgs=r.otherArgs||{},r.otherArgs.headers=r.otherArgs.headers||{},r.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(u=e.parent)!==null&&u!==void 0?u:""});const h=this._defaults.listCollectionIds.merge(r);return this.initialize(),this.descriptors.page.listCollectionIds.asyncIterate(this.innerApiCalls.listCollectionIds,e,h)}getLocation(e,r,u){return this.locationsClient.getLocation(e,r,u)}listLocationsAsync(e,r){return this.locationsClient.listLocationsAsync(e,r)}close(){return this.firestoreStub&&!this._terminated?this.firestoreStub.then(e=>{this._terminated=!0,e.close(),this.locationsClient.close()}):Promise.resolve()}}firestore_client$1.FirestoreClient=FirestoreClient;(function(o,e){Object.defineProperty(e,"__esModule",{value:!0}),e.FirestoreAdminClient=e.FirestoreClient=void 0;const r=firestore_admin_client;Object.defineProperty(e,"FirestoreAdminClient",{enumerable:!0,get:function(){return r.FirestoreAdminClient}});const u=firestore_client$1;Object.defineProperty(e,"FirestoreClient",{enumerable:!0,get:function(){return u.FirestoreClient}});const p=o.exports;o.exports=u.FirestoreClient,o.exports=Object.assign(o.exports,p)})(v1,v1.exports);var v1Exports=v1.exports,hasRequiredEnabledTraceUtil;function requireEnabledTraceUtil(){if(hasRequiredEnabledTraceUtil)return enabledTraceUtil;hasRequiredEnabledTraceUtil=1,Object.defineProperty(enabledTraceUtil,"__esModule",{value:!0}),enabledTraceUtil.EnabledTraceUtil=void 0;const o=require$$0$1,e=span,r=traceUtil,u=require$$19,p=v1Exports,h=path,y=requireSrc(),c=u.interfaces["google.firestore.v1.Firestore"];class d{constructor(P){var N,L,k,B,U,$,j,M,q,Q,K,G,F,x,z,J;let Z=(N=P.openTelemetry)===null||N===void 0?void 0:N.tracerProvider;if(!Z){const{trace:Ue}=require$$0$1;Z=Ue.getTracerProvider()}this.tracerProvider=Z;const X=require$$33.version,te=require$$33.name;try{this.tracer=this.tracerProvider.getTracer(te,X)}catch{throw new Error("The object provided for 'tracerProvider' does not conform to the TracerProvider interface.")}this.settingsAttributes={},this.settingsAttributes["otel.scope.name"]=te,this.settingsAttributes["otel.scope.version"]=X,P.projectId&&(this.settingsAttributes[`${r.ATTRIBUTE_SETTINGS_PREFIX}.project_id`]=P.projectId),this.settingsAttributes[`${r.ATTRIBUTE_SETTINGS_PREFIX}.database_id`]=P.databaseId||h.DEFAULT_DATABASE_ID;const be=(k=(L=P.servicePath)!==null&&L!==void 0?L:P.host)!==null&&k!==void 0?k:"firestore.googleapis.com",Ae=(B=P.port)!==null&&B!==void 0?B:p.FirestoreClient.port;this.settingsAttributes[`${r.ATTRIBUTE_SETTINGS_PREFIX}.host`]=`${be}:${Ae}`,P.preferRest!==void 0&&(this.settingsAttributes[`${r.ATTRIBUTE_SETTINGS_PREFIX}.prefer_REST`]=P.preferRest),this.settingsAttributes[`${r.ATTRIBUTE_SETTINGS_PREFIX}.max_idle_channels`]=(U=P.maxIdleChannels)!==null&&U!==void 0?U:y.DEFAULT_MAX_IDLE_CHANNELS;const Ne=c.retry_params.default,ke=(q=(M=(j=($=P.clientConfig)===null||$===void 0?void 0:$.interfaces)===null||j===void 0?void 0:j["google.firestore.v1.Firestore"])===null||M===void 0?void 0:M.retry_params)===null||q===void 0?void 0:q.default;this.settingsAttributes[`${r.ATTRIBUTE_SETTINGS_PREFIX}.initial_retry_delay`]=this.millisToSecondString((Q=ke==null?void 0:ke.initial_retry_delay_millis)!==null&&Q!==void 0?Q:Ne.initial_retry_delay_millis),this.settingsAttributes[`${r.ATTRIBUTE_SETTINGS_PREFIX}.initial_rpc_timeout`]=this.millisToSecondString((K=ke==null?void 0:ke.initial_rpc_timeout_millis)!==null&&K!==void 0?K:Ne.initial_rpc_timeout_millis),this.settingsAttributes[`${r.ATTRIBUTE_SETTINGS_PREFIX}.total_timeout`]=this.millisToSecondString((G=ke==null?void 0:ke.total_timeout_millis)!==null&&G!==void 0?G:Ne.total_timeout_millis),this.settingsAttributes[`${r.ATTRIBUTE_SETTINGS_PREFIX}.max_retry_delay`]=this.millisToSecondString((F=ke==null?void 0:ke.max_retry_delay_millis)!==null&&F!==void 0?F:Ne.max_retry_delay_millis),this.settingsAttributes[`${r.ATTRIBUTE_SETTINGS_PREFIX}.max_rpc_timeout`]=this.millisToSecondString((x=ke==null?void 0:ke.max_rpc_timeout_millis)!==null&&x!==void 0?x:Ne.max_rpc_timeout_millis),this.settingsAttributes[`${r.ATTRIBUTE_SETTINGS_PREFIX}.retry_delay_multiplier`]=(z=ke==null?void 0:ke.retry_delay_multiplier.toString())!==null&&z!==void 0?z:Ne.retry_delay_multiplier.toString(),this.settingsAttributes[`${r.ATTRIBUTE_SETTINGS_PREFIX}.rpc_timeout_multiplier`]=(J=ke==null?void 0:ke.rpc_timeout_multiplier.toString())!==null&&J!==void 0?J:Ne.rpc_timeout_multiplier.toString()}recordProjectId(P){this.settingsAttributes[`${r.ATTRIBUTE_SETTINGS_PREFIX}.project_id`]=P,this.currentSpan().setAttributes(this.settingsAttributes)}millisToSecondString(P){return`${P/1e3}s`}endSpan(P,N){P.setStatus({code:o.SpanStatusCode.ERROR,message:N.message}),P.recordException(N),P.end()}startActiveSpan(P,N,L){return this.tracer.startActiveSpan(P,{attributes:L},k=>{this.addCommonAttributes(k);try{let B=N(new e.Span(k));return B instanceof Promise?B=B.then(U=>(k.end(),U)).catch(U=>(this.endSpan(k,U),Promise.reject(U))):k.end(),B}catch(B){throw this.endSpan(k,B),B}})}startSpan(P){const N=this.tracer.startSpan(P,void 0,o.context.active());return this.addCommonAttributes(N),new e.Span(N)}currentSpan(){return new e.Span(o.trace.getActiveSpan())}addCommonAttributes(P){P.setAttributes(this.settingsAttributes)}}return enabledTraceUtil.EnabledTraceUtil=d,enabledTraceUtil}var v1beta1={exports:{}},firestore_client={};const options={syntax:"proto3"},nested={google:{nested:{protobuf:{options:{go_package:"google.golang.org/protobuf/types/descriptorpb",java_package:"com.google.protobuf",java_outer_classname:"DescriptorProtos",csharp_namespace:"Google.Protobuf.Reflection",objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{Timestamp:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},Edition:{values:{EDITION_UNKNOWN:0,EDITION_PROTO2:998,EDITION_PROTO3:999,EDITION_2023:1e3,EDITION_2024:1001,EDITION_1_TEST_ONLY:1,EDITION_2_TEST_ONLY:2,EDITION_99997_TEST_ONLY:99997,EDITION_99998_TEST_ONLY:99998,EDITION_99999_TEST_ONLY:99999,EDITION_MAX:2147483647}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12},edition:{type:"Edition",id:14}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2},options:{type:"ExtensionRangeOptions",id:3}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},ExtensionRangeOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999},declaration:{rule:"repeated",type:"Declaration",id:2,options:{retention:"RETENTION_SOURCE"}},features:{type:"FeatureSet",id:50},verification:{type:"VerificationState",id:3,options:{default:"UNVERIFIED",retention:"RETENTION_SOURCE"}}},extensions:[[1e3,536870911]],nested:{Declaration:{fields:{number:{type:"int32",id:1},fullName:{type:"string",id:2},type:{type:"string",id:3},reserved:{type:"bool",id:5},repeated:{type:"bool",id:6}},reserved:[[4,4]]},VerificationState:{values:{DECLARATION:0,UNVERIFIED:1}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8},proto3Optional:{type:"bool",id:17}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REPEATED:3,LABEL_REQUIRED:2}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3},reservedRange:{rule:"repeated",type:"EnumReservedRange",id:4},reservedName:{rule:"repeated",type:"string",id:5}},nested:{EnumReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5,options:{default:!1}},serverStreaming:{type:"bool",id:6,options:{default:!1}}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10,options:{default:!1}},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27,options:{default:!1}},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16,options:{default:!1}},javaGenericServices:{type:"bool",id:17,options:{default:!1}},pyGenericServices:{type:"bool",id:18,options:{default:!1}},deprecated:{type:"bool",id:23,options:{default:!1}},ccEnableArenas:{type:"bool",id:31,options:{default:!0}},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},swiftPrefix:{type:"string",id:39},phpClassPrefix:{type:"string",id:40},phpNamespace:{type:"string",id:41},phpMetadataNamespace:{type:"string",id:44},rubyPackage:{type:"string",id:45},features:{type:"FeatureSet",id:50},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[42,42],[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1,options:{default:!1}},noStandardDescriptorAccessor:{type:"bool",id:2,options:{default:!1}},deprecated:{type:"bool",id:3,options:{default:!1}},mapEntry:{type:"bool",id:7},deprecatedLegacyJsonFieldConflicts:{type:"bool",id:11,options:{deprecated:!0}},features:{type:"FeatureSet",id:12},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4],[5,5],[6,6],[8,8],[9,9]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5,options:{default:!1}},unverifiedLazy:{type:"bool",id:15,options:{default:!1}},deprecated:{type:"bool",id:3,options:{default:!1}},weak:{type:"bool",id:10,options:{default:!1}},debugRedact:{type:"bool",id:16,options:{default:!1}},retention:{type:"OptionRetention",id:17},targets:{rule:"repeated",type:"OptionTargetType",id:19,options:{packed:!1}},editionDefaults:{rule:"repeated",type:"EditionDefault",id:20},features:{type:"FeatureSet",id:21},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4],[18,18]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}},OptionRetention:{values:{RETENTION_UNKNOWN:0,RETENTION_RUNTIME:1,RETENTION_SOURCE:2}},OptionTargetType:{values:{TARGET_TYPE_UNKNOWN:0,TARGET_TYPE_FILE:1,TARGET_TYPE_EXTENSION_RANGE:2,TARGET_TYPE_MESSAGE:3,TARGET_TYPE_FIELD:4,TARGET_TYPE_ONEOF:5,TARGET_TYPE_ENUM:6,TARGET_TYPE_ENUM_ENTRY:7,TARGET_TYPE_SERVICE:8,TARGET_TYPE_METHOD:9}},EditionDefault:{fields:{edition:{type:"Edition",id:3},value:{type:"string",id:2}}}}},OneofOptions:{fields:{features:{type:"FeatureSet",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3,options:{default:!1}},deprecatedLegacyJsonFieldConflicts:{type:"bool",id:6,options:{deprecated:!0}},features:{type:"FeatureSet",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[5,5]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1,options:{default:!1}},features:{type:"FeatureSet",id:2},debugRedact:{type:"bool",id:3,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{features:{type:"FeatureSet",id:34},deprecated:{type:"bool",id:33,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33,options:{default:!1}},idempotencyLevel:{type:"IdempotencyLevel",id:34,options:{default:"IDEMPOTENCY_UNKNOWN"}},features:{type:"FeatureSet",id:35},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],nested:{IdempotencyLevel:{values:{IDEMPOTENCY_UNKNOWN:0,NO_SIDE_EFFECTS:1,IDEMPOTENT:2}}}},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},FeatureSet:{fields:{fieldPresence:{type:"FieldPresence",id:1,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},enumType:{type:"EnumType",id:2,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},repeatedFieldEncoding:{type:"RepeatedFieldEncoding",id:3,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},utf8Validation:{type:"Utf8Validation",id:4,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},messageEncoding:{type:"MessageEncoding",id:5,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO2","edition_defaults.value":"LENGTH_PREFIXED"}},jsonFormat:{type:"JsonFormat",id:6,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}}},extensions:[[1e3,1e3],[1001,1001],[1002,1002],[9995,9999],[1e4,1e4]],reserved:[[999,999]],nested:{FieldPresence:{values:{FIELD_PRESENCE_UNKNOWN:0,EXPLICIT:1,IMPLICIT:2,LEGACY_REQUIRED:3}},EnumType:{values:{ENUM_TYPE_UNKNOWN:0,OPEN:1,CLOSED:2}},RepeatedFieldEncoding:{values:{REPEATED_FIELD_ENCODING_UNKNOWN:0,PACKED:1,EXPANDED:2}},Utf8Validation:{values:{UTF8_VALIDATION_UNKNOWN:0,VERIFY:2,NONE:3}},MessageEncoding:{values:{MESSAGE_ENCODING_UNKNOWN:0,LENGTH_PREFIXED:1,DELIMITED:2}},JsonFormat:{values:{JSON_FORMAT_UNKNOWN:0,ALLOW:1,LEGACY_BEST_EFFORT:2}}}},FeatureSetDefaults:{fields:{defaults:{rule:"repeated",type:"FeatureSetEditionDefault",id:1},minimumEdition:{type:"Edition",id:4},maximumEdition:{type:"Edition",id:5}},nested:{FeatureSetEditionDefault:{fields:{edition:{type:"Edition",id:3},features:{type:"FeatureSet",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4},semantic:{type:"Semantic",id:5}},nested:{Semantic:{values:{NONE:0,SET:1,ALIAS:2}}}}}},Duration:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}},Empty:{fields:{}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}},firestore:{nested:{v1beta1:{options:{csharp_namespace:"Google.Cloud.Firestore.V1Beta1",go_package:"cloud.google.com/go/firestore/apiv1beta1/firestorepb;firestorepb",java_multiple_files:!0,java_outer_classname:"UndeliverableFirstGenEventProto",java_package:"com.google.firestore.v1beta1",objc_class_prefix:"GCFS",php_namespace:"Google\\Cloud\\Firestore\\V1beta1",ruby_package:"Google::Cloud::Firestore::V1beta1"},nested:{DocumentMask:{fields:{fieldPaths:{rule:"repeated",type:"string",id:1}}},Precondition:{oneofs:{conditionType:{oneof:["exists","updateTime"]}},fields:{exists:{type:"bool",id:1},updateTime:{type:"google.protobuf.Timestamp",id:2}}},TransactionOptions:{oneofs:{mode:{oneof:["readOnly","readWrite"]}},fields:{readOnly:{type:"ReadOnly",id:2},readWrite:{type:"ReadWrite",id:3}},nested:{ReadWrite:{fields:{retryTransaction:{type:"bytes",id:1}}},ReadOnly:{oneofs:{consistencySelector:{oneof:["readTime"]}},fields:{readTime:{type:"google.protobuf.Timestamp",id:2}}}}},Document:{fields:{name:{type:"string",id:1},fields:{keyType:"string",type:"Value",id:2},createTime:{type:"google.protobuf.Timestamp",id:3},updateTime:{type:"google.protobuf.Timestamp",id:4}}},Value:{oneofs:{valueType:{oneof:["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},fields:{nullValue:{type:"google.protobuf.NullValue",id:11},booleanValue:{type:"bool",id:1},integerValue:{type:"int64",id:2},doubleValue:{type:"double",id:3},timestampValue:{type:"google.protobuf.Timestamp",id:10},stringValue:{type:"string",id:17},bytesValue:{type:"bytes",id:18},referenceValue:{type:"string",id:5},geoPointValue:{type:"google.type.LatLng",id:8},arrayValue:{type:"ArrayValue",id:9},mapValue:{type:"MapValue",id:6}}},ArrayValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},MapValue:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Firestore:{options:{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},methods:{GetDocument:{requestType:"GetDocumentRequest",responseType:"Document",options:{"(google.api.http).get":"/v1beta1/{name=projects/*/databases/*/documents/*/**}"},parsedOptions:[{"(google.api.http)":{get:"/v1beta1/{name=projects/*/databases/*/documents/*/**}"}}]},ListDocuments:{requestType:"ListDocumentsRequest",responseType:"ListDocumentsResponse",options:{"(google.api.http).get":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"},parsedOptions:[{"(google.api.http)":{get:"/v1beta1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"}}]},UpdateDocument:{requestType:"UpdateDocumentRequest",responseType:"Document",options:{"(google.api.http).patch":"/v1beta1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},parsedOptions:[{"(google.api.http)":{patch:"/v1beta1/{document.name=projects/*/databases/*/documents/*/**}",body:"document"}},{"(google.api.method_signature)":"document,update_mask"}]},DeleteDocument:{requestType:"DeleteDocumentRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1beta1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1beta1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},BatchGetDocuments:{requestType:"BatchGetDocumentsRequest",responseType:"BatchGetDocumentsResponse",responseStream:!0,options:{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1beta1/{database=projects/*/databases/*}/documents:batchGet",body:"*"}}]},BeginTransaction:{requestType:"BeginTransactionRequest",responseType:"BeginTransactionResponse",options:{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},parsedOptions:[{"(google.api.http)":{post:"/v1beta1/{database=projects/*/databases/*}/documents:beginTransaction",body:"*"}},{"(google.api.method_signature)":"database"}]},Commit:{requestType:"CommitRequest",responseType:"CommitResponse",options:{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},parsedOptions:[{"(google.api.http)":{post:"/v1beta1/{database=projects/*/databases/*}/documents:commit",body:"*"}},{"(google.api.method_signature)":"database,writes"}]},Rollback:{requestType:"RollbackRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},parsedOptions:[{"(google.api.http)":{post:"/v1beta1/{database=projects/*/databases/*}/documents:rollback",body:"*"}},{"(google.api.method_signature)":"database,transaction"}]},RunQuery:{requestType:"RunQueryRequest",responseType:"RunQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1beta1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1beta1/{parent=projects/*/databases/*/documents}:runQuery",body:"*",additional_bindings:{post:"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:runQuery",body:"*"}}}]},PartitionQuery:{requestType:"PartitionQueryRequest",responseType:"PartitionQueryResponse",options:{"(google.api.http).post":"/v1beta1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1beta1/{parent=projects/*/databases/*/documents}:partitionQuery",body:"*",additional_bindings:{post:"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery",body:"*"}}}]},Write:{requestType:"WriteRequest",requestStream:!0,responseType:"WriteResponse",responseStream:!0,options:{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1beta1/{database=projects/*/databases/*}/documents:write",body:"*"}}]},Listen:{requestType:"ListenRequest",requestStream:!0,responseType:"ListenResponse",responseStream:!0,options:{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1beta1/{database=projects/*/databases/*}/documents:listen",body:"*"}}]},ListCollectionIds:{requestType:"ListCollectionIdsRequest",responseType:"ListCollectionIdsResponse",options:{"(google.api.http).post":"/v1beta1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{post:"/v1beta1/{parent=projects/*/databases/*/documents}:listCollectionIds",body:"*",additional_bindings:{post:"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds",body:"*"}}},{"(google.api.method_signature)":"parent"}]},BatchWrite:{requestType:"BatchWriteRequest",responseType:"BatchWriteResponse",options:{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1beta1/{database=projects/*/databases/*}/documents:batchWrite",body:"*"}}]},CreateDocument:{requestType:"CreateDocumentRequest",responseType:"Document",options:{"(google.api.http).post":"/v1beta1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},parsedOptions:[{"(google.api.http)":{post:"/v1beta1/{parent=projects/*/databases/*/documents/**}/{collection_id}",body:"document"}}]}}},GetDocumentRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:5}}},ListDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:3},pageToken:{type:"string",id:4},orderBy:{type:"string",id:6},mask:{type:"DocumentMask",id:7},transaction:{type:"bytes",id:8},readTime:{type:"google.protobuf.Timestamp",id:10},showMissing:{type:"bool",id:12}}},ListDocumentsResponse:{fields:{documents:{rule:"repeated",type:"Document",id:1},nextPageToken:{type:"string",id:2}}},CreateDocumentRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},documentId:{type:"string",id:3},document:{type:"Document",id:4,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:5}}},UpdateDocumentRequest:{fields:{document:{type:"Document",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},updateMask:{type:"DocumentMask",id:2},mask:{type:"DocumentMask",id:3},currentDocument:{type:"Precondition",id:4}}},DeleteDocumentRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},currentDocument:{type:"Precondition",id:2}}},BatchGetDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},documents:{rule:"repeated",type:"string",id:2},mask:{type:"DocumentMask",id:3},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:7}}},BatchGetDocumentsResponse:{oneofs:{result:{oneof:["found","missing"]}},fields:{found:{type:"Document",id:1},missing:{type:"string",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:4}}},BeginTransactionRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},options:{type:"TransactionOptions",id:2}}},BeginTransactionResponse:{fields:{transaction:{type:"bytes",id:1}}},CommitRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},transaction:{type:"bytes",id:3}}},CommitResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},commitTime:{type:"google.protobuf.Timestamp",id:2}}},RollbackRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},transaction:{type:"bytes",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},RunQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},transaction:{type:"bytes",id:5},newTransaction:{type:"TransactionOptions",id:6},readTime:{type:"google.protobuf.Timestamp",id:7}}},RunQueryResponse:{fields:{transaction:{type:"bytes",id:2},document:{type:"Document",id:1},readTime:{type:"google.protobuf.Timestamp",id:3},skippedResults:{type:"int32",id:4}}},PartitionQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},partitionCount:{type:"int64",id:3},pageToken:{type:"string",id:4},pageSize:{type:"int32",id:5}}},PartitionQueryResponse:{fields:{partitions:{rule:"repeated",type:"Cursor",id:1},nextPageToken:{type:"string",id:2}}},WriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},streamId:{type:"string",id:2},writes:{rule:"repeated",type:"Write",id:3},streamToken:{type:"bytes",id:4},labels:{keyType:"string",type:"string",id:5}}},WriteResponse:{fields:{streamId:{type:"string",id:1},streamToken:{type:"bytes",id:2},writeResults:{rule:"repeated",type:"WriteResult",id:3},commitTime:{type:"google.protobuf.Timestamp",id:4}}},ListenRequest:{oneofs:{targetChange:{oneof:["addTarget","removeTarget"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},addTarget:{type:"Target",id:2},removeTarget:{type:"int32",id:3},labels:{keyType:"string",type:"string",id:4}}},ListenResponse:{oneofs:{responseType:{oneof:["targetChange","documentChange","documentDelete","documentRemove","filter"]}},fields:{targetChange:{type:"TargetChange",id:2},documentChange:{type:"DocumentChange",id:3},documentDelete:{type:"DocumentDelete",id:4},documentRemove:{type:"DocumentRemove",id:6},filter:{type:"ExistenceFilter",id:5}}},Target:{oneofs:{targetType:{oneof:["query","documents"]},resumeType:{oneof:["resumeToken","readTime"]}},fields:{query:{type:"QueryTarget",id:2},documents:{type:"DocumentsTarget",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:11},targetId:{type:"int32",id:5},once:{type:"bool",id:6}},nested:{DocumentsTarget:{fields:{documents:{rule:"repeated",type:"string",id:2}}},QueryTarget:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1},structuredQuery:{type:"StructuredQuery",id:2}}}}},TargetChange:{fields:{targetChangeType:{type:"TargetChangeType",id:1},targetIds:{rule:"repeated",type:"int32",id:2},cause:{type:"google.rpc.Status",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:6}},nested:{TargetChangeType:{values:{NO_CHANGE:0,ADD:1,REMOVE:2,CURRENT:3,RESET:4}}}},ListCollectionIdsRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:2},pageToken:{type:"string",id:3}}},ListCollectionIdsResponse:{fields:{collectionIds:{rule:"repeated",type:"string",id:1},nextPageToken:{type:"string",id:2}}},BatchWriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},labels:{keyType:"string",type:"string",id:3}}},BatchWriteResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},status:{rule:"repeated",type:"google.rpc.Status",id:2}}},StructuredQuery:{fields:{select:{type:"Projection",id:1},from:{rule:"repeated",type:"CollectionSelector",id:2},where:{type:"Filter",id:3},orderBy:{rule:"repeated",type:"Order",id:4},startAt:{type:"Cursor",id:7},endAt:{type:"Cursor",id:8},offset:{type:"int32",id:6},limit:{type:"google.protobuf.Int32Value",id:5}},nested:{CollectionSelector:{fields:{collectionId:{type:"string",id:2},allDescendants:{type:"bool",id:3}}},Filter:{oneofs:{filterType:{oneof:["compositeFilter","fieldFilter","unaryFilter"]}},fields:{compositeFilter:{type:"CompositeFilter",id:1},fieldFilter:{type:"FieldFilter",id:2},unaryFilter:{type:"UnaryFilter",id:3}}},CompositeFilter:{fields:{op:{type:"Operator",id:1},filters:{rule:"repeated",type:"Filter",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,AND:1}}}},FieldFilter:{fields:{field:{type:"FieldReference",id:1},op:{type:"Operator",id:2},value:{type:"Value",id:3}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,LESS_THAN:1,LESS_THAN_OR_EQUAL:2,GREATER_THAN:3,GREATER_THAN_OR_EQUAL:4,EQUAL:5,NOT_EQUAL:6,ARRAY_CONTAINS:7,IN:8,ARRAY_CONTAINS_ANY:9,NOT_IN:10}}}},UnaryFilter:{oneofs:{operandType:{oneof:["field"]}},fields:{op:{type:"Operator",id:1},field:{type:"FieldReference",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,IS_NAN:2,IS_NULL:3,IS_NOT_NAN:4,IS_NOT_NULL:5}}}},FieldReference:{fields:{fieldPath:{type:"string",id:2}}},Order:{fields:{field:{type:"FieldReference",id:1},direction:{type:"Direction",id:2}}},Projection:{fields:{fields:{rule:"repeated",type:"FieldReference",id:2}}},Direction:{values:{DIRECTION_UNSPECIFIED:0,ASCENDING:1,DESCENDING:2}}}},Cursor:{fields:{values:{rule:"repeated",type:"Value",id:1},before:{type:"bool",id:2}}},Write:{oneofs:{operation:{oneof:["update","delete","transform"]}},fields:{update:{type:"Document",id:1},delete:{type:"string",id:2},transform:{type:"DocumentTransform",id:6},updateMask:{type:"DocumentMask",id:3},updateTransforms:{rule:"repeated",type:"DocumentTransform.FieldTransform",id:7},currentDocument:{type:"Precondition",id:4}}},DocumentTransform:{fields:{document:{type:"string",id:1},fieldTransforms:{rule:"repeated",type:"FieldTransform",id:2}},nested:{FieldTransform:{oneofs:{transformType:{oneof:["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},fields:{fieldPath:{type:"string",id:1},setToServerValue:{type:"ServerValue",id:2},increment:{type:"Value",id:3},maximum:{type:"Value",id:4},minimum:{type:"Value",id:5},appendMissingElements:{type:"ArrayValue",id:6},removeAllFromArray:{type:"ArrayValue",id:7}},nested:{ServerValue:{values:{SERVER_VALUE_UNSPECIFIED:0,REQUEST_TIME:1}}}}}},WriteResult:{fields:{updateTime:{type:"google.protobuf.Timestamp",id:1},transformResults:{rule:"repeated",type:"Value",id:2}}},DocumentChange:{fields:{document:{type:"Document",id:1},targetIds:{rule:"repeated",type:"int32",id:5},removedTargetIds:{rule:"repeated",type:"int32",id:6}}},DocumentDelete:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:6},readTime:{type:"google.protobuf.Timestamp",id:4}}},DocumentRemove:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:2},readTime:{type:"google.protobuf.Timestamp",id:4}}},ExistenceFilter:{fields:{targetId:{type:"int32",id:1},count:{type:"int32",id:2}}},UndeliverableFirstGenEvent:{fields:{message:{type:"string",id:1},reason:{type:"Reason",id:2},documentName:{type:"string",id:3},documentChangeType:{type:"DocumentChangeType",id:4},functionName:{rule:"repeated",type:"string",id:5},triggeredTime:{type:"google.protobuf.Timestamp",id:6}},nested:{Reason:{values:{REASON_UNSPECIFIED:0,EXCEEDING_SIZE_LIMIT:1}},DocumentChangeType:{values:{DOCUMENT_CHANGE_TYPE_UNSPECIFIED:0,CREATE:1,DELETE:2,UPDATE:3}}}}}}}},type:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/type/dayofweek;dayofweek",java_multiple_files:!0,java_outer_classname:"DayOfWeekProto",java_package:"com.google.type",objc_class_prefix:"GTP"},nested:{LatLng:{fields:{latitude:{type:"double",id:1},longitude:{type:"double",id:2}}},DayOfWeek:{values:{DAY_OF_WEEK_UNSPECIFIED:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6,SUNDAY:7}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:!0,java_outer_classname:"ResourceProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{http:{type:"HttpRule",id:72295728,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1},fullyDecodeReservedExpansion:{type:"bool",id:2}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{selector:{type:"string",id:1},get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},body:{type:"string",id:7},responseBody:{type:"string",id:12},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"},apiVersion:{type:"string",id:525000001,extend:"google.protobuf.ServiceOptions"},CommonLanguageSettings:{fields:{referenceDocsUri:{type:"string",id:1,options:{deprecated:!0}},destinations:{rule:"repeated",type:"ClientLibraryDestination",id:2}}},ClientLibrarySettings:{fields:{version:{type:"string",id:1},launchStage:{type:"LaunchStage",id:2},restNumericEnums:{type:"bool",id:3},javaSettings:{type:"JavaSettings",id:21},cppSettings:{type:"CppSettings",id:22},phpSettings:{type:"PhpSettings",id:23},pythonSettings:{type:"PythonSettings",id:24},nodeSettings:{type:"NodeSettings",id:25},dotnetSettings:{type:"DotnetSettings",id:26},rubySettings:{type:"RubySettings",id:27},goSettings:{type:"GoSettings",id:28}}},Publishing:{fields:{methodSettings:{rule:"repeated",type:"MethodSettings",id:2},newIssueUri:{type:"string",id:101},documentationUri:{type:"string",id:102},apiShortName:{type:"string",id:103},githubLabel:{type:"string",id:104},codeownerGithubTeams:{rule:"repeated",type:"string",id:105},docTagPrefix:{type:"string",id:106},organization:{type:"ClientLibraryOrganization",id:107},librarySettings:{rule:"repeated",type:"ClientLibrarySettings",id:109},protoReferenceDocumentationUri:{type:"string",id:110},restReferenceDocumentationUri:{type:"string",id:111}}},JavaSettings:{fields:{libraryPackage:{type:"string",id:1},serviceClassNames:{keyType:"string",type:"string",id:2},common:{type:"CommonLanguageSettings",id:3}}},CppSettings:{fields:{common:{type:"CommonLanguageSettings",id:1}}},PhpSettings:{fields:{common:{type:"CommonLanguageSettings",id:1}}},PythonSettings:{fields:{common:{type:"CommonLanguageSettings",id:1},experimentalFeatures:{type:"ExperimentalFeatures",id:2}},nested:{ExperimentalFeatures:{fields:{restAsyncIoEnabled:{type:"bool",id:1}}}}},NodeSettings:{fields:{common:{type:"CommonLanguageSettings",id:1}}},DotnetSettings:{fields:{common:{type:"CommonLanguageSettings",id:1},renamedServices:{keyType:"string",type:"string",id:2},renamedResources:{keyType:"string",type:"string",id:3},ignoredResources:{rule:"repeated",type:"string",id:4},forcedNamespaceAliases:{rule:"repeated",type:"string",id:5},handwrittenSignatures:{rule:"repeated",type:"string",id:6}}},RubySettings:{fields:{common:{type:"CommonLanguageSettings",id:1}}},GoSettings:{fields:{common:{type:"CommonLanguageSettings",id:1}}},MethodSettings:{fields:{selector:{type:"string",id:1},longRunning:{type:"LongRunning",id:2},autoPopulatedFields:{rule:"repeated",type:"string",id:3}},nested:{LongRunning:{fields:{initialPollDelay:{type:"google.protobuf.Duration",id:1},pollDelayMultiplier:{type:"float",id:2},maxPollDelay:{type:"google.protobuf.Duration",id:3},totalPollTimeout:{type:"google.protobuf.Duration",id:4}}}}},ClientLibraryOrganization:{values:{CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED:0,CLOUD:1,ADS:2,PHOTOS:3,STREET_VIEW:4,SHOPPING:5,GEO:6,GENERATIVE_AI:7}},ClientLibraryDestination:{values:{CLIENT_LIBRARY_DESTINATION_UNSPECIFIED:0,GITHUB:10,PACKAGE_MANAGER:20}},LaunchStage:{values:{LAUNCH_STAGE_UNSPECIFIED:0,UNIMPLEMENTED:6,PRELAUNCH:7,EARLY_ACCESS:1,ALPHA:2,BETA:3,GA:4,DEPRECATED:5}},fieldBehavior:{rule:"repeated",type:"google.api.FieldBehavior",id:1052,extend:"google.protobuf.FieldOptions",options:{packed:!1}},FieldBehavior:{values:{FIELD_BEHAVIOR_UNSPECIFIED:0,OPTIONAL:1,REQUIRED:2,OUTPUT_ONLY:3,INPUT_ONLY:4,IMMUTABLE:5,UNORDERED_LIST:6,NON_EMPTY_DEFAULT:7,IDENTIFIER:8}},resourceReference:{type:"google.api.ResourceReference",id:1055,extend:"google.protobuf.FieldOptions"},resourceDefinition:{rule:"repeated",type:"google.api.ResourceDescriptor",id:1053,extend:"google.protobuf.FileOptions"},resource:{type:"google.api.ResourceDescriptor",id:1053,extend:"google.protobuf.MessageOptions"},ResourceDescriptor:{fields:{type:{type:"string",id:1},pattern:{rule:"repeated",type:"string",id:2},nameField:{type:"string",id:3},history:{type:"History",id:4},plural:{type:"string",id:5},singular:{type:"string",id:6},style:{rule:"repeated",type:"Style",id:10}},nested:{History:{values:{HISTORY_UNSPECIFIED:0,ORIGINALLY_SINGLE_PATTERN:1,FUTURE_MULTI_PATTERN:2}},Style:{values:{STYLE_UNSPECIFIED:0,DECLARATIVE_FRIENDLY:1}}}},ResourceReference:{fields:{type:{type:"string",id:1},childType:{type:"string",id:2}}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/status;status",java_multiple_files:!0,java_outer_classname:"StatusProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}}}}}}},require$$1={options,nested},interfaces={"google.firestore.v1beta1.Firestore":{retry_codes:{non_idempotent:[],idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:6e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:6e4,total_timeout_millis:6e5}},methods:{GetDocument:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},ListDocuments:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},UpdateDocument:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},DeleteDocument:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},BatchGetDocuments:{timeout_millis:3e5,retry_codes_name:"idempotent",retry_params_name:"default"},BeginTransaction:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},Commit:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},Rollback:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},RunQuery:{timeout_millis:3e5,retry_codes_name:"idempotent",retry_params_name:"default"},PartitionQuery:{retry_codes_name:"non_idempotent",retry_params_name:"default"},Write:{timeout_millis:864e5,retry_codes_name:"non_idempotent",retry_params_name:"default"},Listen:{timeout_millis:864e5,retry_codes_name:"idempotent",retry_params_name:"default"},ListCollectionIds:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},BatchWrite:{retry_codes_name:"non_idempotent",retry_params_name:"default"},CreateDocument:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"}}}},require$$2={interfaces};var hasRequiredFirestore_client;function requireFirestore_client(){if(hasRequiredFirestore_client)return firestore_client;hasRequiredFirestore_client=1;var o={};Object.defineProperty(firestore_client,"__esModule",{value:!0}),firestore_client.FirestoreClient=void 0;const e=require$$1$3,r=require$$1,u=require$$2,p=require$$33.version;class h{constructor(c,d){var m,P,N,L,k;this._terminated=!1,this.descriptors={page:{},stream:{},longrunning:{},batching:{}};const B=this.constructor;if(c!=null&&c.universe_domain&&(c!=null&&c.universeDomain)&&(c==null?void 0:c.universe_domain)!==(c==null?void 0:c.universeDomain))throw new Error("Please set either universe_domain or universeDomain, but not both.");const U=typeof process=="object"&&typeof o=="object"?o.GOOGLE_CLOUD_UNIVERSE_DOMAIN:void 0;this._universeDomain=(N=(P=(m=c==null?void 0:c.universeDomain)!==null&&m!==void 0?m:c==null?void 0:c.universe_domain)!==null&&P!==void 0?P:U)!==null&&N!==void 0?N:"googleapis.com",this._servicePath="firestore."+this._universeDomain;const $=(c==null?void 0:c.servicePath)||(c==null?void 0:c.apiEndpoint)||this._servicePath;this._providedCustomServicePath=!!(c!=null&&c.servicePath||c!=null&&c.apiEndpoint);const j=(c==null?void 0:c.port)||B.port,M=(L=c==null?void 0:c.clientConfig)!==null&&L!==void 0?L:{},q=(k=c==null?void 0:c.fallback)!==null&&k!==void 0?k:typeof window<"u"&&typeof(window==null?void 0:window.fetch)=="function";c=Object.assign({servicePath:$,port:j,clientConfig:M,fallback:q},c),c.numericEnums=!0,$!==this._servicePath&&!("scopes"in c)&&(c.scopes=B.scopes),d||(d=requireFallback()),this._gaxModule=c.fallback?d.fallback:d,this._gaxGrpc=new this._gaxModule.GrpcClient(c),this._opts=c,this.auth=this._gaxGrpc.auth,this.auth.useJWTAccessWithScope=!0,this.auth.defaultServicePath=this._servicePath,$===this._servicePath&&(this.auth.defaultScopes=B.scopes);const Q=[`gax/${this._gaxModule.version}`,`gapic/${p}`];typeof process=="object"&&"versions"in process?Q.push(`gl-node/${process.versions.node}`):Q.push(`gl-web/${this._gaxModule.version}`),c.fallback?Q.push(`rest/${this._gaxGrpc.grpcVersion}`):Q.push(`grpc/${this._gaxGrpc.grpcVersion}`),c.libName&&c.libVersion&&Q.push(`${c.libName}/${c.libVersion}`),this._protos=this._gaxGrpc.loadProtoJSON(r),this.descriptors.page={listDocuments:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","documents"),partitionQuery:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","partitions"),listCollectionIds:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","collectionIds")},this.descriptors.stream={batchGetDocuments:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.SERVER_STREAMING,!!c.fallback,!!c.gaxServerStreamingRetries),runQuery:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.SERVER_STREAMING,!!c.fallback,!!c.gaxServerStreamingRetries),write:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.BIDI_STREAMING,!!c.fallback,!!c.gaxServerStreamingRetries),listen:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.BIDI_STREAMING,!!c.fallback,!!c.gaxServerStreamingRetries)},this._defaults=this._gaxGrpc.constructSettings("google.firestore.v1beta1.Firestore",u,c.clientConfig||{},{"x-goog-api-client":Q.join(" ")}),this.innerApiCalls={},this.warn=this._gaxModule.warn}initialize(){if(this.firestoreStub)return this.firestoreStub;this.firestoreStub=this._gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.firestore.v1beta1.Firestore"):this._protos.google.firestore.v1beta1.Firestore,this._opts,this._providedCustomServicePath);const c=["getDocument","listDocuments","updateDocument","deleteDocument","batchGetDocuments","beginTransaction","commit","rollback","runQuery","partitionQuery","write","listen","listCollectionIds","batchWrite","createDocument"];for(const d of c){const m=this.firestoreStub.then(L=>(...k)=>{if(this._terminated){if(d in this.descriptors.stream){const U=new e.PassThrough;return setImmediate(()=>{U.emit("error",new this._gaxModule.GoogleError("The client has already been closed."))}),U}return Promise.reject("The client has already been closed.")}return L[d].apply(L,k)},L=>()=>{throw L}),P=this.descriptors.page[d]||this.descriptors.stream[d]||void 0,N=this._gaxModule.createApiCall(m,this._defaults[d],P,this._opts.fallback);this.innerApiCalls[d]=N}return this.firestoreStub}static get servicePath(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static servicePath is deprecated, please use the instance method instead.","DeprecationWarning"),"firestore.googleapis.com"}static get apiEndpoint(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static apiEndpoint is deprecated, please use the instance method instead.","DeprecationWarning"),"firestore.googleapis.com"}get apiEndpoint(){return this._servicePath}get universeDomain(){return this._universeDomain}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/datastore"]}getProjectId(c){if(c){this.auth.getProjectId(c);return}return this.auth.getProjectId()}getDocument(c,d,m){var P;c=c||{};let N;return typeof d=="function"&&m===void 0?(m=d,N={}):N=d,N=N||{},N.otherArgs=N.otherArgs||{},N.otherArgs.headers=N.otherArgs.headers||{},N.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(P=c.name)!==null&&P!==void 0?P:""}),this.initialize(),this.innerApiCalls.getDocument(c,N,m)}updateDocument(c,d,m){var P;c=c||{};let N;return typeof d=="function"&&m===void 0?(m=d,N={}):N=d,N=N||{},N.otherArgs=N.otherArgs||{},N.otherArgs.headers=N.otherArgs.headers||{},N.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({"document.name":(P=c.document.name)!==null&&P!==void 0?P:""}),this.initialize(),this.innerApiCalls.updateDocument(c,N,m)}deleteDocument(c,d,m){var P;c=c||{};let N;return typeof d=="function"&&m===void 0?(m=d,N={}):N=d,N=N||{},N.otherArgs=N.otherArgs||{},N.otherArgs.headers=N.otherArgs.headers||{},N.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:(P=c.name)!==null&&P!==void 0?P:""}),this.initialize(),this.innerApiCalls.deleteDocument(c,N,m)}beginTransaction(c,d,m){var P;c=c||{};let N;return typeof d=="function"&&m===void 0?(m=d,N={}):N=d,N=N||{},N.otherArgs=N.otherArgs||{},N.otherArgs.headers=N.otherArgs.headers||{},N.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:(P=c.database)!==null&&P!==void 0?P:""}),this.initialize(),this.innerApiCalls.beginTransaction(c,N,m)}commit(c,d,m){var P;c=c||{};let N;return typeof d=="function"&&m===void 0?(m=d,N={}):N=d,N=N||{},N.otherArgs=N.otherArgs||{},N.otherArgs.headers=N.otherArgs.headers||{},N.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:(P=c.database)!==null&&P!==void 0?P:""}),this.initialize(),this.innerApiCalls.commit(c,N,m)}rollback(c,d,m){var P;c=c||{};let N;return typeof d=="function"&&m===void 0?(m=d,N={}):N=d,N=N||{},N.otherArgs=N.otherArgs||{},N.otherArgs.headers=N.otherArgs.headers||{},N.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:(P=c.database)!==null&&P!==void 0?P:""}),this.initialize(),this.innerApiCalls.rollback(c,N,m)}batchWrite(c,d,m){var P;c=c||{};let N;return typeof d=="function"&&m===void 0?(m=d,N={}):N=d,N=N||{},N.otherArgs=N.otherArgs||{},N.otherArgs.headers=N.otherArgs.headers||{},N.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:(P=c.database)!==null&&P!==void 0?P:""}),this.initialize(),this.innerApiCalls.batchWrite(c,N,m)}createDocument(c,d,m){var P,N;c=c||{};let L;return typeof d=="function"&&m===void 0?(m=d,L={}):L=d,L=L||{},L.otherArgs=L.otherArgs||{},L.otherArgs.headers=L.otherArgs.headers||{},L.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(P=c.parent)!==null&&P!==void 0?P:"",collection_id:(N=c.collectionId)!==null&&N!==void 0?N:""}),this.initialize(),this.innerApiCalls.createDocument(c,L,m)}batchGetDocuments(c,d){var m;return c=c||{},d=d||{},d.otherArgs=d.otherArgs||{},d.otherArgs.headers=d.otherArgs.headers||{},d.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:(m=c.database)!==null&&m!==void 0?m:""}),this.initialize(),this.innerApiCalls.batchGetDocuments(c,d)}runQuery(c,d){var m;return c=c||{},d=d||{},d.otherArgs=d.otherArgs||{},d.otherArgs.headers=d.otherArgs.headers||{},d.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(m=c.parent)!==null&&m!==void 0?m:""}),this.initialize(),this.innerApiCalls.runQuery(c,d)}write(c){return this.initialize(),this.innerApiCalls.write(null,c)}listen(c){return this.initialize(),this.innerApiCalls.listen(null,c)}listDocuments(c,d,m){var P,N;c=c||{};let L;return typeof d=="function"&&m===void 0?(m=d,L={}):L=d,L=L||{},L.otherArgs=L.otherArgs||{},L.otherArgs.headers=L.otherArgs.headers||{},L.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(P=c.parent)!==null&&P!==void 0?P:"",collection_id:(N=c.collectionId)!==null&&N!==void 0?N:""}),this.initialize(),this.innerApiCalls.listDocuments(c,L,m)}listDocumentsStream(c,d){var m,P;c=c||{},d=d||{},d.otherArgs=d.otherArgs||{},d.otherArgs.headers=d.otherArgs.headers||{},d.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(m=c.parent)!==null&&m!==void 0?m:"",collection_id:(P=c.collectionId)!==null&&P!==void 0?P:""});const L=this._defaults.listDocuments.merge(d);return this.initialize(),this.descriptors.page.listDocuments.createStream(this.innerApiCalls.listDocuments,c,L)}listDocumentsAsync(c,d){var m,P;c=c||{},d=d||{},d.otherArgs=d.otherArgs||{},d.otherArgs.headers=d.otherArgs.headers||{},d.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(m=c.parent)!==null&&m!==void 0?m:"",collection_id:(P=c.collectionId)!==null&&P!==void 0?P:""});const L=this._defaults.listDocuments.merge(d);return this.initialize(),this.descriptors.page.listDocuments.asyncIterate(this.innerApiCalls.listDocuments,c,L)}partitionQuery(c,d,m){var P;c=c||{};let N;return typeof d=="function"&&m===void 0?(m=d,N={}):N=d,N=N||{},N.otherArgs=N.otherArgs||{},N.otherArgs.headers=N.otherArgs.headers||{},N.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(P=c.parent)!==null&&P!==void 0?P:""}),this.initialize(),this.innerApiCalls.partitionQuery(c,N,m)}partitionQueryStream(c,d){var m;c=c||{},d=d||{},d.otherArgs=d.otherArgs||{},d.otherArgs.headers=d.otherArgs.headers||{},d.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(m=c.parent)!==null&&m!==void 0?m:""});const N=this._defaults.partitionQuery.merge(d);return this.initialize(),this.descriptors.page.partitionQuery.createStream(this.innerApiCalls.partitionQuery,c,N)}partitionQueryAsync(c,d){var m;c=c||{},d=d||{},d.otherArgs=d.otherArgs||{},d.otherArgs.headers=d.otherArgs.headers||{},d.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(m=c.parent)!==null&&m!==void 0?m:""});const N=this._defaults.partitionQuery.merge(d);return this.initialize(),this.descriptors.page.partitionQuery.asyncIterate(this.innerApiCalls.partitionQuery,c,N)}listCollectionIds(c,d,m){var P;c=c||{};let N;return typeof d=="function"&&m===void 0?(m=d,N={}):N=d,N=N||{},N.otherArgs=N.otherArgs||{},N.otherArgs.headers=N.otherArgs.headers||{},N.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(P=c.parent)!==null&&P!==void 0?P:""}),this.initialize(),this.innerApiCalls.listCollectionIds(c,N,m)}listCollectionIdsStream(c,d){var m;c=c||{},d=d||{},d.otherArgs=d.otherArgs||{},d.otherArgs.headers=d.otherArgs.headers||{},d.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(m=c.parent)!==null&&m!==void 0?m:""});const N=this._defaults.listCollectionIds.merge(d);return this.initialize(),this.descriptors.page.listCollectionIds.createStream(this.innerApiCalls.listCollectionIds,c,N)}listCollectionIdsAsync(c,d){var m;c=c||{},d=d||{},d.otherArgs=d.otherArgs||{},d.otherArgs.headers=d.otherArgs.headers||{},d.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:(m=c.parent)!==null&&m!==void 0?m:""});const N=this._defaults.listCollectionIds.merge(d);return this.initialize(),this.descriptors.page.listCollectionIds.asyncIterate(this.innerApiCalls.listCollectionIds,c,N)}close(){return this.firestoreStub&&!this._terminated?this.firestoreStub.then(c=>{this._terminated=!0,c.close()}):Promise.resolve()}}return firestore_client.FirestoreClient=h,firestore_client}var hasRequiredV1beta1;function requireV1beta1(){return hasRequiredV1beta1||(hasRequiredV1beta1=1,function(o,e){Object.defineProperty(e,"__esModule",{value:!0}),e.FirestoreClient=void 0;const r=requireFirestore_client();Object.defineProperty(e,"FirestoreClient",{enumerable:!0,get:function(){return r.FirestoreClient}});const u=o.exports;o.exports=r.FirestoreClient,o.exports=Object.assign(o.exports,u)}(v1beta1,v1beta1.exports)),v1beta1.exports}var hasRequiredSrc;function requireSrc(){return hasRequiredSrc||(hasRequiredSrc=1,function(o,e){var r={};/*!
 * Copyright 2017 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Firestore=e.DEFAULT_MAX_IDLE_CHANNELS=e.DEFAULT_MAX_TRANSACTION_ATTEMPTS=e.MAX_REQUEST_RETRIES=e.AggregateField=e.Aggregate=e.setLogFunction=e.QueryPartition=e.CollectionGroup=e.GeoPoint=e.FieldPath=e.DocumentChange=e.Timestamp=e.Transaction=e.WriteResult=e.WriteBatch=e.Filter=e.VectorValue=e.FieldValue=e.QueryDocumentSnapshot=e.DocumentSnapshot=e.BulkWriter=e.Query=e.QuerySnapshot=e.DocumentReference=e.CollectionReference=void 0;const u=require$$1$3,p=require$$1$3,h=backoff,y=requireBulkWriter(),c=requireBundle(),d=convert,m=requireDocumentReader(),P=requireDocument(),N=logger$1,L=path,k=pool,B=requireCollectionReference(),U=requireDocumentReference(),$=requireSerializer(),j=requireTimestamp(),M=requireTransaction(),q=util$4,Q=requireValidate(),K=requireWriteBatch(),F=require$$19.interfaces["google.firestore.v1.Firestore"],x=requireCollectionGroup();Object.defineProperty(e,"CollectionGroup",{enumerable:!0,get:function(){return x.CollectionGroup}});const z=requireRecursiveDelete(),J=traceUtil,Z=disabledTraceUtil,X=requireEnabledTraceUtil();var te=requireCollectionReference();Object.defineProperty(e,"CollectionReference",{enumerable:!0,get:function(){return te.CollectionReference}});var be=requireDocumentReference();Object.defineProperty(e,"DocumentReference",{enumerable:!0,get:function(){return be.DocumentReference}});var Ae=querySnapshot;Object.defineProperty(e,"QuerySnapshot",{enumerable:!0,get:function(){return Ae.QuerySnapshot}});var Ne=requireQuery();Object.defineProperty(e,"Query",{enumerable:!0,get:function(){return Ne.Query}});var ke=requireBulkWriter();Object.defineProperty(e,"BulkWriter",{enumerable:!0,get:function(){return ke.BulkWriter}});var Ue=requireDocument();Object.defineProperty(e,"DocumentSnapshot",{enumerable:!0,get:function(){return Ue.DocumentSnapshot}}),Object.defineProperty(e,"QueryDocumentSnapshot",{enumerable:!0,get:function(){return Ue.QueryDocumentSnapshot}});var qe=requireFieldValue();Object.defineProperty(e,"FieldValue",{enumerable:!0,get:function(){return qe.FieldValue}}),Object.defineProperty(e,"VectorValue",{enumerable:!0,get:function(){return qe.VectorValue}});var Ge=filter;Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return Ge.Filter}});var Qe=requireWriteBatch();Object.defineProperty(e,"WriteBatch",{enumerable:!0,get:function(){return Qe.WriteBatch}}),Object.defineProperty(e,"WriteResult",{enumerable:!0,get:function(){return Qe.WriteResult}});var Ke=requireTransaction();Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return Ke.Transaction}});var Be=requireTimestamp();Object.defineProperty(e,"Timestamp",{enumerable:!0,get:function(){return Be.Timestamp}});var Re=documentChange;Object.defineProperty(e,"DocumentChange",{enumerable:!0,get:function(){return Re.DocumentChange}});var $e=path;Object.defineProperty(e,"FieldPath",{enumerable:!0,get:function(){return $e.FieldPath}});var xe=geoPoint;Object.defineProperty(e,"GeoPoint",{enumerable:!0,get:function(){return xe.GeoPoint}});var Le=requireQueryPartition();Object.defineProperty(e,"QueryPartition",{enumerable:!0,get:function(){return Le.QueryPartition}});var je=logger$1;Object.defineProperty(e,"setLogFunction",{enumerable:!0,get:function(){return je.setLogFunction}});var Y=aggregate;Object.defineProperty(e,"Aggregate",{enumerable:!0,get:function(){return Y.Aggregate}}),Object.defineProperty(e,"AggregateField",{enumerable:!0,get:function(){return Y.AggregateField}});const l=require$$33.version;(0,N.setLibVersion)(l);/*!
 * DO NOT REMOVE THE FOLLOWING NAMESPACE DEFINITIONS
 *//*!
 * HTTP header for the resource prefix to improve routing and project isolation
 * by the backend.
 */const T="google-cloud-resource-prefix";e.MAX_REQUEST_RETRIES=5,e.DEFAULT_MAX_TRANSACTION_ATTEMPTS=5;/*!
 * The default number of idle GRPC channel to keep.
 */e.DEFAULT_MAX_IDLE_CHANNELS=1;/*!
 * The maximum number of concurrent requests supported by a single GRPC channel,
 * as enforced by Google's Frontend. If the SDK issues more than 100 concurrent
 * operations, we need to use more than one GAPIC client since these clients
 * multiplex all requests over a single channel.
 */const O=100;class H{getBulkWriter(){return this._bulkWriter||(this._bulkWriter=this.bulkWriter()),this._bulkWriter}constructor(ie){this._settings={},this._settingsFrozen=!1,this._serializer=null,this._projectId=void 0,this._databaseId=void 0,this.registeredListenersCount=0,this.bulkWritersCount=0;const s={libName:"gccl",libVersion:l};ie&&ie.firebaseVersion&&(s.libVersion+=" fire/"+ie.firebaseVersion),ie&&ie.firebaseAdminVersion&&(s.libVersion+=" fire-admin/"+ie.firebaseAdminVersion),this.validateAndApplySettings({...ie,...s}),this._traceUtil=this.newTraceUtilInstance(this._settings);const A=F.retry_params.default;this._backoffSettings={initialDelayMs:A.initial_retry_delay_millis,maxDelayMs:A.max_retry_delay_millis,backoffFactor:A.retry_delay_multiplier};const I=this._settings.maxIdleChannels===void 0?e.DEFAULT_MAX_IDLE_CHANNELS:this._settings.maxIdleChannels;this._clientPool=new k.ClientPool(O,I,n=>{var R;let V;const ee=!this._settings.preferRest||n?!1:"rest";let Me;if(ee?this._gaxFallback?Me=this._gaxFallback:Me=this._gaxFallback=requireFallback():this._gax?Me=this._gax:Me=this._gax=requireFallback(),this._settings.ssl===!1){const Ze={sslCreds:((R=this._settings.grpc)!==null&&R!==void 0?R:requireFallback().grpc).credentials.createInsecure(),...this._settings,fallback:ee};ee&&(Ze.protocol="http"),V=new o.exports.v1(Ze,Me)}else V=new o.exports.v1({...this._settings,fallback:ee},Me);return(0,N.logger)("clientFactory",null,"Initialized Firestore GAPIC Client (useFallback: %s)",ee),V},n=>n.close()),(0,N.logger)("Firestore",null,"Initialized Firestore")}settings(ie){if((0,Q.validateObject)("settings",ie),(0,Q.validateString)("settings.projectId",ie.projectId,{optional:!0}),(0,Q.validateString)("settings.databaseId",ie.databaseId,{optional:!0}),this._settingsFrozen)throw new Error("Firestore has already been initialized. You can only call settings() once, and only before calling any other methods on a Firestore object.");const s={...this._settings,...ie};this.validateAndApplySettings(s),this._traceUtil=this.newTraceUtilInstance(this._settings),this._settingsFrozen=!0}validateAndApplySettings(ie){var s;ie.projectId!==void 0&&((0,Q.validateString)("settings.projectId",ie.projectId),this._projectId=ie.projectId),ie.databaseId!==void 0&&((0,Q.validateString)("settings.databaseId",ie.databaseId),this._databaseId=ie.databaseId);let A=null;const I=(0,q.tryGetPreferRestEnvironmentVariable)();ie.preferRest===void 0&&I!==void 0&&(ie={...ie,preferRest:I}),r.FIRESTORE_EMULATOR_HOST?((0,Q.validateHost)("FIRESTORE_EMULATOR_HOST",r.FIRESTORE_EMULATOR_HOST),ie={...ie,host:r.FIRESTORE_EMULATOR_HOST,ssl:!1},A=new p.URL(`http://${ie.host}`)):ie.host!==void 0&&((0,Q.validateHost)("settings.host",ie.host),A=new p.URL(`http://${ie.host}`)),A!==null&&((ie.servicePath!==void 0&&ie.servicePath!==A.hostname||ie.apiEndpoint!==void 0&&ie.apiEndpoint!==A.hostname)&&console.warn(`The provided host (${A.hostname}) in "settings" does not match the existing host (${(s=ie.servicePath)!==null&&s!==void 0?s:ie.apiEndpoint}). Using the provided host.`),ie.servicePath=A.hostname,A.port!==""&&ie.port===void 0&&(ie.port=Number(A.port)),delete ie.host,delete ie.apiEndpoint),ie.ssl!==void 0&&(0,Q.validateBoolean)("settings.ssl",ie.ssl),ie.maxIdleChannels!==void 0&&(0,Q.validateInteger)("settings.maxIdleChannels",ie.maxIdleChannels,{minValue:0}),this._settings=ie,this._settings.toJSON=function(){const n=Object.assign({},this);return n.credentials&&(n.credentials={private_key:"***",client_email:"***"}),n},this._serializer=new $.Serializer(this)}newTraceUtilInstance(ie){let s=!0;if("FIRESTORE_ENABLE_TRACING"in r){const A=r.FIRESTORE_ENABLE_TRACING.toLowerCase();(A==="on"||A==="true")&&(s=!0),(A==="off"||A==="false")&&(s=!1)}return s?new X.EnabledTraceUtil(ie):new Z.DisabledTraceUtil}get projectId(){if(this._projectId===void 0)throw new Error("INTERNAL ERROR: Client is not yet ready to issue requests.");return this._projectId}get databaseId(){return this._databaseId||L.DEFAULT_DATABASE_ID}get formattedName(){return`projects/${this.projectId}/databases/${this.databaseId}`}doc(ie){(0,L.validateResourcePath)("documentPath",ie);const s=L.ResourcePath.EMPTY.append(ie);if(!s.isDocument)throw new Error(`Value for argument "documentPath" must point to a document, but was "${ie}". Your path does not contain an even number of components.`);return new U.DocumentReference(this,s)}collection(ie){(0,L.validateResourcePath)("collectionPath",ie);const s=L.ResourcePath.EMPTY.append(ie);if(!s.isCollection)throw new Error(`Value for argument "collectionPath" must point to a collection, but was "${ie}". Your path does not contain an odd number of components.`);return new B.CollectionReference(this,s)}collectionGroup(ie){if(ie.indexOf("/")!==-1)throw new Error(`Invalid collectionId '${ie}'. Collection IDs must not contain '/'.`);return new x.CollectionGroup(this,ie,void 0)}batch(){return new K.WriteBatch(this)}bulkWriter(ie){return new y.BulkWriter(this,ie)}snapshot_(ie,s,A){let I,n;if(A===void 0||A==="protobufJS")I=ee=>ee,n=ee=>ee;else if(A==="json")I=d.timestampFromJson,n=d.fieldsFromJson;else throw new Error(`Unsupported encoding format. Expected "json" or "protobufJS", but was "${A}".`);let R,V;return typeof ie=="string"?(R=new U.DocumentReference(this,L.QualifiedResourcePath.fromSlashSeparatedString(ie)),V=new P.DocumentSnapshotBuilder(R)):(R=new U.DocumentReference(this,L.QualifiedResourcePath.fromSlashSeparatedString(ie.name)),V=new P.DocumentSnapshotBuilder(R),V.fieldsProto=ie.fields?n(ie.fields):{},V.createTime=j.Timestamp.fromProto(I(ie.createTime,"documentOrName.createTime")),V.updateTime=j.Timestamp.fromProto(I(ie.updateTime,"documentOrName.updateTime"))),s&&(V.readTime=j.Timestamp.fromProto(I(s,"readTime"))),V.build()}bundle(ie){return new c.BundleBuilder(ie||(0,q.autoId)())}runTransaction(ie,s){(0,Q.validateFunction)("updateFunction",ie);const A=(0,q.requestTag)();s&&((0,Q.validateObject)("transactionOptions",s),(0,Q.validateBoolean)("transactionOptions.readOnly",s.readOnly,{optional:!0}),s.readOnly?(0,Q.validateTimestamp)("transactionOptions.readTime",s.readTime,{optional:!0}):(0,Q.validateInteger)("transactionOptions.maxAttempts",s.maxAttempts,{optional:!0,minValue:1}));const I=new M.Transaction(this,A,s);return this.initializeIfNeeded(A).then(()=>I.runTransaction(ie))}listCollections(){return new U.DocumentReference(this,L.ResourcePath.EMPTY).listCollections()}getAll(...ie){return this._traceUtil.startActiveSpan(J.SPAN_NAME_BATCH_GET_DOCUMENTS,()=>{(0,Q.validateMinNumberOfArguments)("Firestore.getAll",ie,1);const{documents:s,fieldMask:A}=(0,M.parseGetAllArguments)(ie);this._traceUtil.currentSpan().setAttributes({[J.ATTRIBUTE_KEY_IS_TRANSACTIONAL]:!1,[J.ATTRIBUTE_KEY_DOC_COUNT]:s.length});const I=(0,q.requestTag)(),n=Error().stack;return this.initializeIfNeeded(I).then(()=>new m.DocumentReader(this,s,A).get(I)).catch(R=>{throw(0,q.wrapError)(R,n)})})}registerListener(){this.registeredListenersCount+=1}unregisterListener(){this.registeredListenersCount-=1}_incrementBulkWritersCount(){this.bulkWritersCount+=1}_decrementBulkWritersCount(){this.bulkWritersCount-=1}recursiveDelete(ie,s){return this._recursiveDelete(ie,z.RECURSIVE_DELETE_MAX_PENDING_OPS,z.RECURSIVE_DELETE_MIN_PENDING_OPS,s)}_recursiveDelete(ie,s,A,I){const n=I??this.getBulkWriter();return new z.RecursiveDelete(this,n,ie,s,A).run()}terminate(){return this.registeredListenersCount>0||this.bulkWritersCount>0?Promise.reject(`All onSnapshot() listeners must be unsubscribed, and all BulkWriter instances must be closed before terminating the client. There are ${this.registeredListenersCount} active listeners and ${this.bulkWritersCount} open BulkWriter instances.`):this._clientPool.terminate()}toJSON(){return{projectId:this._projectId}}async initializeIfNeeded(ie){if(this._settingsFrozen=!0,this._settings.ssl===!1&&(this._settings.customHeaders={Authorization:"Bearer owner",...this._settings.customHeaders}),this._projectId===void 0)try{this._projectId=await this._clientPool.run(ie,!1,s=>s.getProjectId()),(0,N.logger)("Firestore.initializeIfNeeded",null,"Detected project ID: %s",this._projectId),this._traceUtil.recordProjectId(this.projectId)}catch(s){return(0,N.logger)("Firestore.initializeIfNeeded",null,"Failed to detect project ID: %s",s),Promise.reject(s)}}createCallOptions(ie,s){var A;const I={otherArgs:{headers:{[T]:this.formattedName,...this._settings.customHeaders,...(A=this._settings[ie])===null||A===void 0?void 0:A.customHeaders}}};if(s){const n=(0,q.getRetryParams)(ie);I.retry=new(requireFallback()).RetryOptions(s,n)}return I}async _retry(ie,s,A){const I=new h.ExponentialBackoff;let n;for(let R=0;R<e.MAX_REQUEST_RETRIES;++R){n&&(0,N.logger)("Firestore._retry",s,"Retrying request that failed with error:",n);try{return await I.backoffAndWait(),await A()}catch(V){if(n=V,(0,q.isPermanentRpcError)(V,ie))break}}return(0,N.logger)("Firestore._retry",s,"Request failed with error:",n),Promise.reject(n)}_initializeStream(ie,s,A,I){const n=new u.PassThrough({objectMode:!0});n.pause();let R=!1;return new Promise((V,ee)=>{function Me(){R||(R=!0,(0,N.logger)("Firestore._initializeStream",A,"Stream ready"),V(n))}function rt(){(0,N.logger)("Firestore._initializeStream",A,"Received stream end"),n.unpipe(ie),V(n),s.resolve()}function nt(Ze){R?((0,N.logger)("Firestore._initializeStream",A,"Received stream error:",Ze),setImmediate(()=>{n.emit("error",Ze)})):((0,N.logger)("Firestore._initializeStream",A,"Received initial error:",Ze),ee(Ze))}ie.on("data",()=>Me()),ie.on("error",Ze=>nt(Ze)),ie.on("end",()=>rt()),ie.on("close",()=>rt()),ie.on("finish",()=>rt()),ie.pipe(n),I&&((0,N.logger)("Firestore._initializeStream",A,"Sending request: %j",I),ie.write(I,"utf-8",Ze=>{Ze?nt(Ze):((0,N.logger)("Firestore._initializeStream",A,"Marking stream as healthy"),Me())}))})}request(ie,s,A,I){const n=this.createCallOptions(ie,I);return this._clientPool.run(A,!1,async R=>{try{(0,N.logger)("Firestore.request",A,"Sending request: %j",s);const[V]=await R[ie](s,n);return(0,N.logger)("Firestore.request",A,"Received response: %j",V),V}catch(V){return(0,N.logger)("Firestore.request",A,"Received error:",V),Promise.reject(V)}})}requestStream(ie,s,A,I){const n=this.createCallOptions(ie),R=ie==="listen";let V=0;const ee=100;return this._retry(ie,I,()=>{const Me=new q.Deferred;return this._clientPool.run(I,s,async rt=>{(0,N.logger)("Firestore.requestStream",I,"Sending request: %j",A),this._traceUtil.currentSpan().addEvent(`Firestore.${ie}: Start`);try{const nt=R?rt[ie](n):rt[ie](A,n),Ze=new u.Transform({objectMode:!0,transform:(gt,Xe,We)=>{(0,N.logger)("Firestore.requestStream",I,"Received response: %j",gt),V++,V===1?this._traceUtil.currentSpan().addEvent(`Firestore.${ie}: First response received`):V%ee===0&&this._traceUtil.currentSpan().addEvent(`Firestore.${ie}: Received ${V} responses`),We()}});nt.pipe(Ze);const lt=new q.Deferred,ft=await this._initializeStream(nt,lt,I,R?A:void 0);return ft.on("end",()=>{nt.end(),this._traceUtil.currentSpan().addEvent(`Firestore.${ie}: Completed`,{[J.ATTRIBUTE_KEY_NUM_RESPONSES]:V})}),Me.resolve(ft),lt.promise}catch(nt){Me.reject(nt)}}),Me.promise})}}e.Firestore=H,e.default=H;const ae=o.exports;o.exports=H,o.exports=Object.assign(o.exports,ae),Object.defineProperty(o.exports,"v1beta1",{get:()=>requireV1beta1()}),Object.defineProperty(o.exports,"v1",{get:()=>v1Exports}),Object.defineProperty(o.exports,"GrpcStatus",{get:()=>requireFallback().Status})}(src$2,src$2.exports)),src$2.exports}/*! firebase-admin v13.2.0 *//*!
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(firestoreInternal,"__esModule",{value:!0});firestoreInternal.FirestoreService=void 0;firestoreInternal.getFirestoreOptions=getFirestoreOptions;const error_1=error,credential_internal_1=credentialInternal,validator=validator$3,utils=utils$1;class FirestoreService{constructor(e){this.databases=new Map,this.firestoreSettings=new Map,this.appInternal=e}initializeDatabase(e,r){const u=this.databases.get(e);if(u){const h=this.firestoreSettings.get(e)??{};if(this.checkIfSameSettings(r,h))return u;throw new error_1.FirebaseFirestoreError({code:"failed-precondition",message:"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance."})}const p=initFirestore(this.app,e,r);return this.databases.set(e,p),this.firestoreSettings.set(e,r),p}getDatabase(e){let r=this.databases.get(e);return r===void 0&&(r=initFirestore(this.app,e,{}),this.databases.set(e,r),this.firestoreSettings.set(e,{})),r}checkIfSameSettings(e,r){const u=e??{},p=r??{};return u.preferRest===p.preferRest}get app(){return this.appInternal}}firestoreInternal.FirestoreService=FirestoreService;function getFirestoreOptions(o,e){if(!validator.isNonNullObject(o)||!("options"in o))throw new error_1.FirebaseFirestoreError({code:"invalid-argument",message:"First argument passed to admin.firestore() must be a valid Firebase app instance."});const r=utils.getExplicitProjectId(o),u=o.options.credential,p=utils.getSdkVersion(),h=e==null?void 0:e.preferRest;if(u instanceof credential_internal_1.ServiceAccountCredential)return{credentials:{private_key:u.privateKey,client_email:u.clientEmail},projectId:r,firebaseVersion:p,firebaseAdminVersion:p,preferRest:h};if((0,credential_internal_1.isApplicationDefault)(o.options.credential))return validator.isNonEmptyString(r)?{projectId:r,firebaseVersion:p,firebaseAdminVersion:p,preferRest:h}:{firebaseVersion:p,firebaseAdminVersion:p,preferRest:h};throw new error_1.FirebaseFirestoreError({code:"invalid-credential",message:"Failed to initialize Google Cloud Firestore client with the available credentials. Must initialize the SDK with a certificate credential or application default credentials to use Cloud Firestore API."})}function initFirestore(o,e,r){const u=getFirestoreOptions(o,r);u.databaseId=e;let p;try{p=requireSrc().Firestore}catch(h){throw new error_1.FirebaseFirestoreError({code:"missing-dependencies",message:`Failed to import the Cloud Firestore client library for Node.js. Make sure to install the "@google-cloud/firestore" npm package. Original error: ${h}`})}return new p(u)}/*! firebase-admin v13.2.0 */(function(o){/*!
 * Copyright 2020 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(o,"__esModule",{value:!0}),o.FirebaseFirestoreError=o.setLogFunction=o.v1=o.WriteResult=o.WriteBatch=o.Transaction=o.Timestamp=o.QuerySnapshot=o.QueryPartition=o.QueryDocumentSnapshot=o.Query=o.GrpcStatus=o.GeoPoint=o.Firestore=o.Filter=o.FieldValue=o.FieldPath=o.DocumentSnapshot=o.DocumentReference=o.CollectionReference=o.CollectionGroup=o.BundleBuilder=o.BulkWriter=o.AggregateQuerySnapshot=o.AggregateQuery=o.AggregateField=void 0,o.getFirestore=h,o.initializeFirestore=y;const e=app,r=firestoreInternal,u=path;var p=requireSrc();Object.defineProperty(o,"AggregateField",{enumerable:!0,get:function(){return p.AggregateField}}),Object.defineProperty(o,"AggregateQuery",{enumerable:!0,get:function(){return p.AggregateQuery}}),Object.defineProperty(o,"AggregateQuerySnapshot",{enumerable:!0,get:function(){return p.AggregateQuerySnapshot}}),Object.defineProperty(o,"BulkWriter",{enumerable:!0,get:function(){return p.BulkWriter}}),Object.defineProperty(o,"BundleBuilder",{enumerable:!0,get:function(){return p.BundleBuilder}}),Object.defineProperty(o,"CollectionGroup",{enumerable:!0,get:function(){return p.CollectionGroup}}),Object.defineProperty(o,"CollectionReference",{enumerable:!0,get:function(){return p.CollectionReference}}),Object.defineProperty(o,"DocumentReference",{enumerable:!0,get:function(){return p.DocumentReference}}),Object.defineProperty(o,"DocumentSnapshot",{enumerable:!0,get:function(){return p.DocumentSnapshot}}),Object.defineProperty(o,"FieldPath",{enumerable:!0,get:function(){return p.FieldPath}}),Object.defineProperty(o,"FieldValue",{enumerable:!0,get:function(){return p.FieldValue}}),Object.defineProperty(o,"Filter",{enumerable:!0,get:function(){return p.Filter}}),Object.defineProperty(o,"Firestore",{enumerable:!0,get:function(){return p.Firestore}}),Object.defineProperty(o,"GeoPoint",{enumerable:!0,get:function(){return p.GeoPoint}}),Object.defineProperty(o,"GrpcStatus",{enumerable:!0,get:function(){return p.GrpcStatus}}),Object.defineProperty(o,"Query",{enumerable:!0,get:function(){return p.Query}}),Object.defineProperty(o,"QueryDocumentSnapshot",{enumerable:!0,get:function(){return p.QueryDocumentSnapshot}}),Object.defineProperty(o,"QueryPartition",{enumerable:!0,get:function(){return p.QueryPartition}}),Object.defineProperty(o,"QuerySnapshot",{enumerable:!0,get:function(){return p.QuerySnapshot}}),Object.defineProperty(o,"Timestamp",{enumerable:!0,get:function(){return p.Timestamp}}),Object.defineProperty(o,"Transaction",{enumerable:!0,get:function(){return p.Transaction}}),Object.defineProperty(o,"WriteBatch",{enumerable:!0,get:function(){return p.WriteBatch}}),Object.defineProperty(o,"WriteResult",{enumerable:!0,get:function(){return p.WriteResult}}),Object.defineProperty(o,"v1",{enumerable:!0,get:function(){return p.v1}}),Object.defineProperty(o,"setLogFunction",{enumerable:!0,get:function(){return p.setLogFunction}});function h(d,m){const P=typeof d=="object"?d:(0,e.getApp)(),N=(typeof d=="string"?d:m)||u.DEFAULT_DATABASE_ID;return P.getOrInitService("firestore",B=>new r.FirestoreService(B)).getDatabase(N)}function y(d,m,P){return m??(m={}),P??(P=u.DEFAULT_DATABASE_ID),d.getOrInitService("firestore",k=>new r.FirestoreService(k)).initializeDatabase(P,m)}var c=error;Object.defineProperty(o,"FirebaseFirestoreError",{enumerable:!0,get:function(){return c.FirebaseFirestoreError}})})(firestore);const mod=getDefaultExportFromCjs(firestore);mod.AggregateField;mod.AggregateQuery;mod.AggregateQuerySnapshot;mod.BulkWriter;mod.BundleBuilder;mod.CollectionGroup;mod.CollectionReference;mod.DocumentReference;mod.DocumentSnapshot;mod.FieldPath;const FieldValue=mod.FieldValue;mod.Filter;mod.FirebaseFirestoreError;mod.Firestore;mod.GeoPoint;mod.GrpcStatus;mod.Query;mod.QueryDocumentSnapshot;mod.QueryPartition;mod.QuerySnapshot;const Timestamp=mod.Timestamp;mod.Transaction;mod.WriteBatch;mod.WriteResult;const getFirestore=mod.getFirestore;mod.initializeFirestore;mod.setLogFunction;mod.v1;const frenchMonths={janvier:0,fvrier:1,mars:2,avril:3,mai:4,juin:5,juillet:6,aot:7,septembre:8,octobre:9,novembre:10,dcembre:11},parseFrenchDate=o=>{const e=o;if(!o)return null;if(o instanceof Timestamp$1)try{const r=o.toDate();return isNaN(r.getTime())?(console.warn("[parseFrenchDate] Timestamp.toDate() resulted in Invalid Date. Original input:",e),null):r}catch(r){return console.error("[parseFrenchDate] Error converting Timestamp:",r,"Original input:",e),null}if(o instanceof Date)return isNaN(o.getTime())?(console.warn("[parseFrenchDate] Received an Invalid Date object directly. Original input:",e),null):o;if(typeof o=="string"){const r=o,u=r.toLowerCase().replace(/^\w+\s/,"").trim(),p=u.split(" ");if(p.length===3){const h=p[0],y=p[1],c=p[2],d=parseInt(h,10),m=parseInt(c,10),P=frenchMonths[y];if(!isNaN(d)&&!isNaN(m)&&P!==void 0)try{const N=new Date(Date.UTC(m,P,d));if(N.getUTCFullYear()===m&&N.getUTCMonth()===P&&N.getUTCDate()===d)return N;console.warn(`[parseFrenchDate] Date object creation resulted in mismatch for French string. Original input: "${e}"`)}catch(N){return console.error(`[parseFrenchDate] Error creating Date object for French string: "${e}":`,N),null}else console.warn(`[parseFrenchDate] Failed to parse numeric components from French string: day=${h}, month=${y}, year=${c}. Original input: "${e}"`)}else console.warn(`[parseFrenchDate] Unexpected format after cleaning French string: "${u}". Original input: "${e}"`);try{const h=new Date(r);if(!isNaN(h.getTime()))return h}catch{}return console.warn(`[parseFrenchDate] All parsing attempts failed for string. Original input: "${e}"`),null}return console.warn(`[parseFrenchDate] Received unexpected input type: ${typeof o}. Original input:`,e),null},formatDateForDisplay=o=>{if(!o||isNaN(o.getTime()))return"N/A";const e=String(o.getUTCDate()).padStart(2,"0"),r=String(o.getUTCMonth()+1).padStart(2,"0"),u=o.getUTCFullYear();return`${e}/${r}/${u}`};mod$1.AppErrorCodes;mod$1.FirebaseAppError;mod$1.SDK_VERSION;mod$1.applicationDefault;mod$1.cert;mod$1.deleteApp;mod$1.getApp;const getApps=mod$1.getApps,initializeApp=mod$1.initializeApp;mod$1.refreshToken;var define_process_env_default={};let dbAdmin;if(getApps().length===0){console.log("[FirebaseAdminConfig] No existing apps found. Initializing Firebase Admin SDK...");try{define_process_env_default.GOOGLE_APPLICATION_CREDENTIALS||console.warn("[FirebaseAdminConfig] WARNING: GOOGLE_APPLICATION_CREDENTIALS environment variable not set. Admin SDK might not authenticate properly."),initializeApp(),console.log("[FirebaseAdminConfig] Firebase Admin SDK initialized successfully.")}catch(o){throw console.error("[FirebaseAdminConfig] CRITICAL: Failed to initialize Firebase Admin SDK:",o),new Error("Failed to initialize Firebase Admin SDK")}}else console.log("[FirebaseAdminConfig] Firebase Admin SDK already initialized.");try{dbAdmin=getFirestore()}catch(o){throw console.error("[FirebaseAdminConfig] CRITICAL: Failed to get Firestore instance from Admin SDK:",o),new Error("Failed to get Firestore instance from Admin SDK. Ensure initialization succeeded.")}const correctTicketStatus=o=>{var c;let e=o.statut;const u=(((c=o.demandeSAP)==null?void 0:c.toLowerCase())??"").includes("demande de rma"),p=e!=="Demande de RMA";let h=e,y=!1;return u&&p?(h="Demande de RMA",y=!0):!e&&!u&&(h="Nouveau",y=!0),{correctedStatus:h??null,needsUpdate:y}},getUserProfileSdk=async o=>{var e;if(!o)return null;console.log(`[FirestoreService Admin] Getting profile for ID: ${o}`);try{const u=await dbAdmin.collection("users").doc(o).get();if(u.exists){const p=u.data(),h=p.createdAt instanceof Timestamp?p.createdAt.toDate():void 0,y=p.updatedAt instanceof Timestamp?p.updatedAt.toDate():void 0;return{uid:o,email:p.email,displayName:p.displayName,role:p.role,secteurs:p.secteurs,createdAt:h,updatedAt:y}}else throw console.log(`[FirestoreService Admin] No profile found for ID: ${o}`),new Error(`User profile not found for ID: ${o}`)}catch(r){throw console.error(`[FirestoreService Admin] Error fetching user profile for ID ${o}:`,r),(e=r.message)!=null&&e.includes("not found")?r:new Error(`Impossible de rcuprer le profil utilisateur (ID: ${o}). Cause: ${r.message||r}`)}},createUserProfileSdk=async(o,e,r,u="Technician")=>{if(!o||!e)throw new Error("ID, email, and display name are required to create a profile.");console.log(`[FirestoreService Admin] Creating profile for ID: ${o}, Email: ${e}`);try{const p=dbAdmin.collection("users").doc(o);(await p.get()).exists&&console.warn(`[FirestoreService Admin] Profile already exists for ID: ${o}. Overwriting.`);const y={email:e,displayName:r,role:u,secteurs:[]};return await p.set({...y,createdAt:FieldValue.serverTimestamp(),updatedAt:FieldValue.serverTimestamp()}),console.log(`[FirestoreService Admin] User profile created/updated successfully for ID: ${o}`),{uid:o,...y}}catch(p){throw console.error(`[FirestoreService Admin] Error creating user profile for ID ${o}:`,p),p.code===7||p.code==="PERMISSION_DENIED"?(console.error("[FirestoreService Admin] CRITICAL: Firestore permission denied during profile creation. Check service account permissions and Firestore rules."),new Error("Permission refuse par Firestore lors de la cration du profil.")):new Error(`Impossible de crer le profil utilisateur (ID: ${o}). Cause: ${p.message||p}`)}},updateUserProfileSdk=async(o,e)=>{if(!o||!e||Object.keys(e).length===0){console.warn("[FirestoreService Admin] Update user profile called with invalid UID or empty data.");return}console.log(`[FirestoreService Admin] Updating profile for UID: ${o}`);try{const r=dbAdmin.collection("users").doc(o),u={...e,updatedAt:FieldValue.serverTimestamp()};await r.update(u),console.log(`[FirestoreService Admin] User profile updated successfully for UID: ${o}`)}catch(r){throw console.error(`[FirestoreService Admin] Error updating user profile for UID ${o}:`,r),r.code===7||r.code==="PERMISSION_DENIED"?(console.error("[FirestoreService Admin] CRITICAL: Firestore permission denied during profile update."),new Error("Permission refuse par Firestore lors de la mise  jour du profil.")):new Error(`Impossible de mettre  jour le profil utilisateur (UID: ${o}). Cause: ${r.message||r}`)}},getAllUserProfilesSdk=async()=>{console.log("[FirestoreService Admin] Fetching all user profiles...");try{const u=(await dbAdmin.collection("users").orderBy("email").get()).docs.map(p=>{const h=p.data(),y=h.createdAt instanceof Timestamp?h.createdAt.toDate():void 0,c=h.updatedAt instanceof Timestamp?h.updatedAt.toDate():void 0;return{uid:p.id,email:h.email,displayName:h.displayName,role:h.role,secteurs:h.secteurs,createdAt:y,updatedAt:c}});return console.log(`[FirestoreService Admin] Fetched ${u.length} profiles.`),u}catch(o){throw console.error("[FirestoreService Admin] Error fetching all user profiles:",o),new Error(`Impossible de rcuprer la liste des utilisateurs. Cause: ${o.message||o}`)}},addArticleImageUrl=async(o,e)=>{if(!o||!e)throw new Error("Article ID and image URL are required.");console.log(`[FirestoreService Admin] Adding image URL to article ${o}...`);try{await dbAdmin.collection("articles").doc(o).update({imageUrls:FieldValue.arrayUnion(e)}),console.log(`[FirestoreService Admin] Image URL successfully added to article ${o}.`)}catch(r){throw console.error(`[FirestoreService Admin] Error adding image URL to article ${o}:`,r),r.code===7||r.code==="PERMISSION_DENIED"?new Error("Permission refuse pour mettre  jour l'article."):r.code===5||r.code==="NOT_FOUND"?new Error(`L'article avec l'ID ${o} n'a pas t trouv.`):new Error(`Impossible d'ajouter l'URL de l'image  l'article : ${r.message||r.code}`)}},deleteArticleImageUrl=async(o,e)=>{if(!o||!e)throw new Error("Article ID and image URL are required for deletion.");console.log(`[FirestoreService Admin] Removing image URL from article ${o}...`);try{await dbAdmin.collection("articles").doc(o).update({imageUrls:FieldValue.arrayRemove(e)}),console.log(`[FirestoreService Admin] Image URL successfully removed from article ${o}.`)}catch(r){throw console.error(`[FirestoreService Admin] Error removing image URL from article ${o}:`,r),r.code===7||r.code==="PERMISSION_DENIED"?new Error("Permission refuse pour mettre  jour l'article."):r.code===5||r.code==="NOT_FOUND"?new Error(`L'article avec l'ID ${o} n'a pas t trouv.`):new Error(`Impossible de supprimer l'URL de l'image de l'article : ${r.message||r.code}`)}},searchArticles=async o=>{const{code:e,nom:r}=o,u=e==null?void 0:e.trim(),p=r==null?void 0:r.trim(),h=p==null?void 0:p.toUpperCase();if(console.log("[FirestoreService Admin] Searching articles with criteria:",{code:u,nom:p}),!u&&!p)return console.log("[FirestoreService Admin] No search criteria provided for articles."),[];const y=dbAdmin.collection("articles"),c=new Map;try{if(u){const m=y.where("Code","==",u);console.log(`[FirestoreService Admin] Executing Code exact match query for: "${u}"`);const P=await m.get();console.log(`[FirestoreService Admin] Code query found ${P.docs.length} matches.`),P.docs.forEach(N=>{const L=N.data();L.Code&&L.Dsignation?c.set(N.id,{id:N.id,...L}):console.warn(`[FirestoreService Admin] Document ${N.id} matched by Code is missing 'Code' or 'Dsignation'.`)})}if(h){const m=h+"",P=y.orderBy("Dsignation").startAt(h).endAt(m);console.log(`[FirestoreService Admin] Executing Dsignation prefix query (uppercase) for: "${h}"`);const N=await P.get();console.log(`[FirestoreService Admin] Dsignation query found ${N.docs.length} potential matches.`),N.docs.forEach(L=>{const k=L.data();k.Code&&k.Dsignation?c.set(L.id,{id:L.id,...k}):console.warn(`[FirestoreService Admin] Document ${L.id} matched by Dsignation is missing 'Code' or 'Dsignation'.`)})}const d=Array.from(c.values());return console.log(`[FirestoreService Admin] Article search completed. Found ${d.length} unique articles.`),d}catch(d){throw console.error("[FirestoreService Admin] Error executing article search:",d),d.code===9||d.code==="FAILED_PRECONDITION"?(console.error("[FirestoreService Admin] Firestore Error: Likely missing a composite index. Check the Firestore console error message for a link to create it. You'll likely need an index on 'Dsignation' (ascending)."),new Error("Erreur Firestore: Index manquant requis pour la recherche par nom (sur 'Dsignation'). Vrifiez la console Firebase.")):new Error(`chec de la recherche d'articles. Cause: ${d.message||d}`)}},updateSAPTICKET=async(o,e,r)=>{if(!o||!e||!r||Object.keys(r).length===0)throw console.warn("[FirestoreService Admin] updateSAPTICKET called with invalid sectorId, ticketId, or empty data."),new Error("Identifiants de secteur/ticket ou donnes de mise  jour manquants.");console.log(`[FirestoreService Admin] Attempting to update ticket ${e} in sector ${o} with data:`,r);try{const u=dbAdmin.collection(o).doc(e),p={...r};"date"in p&&delete p.date,await u.update(p),console.log(`[FirestoreService Admin] Successfully updated ticket ${e} in sector ${o}.`)}catch(u){throw console.error(`[FirestoreService Admin] Error updating ticket ${e} in sector ${o}:`,u),u.code===7||u.code==="PERMISSION_DENIED"?(console.error(`[FirestoreService Admin] CRITICAL: Firestore permission denied for update operation on collection '${o}'. Check service account permissions and Firestore rules.`),new Error(`Permission refuse par Firestore pour la mise  jour dans le secteur ${o}.`)):u.code===5||u.code==="NOT_FOUND"?(console.error(`[FirestoreService Admin] Error: Document ${e} not found in collection ${o}.`),new Error(`Le ticket ${e} n'a pas t trouv dans le secteur ${o}.`)):new Error(`Impossible de mettre  jour le ticket SAP ${e}. Cause: ${u.message||u}`)}},getRecentTicketsForSectors=async(o,e=5)=>{if(!o||o.length===0)return[];console.log(`[FirestoreService Admin] Fetching recent tickets for sectors: ${o.join(", ")}`);const r=o.map(async u=>{try{return(await dbAdmin.collection(u).orderBy("date","desc").limit(e).get()).docs.map(c=>{const d=c.data(),m=parseFrenchDate(d.date),{correctedStatus:P}=correctTicketStatus(d);return{id:c.id,...d,statut:P??d.statut,secteur:u,date:m}})}catch(p){return console.error(`[FirestoreService Admin] Error fetching tickets for sector ${u}:`,p),(p.code===9||p.code==="FAILED_PRECONDITION")&&console.error(`[FirestoreService Admin] Index missing for ticket query in sector ${u} (likely on 'date' desc).`),[]}});try{const p=(await Promise.all(r)).flat();return p.sort((h,y)=>y.date instanceof Date?h.date instanceof Date?y.date.getTime()-h.date.getTime():1:-1),console.log(`[FirestoreService Admin] Found ${p.length} tickets across sectors, returning top ${e}`),p.slice(0,e)}catch(u){throw console.error("[FirestoreService Admin] Error merging ticket results:",u),new Error("Impossible de rcuprer les tickets rcents.")}},getAllTicketsForSectorsSdk=async o=>{if(!o||o.length===0)return console.log("[FirestoreService Admin] getAllTicketsForSectorsSdk: No sectors provided, returning []."),[];console.log(`[FirestoreService Admin] Fetching ALL tickets (one-time) for sectors: ${o.join(", ")}`);const e=o.map(async r=>{try{const h=await dbAdmin.collection(r).orderBy("date","desc").get();return console.log(`[FirestoreService Admin] Fetched ${h.size} tickets for sector ${r}.`),h.docs.map(y=>{const c=y.data(),d=parseFrenchDate(c.date),{correctedStatus:m}=correctTicketStatus(c);return{id:y.id,...c,statut:m??c.statut,secteur:r,date:d}})}catch(u){return console.error(`[FirestoreService Admin] Error fetching ALL tickets for sector ${r}:`,u),(u.code===9||u.code==="FAILED_PRECONDITION")&&console.error(`[FirestoreService Admin] Index missing for ticket query in sector ${r} (likely on 'date' desc).`),[]}});try{const u=(await Promise.all(e)).flat();return u.sort((p,h)=>h.date instanceof Date?p.date instanceof Date?h.date.getTime()-p.date.getTime():1:-1),console.log(`[FirestoreService Admin] Fetched a total of ${u.length} tickets across all specified sectors.`),u}catch(r){throw console.error("[FirestoreService Admin] Error merging ALL ticket results:",r),new Error("Impossible de rcuprer tous les tickets SAP pour les secteurs spcifis.")}},getTotalTicketCountSdk=async o=>{if(!o||o.length===0)return console.log("[FirestoreService Admin] getTotalTicketCountSdk: No sectors provided, returning 0."),0;console.log(`[FirestoreService Admin] Counting total tickets via aggregate for sectors: ${o.join(", ")}`);const e=o.map(async r=>{try{const h=(await dbAdmin.collection(r).count().get()).data().count;return console.log(`[FirestoreService Admin] Counted ${h} docs for sector ${r}.`),h}catch(u){return console.error(`[FirestoreService Admin] Error counting tickets via aggregate for sector ${r}:`,u),0}});try{const u=(await Promise.all(e)).reduce((p,h)=>p+h,0);return console.log(`[FirestoreService Admin] Total ticket count via aggregate across sectors: ${u}`),u}catch(r){throw console.error("[FirestoreService Admin] Error summing ticket counts from aggregate:",r),new Error("Impossible de calculer le nombre total de tickets.")}},getAllShipments=async o=>{if(!o)return console.log("[FirestoreService Admin][getAllShipments] Cannot fetch shipments, user profile is null."),[];console.log(`[FirestoreService Admin][getAllShipments] Fetching shipments for user: ${o.uid}, Role: ${o.role}`);const e=dbAdmin.collection("Envoi");let r;try{const u=o.secteurs??[];if(o.role==="Admin")console.log("[FirestoreService Admin][getAllShipments] Admin user. Fetching ALL shipments."),r=e.orderBy("nomClient");else{if(u.length===0)return console.log(`[FirestoreService Admin][getAllShipments] Non-admin user ${o.uid} has no assigned sectors. Returning empty list.`),[];console.log(`[FirestoreService Admin][getAllShipments] Non-admin user. Querying sectors: ${u.join(", ")}`),r=e.where("secteur","in",u).orderBy("nomClient")}console.log("[FirestoreService Admin][getAllShipments] Executing query...");const p=await r.get();return console.log(`[FirestoreService Admin][getAllShipments] Query successful. Fetched ${p.size} documents.`),p.docs.map(y=>{const c=y.data(),d=c.dateCreation instanceof Timestamp?c.dateCreation.toDate():void 0;return{id:y.id,...c,dateCreation:d}})}catch(u){throw console.error("[FirestoreService Admin][getAllShipments] Error fetching shipments:",u),u.code===7||u.code==="PERMISSION_DENIED"?(console.error("[FirestoreService Admin][getAllShipments] CRITICAL: Firestore permission denied. Check service account permissions and Firestore rules."),new Error("Permission refuse par Firestore. Vrifiez les rgles de scurit.")):u.code===9||u.code==="FAILED_PRECONDITION"?(console.error("[FirestoreService Admin][getAllShipments] CRITICAL: Firestore query requires an index. Check Firestore console."),new Error("Index Firestore manquant. Vrifiez la console Firestore.")):new Error(`Impossible de rcuprer la liste des envois. Cause: ${u.message||u}`)}},getRecentShipmentsForSectors=async(o,e=5)=>{const r=!o||o.length===0;console.log(r?`[FirestoreService Admin] Fetching ${e} recent shipments across ALL sectors (Admin view).`:`[FirestoreService Admin] Fetching ${e} recent shipments for sectors: ${o.join(", ")}`);try{const u=dbAdmin.collection("Envoi");let p;const h=u.orderBy("dateCreation","desc").limit(e);if(r)p=h;else if(o.length>0)p=h.where("secteur","in",o);else return console.warn("[FirestoreService Admin] getRecentShipmentsForSectors: Non-admin called with empty sectors array unexpectedly. Returning []."),[];const c=(await p.get()).docs.map(d=>{const m=d.data(),P=m.dateCreation instanceof Timestamp?m.dateCreation.toDate():void 0;return{id:d.id,...m,dateCreation:P}});return console.log(`[FirestoreService Admin] Fetched ${c.length} recent shipments matching criteria.`),c}catch(u){throw console.error("[FirestoreService Admin] Error fetching recent shipments:",u),u.code===9||u.code==="FAILED_PRECONDITION"?(console.error("[FirestoreService Admin] CRITICAL: Firestore query requires an index (likely on dateCreation desc). Check Firestore console."),new Error("Index Firestore manquant (probablement sur dateCreation). Vrifiez la console Firestore.")):new Error(`Impossible de rcuprer les envois rcents. Cause: ${u.message||u}`)}},getAllShipmentsForSectors=async(o,e)=>{console.log(`[FirestoreService Admin] getAllShipmentsForSectors: Fetching ALL shipments. Admin: ${e}, Sectors: ${o.join(", ")}`);try{const r=dbAdmin.collection("Envoi");let u;if(e)console.log("[FirestoreService Admin] getAllShipmentsForSectors: Admin detected, fetching all documents."),u=r;else{if(!o||o.length===0)return console.log("[FirestoreService Admin] getAllShipmentsForSectors: Non-admin with no sectors, returning []."),[];console.log(`[FirestoreService Admin] getAllShipmentsForSectors: Non-admin, fetching for sectors: ${o.join(", ")}`),u=r.where("secteur","in",o)}const h=(await u.get()).docs.map(y=>{const c=y.data(),d=c.dateCreation instanceof Timestamp?c.dateCreation.toDate():void 0;return{id:y.id,...c,dateCreation:d}});return console.log(`[FirestoreService Admin] getAllShipmentsForSectors: Fetched ${h.length} total shipments.`),h}catch(r){throw console.error("[FirestoreService Admin] Error fetching all shipments for sectors:",r),r.code===9||r.code==="FAILED_PRECONDITION"?(console.error("[FirestoreService Admin] CRITICAL: Firestore query requires an index. Check Firestore console."),new Error("Index Firestore manquant. Vrifiez la console Firestore.")):new Error(`Impossible de rcuprer tous les envois pour les secteurs. Cause: ${r.message||r}`)}},getDistinctClientCountFromEnvoiSdk=async o=>{if(!o)return console.log("[FirestoreService Admin] getDistinctClientCountFromEnvoiSdk: No user profile provided, returning 0."),0;const e=o.role==="Admin",r=o.secteurs??[];console.warn(`[FirestoreService Admin] Calculating distinct client count from 'Envoi' documents. Admin: ${e}, Sectors: ${r.join(", ")}. This can be inefficient.`);try{const u=await getAllShipmentsForSectors(r,e);if(console.log(`[FirestoreService Admin] getDistinctClientCountFromEnvoiSdk: Fetched ${u.length} accessible shipments.`),u.length===0)return console.log("[FirestoreService Admin] getDistinctClientCountFromEnvoiSdk: No accessible shipments found, returning 0 distinct clients."),0;const p=new Set;u.forEach(y=>{let c=null;y.codeClient&&String(y.codeClient).trim()!==""?c=String(y.codeClient).trim():y.nomClient&&String(y.nomClient).trim()!==""&&(c=String(y.nomClient).trim()),c&&p.add(c)});const h=p.size;return console.log(`[FirestoreService Admin] getDistinctClientCountFromEnvoiSdk: Found ${h} distinct clients from accessible 'Envoi' documents.`),h}catch(u){throw console.error("[FirestoreService Admin] getDistinctClientCountFromEnvoiSdk: Error calculating distinct client count:",u),new Error("Impossible de compter les clients distincts depuis les envois.")}},deleteShipmentSdk=async o=>{if(!o)throw new Error("Shipment ID is required to delete.");console.log(`[FirestoreService Admin] Attempting to delete shipment with ID: ${o}`);try{await dbAdmin.collection("Envoi").doc(o).delete(),console.log(`[FirestoreService Admin] Successfully deleted shipment: ${o}`)}catch(e){throw console.error(`[FirestoreService Admin] Error deleting shipment ${o}:`,e),e.code===7||e.code==="PERMISSION_DENIED"?(console.error("[FirestoreService Admin] CRITICAL: Firestore permission denied for delete operation."),new Error("Permission refuse par Firestore pour la suppression.")):new Error(`Impossible de supprimer l'envoi. Cause: ${e.message||e}`)}},getLatestStatsSnapshotsSdk=async(o=1)=>{console.log(`[FirestoreService Admin] Fetching latest ${o} stats snapshot(s) from 'dailyStatsSnapshots'...`);try{const p=(await dbAdmin.collection("dailyStatsSnapshots").orderBy("timestamp","desc").limit(o).get()).docs.map(h=>{const y=h.data(),c=y.timestamp instanceof Timestamp?y.timestamp.toDate():y.timestamp?new Date(y.timestamp):new Date(0);return{id:h.id,timestamp:c,totalTickets:y.totalTickets??0,activeShipments:y.activeShipments??0,activeClients:y.activeClients??0}});return console.log(`[FirestoreService Admin] Fetched ${p.length} snapshot(s).`),p}catch(e){throw console.error("[FirestoreService Admin] Error fetching latest stats snapshots:",e),e.code===9||e.code==="FAILED_PRECONDITION"?(console.error("[FirestoreService Admin] CRITICAL: Firestore query requires an index (likely on timestamp desc). Check Firestore console."),new Error("Index Firestore manquant (probablement sur timestamp). Vrifiez la console Firestore.")):new Error(`Impossible de rcuprer le dernier snapshot de statistiques. Cause: ${e.message||e}`)}},GEOCODE_COLLECTION_NAME="geocodes",getGeocodeFromCache=async o=>{console.log(`[FirestoreService Admin] Getting geocode cache for address: ${o}`);try{const r=await dbAdmin.collection(GEOCODE_COLLECTION_NAME).doc(o).get();if(r.exists){const u=r.data();return console.log(`[FirestoreService Admin] Geocode cache hit for address: ${o}`),{latitude:u.latitude,longitude:u.longitude}}else return console.log(`[FirestoreService Admin] Geocode cache miss for address: ${o}`),null}catch(e){return console.error("[FirestoreService Admin] Error getting geocode from cache:",e),null}},saveGeocodeToCache=async(o,e,r)=>{console.log(`[FirestoreService Admin] Saving geocode cache for address: ${o}`);try{const u=dbAdmin.collection(GEOCODE_COLLECTION_NAME).doc(o),p={latitude:e,longitude:r,timestamp:FieldValue.serverTimestamp()};await u.set(p),console.log(`[FirestoreService Admin] Geocode saved to cache for address: ${o}`)}catch(u){console.error("[FirestoreService Admin] Error saving geocode to cache:",u),(u.code===7||u.code==="PERMISSION_DENIED")&&console.error("[FirestoreService Admin] CRITICAL: Firestore permission denied saving geocode cache.")}};export{isReactNative as A,isIE as B,isEmpty$2 as C,LogLevel as D,ErrorFactory as E,isBrowserExtension as F,FirebaseError$1 as G,base64Decode as H,isCloudflareWorker as I,_registerComponent as J,Component as K,Logger as L,registerVersion as M,createSubscribe as N,getFirestore$1 as O,getApps$1 as P,initializeApp$1 as Q,createUserProfileSdk as R,SDK_VERSION as S,doc as T,getDoc as U,Timestamp$1 as V,extend$1 as W,updateSAPTICKET as X,getAllTicketsForSectorsSdk as Y,_isFirebaseServerApp as _,getAllShipments as a,addArticleImageUrl as b,deleteArticleImageUrl as c,deleteShipmentSdk as d,getAllUserProfilesSdk as e,formatDateForDisplay as f,getUserProfileSdk as g,getLatestStatsSnapshotsSdk as h,getTotalTicketCountSdk as i,getDistinctClientCountFromEnvoiSdk as j,getRecentTicketsForSectors as k,getRecentShipmentsForSectors as l,getGeocodeFromCache as m,saveGeocodeToCache as n,getApp as o,parseFrenchDate as p,_getProvider as q,getExperimentalSetting as r,searchArticles as s,getDefaultEmulatorHost as t,updateUserProfileSdk as u,querystring$3 as v,getModularInstance as w,deepEqual$3 as x,getUA as y,isMobileCordova as z};

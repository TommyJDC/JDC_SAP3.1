import{r as o,j as v}from"./jsx-runtime-CQPF1LdT.js";const l=o.createContext(void 0),g=({children:t})=>{const[d,c]=o.useState([]),T=o.useRef(0),f=o.useCallback(e=>{const n=(T.current++).toString();let s="",r="info",i;typeof e=="string"?s=e:e!=null&&e.message?(s=e.message,i=e.title,r=e.type||"info"):(console.warn("Toast data invalide:",e),s="Notification sans message",r="warning");const m={id:n,message:s,type:r,...i&&{title:i}};c(x=>[...x,m]),setTimeout(()=>{u(n)},5e3)},[]),u=o.useCallback(e=>{c(n=>n.filter(s=>s.id!==e))},[]);return v.jsx(l.Provider,{value:{toasts:d,addToast:f,removeToast:u},children:t})},p=()=>{const t=o.useContext(l);if(!t)throw new Error("useToast must be used within a ToastProvider");return t};export{g as T,p as u};
